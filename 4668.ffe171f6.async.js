var TS=Object.defineProperty,AS=Object.defineProperties;var OS=Object.getOwnPropertyDescriptors;var Mh=Object.getOwnPropertySymbols;var P0=Object.prototype.hasOwnProperty,L0=Object.prototype.propertyIsEnumerable;var Tv=Math.pow,D0=(Ge,W,C)=>W in Ge?TS(Ge,W,{enumerable:!0,configurable:!0,writable:!0,value:C}):Ge[W]=C,Sa=(Ge,W)=>{for(var C in W||(W={}))P0.call(W,C)&&D0(Ge,C,W[C]);if(Mh)for(var C of Mh(W))L0.call(W,C)&&D0(Ge,C,W[C]);return Ge},oo=(Ge,W)=>AS(Ge,OS(W));var _h=(Ge,W)=>{var C={};for(var y in Ge)P0.call(Ge,y)&&W.indexOf(y)<0&&(C[y]=Ge[y]);if(Ge!=null&&Mh)for(var y of Mh(Ge))W.indexOf(y)<0&&L0.call(Ge,y)&&(C[y]=Ge[y]);return C};var N0=(Ge,W,C)=>new Promise((y,R)=>{var w=P=>{try{L(C.next(P))}catch(p){R(p)}},_=P=>{try{L(C.throw(P))}catch(p){R(p)}},L=P=>P.done?y(P.value):Promise.resolve(P.value).then(w,_);L((C=C.apply(Ge,W)).next())});(self.webpackChunkmanyid=self.webpackChunkmanyid||[]).push([[4668],{62238:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var C=function(w,_){var L=w.nodes,P=w.edges,p=[],m={};if(!L)throw new Error("invalid nodes data!");return L&&L.forEach(function(S,E){m[S.id]=E;var b=[];p.push(b)}),P&&P.forEach(function(S){var E=S.source,b=S.target,A=m[E],x=m[b];!A&&A!==0||!x&&x!==0||(p[A][x]=1,_||(p[x][A]=1))}),p},y=C;W.default=y},810369:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"GADDIAsync",{enumerable:!0,get:function(){return y.GADDIAsync}}),Object.defineProperty(W,"connectedComponentAsync",{enumerable:!0,get:function(){return y.connectedComponentAsync}}),W.default=void 0,Object.defineProperty(W,"detectAllCyclesAsync",{enumerable:!0,get:function(){return y.detectAllCyclesAsync}}),Object.defineProperty(W,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return y.detectAllDirectedCycleAsync}}),Object.defineProperty(W,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return y.detectAllUndirectedCycleAsync}}),Object.defineProperty(W,"detectCycleAsync",{enumerable:!0,get:function(){return y.detectCycleAsync}}),W.detectDirectedCycleAsync=void 0,Object.defineProperty(W,"dijkstraAsync",{enumerable:!0,get:function(){return y.dijkstraAsync}}),Object.defineProperty(W,"findAllPathAsync",{enumerable:!0,get:function(){return y.findAllPathAsync}}),Object.defineProperty(W,"findShortestPathAsync",{enumerable:!0,get:function(){return y.findShortestPathAsync}}),Object.defineProperty(W,"floydWarshallAsync",{enumerable:!0,get:function(){return y.floydWarshallAsync}}),Object.defineProperty(W,"getAdjMatrixAsync",{enumerable:!0,get:function(){return y.getAdjMatrixAsync}}),Object.defineProperty(W,"getDegreeAsync",{enumerable:!0,get:function(){return y.getDegreeAsync}}),Object.defineProperty(W,"getInDegreeAsync",{enumerable:!0,get:function(){return y.getInDegreeAsync}}),Object.defineProperty(W,"getNeighborsAsync",{enumerable:!0,get:function(){return y.getNeighborsAsync}}),Object.defineProperty(W,"getOutDegreeAsync",{enumerable:!0,get:function(){return y.getOutDegreeAsync}}),Object.defineProperty(W,"labelPropagationAsync",{enumerable:!0,get:function(){return y.labelPropagationAsync}}),Object.defineProperty(W,"louvainAsync",{enumerable:!0,get:function(){return y.louvainAsync}}),Object.defineProperty(W,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return y.minimumSpanningTreeAsync}}),Object.defineProperty(W,"pageRankAsync",{enumerable:!0,get:function(){return y.pageRankAsync}});var y=C(430485),R=y.detectCycleAsync;W.detectDirectedCycleAsync=R;var w={getAdjMatrixAsync:y.getAdjMatrixAsync,connectedComponentAsync:y.connectedComponentAsync,getDegreeAsync:y.getDegreeAsync,getInDegreeAsync:y.getInDegreeAsync,getOutDegreeAsync:y.getOutDegreeAsync,detectCycleAsync:y.detectCycleAsync,detectDirectedCycleAsync:R,detectAllCyclesAsync:y.detectAllCyclesAsync,detectAllDirectedCycleAsync:y.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:y.detectAllUndirectedCycleAsync,dijkstraAsync:y.dijkstraAsync,findAllPathAsync:y.findAllPathAsync,findShortestPathAsync:y.findShortestPathAsync,floydWarshallAsync:y.floydWarshallAsync,labelPropagationAsync:y.labelPropagationAsync,louvainAsync:y.louvainAsync,minimumSpanningTreeAsync:y.minimumSpanningTreeAsync,pageRankAsync:y.pageRankAsync,getNeighborsAsync:y.getNeighborsAsync,GADDIAsync:y.GADDIAsync};W.default=w},683764:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=w(C(893026)),R=C(770643);function w(p){return p&&p.__esModule?p:{default:p}}function _(p){p===void 0&&(p={});var m=p,S=function(){},E=function(){var b={};return function(A){var x=A.next,D=x;return b[D]?!1:(b[D]=!0,!0)}}();return m.allowTraversal=p.allowTraversal||E,m.enter=p.enter||S,m.leave=p.leave||S,m}var L=function(m,S,E,b){b===void 0&&(b=!0);var A=_(E),x=new y.default,D=m.edges,k=D===void 0?[]:D;x.enqueue(S);for(var g="",f=function(){var Y=x.dequeue();A.enter({current:Y,previous:g}),(0,R.getNeighbors)(Y,k,b?"target":void 0).forEach(function(U){A.allowTraversal({previous:g,current:Y,next:U})&&x.enqueue(U)}),A.leave({current:Y,previous:g}),g=Y};!x.isEmpty();)f()},P=L;W.default=P},759527:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=_,W.detectStrongConnectComponents=W.detectConnectedComponents=void 0;var y=C(770643),R=function(P){for(var p=P.nodes,m=p===void 0?[]:p,S=P.edges,E=S===void 0?[]:S,b=[],A={},x=[],D=function z(Y){x.push(Y),A[Y.id]=!0;for(var U=(0,y.getNeighbors)(Y.id,E),G=function(nt){var q=U[nt];if(!A[q]){var J=m.filter(function(ut){return ut.id===q});J.length>0&&z(J[0])}},j=0;j<U.length;++j)G(j)},k=0;k<m.length;k++){var g=m[k];if(!A[g.id]){D(g);for(var f=[];x.length>0;)f.push(x.pop());b.push(f)}}return b};W.detectConnectedComponents=R;var w=function(P){for(var p=P.nodes,m=p===void 0?[]:p,S=P.edges,E=S===void 0?[]:S,b=[],A={},x={},D={},k=[],g=0,f=function G(j){x[j.id]=g,D[j.id]=g,g+=1,b.push(j),A[j.id]=!0;for(var K=(0,y.getNeighbors)(j.id,E,"target").filter(function(st){return m.map(function(bt){return bt.id}).indexOf(st)>-1}),nt=function(bt){var ht=K[bt];if(!x[ht]&&x[ht]!==0){var kt=m.filter(function(Mt){return Mt.id===ht});kt.length>0&&G(kt[0]),D[j.id]=Math.min(D[j.id],D[ht])}else A[ht]&&(D[j.id]=Math.min(D[j.id],x[ht]))},q=0;q<K.length;q++)nt(q);if(D[j.id]===x[j.id]){for(var J=[];b.length>0;){var ut=b.pop();if(A[ut.id]=!1,J.push(ut),ut===j)break}J.length>0&&k.push(J)}},z=0,Y=m;z<Y.length;z++){var U=Y[z];!x[U.id]&&x[U.id]!==0&&f(U)}return k};W.detectStrongConnectComponents=w;function _(L,P){return P?w(L):R(L)}},592935:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.secondReg=W.dateReg=void 0;var C=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;W.secondReg=C;var y=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;W.dateReg=y},182556:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.getOutDegree=W.getInDegree=W.default=void 0;var C=function(L){var P={},p=L.nodes,m=p===void 0?[]:p,S=L.edges,E=S===void 0?[]:S;return m.forEach(function(b){P[b.id]={degree:0,inDegree:0,outDegree:0}}),E.forEach(function(b){P[b.source].degree++,P[b.source].outDegree++,P[b.target].degree++,P[b.target].inDegree++}),P},y=C;W.default=y;var R=function(L,P){var p=C(L);return p[P]?C(L)[P].inDegree:0};W.getInDegree=R;var w=function(L,P){var p=C(L);return p[P]?C(L)[P].outDegree:0};W.getOutDegree=w},994282:function(Ge,W,C){"use strict";function y(x){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},y(x)}Object.defineProperty(W,"__esModule",{value:!0}),W.detectAllUndirectedCycle=W.detectAllDirectedCycle=W.detectAllCycles=W.default=void 0;var R=p(C(45891)),w=P(C(759527)),_=C(770643);function L(x){if(typeof WeakMap!="function")return null;var D=new WeakMap,k=new WeakMap;return(L=function(f){return f?k:D})(x)}function P(x,D){if(!D&&x&&x.__esModule)return x;if(x===null||y(x)!=="object"&&typeof x!="function")return{default:x};var k=L(D);if(k&&k.has(x))return k.get(x);var g={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in x)if(z!=="default"&&Object.prototype.hasOwnProperty.call(x,z)){var Y=f?Object.getOwnPropertyDescriptor(x,z):null;Y&&(Y.get||Y.set)?Object.defineProperty(g,z,Y):g[z]=x[z]}return g.default=x,k&&k.set(x,g),g}function p(x){return x&&x.__esModule?x:{default:x}}var m=function(D){var k=null,g=D.nodes,f=g===void 0?[]:g,z={},Y={},U={},G={};f.forEach(function(nt){Y[nt.id]=nt});for(var j={enter:function(q){var J=q.current,ut=q.previous;if(U[J]){k={};for(var st=J,bt=ut;bt!==J;)k[st]=bt,st=bt,bt=z[bt];k[st]=bt}else U[J]=J,delete Y[J],z[J]=ut},leave:function(q){var J=q.current;G[J]=J,delete U[J]},allowTraversal:function(q){var J=q.next;return k?!1:!G[J]}};Object.keys(Y).length;){var K=Object.keys(Y)[0];(0,R.default)(D,K,j)}return k},S=function(D,k,g){var f,z;g===void 0&&(g=!0);for(var Y=[],U=(0,w.default)(D,!1),G=0,j=U;G<j.length;G++){var K=j[G];if(K.length)for(var nt=K[0],q=nt.id,J=[nt],ut=(f={},f[q]=nt,f),st=(z={},z[q]=new Set,z);J.length>0;)for(var bt=J.pop(),ht=bt.id,kt=(0,_.getNeighbors)(ht,D.edges),Mt=function(Q){var xt,Ct=kt[Q],et=D.nodes.find(function(Vt){return Vt.id===Ct});if(Ct===ht)Y.push((xt={},xt[Ct]=bt,xt));else if(!(Ct in st))ut[Ct]=bt,J.push(et),st[Ct]=new Set([bt]);else if(!st[ht].has(et)){for(var vt=!0,Tt=[et,bt],Ot=ut[ht];st[Ct].size&&!st[Ct].has(Ot)&&(Tt.push(Ot),Ot!==ut[Ot.id]);)Ot=ut[Ot.id];if(Tt.push(Ot),k&&g?(vt=!1,Tt.findIndex(function(Vt){return k.indexOf(Vt.id)>-1})>-1&&(vt=!0)):k&&!g&&Tt.findIndex(function(Vt){return k.indexOf(Vt.id)>-1})>-1&&(vt=!1),vt){for(var Et={},Dt=1;Dt<Tt.length;Dt+=1)Et[Tt[Dt-1].id]=Tt[Dt];Tt.length&&(Et[Tt[Tt.length-1].id]=Tt[0]),Y.push(Et)}st[Ct].add(bt)}},St=0;St<kt.length;St+=1)Mt(St)}return Y};W.detectAllUndirectedCycle=S;var E=function(D,k,g){g===void 0&&(g=!0);for(var f=[],z=new Set,Y=[],U=[],G={},j={},K=function(Ot){for(var Et=[Ot];Et.length>0;){var Dt=Et.pop();z.has(Dt)&&(z.delete(Dt),Y[Dt.id].forEach(function(Vt){Et.push(Vt)}),Y[Dt.id].clear())}},nt=function Tt(Ot,Et,Dt){var Vt=!1;if(k&&g===!1&&k.indexOf(Ot.id)>-1)return Vt;f.push(Ot),z.add(Ot);for(var ue=Dt[Ot.id],ee=0;ee<ue.length;ee+=1){var It=G[ue[ee]];if(It===Et){for(var ne={},pe=1;pe<f.length;pe+=1)ne[f[pe-1].id]=f[pe];f.length&&(ne[f[f.length-1].id]=f[0]),U.push(ne),Vt=!0}else z.has(It)||Tt(It,Et,Dt)&&(Vt=!0)}if(Vt)K(Ot);else for(var ee=0;ee<ue.length;ee+=1){var It=G[ue[ee]];Y[It.id].has(Ot)||Y[It.id].add(Ot)}return f.pop(),Vt},q=D.nodes,J=q===void 0?[]:q,ut=0;ut<J.length;ut+=1){var st=J[ut],bt=st.id;j[bt]=ut,G[ut]=st}if(k&&g)for(var ht=function(Ot){var Et=k[Ot];j[J[Ot].id]=j[Et],j[Et]=0,G[0]=J.find(function(Dt){return Dt.id===Et}),G[j[J[Ot].id]]=J[Ot]},ut=0;ut<k.length;ut++)ht(ut);for(var kt=function(Ot){for(var Et,Dt,Vt=1/0,ue=0;ue<Ot.length;ue+=1)for(var ee=Ot[ue],It=0;It<ee.length;It++){var ne=j[ee[It].id];ne<Vt&&(Vt=ne,Dt=ue)}for(var pe=Ot[Dt],Gt=[],ue=0;ue<pe.length;ue+=1){var qt=pe[ue];Gt[qt.id]=[];for(var $t=0,Zt=(0,_.getNeighbors)(qt.id,D.edges,"target").filter(function(Pt){return pe.map(function(Fe){return Fe.id}).indexOf(Pt)>-1});$t<Zt.length;$t++){var se=Zt[$t];se===qt.id&&!(g===!1&&k.indexOf(qt.id)>-1)?U.push((Et={},Et[qt.id]=qt,Et)):Gt[qt.id].push(j[se])}}return{component:pe,adjList:Gt,minIdx:Vt}},Mt=0;Mt<J.length;){var St=J.filter(function(Tt){return j[Tt.id]>=Mt}),V=(0,w.detectStrongConnectComponents)({nodes:St,edges:D.edges}).filter(function(Tt){return Tt.length>1});if(V.length===0)break;var Q=kt(V),xt=Q.minIdx,Ct=Q.adjList,et=Q.component;if(et.length>1){et.forEach(function(Tt){Y[Tt.id]=new Set});var vt=G[xt];if(k&&g&&k.indexOf(vt.id)===-1)return U;nt(vt,vt,Ct),Mt=xt+1}else break}return U};W.detectAllDirectedCycle=E;var b=function(D,k,g,f){return f===void 0&&(f=!0),k?E(D,g,f):S(D,g,f)};W.detectAllCycles=b;var A=m;W.default=A},45891:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=_;var y=C(770643);function R(L){L===void 0&&(L={});var P=L,p=function(){},m=function(){var S={};return function(E){var b=E.next;return S[b]?!1:(S[b]=!0,!0)}}();return P.allowTraversal=L.allowTraversal||m,P.enter=L.enter||p,P.leave=L.leave||p,P}function w(L,P,p,m){m.enter({current:P,previous:p});var S=L.edges,E=S===void 0?[]:S;(0,y.getNeighbors)(P,E,"target").forEach(function(b){m.allowTraversal({previous:p,current:P,next:b})&&w(L,b,P,m)}),m.leave({current:P,previous:p})}function _(L,P,p){w(L,P,"",R(p))}},878089:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=C(570655),R=C(413810),w=C(770643),_=function(S,E,b){for(var A=1/0,x,D=0;D<E.length;D++){var k=E[D].id;!b[k]&&S[k]<=A&&(A=S[k],x=E[D])}return x},L=function(S,E,b,A){var x=S.nodes,D=x===void 0?[]:x,k=S.edges,g=k===void 0?[]:k,f=[],z={},Y={},U={};D.forEach(function(ut,st){var bt=ut.id;f.push(bt),Y[bt]=1/0,bt===E&&(Y[bt]=0)});for(var G=D.length,j=function(st){var bt=_(Y,D,z),ht=bt.id;if(z[ht]=!0,Y[ht]===1/0)return"continue";var kt=[];b?kt=(0,w.getOutEdgesNodeId)(ht,g):kt=(0,w.getEdgesByNodeId)(ht,g),kt.forEach(function(Mt){var St=Mt.target,V=Mt.source,Q=St===ht?V:St,xt=A&&Mt[A]?Mt[A]:1;Y[Q]>Y[bt.id]+xt?(Y[Q]=Y[bt.id]+xt,U[Q]=[bt.id]):Y[Q]===Y[bt.id]+xt&&U[Q].push(bt.id)})},K=0;K<G;K++)j(K);U[E]=[E];var nt={};for(var q in Y)Y[q]!==1/0&&p(E,q,U,nt);var J={};for(var q in nt)J[q]=nt[q][0];return{length:Y,path:J,allPath:nt}},P=L;W.default=P;function p(m,S,E,b){if(m===S)return[m];if(b[S])return b[S];for(var A=[],x=0,D=E[S];x<D.length;x++){var k=D[x],g=p(m,k,E,b);if(!g)return;for(var f=0,z=g;f<z.length;f++){var Y=z[f];(0,R.isArray)(Y)?A.push((0,y.__spreadArray)((0,y.__spreadArray)([],Y,!0),[S],!1)):A.push([Y,S])}}return b[S]=A,b[S]}},241727:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.findShortestPath=W.findAllPath=void 0;var y=w(C(878089)),R=C(770643);function w(P){return P&&P.__esModule?P:{default:P}}var _=function(p,m,S,E,b){var A=(0,y.default)(p,m,E,b),x=A.length,D=A.path,k=A.allPath;return{length:x[S],path:D[S],allPath:k[S]}};W.findShortestPath=_;var L=function(p,m,S,E){var b;if(m===S)return[[m]];var A=p.edges,x=A===void 0?[]:A,D=[m],k=(b={},b[m]=!0,b),g=[],f=[],z=E?(0,R.getNeighbors)(m,x,"target"):(0,R.getNeighbors)(m,x);for(g.push(z);D.length>0&&g.length>0;){var Y=g[g.length-1];if(Y.length){var U=Y.shift();U&&(D.push(U),k[U]=!0,z=E?(0,R.getNeighbors)(U,x,"target"):(0,R.getNeighbors)(U,x),g.push(z.filter(function(K){return!k[K]})))}else{var G=D.pop();k[G]=!1,g.pop();continue}if(D[D.length-1]===S){var j=D.map(function(nt){return nt});f.push(j);var G=D.pop();k[G]=!1,g.pop()}}return f};W.findAllPath=L},975033:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=R(C(62238));function R(L){return L&&L.__esModule?L:{default:L}}var w=function(P,p){for(var m=(0,y.default)(P,p),S=[],E=m.length,b=0;b<E;b+=1){S[b]=[];for(var A=0;A<E;A+=1)b===A?S[b][A]=0:m[b][A]===0||!m[b][A]?S[b][A]=1/0:S[b][A]=m[b][A]}for(var x=0;x<E;x+=1)for(var b=0;b<E;b+=1)for(var A=0;A<E;A+=1)S[b][A]>S[b][x]+S[x][A]&&(S[b][A]=S[b][x]+S[x][A]);return S},_=w;W.default=_},821146:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=C(413810),R=C(368575),w=function(){function A(x,D,k,g,f){this.fromNode=x,this.toNode=D,this.nodeEdgeNodeLabel={nodeLabel1:k||R.VACANT_NODE_LABEL,edgeLabel:g||R.VACANT_EDGE_LABEL,nodeLabel2:f||R.VACANT_NODE_LABEL}}return A.prototype.equalTo=function(x){return this.fromNode===x.formNode&&this.toNode===x.toNode&&this.nodeEdgeNodeLabel===x.nodeEdgeNodeLabel},A.prototype.notEqualTo=function(x){return!this.equalTo(x)},A}(),_=function(){function A(){this.rmpath=[],this.dfsEdgeList=[]}return A.prototype.equalTo=function(x){var D=this.dfsEdgeList.length,k=x.length;if(D!==k)return!1;for(var g=0;g<D;g++)if(this.dfsEdgeList[g]!==x[g])return!1;return!0},A.prototype.notEqualTo=function(x){return!this.equalTo(x)},A.prototype.pushBack=function(x,D,k,g,f){return this.dfsEdgeList.push(new w(x,D,k,g,f)),this.dfsEdgeList},A.prototype.toGraph=function(x,D){x===void 0&&(x=R.VACANT_GRAPH_ID),D===void 0&&(D=!1);var k=new R.Graph(x,!0,D);return this.dfsEdgeList.forEach(function(g){var f=g.fromNode,z=g.toNode,Y=g.nodeEdgeNodeLabel,U=Y.nodeLabel1,G=Y.edgeLabel,j=Y.nodeLabel2;U!==R.VACANT_NODE_LABEL&&k.addNode(f,U),j!==R.VACANT_NODE_LABEL&&k.addNode(z,j),U!==R.VACANT_NODE_LABEL&&j!==U&&k.addEdge(void 0,f,z,G)}),k},A.prototype.buildRmpath=function(){this.rmpath=[];for(var x=void 0,D=this.dfsEdgeList.length,k=D-1;k>=0;k--){var g=this.dfsEdgeList[k],f=g.fromNode,z=g.toNode;f<z&&(x===void 0||z===x)&&(this.rmpath.push(k),x=f)}return this.rmpath},A.prototype.getNodeNum=function(){var x={};return this.dfsEdgeList.forEach(function(D){x[D.fromNode]||(x[D.fromNode]=!0),x[D.toNode]||(x[D.toNode]=!0)}),Object.keys(x).length},A}(),L=function(){function A(x){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!x){for(;x;){var D=x.edge;this.edges.push(D),this.nodesUsed[D.from]=1,this.nodesUsed[D.to]=1,this.edgesUsed[D.id]=1,x=x.preNode}this.edges=this.edges.reverse()}}return A.prototype.hasNode=function(x){return this.nodesUsed[x.id]===1},A.prototype.hasEdge=function(x){return this.edgesUsed[x.id]===1},A}(),P=function(){function A(x){var D=x.graphs,k=x.minSupport,g=k===void 0?2:k,f=x.minNodeNum,z=f===void 0?1:f,Y=x.maxNodeNum,U=Y===void 0?4:Y,G=x.top,j=G===void 0?10:G,K=x.directed,nt=K===void 0?!1:K,q=x.verbose,J=q===void 0?!1:q;this.graphs=D,this.dfsCode=new _,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=g,this.top=j,this.directed=nt,this.counter=0,this.maxNodeNum=U,this.minNodeNum=z,this.verbose=J,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return A.prototype.findForwardRootEdges=function(x,D){var k=this,g=[],f=x.nodeMap;return D.edges.forEach(function(z){(k.directed||D.label<=f[z.to].label)&&g.push(z)}),g},A.prototype.findBackwardEdge=function(x,D,k,g){if(!this.directed&&D===k)return null;for(var f=x.nodeMap,z=f[k.to],Y=z.edges,U=Y.length,G=0;G<U;G++){var j=Y[G];if(!(g.hasEdge(j)||j.to!==D.from)){if(this.directed){if(f[D.from].label<f[k.to].label||f[D.from].label===f[k.to].label&&D.label<=j.label)return j}else if(D.label<j.label||D.label===j.label&&f[D.to].label<=f[k.to].label)return j}}return null},A.prototype.findForwardPureEdges=function(x,D,k,g){for(var f=[],z=D.to,Y=x.nodeMap[z].edges,U=Y.length,G=0;G<U;G++){var j=Y[G],K=x.nodeMap[j.to];k<=K.label&&!g.hasNode(K)&&f.push(j)}return f},A.prototype.findForwardRmpathEdges=function(x,D,k,g){for(var f=[],z=x.nodeMap,Y=z[D.to].label,U=z[D.from],G=U.edges,j=G.length,K=0;K<j;K++){var nt=G[K],q=z[nt.to].label;D.to===nt.to||k>q||g.hasNode(z[nt.to])||(D.label<nt.label||D.label===nt.label&&Y<=q)&&f.push(nt)}return f},A.prototype.getSupport=function(x){var D={};return x.forEach(function(k){D[k.graphId]||(D[k.graphId]=!0)}),Object.keys(D).length},A.prototype.findMinLabel=function(x){var D=void 0;return Object.keys(x).forEach(function(k){var g=x[k],f=g.nodeLabel1,z=g.edgeLabel,Y=g.nodeLabel2;if(!D){D={nodeLabel1:f,edgeLabel:z,nodeLabel2:Y};return}(f<D.nodeLabel1||f===D.nodeLabel1&&z<D.edgeLabel||f===D.nodeLabel1&&z===D.edgeLabel&&Y<D.nodeLabel2)&&(D={nodeLabel1:f,edgeLabel:z,nodeLabel2:Y})}),D},A.prototype.isMin=function(){var x=this,D=this.dfsCode;if(this.verbose&&console.log("isMin checking",D),D.dfsEdgeList.length===1)return!0;var k=this.directed,g=D.toGraph(R.VACANT_GRAPH_ID,k),f=g.nodeMap,z=new _,Y={};g.nodes.forEach(function(K){var nt=x.findForwardRootEdges(g,K);nt.forEach(function(q){var J=f[q.to],ut="".concat(K.label,"-").concat(q.label,"-").concat(J.label);Y[ut]||(Y[ut]={projected:[],nodeLabel1:K.label,edgeLabel:q.label,nodeLabel2:J.label});var st={graphId:g.id,edge:q,preNode:null};Y[ut].projected.push(st)})});var U=this.findMinLabel(Y);if(U){z.dfsEdgeList.push(new w(0,1,U.nodeLabel1,U.edgeLabel,U.nodeLabel2));var G=function K(nt){for(var q=z.buildRmpath(),J=z.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,ut=z.dfsEdgeList[q[0]].toNode,st={},bt=!1,ht=0,kt=k?-1:0,Mt=function(ue){if(bt)return"break";nt.forEach(function(ee){var It=new L(ee),ne=x.findBackwardEdge(g,It.edges[q[ue]],It.edges[q[0]],It);ne&&(st[ne.label]||(st[ne.label]={projected:[],edgeLabel:ne.label}),st[ne.label].projected.push({graphId:g.id,edge:st,preNode:ee}),ht=z.dfsEdgeList[q[ue]].fromNode,bt=!0)})},St=q.length-1;St>kt;St--){var V=Mt(St);if(V==="break")break}if(bt){var Q=x.findMinLabel(st);z.dfsEdgeList.push(new w(ut,ht,R.VACANT_NODE_LABEL,Q.edgeLabel,R.VACANT_NODE_LABEL));var xt=z.dfsEdgeList.length-1;return x.dfsCode.dfsEdgeList[xt]!==z.dfsEdgeList[xt]?!1:K(st[Q.edgeLabel].projected)}var Ct={};bt=!1;var et=0;nt.forEach(function(Vt){var ue=new L(Vt),ee=x.findForwardPureEdges(g,ue.edges[q[0]],J,ue);ee.length>0&&(bt=!0,et=ut,ee.forEach(function(It){var ne="".concat(It.label,"-").concat(f[It.to].label);Ct[ne]||(Ct[ne]={projected:[],edgeLabel:It.label,nodeLabel2:f[It.to].label}),Ct[ne].projected.push({graphId:g.id,edge:It,preNode:Vt})}))});for(var vt=q.length,Tt=function(ue){if(bt)return"break";var ee=q[ue];nt.forEach(function(It){var ne=new L(It),pe=x.findForwardRmpathEdges(g,ne.edges[ee],J,ne);pe.length>0&&(bt=!0,et=z.dfsEdgeList[ee].fromNode,pe.forEach(function(Gt){var qt="".concat(Gt.label,"-").concat(f[Gt.to].label);Ct[qt]||(Ct[qt]={projected:[],edgeLabel:Gt.label,nodeLabel2:f[Gt.to].label}),Ct[qt].projected.push({graphId:g.id,edge:Gt,preNode:It})}))})},St=0;St<vt;St++){var Ot=Tt(St);if(Ot==="break")break}if(!bt)return!0;var Et=x.findMinLabel(Ct);z.dfsEdgeList.push(new w(et,ut+1,R.VACANT_NODE_LABEL,Et.edgeLabel,Et.nodeLabel2));var Dt=z.dfsEdgeList.length-1;return D.dfsEdgeList[Dt]!==z.dfsEdgeList[Dt]?!1:K(Ct["".concat(Et.edgeLabel,"-").concat(Et.nodeLabel2)].projected)},j="".concat(U.nodeLabel1,"-").concat(U.edgeLabel,"-").concat(U.nodeLabel2);return G(Y[j].projected)}},A.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var x=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,y.clone)(x))}},A.prototype.subGraphMining=function(x){var D=this,k=this.getSupport(x);if(!(k<this.minSupport)&&this.isMin()){this.report();var g=this.dfsCode.getNodeNum(),f=this.dfsCode.buildRmpath(),z=this.dfsCode.dfsEdgeList[f[0]].toNode,Y=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,U={},G={};x.forEach(function(j){for(var K=D.graphs[j.graphId],nt=K.nodeMap,q=new L(j),J=f.length-1;J>=0;J--){var ut=D.findBackwardEdge(K,q.edges[f[J]],q.edges[f[0]],q);if(ut){var st="".concat(D.dfsCode.dfsEdgeList[f[J]].fromNode,"-").concat(ut.label);G[st]||(G[st]={projected:[],toNodeId:D.dfsCode.dfsEdgeList[f[J]].fromNode,edgeLabel:ut.label}),G[st].projected.push({graphId:j.graphId,edge:ut,preNode:j})}}if(!(g>=D.maxNodeNum)){var bt=D.findForwardPureEdges(K,q.edges[f[0]],Y,q);bt.forEach(function(kt){var Mt="".concat(z,"-").concat(kt.label,"-").concat(nt[kt.to].label);U[Mt]||(U[Mt]={projected:[],fromNodeId:z,edgeLabel:kt.label,nodeLabel2:nt[kt.to].label}),U[Mt].projected.push({graphId:j.graphId,edge:kt,preNode:j})});for(var ht=function(Mt){var St=D.findForwardRmpathEdges(K,q.edges[f[Mt]],Y,q);St.forEach(function(V){var Q="".concat(D.dfsCode.dfsEdgeList[f[Mt]].fromNode,"-").concat(V.label,"-").concat(nt[V.to].label);U[Q]||(U[Q]={projected:[],fromNodeId:D.dfsCode.dfsEdgeList[f[Mt]].fromNode,edgeLabel:V.label,nodeLabel2:nt[V.to].label}),U[Q].projected.push({graphId:j.graphId,edge:V,preNode:j})})},J=0;J<f.length;J++)ht(J)}}),Object.keys(G).forEach(function(j){var K=G[j],nt=K.toNodeId,q=K.edgeLabel;D.dfsCode.dfsEdgeList.push(new w(z,nt,"-1",q,"-1")),D.subGraphMining(G[j].projected),D.dfsCode.dfsEdgeList.pop()}),Object.keys(U).forEach(function(j){var K=U[j],nt=K.fromNodeId,q=K.edgeLabel,J=K.nodeLabel2;D.dfsCode.dfsEdgeList.push(new w(nt,z+1,R.VACANT_NODE_LABEL,q,J)),D.subGraphMining(U[j].projected),D.dfsCode.dfsEdgeList.pop()})}},A.prototype.generate1EdgeFrequentSubGraphs=function(){var x=this.graphs,D=this.directed,k=this.minSupport,g=this.frequentSize1Subgraphs,f={},z={},Y={},U={};return Object.keys(x).forEach(function(G){var j=x[G],K=j.nodeMap;j.nodes.forEach(function(nt,q){var J=nt.label,ut="".concat(G,"-").concat(J);if(!Y[ut]){var st=f[J]||0;st++,f[J]=st}Y[ut]={graphKey:G,label:J},nt.edges.forEach(function(bt){var ht=J,kt=K[bt.to].label;if(!D&&ht>kt){var Mt=kt;kt=ht,ht=Mt}var St=bt.label,V="".concat(G,"-").concat(ht,"-").concat(St,"-").concat(kt),Q="".concat(ht,"-").concat(St,"-").concat(kt);if(!z[Q]){var xt=z[Q]||0;xt++,z[Q]=xt}U[V]={graphId:G,nodeLabel1:ht,edgeLabel:St,nodeLabel2:kt}})})}),Object.keys(f).forEach(function(G){var j=f[G];if(!(j<k)){var K={nodes:[],edges:[]};K.nodes.push({id:"0",label:G}),g.push(K)}}),g},A.prototype.run=function(){var x=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var D=this.graphs,k=this.directed,g={};Object.keys(D).forEach(function(f){var z=D[f],Y=z.nodeMap;z.nodes.forEach(function(U){var G=x.findForwardRootEdges(z,U);G.forEach(function(j){var K=Y[j.to],nt="".concat(U.label,"-").concat(j.label,"-").concat(K.label);g[nt]||(g[nt]={projected:[],nodeLabel1:U.label,edgeLabel:j.label,nodeLabel2:K.label});var q={graphId:f,edge:j,preNode:null};g[nt].projected.push(q)})})}),Object.keys(g).forEach(function(f){var z=g[f],Y=z.projected,U=z.nodeLabel1,G=z.edgeLabel,j=z.nodeLabel2;x.dfsCode.dfsEdgeList.push(new w(0,1,U,G,j)),x.subGraphMining(Y),x.dfsCode.dfsEdgeList.pop()})}},A}(),p=function(x,D,k,g){var f={};return Object.keys(x).forEach(function(z,Y){var U=x[z],G=new R.Graph(Y,!0,D),j={};U.nodes.forEach(function(K,nt){G.addNode(nt,K[k]),j[K.id]=nt}),U.edges.forEach(function(K,nt){var q=j[K.source],J=j[K.target];G.addEdge(-1,q,J,K[g])}),G&&G.getNodeNum()&&(f[G.id]=G)}),f},m=function(x,D,k){var g=[];return x.forEach(function(f){var z={nodes:[],edges:[]};f.nodes.forEach(function(Y){var U;z.nodes.push((U={id:"".concat(Y.id)},U[D]=Y.label,U))}),f.edges.forEach(function(Y){var U;z.edges.push((U={source:"".concat(Y.from),target:"".concat(Y.to)},U[k]=Y.label,U))}),g.push(z)}),g},S="cluster",E=function(x){var D=x.graphs,k=x.directed,g=k===void 0?!1:k,f=x.nodeLabelProp,z=f===void 0?S:f,Y=x.edgeLabelProp,U=Y===void 0?S:Y,G=p(D,g,z,U),j=x.minSupport,K=x.maxNodeNum,nt=x.minNodeNum,q=x.verbose,J=x.top,ut={graphs:G,minSupport:j,maxNodeNum:K,minNodeNum:nt,top:J,verbose:q,directed:g},st=new P(ut);st.run();var bt=m(st.frequentSubgraphs,z,U);return bt},b=E;W.default=b},368575:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.VACANT_NODE_LABEL=W.VACANT_NODE_ID=W.VACANT_GRAPH_ID=W.VACANT_EDGE_LABEL=W.VACANT_EDGE_ID=W.Node=W.Graph=W.Edge=W.AUTO_EDGE_ID=void 0;var C=-1;W.VACANT_EDGE_ID=C;var y=-1;W.VACANT_NODE_ID=y;var R="-1";W.VACANT_EDGE_LABEL=R;var w="-1";W.VACANT_NODE_LABEL=w;var _=-1;W.VACANT_GRAPH_ID=_;var L="-1";W.AUTO_EDGE_ID=L;var P=function(){function S(E,b,A,x){E===void 0&&(E=C),b===void 0&&(b=y),A===void 0&&(A=y),x===void 0&&(x=R),this.id=E,this.from=b,this.to=A,this.label=x}return S}();W.Edge=P;var p=function(){function S(E,b){E===void 0&&(E=y),b===void 0&&(b=w),this.id=E,this.label=b,this.edges=[],this.edgeMap={}}return S.prototype.addEdge=function(E){this.edges.push(E),this.edgeMap[E.id]=E},S}();W.Node=p;var m=function(){function S(E,b,A){E===void 0&&(E=y),b===void 0&&(b=!0),A===void 0&&(A=!1),this.id=E,this.edgeIdAutoIncrease=b,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=A}return S.prototype.getNodeNum=function(){return this.nodes.length},S.prototype.addNode=function(E,b){if(!this.nodeMap[E]){var A=new p(E,b);this.nodes.push(A),this.nodeMap[E]=A,this.nodeLabelMap[b]||(this.nodeLabelMap[b]=[]),this.nodeLabelMap[b].push(E)}},S.prototype.addEdge=function(E,b,A,x){if((this.edgeIdAutoIncrease||E===void 0)&&(E=this.counter++),!(this.nodeMap[b]&&this.nodeMap[A]&&this.nodeMap[A].edgeMap[E])){var D=new P(E,b,A,x);if(this.edges.push(D),this.edgeMap[E]=D,this.nodeMap[b].addEdge(D),this.edgeLabelMap[x]||(this.edgeLabelMap[x]=[]),this.edgeLabelMap[x].push(D),!this.directed){var k=new P(E,A,b,x);this.nodeMap[A].addEdge(k),this.edgeLabelMap[x].push(k)}}},S}();W.Graph=m},882812:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=C(570655),R=P(C(975033)),w=P(C(821146)),_=P(C(878089)),L=C(770643);function P(U){return U&&U.__esModule?U:{default:U}}var p=function(G,j,K,nt){K===void 0&&(K="cluster"),nt===void 0&&(nt=2);var q=[],J=G.nodes;return j.forEach(function(ut,st){q.push(m(J,ut,st,K,nt))}),q},m=function(G,j,K,nt,q){var J=[K],ut=[],st={};return j.forEach(function(bt,ht){if(bt<=q&&K!==ht){J.push(ht),ut.push(G[ht]);var kt=G[ht][nt];st[kt]?(st[kt].count++,st[kt].dists.push(bt)):st[kt]={count:1,dists:[bt]}}}),Object.keys(st).forEach(function(bt){st[bt].dists=st[bt].dists.sort(function(ht,kt){return ht-kt})}),{nodeIdx:K,nodeId:G[K].id,nodeIdxs:J,neighbors:ut,neighborNum:J.length-1,nodeLabelCountMap:st}},S=function(G,j,K,nt,q){var J=Math.ceil(K/j),ut={},st=0;return nt.forEach(function(bt,ht){for(var kt=0,Mt=0,St=bt.nodeIdxs,V=bt.neighborNum-1;kt<J;){for(var Q=St[1+Math.floor(Math.random()*V)],xt=0;(ut["".concat(ht,"-").concat(Q)]||ut["".concat(Q,"-").concat(ht)])&&(Q=Math.floor(Math.random()*j),xt++,!(xt>2*j)););if(xt<2*j&&(ut["".concat(ht,"-").concat(Q)]={start:ht,end:Q,distance:q[ht][Q]},kt++,st++,st>=K))return ut;if(Mt++,Mt>2*j)break}if(kt<J){var Ct=J-kt;J=(J+Ct)/(j-ht-1)}}),ut},E=function(G,j,K,nt){var q=K.nodes;return nt||(nt={}),Object.keys(G).forEach(function(J){var ut,st;if(!(nt&&nt[J])){nt[J]={nodes:[],edges:[]};var bt=G[J],ht=(ut=j[bt.start])===null||ut===void 0?void 0:ut.nodeIdxs,kt=(st=j[bt.end])===null||st===void 0?void 0:st.nodeIdxs;if(!(!ht||!kt)){var Mt=new Set(kt),St=ht.filter(function(et){return Mt.has(et)});if(!(!St||!St.length)){for(var V={},Q=St.length,xt=0;xt<Q;xt++){var Ct=q[St[xt]];nt[J].nodes.push(Ct),V[Ct.id]=!0}K.edges.forEach(function(et){V[et.source]&&V[et.target]&&nt[J].edges.push(et)})}}}}),nt},b=function(G,j,K,nt){var q,J,ut={};G.nodes.forEach(function(bt){ut[bt.id]=bt});var st=0;return!(!((q=j==null?void 0:j.edges)===null||q===void 0)&&q.length)||((J=j==null?void 0:j.nodes)===null||J===void 0?void 0:J.length)<2?0:(G.edges.forEach(function(bt){var ht=ut[bt.source][K],kt=ut[bt.target][K],Mt=j==null?void 0:j.nodes[0][K],St=j==null?void 0:j.nodes[1][K],V=j==null?void 0:j.edges[0][nt];bt[nt]===V&&(ht===Mt&&kt===St||ht===St&&kt===Mt)&&st++}),st)},A=function(G,j,K){for(var nt=1/0,q=0,J=function(bt){var ht=G[bt],kt=Object.keys(ht).sort(function(et,vt){return ht[et]-ht[vt]}),Mt=10,St=[];kt.forEach(function(et,vt){St[vt%Mt]||(St[vt%Mt]={graphs:[],totalCount:0,aveCount:0}),St[vt%Mt].graphs.push(et),St[vt%Mt].totalCount+=ht[et]});var V=0,Q=[];St.forEach(function(et){var vt=et.totalCount/et.graphs.length;et.aveCount=vt,Q.push(vt);var Tt=0,Ot=et.length;et.graphs.forEach(function(Et,Dt){var Vt=ht[Et];et.graphs.forEach(function(ue,ee){Dt!==ee&&(Tt+=Math.abs(Vt-ht[ue]))})}),Tt/=Ot*(Ot-1)/2,V+=Tt}),V/=St.length;var xt=0;Q.forEach(function(et,vt){Q.forEach(function(Tt,Ot){vt!==Ot&&(xt+=Math.abs(et-Tt))}),xt/=Q.length*(Q.length-1)/2});var Ct=xt-V;nt<Ct&&(nt=Ct,q=bt)},ut=0;ut<j;ut++)J(ut);return{structure:K[q],structureCountMap:G[q]}},x=function(G,j){var K={},nt={};return G.forEach(function(q,J){K[q.id]={idx:J,node:q,degree:0,inDegree:0,outDegree:0};var ut=q[j];nt[ut]||(nt[ut]=[]),nt[ut].push(q)}),{nodeMap:K,nodeLabelMap:nt}},D=function(G,j,K){var nt={},q={};return G.forEach(function(J,ut){nt["".concat(L.uniqueId)]={idx:ut,edge:J};var st=J[j];q[st]||(q[st]=[]),q[st].push(J);var bt=K[J.source];bt&&(bt.degree++,bt.outDegree++);var ht=K[J.target];ht&&(ht.degree++,ht.inDegree++)}),{edgeMap:nt,edgeLabelMap:q}},k=function(G,j,K){var nt=j.length,q={};return j.forEach(function(J,ut){for(var st=K?0:ut+1,bt=G[ut].id,ht=st;ht<nt;ht++)if(ut!==ht){var kt=G[ht].id,Mt=J[ht];q["".concat(bt,"-").concat(kt)]=Mt,K||(q["".concat(kt,"-").concat(bt)]=Mt)}}),q},g=function(G,j,K,nt,q,J,ut,st,bt,ht,kt){var Mt,St="".concat(j.id,"-").concat(K.id);if(ht&&ht[St])return ht[St];var V=kt?kt[St]:void 0;if(!V){var Q=(Mt={},Mt[St]={start:nt[j.id].idx,end:nt[K.id].idx,distance:q},Mt);kt=E(Q,J,G,kt),V=kt[St]}return b(V,ut,st,bt)},f=function(G,j,K,nt){var q,J,ut,st=(q=G[j])===null||q===void 0?void 0:q.degree,bt=(J=G[j])===null||J===void 0?void 0:J.inDegree,ht=(ut=G[j])===null||ut===void 0?void 0:ut.outDegree;return G[j]===void 0&&(st=1/0,bt=1/0,ht=1/0,nt[j].forEach(function(kt){var Mt=K[kt.id].degree;st>Mt&&(st=Mt);var St=K[kt.id].inDegree;bt>St&&(bt=St);var V=K[kt.id].outDegree;ht>V&&(ht=V)}),G[j]={degree:st,inDegree:bt,outDegree:ht}),{minPatternNodeLabelDegree:st,minPatternNodeLabelInDegree:bt,minPatternNodeLabelOutDegree:ht}},z=function(G,j,K,nt,q,J,ut){var st;if(K===void 0&&(K=!1),J===void 0&&(J="cluster"),ut===void 0&&(ut="cluster"),!(!G||!G.nodes)){var bt=G.nodes.length;if(bt){var ht=(0,R.default)(G,K),kt=(0,R.default)(j,K),Mt=k(G.nodes,ht,K),St=k(j.nodes,kt,K),V=x(G.nodes,J),Q=V.nodeMap,xt=V.nodeLabelMap,Ct=x(j.nodes,J),et=Ct.nodeMap,vt=Ct.nodeLabelMap;D(G.edges,ut,Q);var Tt=D(j.edges,ut,et).edgeLabelMap,Ot=[];kt==null||kt.forEach(function(an){Ot=Ot.concat(an)}),q||(q=Math.max.apply(Math,(0,y.__spreadArray)((0,y.__spreadArray)([],Ot,!1),[2],!1))),nt||(nt=q);var Et=p(G,ht,J,nt),Dt=p(j,kt,J,nt),Vt=Math.min(100,bt*(bt-1)/2),ue=S(nt,bt,Vt,Et,ht),ee=E(ue,Et,G),It=10,ne=1,pe=1,Gt=4,qt={graphs:ee,nodeLabelProp:J,edgeLabelProp:ut,minSupport:ne,minNodeNum:pe,maxNodeNum:Gt,directed:K},$t=(0,w.default)(qt).slice(0,It),Zt=$t.length,se=[];$t.forEach(function(an,dn){se[dn]={},Object.keys(ee).forEach(function(Sn){var Dn=ee[Sn],Nn=b(Dn,an,J,ut);se[dn][Sn]=Nn})});var Se=A(se,Zt,$t),Pt=Se.structure,Fe=Se.structureCountMap,vr=j.nodes[0],Cr=[],_r=(st=j.nodes[0])===null||st===void 0?void 0:st[J],Ur=-1/0;j.nodes.forEach(function(an){var dn=an[J],Sn=xt[dn];(Sn==null?void 0:Sn.length)>Ur&&(Ur=Sn.length,Cr=Sn,_r=dn,vr=an)});var nn={},on={},tr={},Rr={},qr={},br={};Object.keys(vt).forEach(function(an,dn){qr[an]=[],K&&(br[an]=[]);var Sn=-1/0,Dn=vt[an],Nn={};Dn.forEach(function(ot){var Ft=St["".concat(vr.id,"-").concat(ot.id)];if(Ft&&qr[an].push(Ft),Sn<Ft&&(Sn=Ft),Nn["".concat(vr.id,"-").concat(ot.id)]={start:0,end:et[ot.id].idx,distance:Ft},K){var ft=St["".concat(ot.id,"-").concat(vr.id)];ft&&br[an].push(ft)}}),qr[an]=qr[an].sort(function(ot,Ft){return ot-Ft}),K&&(br[an]=br[an].sort(function(ot,Ft){return ot-Ft})),on=E(Nn,Dt,j,on);var rt=[];if(Object.keys(Nn).forEach(function(ot){if(tr[ot]){rt.push(tr[ot]);return}var Ft=on[ot];tr[ot]=b(Ft,Pt,J,ut),rt.push(tr[ot])}),rt=rt.sort(function(ot,Ft){return Ft-ot}),Rr["".concat(vr.id,"-").concat(an)]=rt,an!==_r)for(var Xe=(Cr==null?void 0:Cr.length)||0,Xt=function(Ft){var ft=Cr[Ft],Ut=Et[Q[ft.id].idx],re=Ut.nodeLabelCountMap[an],ae=vt[an].length;if(!re||re.count<ae)return Cr.splice(Ft,1),"continue";for(var at=!1,ct=0;ct<ae;ct++)if(re.dists[ct]>qr[an][ct]){at=!0;break}if(at)return Cr.splice(Ft,1),"continue";var F={};Ut.neighbors.forEach(function($){var mt=Mt["".concat(ft.id,"-").concat($.id)];F["".concat(ft.id,"-").concat($.id)]={start:Q[ft.id].idx,end:Q[$.id].idx,distance:mt}}),ee=E(F,Et,G,ee);var M=[];Object.keys(F).forEach(function($){if(Fe[$]){M.push(Fe[$]);return}var mt=ee[$];Fe[$]=b(mt,Pt,J,ut),M.push(Fe[$])}),M=M.sort(function($,mt){return mt-$});for(var O=!1,ct=0;ct<ae;ct++)if(M[ct]<rt[ct]){O=!0;break}if(O)return Cr.splice(Ft,1),"continue"},te=Xe-1;te>=0;te--)Xt(te)});var zr=[];Cr==null||Cr.forEach(function(an){for(var dn=Q[an.id].idx,Sn=m(G.nodes,ht[dn],dn,J,q),Dn=Sn.neighbors,Nn=Dn.length,rt=!1,Xe=Nn-1;Xe>=0;Xe--){if(Dn.length+1<j.nodes.length){rt=!0;return}var Xt=Dn[Xe],te=Xt[J];if(!vt[te]||!vt[te].length){Dn.splice(Xe,1);continue}if(!qr[te]||!qr[te].length){Dn.splice(Xe,1);continue}var ot="".concat(an.id,"-").concat(Xt.id),Ft=Mt[ot],ft=qr[te].length-1,Ut=qr[te][ft];if(Ft>Ut){Dn.splice(Xe,1);continue}if(K){var re="".concat(Xt.id,"-").concat(an.id),ae=Mt[re];ft=br[te].length-1;var at=br[te][ft];if(ae>at){Dn.splice(Xe,1);continue}}var ct=Fe[ot]?Fe[ot]:g(G,an,Xt,Q,Ft,Et,Pt,J,ut,Fe,ee),F="".concat(vr.id,"-").concat(te),M=Rr[F][Rr[F].length-1];if(ct<M){Dn.splice(Xe,1);continue}var O=f(nn,te,et,vt),$=O.minPatternNodeLabelDegree,mt=O.minPatternNodeLabelInDegree,zt=O.minPatternNodeLabelOutDegree;if(Q[Xt.id].degree<$){Dn.splice(Xe,1);continue}}rt||zr.push({nodes:[an].concat(Dn)})});var Ir=(0,_.default)(j,vr.id,!1).length,je={};K?(Object.keys(Ir).forEach(function(an){var dn=et[an].node[J];je[dn]?je[dn].push(Ir[an]):je[dn]=[Ir[an]]}),Object.keys(je).forEach(function(an){je[an].sort(function(dn,Sn){return dn-Sn})})):je=qr;for(var qe=zr.length,xn=function(dn){var Sn=zr[dn],Dn=Sn.nodes[0],Nn={},rt={};Sn.nodes.forEach(function(Or,ce){rt[Or.id]={idx:ce,node:Or,degree:0,inDegree:0,outDegree:0};var Yt=Or[J];Nn[Yt]?Nn[Yt]++:Nn[Yt]=1});var Xe=[],Xt={};G.edges.forEach(function(Or){rt[Or.source]&&rt[Or.target]&&(Xe.push(Or),Xt[Or[ut]]?Xt[Or[ut]]++:Xt[Or[ut]]=1,rt[Or.source].degree++,rt[Or.target].degree++,rt[Or.source].outDegree++,rt[Or.target].inDegree++)});for(var te=Object.keys(Tt).length,ot=!1,Ft=0;Ft<te;Ft++){var ft=Object.keys(Tt)[Ft];if(!Xt[ft]||Xt[ft]<Tt[ft].length){ot=!0;break}}if(ot)return zr.splice(dn,1),"continue";var Ut=Xe.length;if(Ut<j.edges.length)return zr.splice(dn,1),"break";for(var re=!1,ae=function(ce){var Yt=Xe[ce],he=Yt[ut],Me=Tt[he];if(!Me||!Me.length)return Xt[he]--,Me&&Xt[he]<Me.length?(re=!0,"break"):(Xe.splice(ce,1),rt[Yt.source].degree--,rt[Yt.target].degree--,rt[Yt.source].outDegree--,rt[Yt.target].inDegree--,"continue");var ye=rt[Yt.source].node[J],Ne=rt[Yt.target].node[J],nr=!1;if(Me.forEach(function(cr){var rn=et[cr.source].node,An=et[cr.target].node;rn[J]===ye&&An[J]===Ne&&(nr=!0),!K&&rn[J]===Ne&&An[J]===ye&&(nr=!0)}),!nr)return Xt[he]--,Me&&Xt[he]<Me.length?(re=!0,"break"):(Xe.splice(ce,1),rt[Yt.source].degree--,rt[Yt.target].degree--,rt[Yt.source].outDegree--,rt[Yt.target].inDegree--,"continue")},Ft=Ut-1;Ft>=0;Ft--){var at=ae(Ft);if(at==="break")break}if(re)return zr.splice(dn,1),"continue";Sn.edges=Xe;var ct=(0,_.default)(Sn,Sn.nodes[0].id,!1).length;if(Object.keys(ct).reverse().forEach(function(Or){if(!(Or===Sn.nodes[0].id||re)){if(ct[Or]===1/0){var ce=rt[Or].node[J];if(Nn[ce]--,Nn[ce]<vt[ce].length){re=!0;return}var Yt=Sn.nodes.indexOf(rt[Or].node);Sn.nodes.splice(Yt,1),rt[Or]=void 0;return}var he=Q[Or].node[J];if(!je[he]||!je[he].length||ct[Or]>je[he][je[he].length-1]){var ce=rt[Or].node[J];if(Nn[ce]--,Nn[ce]<vt[ce].length){re=!0;return}var Yt=Sn.nodes.indexOf(rt[Or].node);Sn.nodes.splice(Yt,1),rt[Or]=void 0}}}),re)return zr.splice(dn,1),"continue";for(var F=!0,M=0;F&&!re;){F=!1;var O=K?rt[Dn.id].degree<et[vr.id].degree||rt[Dn.id].inDegree<et[vr.id].inDegree||rt[Dn.id].outDegree<et[vr.id].outDegree:rt[Dn.id].degree<et[vr.id].degree;if(O){re=!0;break}if(Nn[Dn[J]]<vt[Dn[J]].length){re=!0;break}for(var $=Sn.nodes.length,mt=$-1;mt>=0;mt--){var zt=Sn.nodes[mt],Rt=rt[zt.id].degree,Kt=rt[zt.id].inDegree,Te=rt[zt.id].outDegree,be=zt[J],We=f(nn,be,et,vt),fr=We.minPatternNodeLabelDegree,He=We.minPatternNodeLabelInDegree,Pr=We.minPatternNodeLabelOutDegree,un=K?Rt<fr||Kt<He||Te<Pr:Rt<fr;if(un){if(Nn[zt[J]]--,Nn[zt[J]]<vt[zt[J]].length){re=!0;break}Sn.nodes.splice(mt,1),rt[zt.id]=void 0,F=!0}}if(re||!F&&M!==0)break;Ut=Xe.length;for(var Ue=Ut-1;Ue>=0;Ue--){var ur=Xe[Ue];if(!rt[ur.source]||!rt[ur.target]){Xe.splice(Ue,1);var Lr=ur[ut];if(Xt[Lr]--,rt[ur.source]&&(rt[ur.source].degree--,rt[ur.source].outDegree--),rt[ur.target]&&(rt[ur.target].degree--,rt[ur.target].inDegree--),Tt[Lr]&&Xt[Lr]<Tt[Lr].length){re=!0;break}F=!0}}M++}if(re||re||Sn.nodes.length<j.nodes.length||Xe.length<j.edges.length)return zr.splice(dn,1),"continue"},rr=qe-1;rr>=0;rr--){var jr=xn(rr);if(jr==="break")break}for(var Nr=zr.length,kn=function(dn){var Sn=zr[dn],Dn={};Sn.edges.forEach(function(Xe){var Xt="".concat(Xe.source,"-").concat(Xe.target,"-").concat(Xe.label);Dn[Xt]?Dn[Xt]++:Dn[Xt]=1});for(var Nn=function(Xt){var te=zr[Xt],ot={};te.edges.forEach(function(ft){var Ut="".concat(ft.source,"-").concat(ft.target,"-").concat(ft.label);ot[Ut]?ot[Ut]++:ot[Ut]=1});var Ft=!0;Object.keys(ot).length!==Object.keys(Dn).length?Ft=!1:Object.keys(Dn).forEach(function(ft){ot[ft]!==Dn[ft]&&(Ft=!1)}),Ft&&zr.splice(Xt,1)},rt=Nr-1;rt>dn;rt--)Nn(rt);Nr=zr.length},rr=0;rr<=Nr-1;rr++)kn(rr);return zr}}},Y=z;W.default=Y},505170:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=w(C(62238)),R=C(770643);function w(P){return P&&P.__esModule?P:{default:P}}var _=function(p,m,S,E){m===void 0&&(m=!1),S===void 0&&(S="weight"),E===void 0&&(E=1e3);var b=p.nodes,A=b===void 0?[]:b,x=p.edges,D=x===void 0?[]:x,k={},g={};A.forEach(function(J,ut){var st=(0,R.uniqueId)();J.clusterId=st,k[st]={id:st,nodes:[J]},g[J.id]={node:J,idx:ut}});var f=(0,y.default)(p,m),z=[],Y={};f.forEach(function(J,ut){var st=0,bt=A[ut].id;Y[bt]={},J.forEach(function(ht,kt){if(ht){st+=ht;var Mt=A[kt].id;Y[bt][Mt]=ht}}),z.push(st)});for(var U=0,G=function(){var ut=!1;if(A.forEach(function(st){var bt={};Object.keys(Y[st.id]).forEach(function(Ct){var et=Y[st.id][Ct],vt=g[Ct].node,Tt=vt.clusterId;bt[Tt]||(bt[Tt]=0),bt[Tt]+=et});var ht=-1/0,kt=[];if(Object.keys(bt).forEach(function(Ct){ht<bt[Ct]?(ht=bt[Ct],kt=[Ct]):ht===bt[Ct]&&kt.push(Ct)}),!(kt.length===1&&kt[0]===st.clusterId)){var Mt=kt.indexOf(st.clusterId);if(Mt>=0&&kt.splice(Mt,1),kt&&kt.length){ut=!0;var St=k[st.clusterId],V=St.nodes.indexOf(st);St.nodes.splice(V,1);var Q=Math.floor(Math.random()*kt.length),xt=k[kt[Q]];xt.nodes.push(st),st.clusterId=xt.id}}}),!ut)return"break";U++};U<E;){var j=G();if(j==="break")break}Object.keys(k).forEach(function(J){var ut=k[J];(!ut.nodes||!ut.nodes.length)&&delete k[J]});var K=[],nt={};D.forEach(function(J){var ut=J.source,st=J.target,bt=J[S]||1,ht=g[ut].node.clusterId,kt=g[st].node.clusterId,Mt="".concat(ht,"---").concat(kt);if(nt[Mt])nt[Mt].weight+=bt,nt[Mt].count++;else{var St={source:ht,target:kt,weight:bt,count:1};nt[Mt]=St,K.push(St)}});var q=[];return Object.keys(k).forEach(function(J){q.push(k[J])}),{clusters:q,clusterEdges:K}},L=_;W.default=L},135179:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=C(413810),R=P(C(62238)),w=P(C(29741)),_=C(103665),L=C(526838);function P(b){return b&&b.__esModule?b:{default:b}}var p=function(A,x,D,k){for(var g=x.length,f=2*k,z=0,Y=0;Y<g;Y++)for(var U=A[Y].clusterId,G=0;G<g;G++){var j=A[G].clusterId;if(U===j){var K=x[Y][G]||0,nt=D[Y]||0,q=D[G]||0;z+=K-nt*q/f}}return z*=1/f,z},m=function(A,x){A===void 0&&(A=[]);for(var D=A.length,k=new w.default([]),g=0;g<D;g++)k=k.add(new w.default(x[g]));var f=k.avg(D);f.normalize();for(var z=0,g=0;g<D;g++){var Y=new w.default(x[g]),U=Y.squareEuclideanDistance(f);z+=U}var G=[];A.forEach(function(){G.push([])});for(var g=0;g<D;g++){var Y=new w.default(x[g]);A[g].clusterInertial=0;for(var j=0;j<D;j++){if(g===j){G[g][j]=0;continue}var K=new w.default(x[j]);G[g][j]=Y.squareEuclideanDistance(K),A[g].clusterInertial+=G[g][j]}}for(var nt=0,q=2*D*z,g=0;g<D;g++)for(var J=A[g].clusterId,j=0;j<D;j++){var ut=A[j].clusterId;if(!(g===j||J!==ut)){var st=A[g].clusterInertial*A[j].clusterInertial/Math.pow(q,2)-G[g][j]/q;nt+=st}}return Number(nt.toFixed(4))},S=function(A,x,D,k,g,f,z,Y,U){x===void 0&&(x=!1),D===void 0&&(D="weight"),k===void 0&&(k=1e-4),g===void 0&&(g=!1),f===void 0&&(f=void 0),z===void 0&&(z=[]),Y===void 0&&(Y=["id"]),U===void 0&&(U=1);var G=A.nodes,j=G===void 0?[]:G,K=A.edges,nt=K===void 0?[]:K,q=[];if(g){j.forEach(function(ee,It){ee.properties=ee.properties||{},ee.originIndex=It});var J=[];j.every(function(ee){return ee.hasOwnProperty("nodeType")})&&(J=Array.from(new Set(j.map(function(ee){return ee.nodeType}))),j.forEach(function(ee){ee.properties.nodeType=J.findIndex(function(It){return It===ee.nodeType})}));var ut=(0,_.getAllProperties)(j,f);q=(0,L.oneHot)(ut,z,Y)}var st=1,bt={},ht={};j.forEach(function(ee,It){var ne=String(st++);ee.clusterId=ne,bt[ne]={id:ne,nodes:[ee]},ht[ee.id]={node:ee,idx:It}});var kt=(0,R.default)(A,x),Mt=[],St={},V=0;kt.forEach(function(ee,It){var ne=0,pe=j[It].id;St[pe]={},ee.forEach(function(Gt,qt){if(Gt){ne+=Gt;var $t=j[qt].id;St[pe][$t]=Gt,V+=Gt}}),Mt.push(ne)}),V/=2;for(var Q=1/0,xt=1/0,Ct=0,et=[],vt={};;){g&&j.every(function(ee){return ee.hasOwnProperty("properties")})?Q=p(j,kt,Mt,V)+m(j,q)*U:Q=p(j,kt,Mt,V),Ct===0&&(xt=Q,et=j,vt=bt);var Tt=Q>0&&Q>xt&&Q-xt<k;if(Q>xt&&(et=j.map(function(ee){return{node:ee,clusterId:ee.clusterId}}),vt=(0,y.clone)(bt),xt=Q),Tt||Ct>100)break;Ct++,Object.keys(bt).forEach(function(ee){var It=0;nt.forEach(function(ne){var pe=ne.source,Gt=ne.target,qt=ht[pe].node.clusterId,$t=ht[Gt].node.clusterId;(qt===ee&&$t!==ee||$t===ee&&qt!==ee)&&(It=It+(ne[D]||1))}),bt[ee].sumTot=It}),j.forEach(function(ee,It){var ne=bt[ee.clusterId],pe=0,Gt,qt=Mt[It]/(2*V),$t=0,Zt=ne.nodes;Zt.forEach(function(on){var tr=ht[on.id].idx;$t+=kt[It][tr]||0});var se=$t-ne.sumTot*qt,Se=Zt.filter(function(on){return on.id!==ee.id}),Pt=[];Se.forEach(function(on,tr){Pt[tr]=q[on.originIndex]});var Fe=m(Se,q)*U,vr=St[ee.id];if(Object.keys(vr).forEach(function(on){var tr=ht[on].node,Rr=tr.clusterId;if(Rr!==ee.clusterId){var qr=bt[Rr],br=qr.nodes;if(!(!br||!br.length)){var zr=0;br.forEach(function(jr){var Nr=ht[jr.id].idx;zr+=kt[It][Nr]||0});var Ir=zr-qr.sumTot*qt,je=br.concat([ee]),qe=[];je.forEach(function(jr,Nr){qe[Nr]=q[jr.originIndex]});var xn=m(je,q)*U,rr=Ir-se;g&&(rr=Ir+xn-(se+Fe)),rr>pe&&(pe=rr,Gt=qr)}}}),pe>0){Gt.nodes.push(ee);var Cr=ee.clusterId;ee.clusterId=Gt.id;var _r=ne.nodes.indexOf(ee);ne.nodes.splice(_r,1);var Ur=0,nn=0;nt.forEach(function(on){var tr=on.source,Rr=on.target,qr=ht[tr].node.clusterId,br=ht[Rr].node.clusterId;(qr===Gt.id&&br!==Gt.id||br===Gt.id&&qr!==Gt.id)&&(Ur=Ur+(on[D]||1)),(qr===Cr&&br!==Cr||br===Cr&&qr!==Cr)&&(nn=nn+(on[D]||1))}),Gt.sumTot=Ur,ne.sumTot=nn}})}var Ot={},Et=0;Object.keys(vt).forEach(function(ee){var It=vt[ee];if(!It.nodes||!It.nodes.length){delete vt[ee];return}var ne=String(Et+1);ne!==ee&&(It.id=ne,It.nodes=It.nodes.map(function(pe){return{id:pe.id,clusterId:ne}}),vt[ne]=It,Ot[ee]=ne,delete vt[ee],Et++)}),et.forEach(function(ee){var It=ee.node,ne=ee.clusterId;It&&(It.clusterId=ne,It.clusterId&&Ot[It.clusterId]&&(It.clusterId=Ot[It.clusterId]))});var Dt=[],Vt={};nt.forEach(function(ee){var It=ee.source,ne=ee.target,pe=ee[D]||1,Gt=ht[It].node.clusterId,qt=ht[ne].node.clusterId;if(!(!Gt||!qt)){var $t="".concat(Gt,"---").concat(qt);if(Vt[$t])Vt[$t].weight+=pe,Vt[$t].count++;else{var Zt={source:Gt,target:qt,weight:pe,count:1};Vt[$t]=Zt,Dt.push(Zt)}}});var ue=[];return Object.keys(vt).forEach(function(ee){ue.push(vt[ee])}),{clusters:ue,clusterEdges:Dt}},E=S;W.default=E},689454:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=_(C(838823)),R=_(C(257085)),w=C(770643);function _(S){return S&&S.__esModule?S:{default:S}}var L=function(E,b){var A=[],x=E.nodes,D=x===void 0?[]:x,k=E.edges,g=k===void 0?[]:k;if(D.length===0)return A;var f=D[0],z=new Set;z.add(f);var Y=function(q,J){return b?q.weight-J.weight:0},U=new R.default(Y);for((0,w.getEdgesByNodeId)(f.id,g).forEach(function(nt){U.insert(nt)});!U.isEmpty();){var G=U.delMin(),j=G.source,K=G.target;z.has(j)&&z.has(K)||(A.push(G),z.has(j)||(z.add(j),(0,w.getEdgesByNodeId)(j,g).forEach(function(nt){U.insert(nt)})),z.has(K)||(z.add(K),(0,w.getEdgesByNodeId)(K,g).forEach(function(nt){U.insert(nt)})))}return A},P=function(E,b){var A=[],x=E.nodes,D=x===void 0?[]:x,k=E.edges,g=k===void 0?[]:k;if(D.length===0)return A;var f=g.map(function(j){return j});b&&f.sort(function(j,K){return j.weight-K.weight});for(var z=new y.default(D.map(function(j){return j.id}));f.length>0;){var Y=f.shift(),U=Y.source,G=Y.target;z.connected(U,G)||(A.push(Y),z.union(U,G))}return A},p=function(E,b,A){var x={prim:L,kruskal:P};return A?x[A](E,b):P(E,b)},m=p;W.default=m},274926:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=w(C(182556)),R=C(770643);function w(P){return P&&P.__esModule?P:{default:P}}var _=function(p,m,S){typeof m!="number"&&(m=1e-6),typeof S!="number"&&(S=.85);for(var E=1,b=0,A=1e3,x=p.nodes,D=x===void 0?[]:x,k=p.edges,g=k===void 0?[]:k,f=D.length,z,Y={},U={},G=0;G<f;++G){var j=D[G],K=j.id;Y[K]=1/f,U[K]=1/f}for(var nt=(0,y.default)(p);A>0&&E>m;){b=0;for(var G=0;G<f;++G){var j=D[G],K=j.id;if(z=0,nt[j.id].inDegree===0)Y[K]=0;else{for(var q=(0,R.getNeighbors)(K,g,"source"),J=0;J<q.length;++J){var ut=q[J],st=nt[ut].outDegree;st>0&&(z+=U[ut]/st)}Y[K]=S*z,b+=Y[K]}}b=(1-b)/f,E=0;for(var G=0;G<f;++G){var j=D[G],K=j.id;z=Y[K]+b,E+=Math.abs(z-U[K]),U[K]=z}A-=1}return U},L=_;W.default=L},257085:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var C=function(_,L){return _-L},y=function(){function w(_){_===void 0&&(_=C),this.compareFn=_,this.list=[]}return w.prototype.getLeft=function(_){return 2*_+1},w.prototype.getRight=function(_){return 2*_+2},w.prototype.getParent=function(_){return _===0?null:Math.floor((_-1)/2)},w.prototype.isEmpty=function(){return this.list.length<=0},w.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},w.prototype.delMin=function(){var _=this.top(),L=this.list.pop();return this.list.length>0&&(this.list[0]=L,this.moveDown(0)),_},w.prototype.insert=function(_){if(_!==null){this.list.push(_);var L=this.list.length-1;return this.moveUp(L),!0}return!1},w.prototype.moveUp=function(_){for(var L=this.getParent(_);_&&_>0&&this.compareFn(this.list[L],this.list[_])>0;){var P=this.list[L];this.list[L]=this.list[_],this.list[_]=P,_=L,L=this.getParent(_)}},w.prototype.moveDown=function(_){var L,P=_,p=this.getLeft(_),m=this.getRight(_),S=this.list.length;p!==null&&p<S&&this.compareFn(this.list[P],this.list[p])>0?P=p:m!==null&&m<S&&this.compareFn(this.list[P],this.list[m])>0&&(P=m),_!==P&&(L=[this.list[P],this.list[_]],this.list[_]=L[0],this.list[P]=L[1],this.moveDown(P))},w}(),R=y;W.default=R},488481:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=W.LinkedListNode=void 0;var C=function(L,P){return L===P},y=function(){function _(L,P){P===void 0&&(P=null),this.value=L,this.next=P}return _.prototype.toString=function(L){return L?L(this.value):"".concat(this.value)},_}();W.LinkedListNode=y;var R=function(){function _(L){L===void 0&&(L=C),this.head=null,this.tail=null,this.compare=L}return _.prototype.prepend=function(L){var P=new y(L,this.head);return this.head=P,this.tail||(this.tail=P),this},_.prototype.append=function(L){var P=new y(L);return this.head?(this.tail.next=P,this.tail=P,this):(this.head=P,this.tail=P,this)},_.prototype.delete=function(L){if(!this.head)return null;for(var P=null;this.head&&this.compare(this.head.value,L);)P=this.head,this.head=this.head.next;var p=this.head;if(p!==null)for(;p.next;)this.compare(p.next.value,L)?(P=p.next,p.next=p.next.next):p=p.next;return this.compare(this.tail.value,L)&&(this.tail=p),P},_.prototype.find=function(L){var P=L.value,p=P===void 0?void 0:P,m=L.callback,S=m===void 0?void 0:m;if(!this.head)return null;for(var E=this.head;E;){if(S&&S(E.value)||p!==void 0&&this.compare(E.value,p))return E;E=E.next}return null},_.prototype.deleteTail=function(){var L=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,L;for(var P=this.head;P.next;)P.next.next?P=P.next:P.next=null;return this.tail=P,L},_.prototype.deleteHead=function(){if(!this.head)return null;var L=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),L},_.prototype.fromArray=function(L){var P=this;return L.forEach(function(p){return P.append(p)}),this},_.prototype.toArray=function(){for(var L=[],P=this.head;P;)L.push(P),P=P.next;return L},_.prototype.reverse=function(){for(var L=this.head,P=null,p=null;L;)p=L.next,L.next=P,P=L,L=p;this.tail=this.head,this.head=P},_.prototype.toString=function(L){return L===void 0&&(L=void 0),this.toArray().map(function(P){return P.toString(L)}).toString()},_}(),w=R;W.default=w},893026:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=R(C(488481));function R(L){return L&&L.__esModule?L:{default:L}}var w=function(){function L(){this.linkedList=new y.default}return L.prototype.isEmpty=function(){return!this.linkedList.head},L.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},L.prototype.enqueue=function(P){this.linkedList.append(P)},L.prototype.dequeue=function(){var P=this.linkedList.deleteHead();return P?P.value:null},L.prototype.toString=function(P){return this.linkedList.toString(P)},L}(),_=w;W.default=_},838823:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var C=function(){function R(w){this.count=w.length,this.parent={};for(var _=0,L=w;_<L.length;_++){var P=L[_];this.parent[P]=P}}return R.prototype.find=function(w){for(;this.parent[w]!==w;)w=this.parent[w];return w},R.prototype.union=function(w,_){var L=this.find(w),P=this.find(_);L!==P&&(L<P?(this.parent[_]!==_&&this.union(this.parent[_],w),this.parent[_]=this.parent[w]):(this.parent[w]!==w&&this.union(this.parent[w],_),this.parent[w]=this.parent[_]))},R.prototype.connected=function(w,_){return this.find(w)===this.find(_)},R}(),y=C;W.default=y},317892:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.DistanceType=void 0;var C;W.DistanceType=C,function(y){y.EuclideanDistance="euclideanDistance"}(C||(W.DistanceType=C={}))},770643:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.uniqueId=W.getOutEdgesNodeId=W.getNeighbors=W.getEdgesByNodeId=void 0;var C=function(L,P,p){P===void 0&&(P=[]);var m=P.filter(function(A){return A.source===L||A.target===L});if(p==="target"){var S=function(x){return x.source===L};return m.filter(S).map(function(A){return A.target})}if(p==="source"){var E=function(x){return x.target===L};return m.filter(E).map(function(A){return A.source})}var b=function(x){return x.source===L?x.target:x.source};return m.map(b)};W.getNeighbors=C;var y=function(L,P){return P.filter(function(p){return p.source===L})};W.getOutEdgesNodeId=y;var R=function(L,P){return P.filter(function(p){return p.source===L||p.target===L})};W.getEdgesByNodeId=R;var w=function(L){L===void 0&&(L=0);var P="".concat(Math.random()).split(".")[1].substr(0,5),p="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(L,"-").concat(P).concat(p)};W.uniqueId=w},526838:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.oneHot=W.getDistance=W.getAllKeyValueMap=W.default=void 0;var y=C(413810),R=C(317892),w=_(C(29741));function _(S){return S&&S.__esModule?S:{default:S}}var L=function(E,b,A){var x=[];b!=null&&b.length?x=b:(E.forEach(function(k){x=x.concat(Object.keys(k))}),x=(0,y.uniq)(x));var D={};return x.forEach(function(k){var g=[];E.forEach(function(f){f[k]!==void 0&&f[k]!==""&&g.push(f[k])}),g.length&&!(A!=null&&A.includes(k))&&(D[k]=(0,y.uniq)(g))}),D};W.getAllKeyValueMap=L;var P=function(E,b,A){var x=L(E,b,A),D=[];if(!Object.keys(x).length)return D;var k=Object.values(x),g=k.every(function(f){return f.every(function(z){return typeof z=="number"})});return E.forEach(function(f,z){var Y=[];Object.keys(x).forEach(function(U){var G=f[U],j=x[U],K=j.findIndex(function(J){return G===J}),nt=[];if(g)nt.push(G);else for(var q=0;q<j.length;q++)q===K?nt.push(1):nt.push(0);Y=Y.concat(nt)}),D[z]=Y}),D};W.oneHot=P;var p=function(E,b,A,x){A===void 0&&(A=R.DistanceType.EuclideanDistance);var D=0;switch(A){case R.DistanceType.EuclideanDistance:D=new w.default(E).euclideanDistance(new w.default(b));break;default:break}return D};W.getDistance=p;var m={getAllKeyValueMap:L,oneHot:P,getDistance:p};W.default=m},103665:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.getPropertyWeight=W.getAllSortProperties=W.getAllProperties=W.default=void 0;var y=C(592935),R=function(m,S){m===void 0&&(m=[]),S===void 0&&(S=100);var E={};m.forEach(function(A){A.properties&&Object.keys(A.properties).forEach(function(x){if(x==="id"||!"".concat(A.properties[x]).match(y.secondReg)&&!"".concat(A.properties[x]).match(y.dateReg)&&isNaN(Number(A.properties[x]))){E.hasOwnProperty(x)&&delete E[x];return}E.hasOwnProperty(x)?E[x]+=1:E[x]=1})});var b=Object.keys(E).sort(function(A,x){return E[x]-E[A]});return b.length<S?b:b.slice(0,S)};W.getAllSortProperties=R;var w=function(m,S){return S.map(function(E){return m.hasOwnProperty(E)?m[E]:0})},_=function(m){for(var S=R(m),E=[],b=0;b<m.length;b++)E[b]=w(m[b].properties,S);return E};W.getPropertyWeight=_;var L=function(m,S){S===void 0&&(S=void 0);var E=[];return m.forEach(function(b){S===void 0&&E.push(b),b[S]!==void 0&&E.push(b[S])}),E};W.getAllProperties=L;var P={getAllSortProperties:R,getPropertyWeight:_,getAllProperties:L};W.default=P},29741:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=C(413810),R=function(){function _(L){this.arr=L}return _.prototype.getArr=function(){return this.arr||[]},_.prototype.add=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length))return new _(p);if(!(p!=null&&p.length))return new _(this.arr);if(this.arr.length===p.length){var m=[];for(var S in this.arr)m[S]=this.arr[S]+p[S];return new _(m)}},_.prototype.subtract=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length))return new _(p);if(!(p!=null&&p.length))return new _(this.arr);if(this.arr.length===p.length){var m=[];for(var S in this.arr)m[S]=this.arr[S]-p[S];return new _(m)}},_.prototype.avg=function(L){var P=[];if(L!==0)for(var p in this.arr)P[p]=this.arr[p]/L;return new _(P)},_.prototype.negate=function(){var L=[];for(var P in this.arr)L[P]=-this.arr[P];return new _(L)},_.prototype.squareEuclideanDistance=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var m=0;for(var S in this.arr)m+=Math.pow(this.arr[S]-L.arr[S],2);return m}},_.prototype.euclideanDistance=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var m=0;for(var S in this.arr)m+=Math.pow(this.arr[S]-L.arr[S],2);return Math.sqrt(m)}else console.error("The two vectors are unequal in length.")},_.prototype.normalize=function(){var L=[],P=(0,y.clone)(this.arr);P.sort(function(E,b){return E-b});var p=P[P.length-1],m=P[0];for(var S in this.arr)L[S]=(this.arr[S]-m)/(p-m);return new _(L)},_.prototype.norm2=function(){var L;if(!(!((L=this.arr)===null||L===void 0)&&L.length))return 0;var P=0;for(var p in this.arr)P+=Math.pow(this.arr[p],2);return Math.sqrt(P)},_.prototype.dot=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var m=0;for(var S in this.arr)m+=this.arr[S]*L.arr[S];return m}else console.error("The two vectors are unequal in length.")},_.prototype.equal=function(L){var P,p=L.arr;if(((P=this.arr)===null||P===void 0?void 0:P.length)!==(p==null?void 0:p.length))return!1;for(var m in this.arr)if(this.arr[m]!==p[m])return!1;return!0},_}(),w=R;W.default=w},831656:function(Ge,W,C){"use strict";function y(U){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},y(U)}Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"GADDI",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(W,"breadthFirstSearch",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(W,"connectedComponent",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(W,"depthFirstSearch",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(W,"detectCycle",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(W,"dijkstra",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(W,"findAllPath",{enumerable:!0,get:function(){return S.findAllPath}}),Object.defineProperty(W,"findShortestPath",{enumerable:!0,get:function(){return S.findShortestPath}}),Object.defineProperty(W,"floydWarshall",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(W,"getAdjMatrix",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(W,"getDegree",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(W,"getInDegree",{enumerable:!0,get:function(){return L.getInDegree}}),Object.defineProperty(W,"getNeighbors",{enumerable:!0,get:function(){return g.getNeighbors}}),Object.defineProperty(W,"getOutDegree",{enumerable:!0,get:function(){return L.getOutDegree}}),Object.defineProperty(W,"labelPropagation",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(W,"louvain",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(W,"minimumSpanningTree",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(W,"pageRank",{enumerable:!0,get:function(){return D.default}});var R=Y(C(62238)),w=Y(C(683764)),_=Y(C(759527)),L=z(C(182556)),P=Y(C(994282)),p=Y(C(45891)),m=Y(C(878089)),S=C(241727),E=Y(C(975033)),b=Y(C(505170)),A=Y(C(135179)),x=Y(C(689454)),D=Y(C(274926)),k=Y(C(882812)),g=C(770643);function f(U){if(typeof WeakMap!="function")return null;var G=new WeakMap,j=new WeakMap;return(f=function(nt){return nt?j:G})(U)}function z(U,G){if(!G&&U&&U.__esModule)return U;if(U===null||y(U)!=="object"&&typeof U!="function")return{default:U};var j=f(G);if(j&&j.has(U))return j.get(U);var K={},nt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in U)if(q!=="default"&&Object.prototype.hasOwnProperty.call(U,q)){var J=nt?Object.getOwnPropertyDescriptor(U,q):null;J&&(J.get||J.set)?Object.defineProperty(K,q,J):K[q]=U[q]}return K.default=U,j&&j.set(U,K),K}function Y(U){return U&&U.__esModule?U:{default:U}}},66044:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.MESSAGE=W.ALGORITHM=void 0;var C={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};W.ALGORITHM=C;var y={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};W.MESSAGE=y},70585:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var y=C(66044),R=w(C(612067));function w(P){return P&&P.__esModule?P:{default:P}}var _=function(p){return function(){for(var m=[],S=0;S<arguments.length;S++)m[S]=arguments[S];return new Promise(function(E,b){var A=new R.default;A.postMessage({_algorithmType:p,data:m}),A.onmessage=function(x){var D=x.data,k=D.data,g=D._algorithmType;y.MESSAGE.SUCCESS===g?E(k):b(),A.terminate()}})}},L=_;W.default=L},430485:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.pageRankAsync=W.minimumSpanningTreeAsync=W.louvainAsync=W.labelPropagationAsync=W.getOutDegreeAsync=W.getNeighborsAsync=W.getInDegreeAsync=W.getDegreeAsync=W.getAdjMatrixAsync=W.floydWarshallAsync=W.findShortestPathAsync=W.findAllPathAsync=W.dijkstraAsync=W.detectCycleAsync=W.detectAllUndirectedCycleAsync=W.detectAllDirectedCycleAsync=W.detectAllCyclesAsync=W.connectedComponentAsync=W.GADDIAsync=void 0;var y=w(C(70585)),R=C(66044);function w(K){return K&&K.__esModule?K:{default:K}}var _=function(nt,q){return(0,y.default)(R.ALGORITHM.getAdjMatrix).apply(void 0,[nt,q])};W.getAdjMatrixAsync=_;var L=function(nt,q){return(0,y.default)(R.ALGORITHM.connectedComponent).apply(void 0,[nt,q])};W.connectedComponentAsync=L;var P=function(nt){return(0,y.default)(R.ALGORITHM.getDegree)(nt)};W.getDegreeAsync=P;var p=function(nt,q){return(0,y.default)(R.ALGORITHM.getInDegree)(nt,q)};W.getInDegreeAsync=p;var m=function(nt,q){return(0,y.default)(R.ALGORITHM.getOutDegree)(nt,q)};W.getOutDegreeAsync=m;var S=function(nt){return(0,y.default)(R.ALGORITHM.detectCycle)(nt)};W.detectCycleAsync=S;var E=function(nt){return(0,y.default)(R.ALGORITHM.detectAllCycles)(nt)};W.detectAllCyclesAsync=E;var b=function(nt){return(0,y.default)(R.ALGORITHM.detectAllDirectedCycle)(nt)};W.detectAllDirectedCycleAsync=b;var A=function(nt){return(0,y.default)(R.ALGORITHM.detectAllUndirectedCycle)(nt)};W.detectAllUndirectedCycleAsync=A;var x=function(nt,q,J,ut){return(0,y.default)(R.ALGORITHM.dijkstra).apply(void 0,[nt,q,J,ut])};W.dijkstraAsync=x;var D=function(nt,q,J,ut){return(0,y.default)(R.ALGORITHM.findAllPath).apply(void 0,[nt,q,J,ut])};W.findAllPathAsync=D;var k=function(nt,q,J,ut,st){return(0,y.default)(R.ALGORITHM.findShortestPath).apply(void 0,[nt,q,J,ut,st])};W.findShortestPathAsync=k;var g=function(nt,q){return(0,y.default)(R.ALGORITHM.floydWarshall).apply(void 0,[nt,q])};W.floydWarshallAsync=g;var f=function(nt,q,J,ut){return ut===void 0&&(ut=1e3),(0,y.default)(R.ALGORITHM.labelPropagation)(nt,q,J,ut)};W.labelPropagationAsync=f;var z=function(nt,q,J,ut){return(0,y.default)(R.ALGORITHM.louvain)(nt,q,J,ut)};W.louvainAsync=z;var Y=function(nt,q,J){return(0,y.default)(R.ALGORITHM.minimumSpanningTree).apply(void 0,[nt,q,J])};W.minimumSpanningTreeAsync=Y;var U=function(nt,q,J){return(0,y.default)(R.ALGORITHM.pageRank).apply(void 0,[nt,q,J])};W.pageRankAsync=U;var G=function(nt,q,J){return(0,y.default)(R.ALGORITHM.getNeighbors).apply(void 0,[nt,q,J])};W.getNeighborsAsync=G;var j=function(nt,q,J,ut,st,bt,ht){return J===void 0&&(J=!1),bt===void 0&&(bt="cluster"),ht===void 0&&(ht="cluster"),(0,y.default)(R.ALGORITHM.GADDI).apply(void 0,[nt,q,J,ut,st,bt,ht])};W.GADDIAsync=j},612067:function(Ge,W,C){"use strict";function y(m){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},y(m)}Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var R=L(C(831656)),w=C(66044);function _(m){if(typeof WeakMap!="function")return null;var S=new WeakMap,E=new WeakMap;return(_=function(A){return A?E:S})(m)}function L(m,S){if(!S&&m&&m.__esModule)return m;if(m===null||y(m)!=="object"&&typeof m!="function")return{default:m};var E=_(S);if(E&&E.has(m))return E.get(m);var b={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in m)if(x!=="default"&&Object.prototype.hasOwnProperty.call(m,x)){var D=A?Object.getOwnPropertyDescriptor(m,x):null;D&&(D.get||D.set)?Object.defineProperty(b,x,D):b[x]=m[x]}return b.default=m,E&&E.set(m,b),b}var P=typeof self!="undefined"?self:{};P.onmessage=function(m){var S=m.data,E=S._algorithmType,b=S.data;if(E){if(typeof R[E]=="function"){var A=R[E].apply(R,b);P.postMessage({_algorithmType:w.MESSAGE.SUCCESS,data:A});return}P.postMessage({_algorithmType:w.MESSAGE.FAILURE})}};var p=null;W.default=p},901029:function(Ge,W,C){"use strict";C.r(W),C.d(W,{Kernel:function(){return bt},World:function(){return Nn}});var y=C(115861),R=C(204942),w=C(215671),_=C(143144),L=C(936719),P=C.n(L),p=C(281763),m=C.n(p),S=C(701469),E=C.n(S),b=C(364687),A=C.n(b),x=null,D=1;function k(){return D++}var g=null,f=null,z;(function(rt){rt[rt.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",rt[rt.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",rt[rt.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",rt[rt.POINTS=0]="POINTS",rt[rt.LINES=1]="LINES",rt[rt.LINE_LOOP=2]="LINE_LOOP",rt[rt.LINE_STRIP=3]="LINE_STRIP",rt[rt.TRIANGLES=4]="TRIANGLES",rt[rt.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",rt[rt.TRIANGLE_FAN=6]="TRIANGLE_FAN",rt[rt.ZERO=0]="ZERO",rt[rt.ONE=1]="ONE",rt[rt.SRC_COLOR=768]="SRC_COLOR",rt[rt.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",rt[rt.SRC_ALPHA=770]="SRC_ALPHA",rt[rt.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",rt[rt.DST_ALPHA=772]="DST_ALPHA",rt[rt.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",rt[rt.DST_COLOR=774]="DST_COLOR",rt[rt.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",rt[rt.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",rt[rt.FUNC_ADD=32774]="FUNC_ADD",rt[rt.BLEND_EQUATION=32777]="BLEND_EQUATION",rt[rt.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",rt[rt.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",rt[rt.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",rt[rt.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",rt[rt.MAX_EXT=32776]="MAX_EXT",rt[rt.MIN_EXT=32775]="MIN_EXT",rt[rt.BLEND_DST_RGB=32968]="BLEND_DST_RGB",rt[rt.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",rt[rt.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",rt[rt.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",rt[rt.CONSTANT_COLOR=32769]="CONSTANT_COLOR",rt[rt.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",rt[rt.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",rt[rt.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",rt[rt.BLEND_COLOR=32773]="BLEND_COLOR",rt[rt.ARRAY_BUFFER=34962]="ARRAY_BUFFER",rt[rt.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",rt[rt.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",rt[rt.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",rt[rt.STREAM_DRAW=35040]="STREAM_DRAW",rt[rt.STATIC_DRAW=35044]="STATIC_DRAW",rt[rt.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",rt[rt.BUFFER_SIZE=34660]="BUFFER_SIZE",rt[rt.BUFFER_USAGE=34661]="BUFFER_USAGE",rt[rt.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",rt[rt.FRONT=1028]="FRONT",rt[rt.BACK=1029]="BACK",rt[rt.FRONT_AND_BACK=1032]="FRONT_AND_BACK",rt[rt.CULL_FACE=2884]="CULL_FACE",rt[rt.BLEND=3042]="BLEND",rt[rt.DITHER=3024]="DITHER",rt[rt.STENCIL_TEST=2960]="STENCIL_TEST",rt[rt.DEPTH_TEST=2929]="DEPTH_TEST",rt[rt.SCISSOR_TEST=3089]="SCISSOR_TEST",rt[rt.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",rt[rt.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",rt[rt.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",rt[rt.NO_ERROR=0]="NO_ERROR",rt[rt.INVALID_ENUM=1280]="INVALID_ENUM",rt[rt.INVALID_VALUE=1281]="INVALID_VALUE",rt[rt.INVALID_OPERATION=1282]="INVALID_OPERATION",rt[rt.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",rt[rt.CW=2304]="CW",rt[rt.CCW=2305]="CCW",rt[rt.LINE_WIDTH=2849]="LINE_WIDTH",rt[rt.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",rt[rt.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",rt[rt.CULL_FACE_MODE=2885]="CULL_FACE_MODE",rt[rt.FRONT_FACE=2886]="FRONT_FACE",rt[rt.DEPTH_RANGE=2928]="DEPTH_RANGE",rt[rt.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",rt[rt.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",rt[rt.DEPTH_FUNC=2932]="DEPTH_FUNC",rt[rt.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",rt[rt.STENCIL_FUNC=2962]="STENCIL_FUNC",rt[rt.STENCIL_FAIL=2964]="STENCIL_FAIL",rt[rt.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",rt[rt.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",rt[rt.STENCIL_REF=2967]="STENCIL_REF",rt[rt.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",rt[rt.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",rt[rt.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",rt[rt.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",rt[rt.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",rt[rt.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",rt[rt.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",rt[rt.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",rt[rt.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",rt[rt.VIEWPORT=2978]="VIEWPORT",rt[rt.SCISSOR_BOX=3088]="SCISSOR_BOX",rt[rt.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",rt[rt.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",rt[rt.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",rt[rt.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",rt[rt.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",rt[rt.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",rt[rt.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",rt[rt.RED_BITS=3410]="RED_BITS",rt[rt.GREEN_BITS=3411]="GREEN_BITS",rt[rt.BLUE_BITS=3412]="BLUE_BITS",rt[rt.ALPHA_BITS=3413]="ALPHA_BITS",rt[rt.DEPTH_BITS=3414]="DEPTH_BITS",rt[rt.STENCIL_BITS=3415]="STENCIL_BITS",rt[rt.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",rt[rt.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",rt[rt.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",rt[rt.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",rt[rt.SAMPLES=32937]="SAMPLES",rt[rt.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",rt[rt.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",rt[rt.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",rt[rt.DONT_CARE=4352]="DONT_CARE",rt[rt.FASTEST=4353]="FASTEST",rt[rt.NICEST=4354]="NICEST",rt[rt.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",rt[rt.BYTE=5120]="BYTE",rt[rt.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",rt[rt.SHORT=5122]="SHORT",rt[rt.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",rt[rt.INT=5124]="INT",rt[rt.UNSIGNED_INT=5125]="UNSIGNED_INT",rt[rt.FLOAT=5126]="FLOAT",rt[rt.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",rt[rt.ALPHA=6406]="ALPHA",rt[rt.RGB=6407]="RGB",rt[rt.RGBA=6408]="RGBA",rt[rt.LUMINANCE=6409]="LUMINANCE",rt[rt.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",rt[rt.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",rt[rt.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",rt[rt.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",rt[rt.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",rt[rt.VERTEX_SHADER=35633]="VERTEX_SHADER",rt[rt.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",rt[rt.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",rt[rt.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",rt[rt.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",rt[rt.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",rt[rt.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",rt[rt.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",rt[rt.SHADER_TYPE=35663]="SHADER_TYPE",rt[rt.DELETE_STATUS=35712]="DELETE_STATUS",rt[rt.LINK_STATUS=35714]="LINK_STATUS",rt[rt.VALIDATE_STATUS=35715]="VALIDATE_STATUS",rt[rt.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",rt[rt.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",rt[rt.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",rt[rt.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",rt[rt.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",rt[rt.NEVER=512]="NEVER",rt[rt.LESS=513]="LESS",rt[rt.EQUAL=514]="EQUAL",rt[rt.LEQUAL=515]="LEQUAL",rt[rt.GREATER=516]="GREATER",rt[rt.NOTEQUAL=517]="NOTEQUAL",rt[rt.GEQUAL=518]="GEQUAL",rt[rt.ALWAYS=519]="ALWAYS",rt[rt.KEEP=7680]="KEEP",rt[rt.REPLACE=7681]="REPLACE",rt[rt.INCR=7682]="INCR",rt[rt.DECR=7683]="DECR",rt[rt.INVERT=5386]="INVERT",rt[rt.INCR_WRAP=34055]="INCR_WRAP",rt[rt.DECR_WRAP=34056]="DECR_WRAP",rt[rt.VENDOR=7936]="VENDOR",rt[rt.RENDERER=7937]="RENDERER",rt[rt.VERSION=7938]="VERSION",rt[rt.NEAREST=9728]="NEAREST",rt[rt.LINEAR=9729]="LINEAR",rt[rt.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",rt[rt.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",rt[rt.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",rt[rt.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",rt[rt.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",rt[rt.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",rt[rt.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",rt[rt.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",rt[rt.TEXTURE_2D=3553]="TEXTURE_2D",rt[rt.TEXTURE=5890]="TEXTURE",rt[rt.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",rt[rt.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",rt[rt.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",rt[rt.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",rt[rt.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",rt[rt.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",rt[rt.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",rt[rt.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",rt[rt.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",rt[rt.TEXTURE0=33984]="TEXTURE0",rt[rt.TEXTURE1=33985]="TEXTURE1",rt[rt.TEXTURE2=33986]="TEXTURE2",rt[rt.TEXTURE3=33987]="TEXTURE3",rt[rt.TEXTURE4=33988]="TEXTURE4",rt[rt.TEXTURE5=33989]="TEXTURE5",rt[rt.TEXTURE6=33990]="TEXTURE6",rt[rt.TEXTURE7=33991]="TEXTURE7",rt[rt.TEXTURE8=33992]="TEXTURE8",rt[rt.TEXTURE9=33993]="TEXTURE9",rt[rt.TEXTURE10=33994]="TEXTURE10",rt[rt.TEXTURE11=33995]="TEXTURE11",rt[rt.TEXTURE12=33996]="TEXTURE12",rt[rt.TEXTURE13=33997]="TEXTURE13",rt[rt.TEXTURE14=33998]="TEXTURE14",rt[rt.TEXTURE15=33999]="TEXTURE15",rt[rt.TEXTURE16=34e3]="TEXTURE16",rt[rt.TEXTURE17=34001]="TEXTURE17",rt[rt.TEXTURE18=34002]="TEXTURE18",rt[rt.TEXTURE19=34003]="TEXTURE19",rt[rt.TEXTURE20=34004]="TEXTURE20",rt[rt.TEXTURE21=34005]="TEXTURE21",rt[rt.TEXTURE22=34006]="TEXTURE22",rt[rt.TEXTURE23=34007]="TEXTURE23",rt[rt.TEXTURE24=34008]="TEXTURE24",rt[rt.TEXTURE25=34009]="TEXTURE25",rt[rt.TEXTURE26=34010]="TEXTURE26",rt[rt.TEXTURE27=34011]="TEXTURE27",rt[rt.TEXTURE28=34012]="TEXTURE28",rt[rt.TEXTURE29=34013]="TEXTURE29",rt[rt.TEXTURE30=34014]="TEXTURE30",rt[rt.TEXTURE31=34015]="TEXTURE31",rt[rt.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",rt[rt.REPEAT=10497]="REPEAT",rt[rt.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",rt[rt.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",rt[rt.FLOAT_VEC2=35664]="FLOAT_VEC2",rt[rt.FLOAT_VEC3=35665]="FLOAT_VEC3",rt[rt.FLOAT_VEC4=35666]="FLOAT_VEC4",rt[rt.INT_VEC2=35667]="INT_VEC2",rt[rt.INT_VEC3=35668]="INT_VEC3",rt[rt.INT_VEC4=35669]="INT_VEC4",rt[rt.BOOL=35670]="BOOL",rt[rt.BOOL_VEC2=35671]="BOOL_VEC2",rt[rt.BOOL_VEC3=35672]="BOOL_VEC3",rt[rt.BOOL_VEC4=35673]="BOOL_VEC4",rt[rt.FLOAT_MAT2=35674]="FLOAT_MAT2",rt[rt.FLOAT_MAT3=35675]="FLOAT_MAT3",rt[rt.FLOAT_MAT4=35676]="FLOAT_MAT4",rt[rt.SAMPLER_2D=35678]="SAMPLER_2D",rt[rt.SAMPLER_CUBE=35680]="SAMPLER_CUBE",rt[rt.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",rt[rt.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",rt[rt.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",rt[rt.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",rt[rt.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",rt[rt.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",rt[rt.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",rt[rt.COMPILE_STATUS=35713]="COMPILE_STATUS",rt[rt.LOW_FLOAT=36336]="LOW_FLOAT",rt[rt.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",rt[rt.HIGH_FLOAT=36338]="HIGH_FLOAT",rt[rt.LOW_INT=36339]="LOW_INT",rt[rt.MEDIUM_INT=36340]="MEDIUM_INT",rt[rt.HIGH_INT=36341]="HIGH_INT",rt[rt.FRAMEBUFFER=36160]="FRAMEBUFFER",rt[rt.RENDERBUFFER=36161]="RENDERBUFFER",rt[rt.RGBA4=32854]="RGBA4",rt[rt.RGB5_A1=32855]="RGB5_A1",rt[rt.RGB565=36194]="RGB565",rt[rt.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",rt[rt.STENCIL_INDEX=6401]="STENCIL_INDEX",rt[rt.STENCIL_INDEX8=36168]="STENCIL_INDEX8",rt[rt.DEPTH_STENCIL=34041]="DEPTH_STENCIL",rt[rt.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",rt[rt.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",rt[rt.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",rt[rt.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",rt[rt.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",rt[rt.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",rt[rt.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",rt[rt.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",rt[rt.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",rt[rt.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",rt[rt.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",rt[rt.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",rt[rt.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",rt[rt.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",rt[rt.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",rt[rt.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",rt[rt.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",rt[rt.NONE=0]="NONE",rt[rt.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",rt[rt.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",rt[rt.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",rt[rt.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",rt[rt.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",rt[rt.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",rt[rt.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",rt[rt.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",rt[rt.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",rt[rt.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",rt[rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",rt[rt.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",rt[rt.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",rt[rt.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",rt[rt.COPY_SRC=1]="COPY_SRC",rt[rt.COPY_DST=2]="COPY_DST",rt[rt.SAMPLED=4]="SAMPLED",rt[rt.STORAGE=8]="STORAGE",rt[rt.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(z||(z={}));var Y=function(){function rt(){(0,w.Z)(this,rt),this.config=void 0}return(0,_.Z)(rt,[{key:"get",value:function(){return this.config}},{key:"set",value:function(Xt){this.config=Xt}}]),rt}(),U=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),G;(function(rt){rt.Void="Void",rt.Boolean="Boolean",rt.Float="Float",rt.Uint32="Uint32",rt.Int32="Int32",rt.Vector="Vector",rt.Vector2Float="vec2<f32>",rt.Vector3Float="vec3<f32>",rt.Vector4Float="vec4<f32>",rt.Vector2Boolean="vec2<bool>",rt.Vector3Boolean="vec3<bool>",rt.Vector4Boolean="vec4<bool>",rt.Vector2Uint="vec2<u32>",rt.Vector3Uint="vec3<u32>",rt.Vector4Uint="vec4<u32>",rt.Vector2Int="vec2<i32>",rt.Vector3Int="vec3<i32>",rt.Vector4Int="vec4<i32>",rt.Matrix="Matrix",rt.Matrix3x3Float="mat3x3<f32>",rt.Matrix4x4Float="mat4x4<i32>",rt.Struct="Struct",rt.FloatArray="Float[]",rt.Vector4FloatArray="vec4<f32>[]"})(G||(G={}));var j;(function(rt){rt.Program="Program",rt.Identifier="Identifier",rt.VariableDeclaration="VariableDeclaration",rt.BlockStatement="BlockStatement",rt.ReturnStatement="ReturnStatement",rt.FunctionDeclaration="FunctionDeclaration",rt.VariableDeclarator="VariableDeclarator",rt.AssignmentExpression="AssignmentExpression",rt.LogicalExpression="LogicalExpression",rt.BinaryExpression="BinaryExpression",rt.ArrayExpression="ArrayExpression",rt.UnaryExpression="UnaryExpression",rt.UpdateExpression="UpdateExpression",rt.FunctionExpression="FunctionExpression",rt.MemberExpression="MemberExpression",rt.ConditionalExpression="ConditionalExpression",rt.ExpressionStatement="ExpressionStatement",rt.CallExpression="CallExpression",rt.NumThreadStatement="NumThreadStatement",rt.StorageStatement="StorageStatement",rt.DoWhileStatement="DoWhileStatement",rt.WhileStatement="WhileStatement",rt.ForStatement="ForStatement",rt.BreakStatement="BreakStatement",rt.ContinueStatement="ContinueStatement",rt.IfStatement="IfStatement",rt.ImportedFunctionStatement="ImportedFunctionStatement"})(j||(j={}));var K;(function(rt){rt.Input="Input",rt.Output="Output",rt.Uniform="Uniform",rt.Workgroup="Workgroup",rt.UniformConstant="UniformConstant",rt.Image="Image",rt.StorageBuffer="StorageBuffer",rt.Private="Private",rt.Function="Function"})(K||(K={}));var nt;(function(rt){rt.GLSL100="GLSL100",rt.GLSL450="GLSL450",rt.WGSL="WGSL"})(nt||(nt={}));var q="__DefineValuePlaceholder__";function J(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function ut(rt,Xe){var Xt=Object.keys(rt);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(rt);Xe&&(te=te.filter(function(ot){return Object.getOwnPropertyDescriptor(rt,ot).enumerable})),Xt.push.apply(Xt,te)}return Xt}function st(rt){for(var Xe=1;Xe<arguments.length;Xe++){var Xt=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?ut(Object(Xt),!0).forEach(function(te){(0,R.Z)(rt,te,Xt[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Xt)):ut(Object(Xt)).forEach(function(te){Object.defineProperty(rt,te,Object.getOwnPropertyDescriptor(Xt,te))})}return rt}var bt=function(){function rt(Xe,Xt){(0,w.Z)(this,rt),this.engine=Xe,this.configService=Xt,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,_.Z)(rt,[{key:"init",value:function(){var Xt=this.configService.get(),te=Xt.canvas,ot=Xt.engineOptions;this.initPromise=this.engine.init(st({canvas:te||J(),antialiasing:!1},ot))}},{key:"setBundle",value:function(Xt){this.compiledBundle=JSON.parse(JSON.stringify(Xt))}},{key:"setDispatch",value:function(Xt){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=Xt),this}},{key:"setMaxIteration",value:function(Xt){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=Xt),this}},{key:"setBinding",value:function(Xt,te){var ot=this;if(typeof Xt=="string"){var Ft=m()(te)||P()(te)||E()(te);if(this.compiledBundle&&this.compiledBundle.context){var ft=this.compiledBundle.context.defines.find(function(re){return re.name===Xt});if(ft)return ft.value=te,this;var Ut=this.compiledBundle.context.uniforms.find(function(re){return re.name===Xt});Ut&&(Ft?(Ut.data=te,Ut.isReferer=!1,Ut.storageClass===K.Uniform?this.model&&this.model.updateUniform(Xt,te):this.model&&this.model.updateBuffer(Xt,te)):(Ut.isReferer=!0,Ut.data=te))}}else Object.keys(Xt).forEach(function(re){ot.setBinding(re,Xt[re])});return this}},{key:"execute",value:function(){var Xe=(0,y.Z)(A().mark(function te(){var ot=this,Ft,ft,Ut=arguments;return A().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(Ft=Ut.length>0&&Ut[0]!==void 0?Ut[0]:1,!this.dirty){ae.next=6;break}return this.compiledBundle.context&&(Ft>1?this.compiledBundle.context.maxIteration=Ft:this.compiledBundle.context.maxIteration++),ae.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(at){var ct=at.isReferer;return ct}).forEach(function(at){var ct=at.data,F=at.name;ot.model.confirmInput(ct.model,F)}),ft=0;ft<Ft;ft++)this.model.run();return this.engine.endFrame(),ae.abrupt("return",this);case 12:case"end":return ae.stop()}},te,this)}));function Xt(){return Xe.apply(this,arguments)}return Xt}()},{key:"getOutput",value:function(){var Xe=(0,y.Z)(A().mark(function te(){return A().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:return Ft.abrupt("return",this.model.readData());case 1:case"end":return Ft.stop()}},te,this)}));function Xt(){return Xe.apply(this,arguments)}return Xt}()},{key:"compile",value:function(){var Xe=(0,y.Z)(A().mark(function te(){var ot,Ft,ft;return A().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,this.initPromise;case 2:return ot=st({},this.compiledBundle.context),Ft=this.engine.supportWebGPU?this.engine.useWGSL?nt.WGSL:nt.GLSL450:nt.GLSL100,ft=this.compiledBundle.shaders[Ft],ot.defines.filter(function(ae){return ae.runtime}).forEach(function(ae){var at="".concat(q).concat(ae.name);ft=ft.replace(at,"".concat(ae.value))}),ot.shader=ft,ot.uniforms.forEach(function(ae){if(!ae.data&&ae.storageClass===K.StorageBuffer){var at=1;ae.type===G.FloatArray?at=1:ae.type===G.Vector4FloatArray&&(at=4),ae.data=new Float32Array(ot.output.length*at).fill(0)}}),this.compiledBundle.context=ot,re.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=re.sent;case 12:case"end":return re.stop()}},te,this)}));function Xt(){return Xe.apply(this,arguments)}return Xt}()}]),rt}(),ht=C(481550),kt=C.n(ht),Mt=function(){function rt(Xe,Xt){(0,w.Z)(this,rt),this.attribute=void 0,this.buffer=void 0;var te=Xt.buffer,ot=Xt.offset,Ft=Xt.stride,ft=Xt.normalized,Ut=Xt.size,re=Xt.divisor;this.buffer=te,this.attribute={buffer:te.get(),offset:ot||0,stride:Ft||0,normalized:ft||!1,divisor:re||0},Ut&&(this.attribute.size=Ut)}return(0,_.Z)(rt,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(Xt){this.buffer.subData(Xt)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),rt}(),St,V,Q,xt,Ct,et,vt,Tt,Ot,Et,Dt,Vt,ue,ee,It=(St={},(0,R.Z)(St,z.POINTS,"points"),(0,R.Z)(St,z.LINES,"lines"),(0,R.Z)(St,z.LINE_LOOP,"line loop"),(0,R.Z)(St,z.LINE_STRIP,"line strip"),(0,R.Z)(St,z.TRIANGLES,"triangles"),(0,R.Z)(St,z.TRIANGLE_FAN,"triangle fan"),(0,R.Z)(St,z.TRIANGLE_STRIP,"triangle strip"),St),ne=(V={},(0,R.Z)(V,z.STATIC_DRAW,"static"),(0,R.Z)(V,z.DYNAMIC_DRAW,"dynamic"),(0,R.Z)(V,z.STREAM_DRAW,"stream"),V),pe=(Q={},(0,R.Z)(Q,z.BYTE,"int8"),(0,R.Z)(Q,z.UNSIGNED_INT,"int16"),(0,R.Z)(Q,z.INT,"int32"),(0,R.Z)(Q,z.UNSIGNED_BYTE,"uint8"),(0,R.Z)(Q,z.UNSIGNED_SHORT,"uint16"),(0,R.Z)(Q,z.UNSIGNED_INT,"uint32"),(0,R.Z)(Q,z.FLOAT,"float"),Q),Gt=(xt={},(0,R.Z)(xt,z.ALPHA,"alpha"),(0,R.Z)(xt,z.LUMINANCE,"luminance"),(0,R.Z)(xt,z.LUMINANCE_ALPHA,"luminance alpha"),(0,R.Z)(xt,z.RGB,"rgb"),(0,R.Z)(xt,z.RGBA,"rgba"),(0,R.Z)(xt,z.RGBA4,"rgba4"),(0,R.Z)(xt,z.RGB5_A1,"rgb5 a1"),(0,R.Z)(xt,z.RGB565,"rgb565"),(0,R.Z)(xt,z.DEPTH_COMPONENT,"depth"),(0,R.Z)(xt,z.DEPTH_STENCIL,"depth stencil"),xt),qt=(Ct={},(0,R.Z)(Ct,z.DONT_CARE,"dont care"),(0,R.Z)(Ct,z.NICEST,"nice"),(0,R.Z)(Ct,z.FASTEST,"fast"),Ct),$t=(et={},(0,R.Z)(et,z.NEAREST,"nearest"),(0,R.Z)(et,z.LINEAR,"linear"),(0,R.Z)(et,z.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,R.Z)(et,z.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,R.Z)(et,z.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,R.Z)(et,z.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),et),Zt=(vt={},(0,R.Z)(vt,z.REPEAT,"repeat"),(0,R.Z)(vt,z.CLAMP_TO_EDGE,"clamp"),(0,R.Z)(vt,z.MIRRORED_REPEAT,"mirror"),vt),se=(Tt={},(0,R.Z)(Tt,z.NONE,"none"),(0,R.Z)(Tt,z.BROWSER_DEFAULT_WEBGL,"browser"),Tt),Se=(Ot={},(0,R.Z)(Ot,z.NEVER,"never"),(0,R.Z)(Ot,z.ALWAYS,"always"),(0,R.Z)(Ot,z.LESS,"less"),(0,R.Z)(Ot,z.LEQUAL,"lequal"),(0,R.Z)(Ot,z.GREATER,"greater"),(0,R.Z)(Ot,z.GEQUAL,"gequal"),(0,R.Z)(Ot,z.EQUAL,"equal"),(0,R.Z)(Ot,z.NOTEQUAL,"notequal"),Ot),Pt=(Et={},(0,R.Z)(Et,z.FUNC_ADD,"add"),(0,R.Z)(Et,z.MIN_EXT,"min"),(0,R.Z)(Et,z.MAX_EXT,"max"),(0,R.Z)(Et,z.FUNC_SUBTRACT,"subtract"),(0,R.Z)(Et,z.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Et),Fe=(Dt={},(0,R.Z)(Dt,z.ZERO,"zero"),(0,R.Z)(Dt,z.ONE,"one"),(0,R.Z)(Dt,z.SRC_COLOR,"src color"),(0,R.Z)(Dt,z.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,R.Z)(Dt,z.SRC_ALPHA,"src alpha"),(0,R.Z)(Dt,z.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,R.Z)(Dt,z.DST_COLOR,"dst color"),(0,R.Z)(Dt,z.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,R.Z)(Dt,z.DST_ALPHA,"dst alpha"),(0,R.Z)(Dt,z.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,R.Z)(Dt,z.CONSTANT_COLOR,"constant color"),(0,R.Z)(Dt,z.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,R.Z)(Dt,z.CONSTANT_ALPHA,"constant alpha"),(0,R.Z)(Dt,z.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,R.Z)(Dt,z.SRC_ALPHA_SATURATE,"src alpha saturate"),Dt),vr=(Vt={},(0,R.Z)(Vt,z.NEVER,"never"),(0,R.Z)(Vt,z.ALWAYS,"always"),(0,R.Z)(Vt,z.LESS,"less"),(0,R.Z)(Vt,z.LEQUAL,"lequal"),(0,R.Z)(Vt,z.GREATER,"greater"),(0,R.Z)(Vt,z.GEQUAL,"gequal"),(0,R.Z)(Vt,z.EQUAL,"equal"),(0,R.Z)(Vt,z.NOTEQUAL,"notequal"),Vt),Cr=(ue={},(0,R.Z)(ue,z.ZERO,"zero"),(0,R.Z)(ue,z.KEEP,"keep"),(0,R.Z)(ue,z.REPLACE,"replace"),(0,R.Z)(ue,z.INVERT,"invert"),(0,R.Z)(ue,z.INCR,"increment"),(0,R.Z)(ue,z.DECR,"decrement"),(0,R.Z)(ue,z.INCR_WRAP,"increment wrap"),(0,R.Z)(ue,z.DECR_WRAP,"decrement wrap"),ue),_r=(ee={},(0,R.Z)(ee,z.FRONT,"front"),(0,R.Z)(ee,z.BACK,"back"),ee),Ur=function(){function rt(Xe,Xt){(0,w.Z)(this,rt),this.buffer=void 0;var te=Xt.data,ot=Xt.usage,Ft=Xt.type;this.buffer=Xe.buffer({data:te,usage:ne[ot||z.STATIC_DRAW],type:pe[Ft||z.UNSIGNED_BYTE]})}return(0,_.Z)(rt,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(Xt){var te=Xt.data,ot=Xt.offset;this.buffer.subdata(te,ot)}}]),rt}(),nn=C(974902);function on(rt,Xe){var Xt=Object.keys(rt);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(rt);Xe&&(te=te.filter(function(ot){return Object.getOwnPropertyDescriptor(rt,ot).enumerable})),Xt.push.apply(Xt,te)}return Xt}function tr(rt){for(var Xe=1;Xe<arguments.length;Xe++){var Xt=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?on(Object(Xt),!0).forEach(function(te){(0,R.Z)(rt,te,Xt[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Xt)):on(Object(Xt)).forEach(function(te){Object.defineProperty(rt,te,Object.getOwnPropertyDescriptor(Xt,te))})}return rt}var Rr=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,qr=0,br=!1,zr=function(){function rt(Xe,Xt){var te=this;(0,w.Z)(this,rt),this.reGl=Xe,this.context=Xt,this.entity=k(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var ot={};this.context.uniforms.forEach(function(ae){var at=ae.name,ct=ae.type,F=ae.data,M=ae.isReferer,O=ae.storageClass;if(O===K.StorageBuffer){if(M)te.textureCache[at]={data:void 0},ot["".concat(at,"Size")]=function(){return F.compiledBundle.context.output.textureSize};else{te.textureCache[at]=te.calcDataTexture(at,ct,F);var $=te.textureCache[at],mt=$.textureWidth,zt=$.isOutput;ot["".concat(at,"Size")]=[mt,mt],zt&&(te.outputTextureName=at,te.context.needPingpong&&(te.outputTextureName="".concat(at,"Output"),te.textureCache[te.outputTextureName]=te.calcDataTexture(at,ct,F)))}ot[at]=function(){return br&&console.log("[".concat(te.entity,"]: ").concat(at," ").concat(te.textureCache[at].id)),te.textureCache[at].texture}}else if(O===K.Uniform){if(F&&(Array.isArray(F)||P()(F))&&F.length>16)throw new Error("invalid data type ".concat(ct));ot[at]=function(){return ae.data}}});var Ft=this.getOuputDataTexture(),ft=Ft.textureWidth,Ut=Ft.texelCount;ot.u_OutputTextureSize=[ft,ft],ot.u_OutputTexelCount=Ut,this.context.output.textureSize=[ft,ft];var re={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:ot,vert:Rr,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(re)}return(0,_.Z)(rt,[{key:"run",value:function(){var Xt=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){Xt.computeCommand()}),br&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var Xe=(0,y.Z)(A().mark(function te(){var ot=this,Ft,ft,Ut,re,ae,at,ct,F;return A().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){Ft=ot.reGl.read()}),!Ft){O.next=6;break}if(ft=this.getOuputDataTexture(),Ut=ft.originalDataLength,re=ft.elementsPerTexel,ae=ft.typedArrayConstructor,at=ae===void 0?Float32Array:ae,ct=[],re!==4)for(F=0;F<Ft.length;F+=4)re===1?ct.push(Ft[F]):re===2?ct.push(Ft[F],Ft[F+1]):ct.push(Ft[F],Ft[F+1],Ft[F+2]);else ct=Ft;return O.abrupt("return",new at(ct.slice(0,Ut)));case 6:return O.abrupt("return",new Float32Array);case 7:case"end":return O.stop()}},te,this)}));function Xt(){return Xe.apply(this,arguments)}return Xt}()},{key:"confirmInput",value:function(Xt,te){var ot;this.entity===Xt.entity?(this.dynamicPingpong=!0,ot=this):ot=Xt,this.textureCache[te].id=ot.getOuputDataTexture().id,this.textureCache[te].texture=ot.getOuputDataTexture().texture,br&&console.log("[".concat(this.entity,"]: confirm input ").concat(te," from model ").concat(ot.entity,", ").concat(ot.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(Xt,te){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ft=this.context.uniforms.find(function(ae){var at=ae.name;return at===Xt});if(Ft){var ft=this.calcDataTexture(Xt,Ft.type,te),Ut=ft.texture,re=ft.data;this.textureCache[Xt].data=re,this.textureCache[Xt].texture=Ut}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var Xt=this.context.output.name;this.textureCache[Xt].id=this.getOuputDataTexture().id,this.textureCache[Xt].texture=this.getOuputDataTexture().texture}var te=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=te,br&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var Xt=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=Xt}},{key:"cloneDataTexture",value:function(Xt){var te=Xt.data,ot=Xt.textureWidth;return tr(tr({},Xt),{},{id:qr++,texture:this.reGl.texture({width:ot,height:ot,data:te,type:"float"})})}},{key:"calcDataTexture",value:function(Xt,te,ot){var Ft=1;te===G.Vector4FloatArray&&(Ft=4);for(var ft=[],Ut=0;Ut<ot.length;Ut+=Ft)Ft===1?ft.push(ot[Ut],0,0,0):Ft===2?ft.push(ot[Ut],ot[Ut+1],0,0):Ft===3?ft.push(ot[Ut],ot[Ut+1],ot[Ut+2],0):Ft===4&&ft.push(ot[Ut],ot[Ut+1],ot[Ut+2],ot[Ut+3]);var re=ot.length,ae=Math.ceil(re/Ft),at=Math.ceil(Math.sqrt(ae)),ct=at*at;ae<ct&&ft.push.apply(ft,(0,nn.Z)(new Array((ct-ae)*4).fill(0)));var F=this.reGl.texture({width:at,height:at,data:ft,type:"float"});return{id:qr++,data:ft,originalDataLength:re,typedArrayConstructor:P()(ot)?ot.constructor:void 0,textureWidth:at,texture:F,texelCount:ae,elementsPerTexel:Ft,isOutput:Xt===this.context.output.name}}}]),rt}(),Ir=function(){function rt(Xe,Xt){(0,w.Z)(this,rt),this.elements=void 0;var te=Xt.data,ot=Xt.usage,Ft=Xt.type,ft=Xt.count;this.elements=Xe.elements({data:te,usage:ne[ot||z.STATIC_DRAW],type:pe[Ft||z.UNSIGNED_BYTE],count:ft})}return(0,_.Z)(rt,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(Xt){var te=Xt.data;this.elements.subdata(te)}},{key:"destroy",value:function(){this.elements.destroy()}}]),rt}(),je=function(){function rt(Xe,Xt){(0,w.Z)(this,rt),this.framebuffer=void 0;var te=Xt.width,ot=Xt.height,Ft=Xt.color,ft=Xt.colors,Ut=Xt.depth,re=Xt.stencil,ae={width:te,height:ot};Array.isArray(ft)&&(ae.colors=ft.map(function(at){return at.get()})),Ft&&typeof Ft!="boolean"&&(ae.color=Ft.get()),this.framebuffer=Xe.framebuffer(ae)}return(0,_.Z)(rt,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(Xt){var te=Xt.width,ot=Xt.height;this.framebuffer.resize(te,ot)}}]),rt}(),qe=C(671002),xn=C(968630),rr=C.n(xn);function jr(rt){var Xe={};return Object.keys(rt).forEach(function(Xt){Nr(Xt,rt[Xt],Xe,"")}),Xe}function Nr(rt,Xe,Xt,te){if(Xe===null||typeof Xe=="number"||typeof Xe=="boolean"||Array.isArray(Xe)&&typeof Xe[0]=="number"||P()(Xe)||Xe===""||Xe.resize!==void 0){Xt["".concat(te&&te+".").concat(rt)]=Xe;return}rr()(Xe)&&Object.keys(Xe).forEach(function(ot){Nr(ot,Xe[ot],Xt,"".concat(te&&te+".").concat(rt))}),Array.isArray(Xe)&&Xe.forEach(function(ot,Ft){Object.keys(ot).forEach(function(ft){Nr(ft,ot[ft],Xt,"".concat(te&&te+".").concat(rt,"[").concat(Ft,"]"))})})}function kn(rt,Xe){var Xt=Object.keys(rt);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(rt);Xe&&(te=te.filter(function(ot){return Object.getOwnPropertyDescriptor(rt,ot).enumerable})),Xt.push.apply(Xt,te)}return Xt}function an(rt){for(var Xe=1;Xe<arguments.length;Xe++){var Xt=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?kn(Object(Xt),!0).forEach(function(te){(0,R.Z)(rt,te,Xt[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Xt)):kn(Object(Xt)).forEach(function(te){Object.defineProperty(rt,te,Object.getOwnPropertyDescriptor(Xt,te))})}return rt}var dn=function(){function rt(Xe,Xt){(0,w.Z)(this,rt),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=Xe;var te=Xt.vs,ot=Xt.fs,Ft=Xt.defines,ft=Xt.attributes,Ut=Xt.uniforms,re=Xt.primitive,ae=Xt.count,at=Xt.elements,ct=Xt.depth,F=Xt.blend,M=Xt.stencil,O=Xt.cull,$=Xt.instances,mt=Xt.scissor,zt=Xt.viewport,Rt={};Ut&&(this.uniforms=jr(Ut),Object.keys(Ut).forEach(function(We){Rt[We]=Xe.prop(We)}));var Kt={};Object.keys(ft).forEach(function(We){Kt[We]=ft[We].get()});var Te=Ft&&this.generateDefines(Ft)||"",be={attributes:Kt,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(Te,`
`).concat(ot),uniforms:Rt,vert:`
`.concat(Te,`
`).concat(te),primitive:It[re===void 0?z.TRIANGLES:re]};$&&(be.instances=$),ae&&(be.count=ae),at&&(be.elements=at.get()),mt&&(be.scissor=mt),zt&&(be.viewport=zt),this.initDepthDrawParams({depth:ct},be),this.initBlendDrawParams({blend:F},be),this.initStencilDrawParams({stencil:M},be),this.initCullDrawParams({cull:O},be),this.drawCommand=Xe(be)}return(0,_.Z)(rt,[{key:"addUniforms",value:function(Xt){this.uniforms=an(an({},this.uniforms),jr(Xt))}},{key:"draw",value:function(Xt){var te=an(an({},this.uniforms),jr(Xt.uniforms||{})),ot={};Object.keys(te).forEach(function(Ft){var ft=(0,qe.Z)(te[Ft]);ft==="boolean"||ft==="number"||Array.isArray(te[Ft])||te[Ft].BYTES_PER_ELEMENT?ot[Ft]=te[Ft]:ft==="string"||(ot[Ft]=te[Ft].get())}),this.drawCommand(ot)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(Xt,te){var ot=Xt.depth;ot&&(te.depth={enable:ot.enable===void 0?!0:!!ot.enable,mask:ot.mask===void 0?!0:!!ot.mask,func:Se[ot.func||z.LESS],range:ot.range||[0,1]})}},{key:"initBlendDrawParams",value:function(Xt,te){var ot=Xt.blend;if(ot){var Ft=ot.enable,ft=ot.func,Ut=ot.equation,re=ot.color,ae=re===void 0?[0,0,0,0]:re;te.blend={enable:!!Ft,func:{srcRGB:Fe[ft&&ft.srcRGB||z.SRC_ALPHA],srcAlpha:Fe[ft&&ft.srcAlpha||z.SRC_ALPHA],dstRGB:Fe[ft&&ft.dstRGB||z.ONE_MINUS_SRC_ALPHA],dstAlpha:Fe[ft&&ft.dstAlpha||z.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Pt[Ut&&Ut.rgb||z.FUNC_ADD],alpha:Pt[Ut&&Ut.alpha||z.FUNC_ADD]},color:ae}}}},{key:"initStencilDrawParams",value:function(Xt,te){var ot=Xt.stencil;if(ot){var Ft=ot.enable,ft=ot.mask,Ut=ft===void 0?-1:ft,re=ot.func,ae=re===void 0?{cmp:z.ALWAYS,ref:0,mask:-1}:re,at=ot.opFront,ct=at===void 0?{fail:z.KEEP,zfail:z.KEEP,zpass:z.KEEP}:at,F=ot.opBack,M=F===void 0?{fail:z.KEEP,zfail:z.KEEP,zpass:z.KEEP}:F;te.stencil={enable:!!Ft,mask:Ut,func:an(an({},ae),{},{cmp:vr[ae.cmp]}),opFront:{fail:Cr[ct.fail],zfail:Cr[ct.zfail],zpass:Cr[ct.zpass]},opBack:{fail:Cr[M.fail],zfail:Cr[M.zfail],zpass:Cr[M.zpass]}}}}},{key:"initCullDrawParams",value:function(Xt,te){var ot=Xt.cull;if(ot){var Ft=ot.enable,ft=ot.face,Ut=ft===void 0?z.BACK:ft;te.cull={enable:!!Ft,face:_r[Ut]}}}},{key:"generateDefines",value:function(Xt){return Object.keys(Xt).map(function(te){return"#define ".concat(te," ").concat(Number(Xt[te]))}).join(`
`)}}]),rt}(),Sn=function(){function rt(Xe,Xt){(0,w.Z)(this,rt),this.texture=void 0,this.width=void 0,this.height=void 0;var te=Xt.data,ot=Xt.type,Ft=ot===void 0?z.UNSIGNED_BYTE:ot,ft=Xt.width,Ut=Xt.height,re=Xt.flipY,ae=re===void 0?!1:re,at=Xt.format,ct=at===void 0?z.RGBA:at,F=Xt.mipmap,M=F===void 0?!1:F,O=Xt.wrapS,$=O===void 0?z.CLAMP_TO_EDGE:O,mt=Xt.wrapT,zt=mt===void 0?z.CLAMP_TO_EDGE:mt,Rt=Xt.aniso,Kt=Rt===void 0?0:Rt,Te=Xt.alignment,be=Te===void 0?1:Te,We=Xt.premultiplyAlpha,fr=We===void 0?!1:We,He=Xt.mag,Pr=He===void 0?z.NEAREST:He,un=Xt.min,Ue=un===void 0?z.NEAREST:un,ur=Xt.colorSpace,Lr=ur===void 0?z.BROWSER_DEFAULT_WEBGL:ur;this.width=ft,this.height=Ut;var Or={width:ft,height:Ut,type:pe[Ft],format:Gt[ct],wrapS:Zt[$],wrapT:Zt[zt],mag:$t[Pr],min:$t[Ue],alignment:be,flipY:ae,colorSpace:se[Lr],premultiplyAlpha:fr,aniso:Kt};te&&(Or.data=te),typeof M=="number"?Or.mipmap=qt[M]:typeof M=="boolean"&&(Or.mipmap=M),this.texture=Xe.texture(Or)}return(0,_.Z)(rt,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(Xt){var te=Xt.width,ot=Xt.height;this.texture.resize(te,ot),this.width=te,this.height=ot}},{key:"destroy",value:function(){this.texture.destroy()}}]),rt}(),Dn=function(){function rt(){var Xe=this;(0,w.Z)(this,rt),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var Xt=(0,y.Z)(A().mark(function te(ot){return A().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(!ot.uniforms){ft.next=3;break}return ft.next=3,Promise.all(Object.keys(ot.uniforms).map(function(){var Ut=(0,y.Z)(A().mark(function re(ae){var at;return A().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!(ot.uniforms[ae]&&ot.uniforms[ae].load!==void 0)){F.next=5;break}return F.next=3,ot.uniforms[ae].load();case 3:at=F.sent,ot.uniforms[ae]=at;case 5:case"end":return F.stop()}},re)}));return function(re){return Ut.apply(this,arguments)}}()));case 3:return ft.abrupt("return",new dn(Xe.gl,ot));case 4:case"end":return ft.stop()}},te)}));return function(te){return Xt.apply(this,arguments)}}(),this.createAttribute=function(Xt){return new Mt(Xe.gl,Xt)},this.createBuffer=function(Xt){return new Ur(Xe.gl,Xt)},this.createElements=function(Xt){return new Ir(Xe.gl,Xt)},this.createTexture2D=function(Xt){return new Sn(Xe.gl,Xt)},this.createFramebuffer=function(Xt){return new je(Xe.gl,Xt)},this.useFramebuffer=function(Xt,te){Xe.gl({framebuffer:Xt?Xt.get():null})(te)},this.createComputeModel=function(){var Xt=(0,y.Z)(A().mark(function te(ot){return A().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ft.abrupt("return",new zr(Xe.gl,ot));case 1:case"end":return ft.stop()}},te)}));return function(te){return Xt.apply(this,arguments)}}(),this.clear=function(Xt){var te=Xt.color,ot=Xt.depth,Ft=Xt.stencil,ft=Xt.framebuffer,Ut=ft===void 0?null:ft,re={color:te,depth:ot,stencil:Ft};re.framebuffer=Ut===null?Ut:Ut.get(),Xe.gl.clear(re)},this.setScissor=function(Xt){Xe.gl&&Xe.gl._gl&&(Xt.enable&&Xt.box?(Xe.gl._gl.enable(z.SCISSOR_TEST),Xe.gl._gl.scissor(Xt.box.x,Xt.box.y,Xt.box.width,Xt.box.height)):Xe.gl._gl.disable(z.SCISSOR_TEST),Xe.gl._refresh())},this.viewport=function(Xt){var te=Xt.x,ot=Xt.y,Ft=Xt.width,ft=Xt.height;Xe.gl&&Xe.gl._gl&&(Xe.gl._gl.viewport(te,ot,Ft,ft),Xe.gl._refresh())},this.readPixels=function(Xt){var te=Xt.framebuffer,ot=Xt.x,Ft=Xt.y,ft=Xt.width,Ut=Xt.height,re={x:ot,y:Ft,width:ft,height:Ut};return te&&(re.framebuffer=te.get()),Xe.gl.read(re)},this.getCanvas=function(){return Xe.$canvas},this.getGLContext=function(){return Xe.gl._gl},this.destroy=function(){Xe.gl&&(Xe.gl.destroy(),Xe.inited=!1)}}return(0,_.Z)(rt,[{key:"init",value:function(){var Xe=(0,y.Z)(A().mark(function te(ot){return A().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(!this.inited){ft.next=2;break}return ft.abrupt("return");case 2:return this.$canvas=ot.canvas,ft.next=5,new Promise(function(Ut,re){kt()({canvas:ot.canvas,attributes:{alpha:!0,antialias:ot.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(at,ct){(at||!ct)&&re(at),Ut(ct)}})});case 5:this.gl=ft.sent,this.inited=!0;case 7:case"end":return ft.stop()}},te,this)}));function Xt(te){return Xe.apply(this,arguments)}return Xt}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),rt}(),Nn=function(){function rt(){(0,w.Z)(this,rt),this.engine=void 0,this.configService=new Y}return(0,_.Z)(rt,[{key:"setConfig",value:function(Xt){this.configService.set(Xt)}},{key:"setEngine",value:function(Xt){this.engine=Xt}},{key:"createEntity",value:function(){return k()}},{key:"createKernel",value:function(Xt){var te=new bt(this.engine,this.configService);return typeof Xt=="string"?te.setBundle(JSON.parse(Xt)):te.setBundle(Xt),te.init(),te}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=new rt;return te.setConfig(Xt),te.setEngine(new Dn),te}}]),rt}()},909676:function(Ge,W,C){"use strict";C.d(W,{ZP:function(){return xS}});var y={};C.r(y),C.d(y,{GADDI:function(){return oi},Stack:function(){return Gi},breadthFirstSearch:function(){return ne},connectedComponent:function(){return qt},cosineSimilarity:function(){return Rt},default:function(){return si},depthFirstSearch:function(){return vr},detectAllCycles:function(){return nn},detectAllDirectedCycle:function(){return Ur},detectAllUndirectedCycle:function(){return _r},detectCycle:function(){return on},detectDirectedCycle:function(){return Zo},dijkstra:function(){return qr},findAllPath:function(){return Ir},findShortestPath:function(){return zr},floydWarshall:function(){return qe},getAdjMatrix:function(){return Q},getDegree:function(){return Zt},getInDegree:function(){return se},getNeighbors:function(){return Et},getOutDegree:function(){return Se},iLouvain:function(){return ct},kCore:function(){return M},kMeans:function(){return mt},labelPropagation:function(){return rr},louvain:function(){return ae},minimumSpanningTree:function(){return Lr},nodesCosineSimilarity:function(){return Te},pageRank:function(){return ce}});var R={};C.r(R),C.d(R,{Line:function(){return va},applyMatrix:function(){return Kr},compare:function(){return fe},distance:function(){return Zn},floydWarshall:function(){return na},fractionToLine:function(){return ki},getAdjMatrix:function(){return aa},getBBoxBoundLine:function(){return fi},getCircleCenterByPoints:function(){return Mn},getCircleIntersectByPoint:function(){return Sr},getDegree:function(){return Pa},getEllipseIntersectByPoint:function(){return xr},getLineIntersect:function(){return ar},getPointsCenter:function(){return Oi},getRectIntersectByPoint:function(){return Tr},intersectBBox:function(){return qa},invertMatrix:function(){return cn},isPointInPolygon:function(){return ui},isPointsOverlap:function(){return Ao},isPolygonsIntersect:function(){return Ca},itemIntersectByLine:function(){return di},lerp:function(){return pi},lerpArray:function(){return Bi},move:function(){return ua},pointLineDistance:function(){return ka},pointLineSquareDist:function(){return To},pointRectSquareDist:function(){return Ni},rotate:function(){return Ga},scale:function(){return $n},scaleMatrix:function(){return Un},squareDist:function(){return Ui},translate:function(){return Ya}});var w={};C.r(w),C.d(w,{cloneBesidesImg:function(){return Ko},getAnimateCfgWithCallback:function(){return is},getBBox:function(){return Da},getComboBBox:function(){return ws},getLabelPosition:function(){return to},getLetterWidth:function(){return Wo},getLoopCfgs:function(){return hi},getTextSize:function(){return hs},plainCombosToTrees:function(){return Es},reconstructTree:function(){return As},shouldRefreshEdge:function(){return nu},traverseTree:function(){return Ii},traverseTreeUp:function(){return eo},truncateLabelByLength:function(){return qo}});var _={};C.r(_),C.d(_,{catmullRomToBezier:function(){return X},fillPath:function(){return $i},fillPathByDiff:function(){return Xa},formatPath:function(){return ps},intersection:function(){return ma},parsePathArray:function(){return Ye},parsePathString:function(){return h},pathToAbsolute:function(){return Bt},pathToCurve:function(){return _e},rectPath:function(){return Pn}});var L={};C.r(L),C.d(L,{easeBack:function(){return pl},easeBackIn:function(){return tc},easeBackInOut:function(){return pl},easeBackOut:function(){return ec},easeBounce:function(){return Ru},easeBounceIn:function(){return Bf},easeBounceInOut:function(){return Xc},easeBounceOut:function(){return Ru},easeCircle:function(){return Yc},easeCircleIn:function(){return Df},easeCircleInOut:function(){return Yc},easeCircleOut:function(){return hu},easeCubic:function(){return js},easeCubicIn:function(){return Pu},easeCubicInOut:function(){return js},easeCubicOut:function(){return du},easeElastic:function(){return rc},easeElasticIn:function(){return gl},easeElasticInOut:function(){return nc},easeElasticOut:function(){return rc},easeExp:function(){return ql},easeExpIn:function(){return Ql},easeExpInOut:function(){return ql},easeExpOut:function(){return Wc},easeLinear:function(){return Ms},easePoly:function(){return Lu},easePolyIn:function(){return Vl},easePolyInOut:function(){return Lu},easePolyOut:function(){return Hl},easeQuad:function(){return Ps},easeQuadIn:function(){return Du},easeQuadInOut:function(){return Ps},easeQuadOut:function(){return fu},easeSin:function(){return $l},easeSinIn:function(){return Nu},easeSinInOut:function(){return $l},easeSinOut:function(){return us}});var P={};C.r(P),C.d(P,{calculationItemsBBox:function(){return Av},cloneEvent:function(){return R0},formatPadding:function(){return Th},isNaN:function(){return Xu},isViewportChanged:function(){return k0},processParallelEdges:function(){return B0},uniqueId:function(){return Kf}});var p={};C.r(p),C.d(p,{getClosedSpline:function(){return kh},getControlPoint:function(){return Vd},getSpline:function(){return jv},getStarPath:function(){return nm},paddedHull:function(){return Kv},pathToPoints:function(){return Rh},pointsToPolygon:function(){return rm},roundedHull:function(){return Bh}});var m={};C.r(m),C.d(m,{defaultSubjectColors:function(){return Mm}});var S={};C.r(S),C.d(S,{isForce:function(){return op}});var E={};C.r(E),C.d(E,{Base:function(){return mu},Circle:function(){return Km},Ellipse:function(){return Qm},Image:function(){return Jm},Line:function(){return ey},Marker:function(){return ay},Path:function(){return $h},Polygon:function(){return hy},Polyline:function(){return py},Rect:function(){return by},Text:function(){return Ey}});var b={};C.r(b),C.d(b,{Base:function(){return Qs},Circle:function(){return Oy},Dom:function(){return Dy},Ellipse:function(){return Ly},Image:function(){return Ry},Line:function(){return By},Marker:function(){return zy},Path:function(){return Uy},Polygon:function(){return Yy},Polyline:function(){return jy},Rect:function(){return $y},Text:function(){return e1}});var A={};C.r(A),C.d(A,{getColorSetsBySubjectColors:function(){return O1},getColorsWithSubjectColor:function(){return tv},mixColor:function(){return $o}});var x={};C.r(x),C.d(x,{arrayToTextureData:function(){return W1},attributesToTextureData:function(){return U1},buildTextureData:function(){return F1},buildTextureDataWithOneEdgeAttr:function(){return z1},buildTextureDataWithTwoEdgeAttr:function(){return G1},proccessToFunc:function(){return B1},radialLayout:function(){return Y1}});var D={};C.r(D),C.d(D,{gpuDetector:function(){return Kp}});var k={};C.r(k),C.d(k,{assign:function(){return pc},default:function(){return Mg},defaultI18n:function(){return uv},format:function(){return wg},parse:function(){return Sg},setGlobalDateI18n:function(){return vg},setGlobalDateMasks:function(){return Eg}});var g=C(570655),f=C(413810),z={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,r=this.events;this.graph=e,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!0),(0,f.each)(r,function(n,a){e.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events,r=e.get("canvas").get("draggable");(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!1),(0,f.each)(t,function(n,a){e.off(a,n)}),e.get("canvas").set("draggable",r)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},Y=function(){function i(){}return i.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: ".concat(e));var r=(0,f.clone)(z);Object.assign(r,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var u=this.getEvents();this.events=null;var l={};u&&((0,f.each)(u,function(c,d){l[d]=(0,f.wrapBehavior)(s,c)}),this.events=l)};n.prototype=r,i.types[e]=n},i.hasBehavior=function(e){return!!i.types[e]},i.getBehavior=function(e){return i.types[e]},i.types={},i}(),U=Y,G=U,j="*",K=function(){function i(){this._events={}}return i.prototype.on=function(e,t,r){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!r}),this},i.prototype.once=function(e,t){return this.on(e,t,!0)},i.prototype.emit=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=this._events[e]||[],o=this._events[j]||[],s=function(u){for(var l=u.length,c=0;c<l;c++)if(u[c]){var d=u[c],T=d.callback,I=d.once;I&&(u.splice(c,1),u.length===0&&delete t._events[e],l--,c--),T.apply(t,r)}};s(a),s(o)},i.prototype.off=function(e,t){if(!e)this._events={};else if(!t)delete this._events[e];else{for(var r=this._events[e]||[],n=r.length,a=0;a<n;a++)r[a].callback===t&&(r.splice(a,1),n--,a--);r.length===0&&delete this._events[e]}return this},i.prototype.getEvents=function(){return this._events},i}(),nt=K,q=C(935600);function J(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromTranslation(r,t),q.multiply(i,r,e)}function ut(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromRotation(r,t),q.multiply(i,r,e)}function st(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromScaling(r,t),q.multiply(i,r,e)}function bt(i,e,t){return q.multiply(i,t,e)}function ht(i,e){for(var t=i?[].concat(i):[1,0,0,0,1,0,0,0,1],r=0,n=e.length;r<n;r++){var a=e[r];switch(a[0]){case"t":J(t,t,[a[1],a[2]]);break;case"s":st(t,t,[a[1],a[2]]);break;case"r":ut(t,t,a[1]);break;case"m":bt(t,t,a[1]);break;default:break}}return t}function kt(i,e){return i[0]*e[1]-e[0]*i[1]}function Mt(i,e,t){var r=vec2.angle(i,e),n=kt(i,e)>=0;return t?n?Math.PI*2-r:r:n?r:Math.PI*2-r}function St(i,e,t){return t?(i[0]=e[1],i[1]=-1*e[0]):(i[0]=-1*e[1],i[1]=e[0]),i}var V=function(e,t){var r=e.nodes,n=e.edges,a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,u){o[s.id]=u;var l=[];a.push(l)}),n&&n.forEach(function(s){var u=s.source,l=s.target,c=o[u],d=o[l];!c&&c!==0||!d&&d!==0||(a[c][d]=1,t||(a[d][c]=1))}),a},Q=V,xt=function(e,t){return e===t},Ct=function(){function i(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return i.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},i}(),et=function(){function i(e){e===void 0&&(e=xt),this.head=null,this.tail=null,this.compare=e}return i.prototype.prepend=function(e){var t=new Ct(e,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(e){var t=new Ct(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(r!==null)for(;r.next;)this.compare(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare(this.tail.value,e)&&(this.tail=r),t},i.prototype.find=function(e){var t=e.value,r=t===void 0?void 0:t,n=e.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||r!==void 0&&this.compare(o.value,r))return o;o=o.next}return null},i.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},i.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},i.prototype.fromArray=function(e){var t=this;return e.forEach(function(r){return t.append(r)}),this},i.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},i.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},i.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},i}(),vt=et,Tt=function(){function i(){this.linkedList=new vt}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(e){this.linkedList.append(e)},i.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toString=function(e){return this.linkedList.toString(e)},i}(),Ot=Tt,Et=function(e,t,r){t===void 0&&(t=[]);var n=t.filter(function(u){return u.source===e||u.target===e});if(r==="target"){var a=function(l){return l.source===e};return n.filter(a).map(function(u){return u.target})}if(r==="source"){var o=function(l){return l.target===e};return n.filter(o).map(function(u){return u.source})}var s=function(l){return l.source===e?l.target:l.source};return n.map(s)},Dt=function(e,t){return t.filter(function(r){return r.source===e})},Vt=function(e,t){return t.filter(function(r){return r.source===e||r.target===e})},ue=function(e){e===void 0&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),r="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(r)};function ee(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next,s=o;return n[s]?!1:(n[s]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}var It=function(e,t,r,n){n===void 0&&(n=!0);var a=ee(r),o=new Ot,s=e.edges,u=s===void 0?[]:s;o.enqueue(t);for(var l="",c=function(){var T=o.dequeue();a.enter({current:T,previous:l}),Et(T,u,n?"target":void 0).forEach(function(I){a.allowTraversal({previous:l,current:T,next:I})&&o.enqueue(I)}),a.leave({current:T,previous:l}),l=T};!o.isEmpty();)c()},ne=It,pe=function(e){for(var t=e.nodes,r=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},u=[],l=function I(B){u.push(B),s[B.id]=!0;for(var H=Et(B.id,a),tt=function(gt){var _t=H[gt];if(!s[_t]){var Ht=r.filter(function(oe){return oe.id===_t});Ht.length>0&&I(Ht[0])}},lt=0;lt<H.length;++lt)tt(lt)},c=0;c<r.length;c++){var d=r[c];if(!s[d.id]){l(d);for(var T=[];u.length>0;)T.push(u.pop());o.push(T)}}return o},Gt=function(e){for(var t=e.nodes,r=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},u={},l={},c=[],d=0,T=function tt(lt){u[lt.id]=d,l[lt.id]=d,d+=1,o.push(lt),s[lt.id]=!0;for(var dt=Et(lt.id,a,"target").filter(function(ie){return r.map(function(Ee){return Ee.id}).indexOf(ie)>-1}),gt=function(Ee){var Re=dt[Ee];if(!u[Re]&&u[Re]!==0){var Ae=r.filter(function(Ve){return Ve.id===Re});Ae.length>0&&tt(Ae[0]),l[lt.id]=Math.min(l[lt.id],l[Re])}else s[Re]&&(l[lt.id]=Math.min(l[lt.id],u[Re]))},_t=0;_t<dt.length;_t++)gt(_t);if(l[lt.id]===u[lt.id]){for(var Ht=[];o.length>0;){var oe=o.pop();if(s[oe.id]=!1,Ht.push(oe),oe===lt)break}Ht.length>0&&c.push(Ht)}},I=0,B=r;I<B.length;I++){var H=B[I];!u[H.id]&&u[H.id]!==0&&T(H)}return c};function qt(i,e){return e?Gt(i):pe(i)}var $t=function(e){var t={},r=e.nodes,n=r===void 0?[]:r,a=e.edges,o=a===void 0?[]:a;return n.forEach(function(s){t[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){t[s.source].degree++,t[s.source].outDegree++,t[s.target].degree++,t[s.target].inDegree++}),t},Zt=$t,se=function(e,t){var r=$t(e);return r[t]?$t(e)[t].inDegree:0},Se=function(e,t){var r=$t(e);return r[t]?$t(e)[t].outDegree:0};function Pt(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next;return n[o]?!1:(n[o]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}function Fe(i,e,t,r){r.enter({current:e,previous:t});var n=i.edges,a=n===void 0?[]:n;Et(e,a,"target").forEach(function(o){r.allowTraversal({previous:t,current:e,next:o})&&Fe(i,o,e,r)}),r.leave({current:e,previous:t})}function vr(i,e,t){Fe(i,e,"",Pt(t))}var Cr=function(e){var t=null,r=e.nodes,n=r===void 0?[]:r,a={},o={},s={},u={};n.forEach(function(d){o[d.id]=d});for(var l={enter:function(T){var I=T.current,B=T.previous;if(s[I]){t={};for(var H=I,tt=B;tt!==I;)t[H]=tt,H=tt,tt=a[tt];t[H]=tt}else s[I]=I,delete o[I],a[I]=B},leave:function(T){var I=T.current;u[I]=I,delete s[I]},allowTraversal:function(T){var I=T.next;return t?!1:!u[I]}};Object.keys(o).length;){var c=Object.keys(o)[0];vr(e,c,l)}return t},_r=function(e,t,r){var n,a;r===void 0&&(r=!0);for(var o=[],s=qt(e,!1),u=0,l=s;u<l.length;u++){var c=l[u];if(c.length)for(var d=c[0],T=d.id,I=[d],B=(n={},n[T]=d,n),H=(a={},a[T]=new Set,a);I.length>0;)for(var tt=I.pop(),lt=tt.id,dt=Et(lt,e.edges),gt=function(oe){var ie,Ee=dt[oe],Re=e.nodes.find(function(pn){return pn.id===Ee});if(Ee===lt)o.push((ie={},ie[Ee]=tt,ie));else if(!(Ee in H))B[Ee]=tt,I.push(Re),H[Ee]=new Set([tt]);else if(!H[lt].has(Re)){for(var Ae=!0,Ve=[Re,tt],sr=B[lt];H[Ee].size&&!H[Ee].has(sr)&&(Ve.push(sr),sr!==B[sr.id]);)sr=B[sr.id];if(Ve.push(sr),t&&r?(Ae=!1,Ve.findIndex(function(pn){return t.indexOf(pn.id)>-1})>-1&&(Ae=!0)):t&&!r&&Ve.findIndex(function(pn){return t.indexOf(pn.id)>-1})>-1&&(Ae=!1),Ae){for(var tn={},Tn=1;Tn<Ve.length;Tn+=1)tn[Ve[Tn-1].id]=Ve[Tn];Ve.length&&(tn[Ve[Ve.length-1].id]=Ve[0]),o.push(tn)}H[Ee].add(tt)}},_t=0;_t<dt.length;_t+=1)gt(_t)}return o},Ur=function(e,t,r){r===void 0&&(r=!0);for(var n=[],a=new Set,o=[],s=[],u={},l={},c=function(sr){for(var tn=[sr];tn.length>0;){var Tn=tn.pop();a.has(Tn)&&(a.delete(Tn),o[Tn.id].forEach(function(pn){tn.push(pn)}),o[Tn.id].clear())}},d=function Ve(sr,tn,Tn){var pn=!1;if(t&&r===!1&&t.indexOf(sr.id)>-1)return pn;n.push(sr),a.add(sr);for(var Vr=Tn[sr.id],Gn=0;Gn<Vr.length;Gn+=1){var Rn=u[Vr[Gn]];if(Rn===tn){for(var Hr={},hn=1;hn<n.length;hn+=1)Hr[n[hn-1].id]=n[hn];n.length&&(Hr[n[n.length-1].id]=n[0]),s.push(Hr),pn=!0}else a.has(Rn)||Ve(Rn,tn,Tn)&&(pn=!0)}if(pn)c(sr);else for(var Gn=0;Gn<Vr.length;Gn+=1){var Rn=u[Vr[Gn]];o[Rn.id].has(sr)||o[Rn.id].add(sr)}return n.pop(),pn},T=e.nodes,I=T===void 0?[]:T,B=0;B<I.length;B+=1){var H=I[B],tt=H.id;l[tt]=B,u[B]=H}if(t&&r)for(var lt=function(sr){var tn=t[sr];l[I[sr].id]=l[tn],l[tn]=0,u[0]=I.find(function(Tn){return Tn.id===tn}),u[l[I[sr].id]]=I[sr]},B=0;B<t.length;B++)lt(B);for(var dt=function(sr){for(var tn,Tn,pn=1/0,Vr=0;Vr<sr.length;Vr+=1)for(var Gn=sr[Vr],Rn=0;Rn<Gn.length;Rn++){var Hr=l[Gn[Rn].id];Hr<pn&&(pn=Hr,Tn=Vr)}for(var hn=sr[Tn],On=[],Vr=0;Vr<hn.length;Vr+=1){var In=hn[Vr];On[In.id]=[];for(var jn=0,ea=Et(In.id,e.edges,"target").filter(function(wi){return hn.map(function(ii){return ii.id}).indexOf(wi)>-1});jn<ea.length;jn++){var ba=ea[jn];ba===In.id&&!(r===!1&&t.indexOf(In.id)>-1)?s.push((tn={},tn[In.id]=In,tn)):On[In.id].push(l[ba])}}return{component:hn,adjList:On,minIdx:pn}},gt=0;gt<I.length;){var _t=I.filter(function(Ve){return l[Ve.id]>=gt}),Ht=Gt({nodes:_t,edges:e.edges}).filter(function(Ve){return Ve.length>1});if(Ht.length===0)break;var oe=dt(Ht),ie=oe.minIdx,Ee=oe.adjList,Re=oe.component;if(Re.length>1){Re.forEach(function(Ve){o[Ve.id]=new Set});var Ae=u[ie];if(t&&r&&t.indexOf(Ae.id)===-1)return s;d(Ae,Ae,Ee),gt=ie+1}else break}return s},nn=function(e,t,r,n){return n===void 0&&(n=!0),t?Ur(e,r,n):_r(e,r,n)},on=Cr,tr=function(e,t,r){for(var n=1/0,a,o=0;o<t.length;o++){var s=t[o].id;!r[s]&&e[s]<=n&&(n=e[s],a=t[o])}return a},Rr=function(e,t,r,n){var a=e.nodes,o=a===void 0?[]:a,s=e.edges,u=s===void 0?[]:s,l=[],c={},d={},T={};o.forEach(function(gt,_t){var Ht=gt.id;l.push(Ht),d[Ht]=1/0,Ht===t&&(d[Ht]=0)});for(var I=o.length,B=function(_t){var Ht=tr(d,o,c),oe=Ht.id;if(c[oe]=!0,d[oe]===1/0)return"continue";var ie=[];r?ie=Dt(oe,u):ie=Vt(oe,u),ie.forEach(function(Ee){var Re=Ee.target,Ae=Ee.source,Ve=Re===oe?Ae:Re,sr=n&&Ee[n]?Ee[n]:1;d[Ve]>d[Ht.id]+sr?(d[Ve]=d[Ht.id]+sr,T[Ve]=[Ht.id]):d[Ve]===d[Ht.id]+sr&&T[Ve].push(Ht.id)})},H=0;H<I;H++)B(H);T[t]=[t];var tt={};for(var lt in d)d[lt]!==1/0&&br(t,lt,T,tt);var dt={};for(var lt in tt)dt[lt]=tt[lt][0];return{length:d,path:dt,allPath:tt}},qr=Rr;function br(i,e,t,r){if(i===e)return[i];if(r[e])return r[e];for(var n=[],a=0,o=t[e];a<o.length;a++){var s=o[a],u=br(i,s,t,r);if(!u)return;for(var l=0,c=u;l<c.length;l++){var d=c[l];(0,f.isArray)(d)?n.push((0,g.__spreadArray)((0,g.__spreadArray)([],d,!0),[e],!1)):n.push([d,e])}}return r[e]=n,r[e]}var zr=function(e,t,r,n,a){var o=qr(e,t,n,a),s=o.length,u=o.path,l=o.allPath;return{length:s[r],path:u[r],allPath:l[r]}},Ir=function(e,t,r,n){var a;if(t===r)return[[t]];var o=e.edges,s=o===void 0?[]:o,u=[t],l=(a={},a[t]=!0,a),c=[],d=[],T=n?Et(t,s,"target"):Et(t,s);for(c.push(T);u.length>0&&c.length>0;){var I=c[c.length-1];if(I.length){var B=I.shift();B&&(u.push(B),l[B]=!0,T=n?Et(B,s,"target"):Et(B,s),c.push(T.filter(function(lt){return!l[lt]})))}else{var H=u.pop();l[H]=!1,c.pop();continue}if(u[u.length-1]===r){var tt=u.map(function(dt){return dt});d.push(tt);var H=u.pop();l[H]=!1,c.pop()}}return d},je=function(e,t){for(var r=Q(e,t),n=[],a=r.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:r[o][s]===0||!r[o][s]?n[o][s]=1/0:n[o][s]=r[o][s]}for(var u=0;u<a;u+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][u]+n[u][s]&&(n[o][s]=n[o][u]+n[u][s]);return n},qe=je,xn=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e3);var a=e.nodes,o=a===void 0?[]:a,s=e.edges,u=s===void 0?[]:s,l={},c={};o.forEach(function(_t,Ht){var oe=ue();_t.clusterId=oe,l[oe]={id:oe,nodes:[_t]},c[_t.id]={node:_t,idx:Ht}});var d=Q(e,t),T=[],I={};d.forEach(function(_t,Ht){var oe=0,ie=o[Ht].id;I[ie]={},_t.forEach(function(Ee,Re){if(Ee){oe+=Ee;var Ae=o[Re].id;I[ie][Ae]=Ee}}),T.push(oe)});for(var B=0,H=function(){var Ht=!1;if(o.forEach(function(oe){var ie={};Object.keys(I[oe.id]).forEach(function(pn){var Vr=I[oe.id][pn],Gn=c[pn].node,Rn=Gn.clusterId;ie[Rn]||(ie[Rn]=0),ie[Rn]+=Vr});var Ee=-1/0,Re=[];if(Object.keys(ie).forEach(function(pn){Ee<ie[pn]?(Ee=ie[pn],Re=[pn]):Ee===ie[pn]&&Re.push(pn)}),!(Re.length===1&&Re[0]===oe.clusterId)){var Ae=Re.indexOf(oe.clusterId);if(Ae>=0&&Re.splice(Ae,1),Re&&Re.length){Ht=!0;var Ve=l[oe.clusterId],sr=Ve.nodes.indexOf(oe);Ve.nodes.splice(sr,1);var tn=Math.floor(Math.random()*Re.length),Tn=l[Re[tn]];Tn.nodes.push(oe),oe.clusterId=Tn.id}}}),!Ht)return"break";B++};B<n;){var tt=H();if(tt==="break")break}Object.keys(l).forEach(function(_t){var Ht=l[_t];(!Ht.nodes||!Ht.nodes.length)&&delete l[_t]});var lt=[],dt={};u.forEach(function(_t){var Ht=_t.source,oe=_t.target,ie=_t[r]||1,Ee=c[Ht].node.clusterId,Re=c[oe].node.clusterId,Ae="".concat(Ee,"---").concat(Re);if(dt[Ae])dt[Ae].weight+=ie,dt[Ae].count++;else{var Ve={source:Ee,target:Re,weight:ie,count:1};dt[Ae]=Ve,lt.push(Ve)}});var gt=[];return Object.keys(l).forEach(function(_t){gt.push(l[_t])}),{clusters:gt,clusterEdges:lt}},rr=xn,jr=function(){function i(e){this.arr=e}return i.prototype.getArr=function(){return this.arr||[]},i.prototype.add=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return new i(r);if(!(r!=null&&r.length))return new i(this.arr);if(this.arr.length===r.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]+r[a];return new i(n)}},i.prototype.subtract=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return new i(r);if(!(r!=null&&r.length))return new i(this.arr);if(this.arr.length===r.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]-r[a];return new i(n)}},i.prototype.avg=function(e){var t=[];if(e!==0)for(var r in this.arr)t[r]=this.arr[r]/e;return new i(t)},i.prototype.negate=function(){var e=[];for(var t in this.arr)e[t]=-this.arr[t];return new i(e)},i.prototype.squareEuclideanDistance=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return n}},i.prototype.euclideanDistance=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return Math.sqrt(n)}else console.error("The two vectors are unequal in length.")},i.prototype.normalize=function(){var e=[],t=(0,f.clone)(this.arr);t.sort(function(o,s){return o-s});var r=t[t.length-1],n=t[0];for(var a in this.arr)e[a]=(this.arr[a]-n)/(r-n);return new i(e)},i.prototype.norm2=function(){var e;if(!(!((e=this.arr)===null||e===void 0)&&e.length))return 0;var t=0;for(var r in this.arr)t+=Math.pow(this.arr[r],2);return Math.sqrt(t)},i.prototype.dot=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=this.arr[a]*e.arr[a];return n}else console.error("The two vectors are unequal in length.")},i.prototype.equal=function(e){var t,r=e.arr;if(((t=this.arr)===null||t===void 0?void 0:t.length)!==(r==null?void 0:r.length))return!1;for(var n in this.arr)if(this.arr[n]!==r[n])return!1;return!0},i}(),Nr=jr,kn=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,an=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,dn=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=100);var r={};e.forEach(function(a){a.properties&&Object.keys(a.properties).forEach(function(o){if(o==="id"||!"".concat(a.properties[o]).match(kn)&&!"".concat(a.properties[o]).match(an)&&isNaN(Number(a.properties[o]))){r.hasOwnProperty(o)&&delete r[o];return}r.hasOwnProperty(o)?r[o]+=1:r[o]=1})});var n=Object.keys(r).sort(function(a,o){return r[o]-r[a]});return n.length<t?n:n.slice(0,t)},Sn=function(e,t){return t.map(function(r){return e.hasOwnProperty(r)?e[r]:0})},Dn=function(e){for(var t=dn(e),r=[],n=0;n<e.length;n++)r[n]=Sn(e[n].properties,t);return r},Nn=function(e,t){t===void 0&&(t=void 0);var r=[];return e.forEach(function(n){t===void 0&&r.push(n),n[t]!==void 0&&r.push(n[t])}),r},rt={getAllSortProperties:dn,getPropertyWeight:Dn,getAllProperties:Nn},Xe;(function(i){i.EuclideanDistance="euclideanDistance"})(Xe||(Xe={}));var Xt=function(e,t,r){var n=[];t!=null&&t.length?n=t:(e.forEach(function(o){n=n.concat(Object.keys(o))}),n=(0,f.uniq)(n));var a={};return n.forEach(function(o){var s=[];e.forEach(function(u){u[o]!==void 0&&u[o]!==""&&s.push(u[o])}),s.length&&!(r!=null&&r.includes(o))&&(a[o]=(0,f.uniq)(s))}),a},te=function(e,t,r){var n=Xt(e,t,r),a=[];if(!Object.keys(n).length)return a;var o=Object.values(n),s=o.every(function(u){return u.every(function(l){return typeof l=="number"})});return e.forEach(function(u,l){var c=[];Object.keys(n).forEach(function(d){var T=u[d],I=n[d],B=I.findIndex(function(lt){return T===lt}),H=[];if(s)H.push(T);else for(var tt=0;tt<I.length;tt++)tt===B?H.push(1):H.push(0);c=c.concat(H)}),a[l]=c}),a},ot=function(e,t,r,n){r===void 0&&(r=Xe.EuclideanDistance);var a=0;switch(r){case Xe.EuclideanDistance:a=new Nr(e).euclideanDistance(new Nr(t));break;default:break}return a},Ft={getAllKeyValueMap:Xt,oneHot:te,getDistance:ot},ft=function(e,t,r,n){for(var a=t.length,o=2*n,s=0,u=0;u<a;u++)for(var l=e[u].clusterId,c=0;c<a;c++){var d=e[c].clusterId;if(l===d){var T=t[u][c]||0,I=r[u]||0,B=r[c]||0;s+=T-I*B/o}}return s*=1/o,s},Ut=function(e,t){e===void 0&&(e=[]);for(var r=e.length,n=new Nr([]),a=0;a<r;a++)n=n.add(new Nr(t[a]));var o=n.avg(r);o.normalize();for(var s=0,a=0;a<r;a++){var u=new Nr(t[a]),l=u.squareEuclideanDistance(o);s+=l}var c=[];e.forEach(function(){c.push([])});for(var a=0;a<r;a++){var u=new Nr(t[a]);e[a].clusterInertial=0;for(var d=0;d<r;d++){if(a===d){c[a][d]=0;continue}var T=new Nr(t[d]);c[a][d]=u.squareEuclideanDistance(T),e[a].clusterInertial+=c[a][d]}}for(var I=0,B=2*r*s,a=0;a<r;a++)for(var H=e[a].clusterId,d=0;d<r;d++){var tt=e[d].clusterId;if(!(a===d||H!==tt)){var lt=e[a].clusterInertial*e[d].clusterInertial/Math.pow(B,2)-c[a][d]/B;I+=lt}}return Number(I.toFixed(4))},re=function(e,t,r,n,a,o,s,u,l){t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=!1),o===void 0&&(o=void 0),s===void 0&&(s=[]),u===void 0&&(u=["id"]),l===void 0&&(l=1);var c=e.nodes,d=c===void 0?[]:c,T=e.edges,I=T===void 0?[]:T,B=[];if(a){d.forEach(function(Hr,hn){Hr.properties=Hr.properties||{},Hr.originIndex=hn});var H=[];d.every(function(Hr){return Hr.hasOwnProperty("nodeType")})&&(H=Array.from(new Set(d.map(function(Hr){return Hr.nodeType}))),d.forEach(function(Hr){Hr.properties.nodeType=H.findIndex(function(hn){return hn===Hr.nodeType})}));var tt=Nn(d,o);B=te(tt,s,u)}var lt=1,dt={},gt={};d.forEach(function(Hr,hn){var On=String(lt++);Hr.clusterId=On,dt[On]={id:On,nodes:[Hr]},gt[Hr.id]={node:Hr,idx:hn}});var _t=Q(e,t),Ht=[],oe={},ie=0;_t.forEach(function(Hr,hn){var On=0,In=d[hn].id;oe[In]={},Hr.forEach(function(jn,ea){if(jn){On+=jn;var ba=d[ea].id;oe[In][ba]=jn,ie+=jn}}),Ht.push(On)}),ie/=2;for(var Ee=1/0,Re=1/0,Ae=0,Ve=[],sr={};;){a&&d.every(function(Hr){return Hr.hasOwnProperty("properties")})?Ee=ft(d,_t,Ht,ie)+Ut(d,B)*l:Ee=ft(d,_t,Ht,ie),Ae===0&&(Re=Ee,Ve=d,sr=dt);var tn=Ee>0&&Ee>Re&&Ee-Re<n;if(Ee>Re&&(Ve=d.map(function(Hr){return{node:Hr,clusterId:Hr.clusterId}}),sr=(0,f.clone)(dt),Re=Ee),tn||Ae>100)break;Ae++,Object.keys(dt).forEach(function(Hr){var hn=0;I.forEach(function(On){var In=On.source,jn=On.target,ea=gt[In].node.clusterId,ba=gt[jn].node.clusterId;(ea===Hr&&ba!==Hr||ba===Hr&&ea!==Hr)&&(hn=hn+(On[r]||1))}),dt[Hr].sumTot=hn}),d.forEach(function(Hr,hn){var On=dt[Hr.clusterId],In=0,jn,ea=Ht[hn]/(2*ie),ba=0,Na=On.nodes;Na.forEach(function(Vo){var Ho=gt[Vo.id].idx;ba+=_t[hn][Ho]||0});var wi=ba-On.sumTot*ea,ii=Na.filter(function(Vo){return Vo.id!==Hr.id}),Si=[];ii.forEach(function(Vo,Ho){Si[Ho]=B[Vo.originIndex]});var Pi=Ut(ii,B)*l,io=oe[Hr.id];if(Object.keys(io).forEach(function(Vo){var Ho=gt[Vo].node,zs=Ho.clusterId;if(zs!==Hr.clusterId){var as=dt[zs],ys=as.nodes;if(!(!ys||!ys.length)){var Ha=0;ys.forEach(function(Qa){var ti=gt[Qa.id].idx;Ha+=_t[hn][ti]||0});var bi=Ha-as.sumTot*ea,Wa=ys.concat([Hr]),xi=[];Wa.forEach(function(Qa,ti){xi[ti]=B[Qa.originIndex]});var Fi=Ut(Wa,B)*l,fa=bi-wi;a&&(fa=bi+Fi-(wi+Pi)),fa>In&&(In=fa,jn=as)}}}),In>0){jn.nodes.push(Hr);var Hi=Hr.clusterId;Hr.clusterId=jn.id;var tu=On.nodes.indexOf(Hr);On.nodes.splice(tu,1);var jo=0,eu=0;I.forEach(function(Vo){var Ho=Vo.source,zs=Vo.target,as=gt[Ho].node.clusterId,ys=gt[zs].node.clusterId;(as===jn.id&&ys!==jn.id||ys===jn.id&&as!==jn.id)&&(jo=jo+(Vo[r]||1)),(as===Hi&&ys!==Hi||ys===Hi&&as!==Hi)&&(eu=eu+(Vo[r]||1))}),jn.sumTot=jo,On.sumTot=eu}})}var Tn={},pn=0;Object.keys(sr).forEach(function(Hr){var hn=sr[Hr];if(!hn.nodes||!hn.nodes.length){delete sr[Hr];return}var On=String(pn+1);On!==Hr&&(hn.id=On,hn.nodes=hn.nodes.map(function(In){return{id:In.id,clusterId:On}}),sr[On]=hn,Tn[Hr]=On,delete sr[Hr],pn++)}),Ve.forEach(function(Hr){var hn=Hr.node,On=Hr.clusterId;hn&&(hn.clusterId=On,hn.clusterId&&Tn[hn.clusterId]&&(hn.clusterId=Tn[hn.clusterId]))});var Vr=[],Gn={};I.forEach(function(Hr){var hn=Hr.source,On=Hr.target,In=Hr[r]||1,jn=gt[hn].node.clusterId,ea=gt[On].node.clusterId;if(!(!jn||!ea)){var ba="".concat(jn,"---").concat(ea);if(Gn[ba])Gn[ba].weight+=In,Gn[ba].count++;else{var Na={source:jn,target:ea,weight:In,count:1};Gn[ba]=Na,Vr.push(Na)}}});var Rn=[];return Object.keys(sr).forEach(function(Hr){Rn.push(sr[Hr])}),{clusters:Rn,clusterEdges:Vr}},ae=re,at=function(e,t,r,n,a,o,s,u){return t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=void 0),o===void 0&&(o=[]),s===void 0&&(s=["id"]),u===void 0&&(u=1),ae(e,t,r,n,!0,a,o,s,u)},ct=at,F=function(e,t){var r;t===void 0&&(t=1);for(var n=(0,f.clone)(e),a=n.nodes,o=a===void 0?[]:a,s=n.edges,u=s===void 0?[]:s,l=function(){var T=Zt({nodes:o,edges:u}),I=Object.keys(T);I.sort(function(tt,lt){var dt,gt;return((dt=T[tt])===null||dt===void 0?void 0:dt.degree)-((gt=T[lt])===null||gt===void 0?void 0:gt.degree)});var B=I[0];if(!o.length||((r=T[B])===null||r===void 0?void 0:r.degree)>=t)return"break";var H=o.findIndex(function(tt){return tt.id===B});o.splice(H,1),u=u.filter(function(tt){return!(tt.source===B||tt.target===B)})};;){var c=l();if(c==="break")break}return{nodes:o,edges:u}},M=F,O=function(e,t,r){var n=[];switch(e){case Xe.EuclideanDistance:n=t[r];break;default:n=[];break}return n},$=function(e,t,r,n,a,o){t===void 0&&(t=3),r===void 0&&(r=void 0),n===void 0&&(n=[]),a===void 0&&(a=["id"]),o===void 0&&(o=Xe.EuclideanDistance);var s=e.nodes,u=s===void 0?[]:s,l=e.edges,c=l===void 0?[]:l,d={clusters:[{id:"0",nodes:u}],clusterEdges:[]};if(o===Xe.EuclideanDistance&&!u.every(function(On){return On.hasOwnProperty(r)}))return d;var T=[],I=[];if(o===Xe.EuclideanDistance&&(T=Nn(u,r),I=te(T,n,a)),!I.length)return d;for(var B=(0,f.uniq)(I.map(function(On){return On.join("")})),H=Math.min(t,u.length,B.length),tt=0;tt<u.length;tt++)u[tt].originIndex=tt;for(var lt=[],dt=[],gt=[],tt=0;tt<H;tt++)if(tt===0){var _t=Math.floor(Math.random()*u.length);switch(o){case Xe.EuclideanDistance:lt[tt]=I[_t];break;default:lt[tt]=[];break}dt.push(_t),gt[tt]=[u[_t]],u[_t].clusterId=String(tt)}else{for(var Ht=-1/0,oe=0,ie=function(jn){if(!dt.includes(jn)){for(var ea=0,ba=0;ba<lt.length;ba++){var Na=0;switch(o){case Xe.EuclideanDistance:Na=ot(I[u[jn].originIndex],lt[ba],o);break;default:break}ea+=Na}var wi=ea/lt.length;wi>Ht&&!lt.find(function(ii){return(0,f.isEqual)(ii,O(o,I,u[jn].originIndex))})&&(Ht=wi,oe=jn)}},Ee=0;Ee<u.length;Ee++)ie(Ee);lt[tt]=O(o,I,oe),dt.push(oe),gt[tt]=[u[oe]],u[oe].clusterId=String(tt)}for(var Re=0;;){for(var tt=0;tt<u.length;tt++){var Ae=0,Ve=1/0;if(!(Re===0&&dt.includes(tt))){for(var sr=0;sr<lt.length;sr++){var tn=0;switch(o){case Xe.EuclideanDistance:tn=ot(I[tt],lt[sr],o);break;default:break}tn<Ve&&(Ve=tn,Ae=sr)}if(u[tt].clusterId!==void 0)for(var Tn=gt[Number(u[tt].clusterId)].length-1;Tn>=0;Tn--)gt[Number(u[tt].clusterId)][Tn].id===u[tt].id&&gt[Number(u[tt].clusterId)].splice(Tn,1);u[tt].clusterId=String(Ae),gt[Ae].push(u[tt])}}for(var pn=!1,tt=0;tt<gt.length;tt++){for(var Vr=gt[tt],Gn=new Nr([]),sr=0;sr<Vr.length;sr++)Gn=Gn.add(new Nr(I[Vr[sr].originIndex]));var Rn=Gn.avg(Vr.length);Rn.equal(new Nr(lt[tt]))||(pn=!0,lt[tt]=Rn.getArr())}if(Re++,u.every(function(On){return On.clusterId!==void 0})&&pn||Re>=1e3)break}var Hr=[],hn={};return c.forEach(function(On){var In,jn,ea=On.source,ba=On.target,Na=(In=u.find(function(Pi){return Pi.id===ea}))===null||In===void 0?void 0:In.clusterId,wi=(jn=u.find(function(Pi){return Pi.id===ba}))===null||jn===void 0?void 0:jn.clusterId,ii="".concat(Na,"---").concat(wi);if(hn[ii])hn[ii].count++;else{var Si={source:Na,target:wi,count:1};hn[ii]=Si,Hr.push(Si)}}),{clusters:gt,clusterEdges:Hr}},mt=$,zt=function(e,t){var r=new Nr(t),n=r.norm2(),a=new Nr(e),o=a.norm2(),s=r.dot(a),u=n*o,l=u?s/u:0;return l},Rt=zt,Kt=function(e,t,r,n,a){e===void 0&&(e=[]),r===void 0&&(r=void 0),n===void 0&&(n=[]),a===void 0&&(a=[]);var o=(0,f.clone)(e.filter(function(T){return T.id!==t.id})),s=e.findIndex(function(T){return T.id===t.id}),u=Nn(e,r),l=te(u,n,a),c=l[s],d=[];return o.forEach(function(T,I){if(T.id!==t.id){var B=l[I],H=Rt(B,c);d.push(H),T.cosineSimilarity=H}}),o.sort(function(T,I){return I.cosineSimilarity-T.cosineSimilarity}),{allCosineSimilarity:d,similarNodes:o}},Te=Kt,be=function(){function i(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return i.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},i.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},i.prototype.connected=function(e,t){return this.find(e)===this.find(t)},i}(),We=be,fr=function(e,t){return e-t},He=function(){function i(e){e===void 0&&(e=fr),this.compareFn=e,this.list=[]}return i.prototype.getLeft=function(e){return 2*e+1},i.prototype.getRight=function(e){return 2*e+2},i.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},i.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},i.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),a=this.getRight(e),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[r],this.list[n])>0?r=n:a!==null&&a<o&&this.compareFn(this.list[r],this.list[a])>0&&(r=a),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},i}(),Pr=He,un=function(e,t){var r=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return r;var u=a[0],l=new Set;l.add(u);var c=function(tt,lt){return t?tt.weight-lt.weight:0},d=new Pr(c);for(Vt(u.id,s).forEach(function(H){d.insert(H)});!d.isEmpty();){var T=d.delMin(),I=T.source,B=T.target;l.has(I)&&l.has(B)||(r.push(T),l.has(I)||(l.add(I),Vt(I,s).forEach(function(H){d.insert(H)})),l.has(B)||(l.add(B),Vt(B,s).forEach(function(H){d.insert(H)})))}return r},Ue=function(e,t){var r=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return r;var u=s.map(function(I){return I});t&&u.sort(function(I,B){return I.weight-B.weight});for(var l=new We(a.map(function(I){return I.id}));u.length>0;){var c=u.shift(),d=c.source,T=c.target;l.connected(d,T)||(r.push(c),l.union(d,T))}return r},ur=function(e,t,r){var n={prim:un,kruskal:Ue};return r?n[r](e,t):Ue(e,t)},Lr=ur,Or=function(e,t,r){typeof t!="number"&&(t=1e-6),typeof r!="number"&&(r=.85);for(var n=1,a=0,o=1e3,s=e.nodes,u=s===void 0?[]:s,l=e.edges,c=l===void 0?[]:l,d=u.length,T,I={},B={},H=0;H<d;++H){var tt=u[H],lt=tt.id;I[lt]=1/d,B[lt]=1/d}for(var dt=Zt(e);o>0&&n>t;){a=0;for(var H=0;H<d;++H){var tt=u[H],lt=tt.id;if(T=0,dt[tt.id].inDegree===0)I[lt]=0;else{for(var gt=Et(lt,c,"source"),_t=0;_t<gt.length;++_t){var Ht=gt[_t],oe=dt[Ht].outDegree;oe>0&&(T+=B[Ht]/oe)}I[lt]=r*T,a+=I[lt]}}a=(1-a)/d,n=0;for(var H=0;H<d;++H){var tt=u[H],lt=tt.id;T=I[lt]+a,n+=Math.abs(T-B[lt]),B[lt]=T}o-=1}return B},ce=Or,Yt=-1,he=-1,Me="-1",ye="-1",Ne=-1,nr="-1",cr=function(){function i(e,t,r,n){e===void 0&&(e=Yt),t===void 0&&(t=he),r===void 0&&(r=he),n===void 0&&(n=Me),this.id=e,this.from=t,this.to=r,this.label=n}return i}(),rn=function(){function i(e,t){e===void 0&&(e=he),t===void 0&&(t=ye),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return i.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},i}(),An=function(){function i(e,t,r){e===void 0&&(e=he),t===void 0&&(t=!0),r===void 0&&(r=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=r}return i.prototype.getNodeNum=function(){return this.nodes.length},i.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var r=new rn(e,t);this.nodes.push(r),this.nodeMap[e]=r,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},i.prototype.addEdge=function(e,t,r,n){if((this.edgeIdAutoIncrease||e===void 0)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var a=new cr(e,t,r,n);if(this.edges.push(a),this.edgeMap[e]=a,this.nodeMap[t].addEdge(a),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(a),!this.directed){var o=new cr(e,r,t,n);this.nodeMap[r].addEdge(o),this.edgeLabelMap[n].push(o)}}},i}(),ln=function(){function i(e,t,r,n,a){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:r||ye,edgeLabel:n||Me,nodeLabel2:a||ye}}return i.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},i.prototype.notEqualTo=function(e){return!this.equalTo(e)},i}(),Yn=function(){function i(){this.rmpath=[],this.dfsEdgeList=[]}return i.prototype.equalTo=function(e){var t=this.dfsEdgeList.length,r=e.length;if(t!==r)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},i.prototype.notEqualTo=function(e){return!this.equalTo(e)},i.prototype.pushBack=function(e,t,r,n,a){return this.dfsEdgeList.push(new ln(e,t,r,n,a)),this.dfsEdgeList},i.prototype.toGraph=function(e,t){e===void 0&&(e=Ne),t===void 0&&(t=!1);var r=new An(e,!0,t);return this.dfsEdgeList.forEach(function(n){var a=n.fromNode,o=n.toNode,s=n.nodeEdgeNodeLabel,u=s.nodeLabel1,l=s.edgeLabel,c=s.nodeLabel2;u!==ye&&r.addNode(a,u),c!==ye&&r.addNode(o,c),u!==ye&&c!==u&&r.addEdge(void 0,a,o,l)}),r},i.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length,r=t-1;r>=0;r--){var n=this.dfsEdgeList[r],a=n.fromNode,o=n.toNode;a<o&&(e===void 0||o===e)&&(this.rmpath.push(r),e=a)}return this.rmpath},i.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},i}(),sn=function(){function i(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return i.prototype.hasNode=function(e){return this.nodesUsed[e.id]===1},i.prototype.hasEdge=function(e){return this.edgesUsed[e.id]===1},i}(),Bn=function(){function i(e){var t=e.graphs,r=e.minSupport,n=r===void 0?2:r,a=e.minNodeNum,o=a===void 0?1:a,s=e.maxNodeNum,u=s===void 0?4:s,l=e.top,c=l===void 0?10:l,d=e.directed,T=d===void 0?!1:d,I=e.verbose,B=I===void 0?!1:I;this.graphs=t,this.dfsCode=new Yn,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=c,this.directed=T,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=B,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return i.prototype.findForwardRootEdges=function(e,t){var r=this,n=[],a=e.nodeMap;return t.edges.forEach(function(o){(r.directed||t.label<=a[o.to].label)&&n.push(o)}),n},i.prototype.findBackwardEdge=function(e,t,r,n){if(!this.directed&&t===r)return null;for(var a=e.nodeMap,o=a[r.to],s=o.edges,u=s.length,l=0;l<u;l++){var c=s[l];if(!(n.hasEdge(c)||c.to!==t.from)){if(this.directed){if(a[t.from].label<a[r.to].label||a[t.from].label===a[r.to].label&&t.label<=c.label)return c}else if(t.label<c.label||t.label===c.label&&a[t.to].label<=a[r.to].label)return c}}return null},i.prototype.findForwardPureEdges=function(e,t,r,n){for(var a=[],o=t.to,s=e.nodeMap[o].edges,u=s.length,l=0;l<u;l++){var c=s[l],d=e.nodeMap[c.to];r<=d.label&&!n.hasNode(d)&&a.push(c)}return a},i.prototype.findForwardRmpathEdges=function(e,t,r,n){for(var a=[],o=e.nodeMap,s=o[t.to].label,u=o[t.from],l=u.edges,c=l.length,d=0;d<c;d++){var T=l[d],I=o[T.to].label;t.to===T.to||r>I||n.hasNode(o[T.to])||(t.label<T.label||t.label===T.label&&s<=I)&&a.push(T)}return a},i.prototype.getSupport=function(e){var t={};return e.forEach(function(r){t[r.graphId]||(t[r.graphId]=!0)}),Object.keys(t).length},i.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(r){var n=e[r],a=n.nodeLabel1,o=n.edgeLabel,s=n.nodeLabel2;if(!t){t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s};return}(a<t.nodeLabel1||a===t.nodeLabel1&&o<t.edgeLabel||a===t.nodeLabel1&&o===t.edgeLabel&&s<t.nodeLabel2)&&(t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s})}),t},i.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var r=this.directed,n=t.toGraph(Ne,r),a=n.nodeMap,o=new Yn,s={};n.nodes.forEach(function(d){var T=e.findForwardRootEdges(n,d);T.forEach(function(I){var B=a[I.to],H="".concat(d.label,"-").concat(I.label,"-").concat(B.label);s[H]||(s[H]={projected:[],nodeLabel1:d.label,edgeLabel:I.label,nodeLabel2:B.label});var tt={graphId:n.id,edge:I,preNode:null};s[H].projected.push(tt)})});var u=this.findMinLabel(s);if(u){o.dfsEdgeList.push(new ln(0,1,u.nodeLabel1,u.edgeLabel,u.nodeLabel2));var l=function d(T){for(var I=o.buildRmpath(),B=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,H=o.dfsEdgeList[I[0]].toNode,tt={},lt=!1,dt=0,gt=r?-1:0,_t=function(Gn){if(lt)return"break";T.forEach(function(Rn){var Hr=new sn(Rn),hn=e.findBackwardEdge(n,Hr.edges[I[Gn]],Hr.edges[I[0]],Hr);hn&&(tt[hn.label]||(tt[hn.label]={projected:[],edgeLabel:hn.label}),tt[hn.label].projected.push({graphId:n.id,edge:tt,preNode:Rn}),dt=o.dfsEdgeList[I[Gn]].fromNode,lt=!0)})},Ht=I.length-1;Ht>gt;Ht--){var oe=_t(Ht);if(oe==="break")break}if(lt){var ie=e.findMinLabel(tt);o.dfsEdgeList.push(new ln(H,dt,ye,ie.edgeLabel,ye));var Ee=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[Ee]!==o.dfsEdgeList[Ee]?!1:d(tt[ie.edgeLabel].projected)}var Re={};lt=!1;var Ae=0;T.forEach(function(Vr){var Gn=new sn(Vr),Rn=e.findForwardPureEdges(n,Gn.edges[I[0]],B,Gn);Rn.length>0&&(lt=!0,Ae=H,Rn.forEach(function(Hr){var hn="".concat(Hr.label,"-").concat(a[Hr.to].label);Re[hn]||(Re[hn]={projected:[],edgeLabel:Hr.label,nodeLabel2:a[Hr.to].label}),Re[hn].projected.push({graphId:n.id,edge:Hr,preNode:Vr})}))});for(var Ve=I.length,sr=function(Gn){if(lt)return"break";var Rn=I[Gn];T.forEach(function(Hr){var hn=new sn(Hr),On=e.findForwardRmpathEdges(n,hn.edges[Rn],B,hn);On.length>0&&(lt=!0,Ae=o.dfsEdgeList[Rn].fromNode,On.forEach(function(In){var jn="".concat(In.label,"-").concat(a[In.to].label);Re[jn]||(Re[jn]={projected:[],edgeLabel:In.label,nodeLabel2:a[In.to].label}),Re[jn].projected.push({graphId:n.id,edge:In,preNode:Hr})}))})},Ht=0;Ht<Ve;Ht++){var tn=sr(Ht);if(tn==="break")break}if(!lt)return!0;var Tn=e.findMinLabel(Re);o.dfsEdgeList.push(new ln(Ae,H+1,ye,Tn.edgeLabel,Tn.nodeLabel2));var pn=o.dfsEdgeList.length-1;return t.dfsEdgeList[pn]!==o.dfsEdgeList[pn]?!1:d(Re["".concat(Tn.edgeLabel,"-").concat(Tn.nodeLabel2)].projected)},c="".concat(u.nodeLabel1,"-").concat(u.edgeLabel,"-").concat(u.nodeLabel2);return l(s[c].projected)}},i.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,f.clone)(e))}},i.prototype.subGraphMining=function(e){var t=this,r=this.getSupport(e);if(!(r<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),a=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[a[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,u={},l={};e.forEach(function(c){for(var d=t.graphs[c.graphId],T=d.nodeMap,I=new sn(c),B=a.length-1;B>=0;B--){var H=t.findBackwardEdge(d,I.edges[a[B]],I.edges[a[0]],I);if(H){var tt="".concat(t.dfsCode.dfsEdgeList[a[B]].fromNode,"-").concat(H.label);l[tt]||(l[tt]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[a[B]].fromNode,edgeLabel:H.label}),l[tt].projected.push({graphId:c.graphId,edge:H,preNode:c})}}if(!(n>=t.maxNodeNum)){var lt=t.findForwardPureEdges(d,I.edges[a[0]],s,I);lt.forEach(function(gt){var _t="".concat(o,"-").concat(gt.label,"-").concat(T[gt.to].label);u[_t]||(u[_t]={projected:[],fromNodeId:o,edgeLabel:gt.label,nodeLabel2:T[gt.to].label}),u[_t].projected.push({graphId:c.graphId,edge:gt,preNode:c})});for(var dt=function(_t){var Ht=t.findForwardRmpathEdges(d,I.edges[a[_t]],s,I);Ht.forEach(function(oe){var ie="".concat(t.dfsCode.dfsEdgeList[a[_t]].fromNode,"-").concat(oe.label,"-").concat(T[oe.to].label);u[ie]||(u[ie]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[a[_t]].fromNode,edgeLabel:oe.label,nodeLabel2:T[oe.to].label}),u[ie].projected.push({graphId:c.graphId,edge:oe,preNode:c})})},B=0;B<a.length;B++)dt(B)}}),Object.keys(l).forEach(function(c){var d=l[c],T=d.toNodeId,I=d.edgeLabel;t.dfsCode.dfsEdgeList.push(new ln(o,T,"-1",I,"-1")),t.subGraphMining(l[c].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(u).forEach(function(c){var d=u[c],T=d.fromNodeId,I=d.edgeLabel,B=d.nodeLabel2;t.dfsCode.dfsEdgeList.push(new ln(T,o+1,ye,I,B)),t.subGraphMining(u[c].projected),t.dfsCode.dfsEdgeList.pop()})}},i.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,r=this.minSupport,n=this.frequentSize1Subgraphs,a={},o={},s={},u={};return Object.keys(e).forEach(function(l){var c=e[l],d=c.nodeMap;c.nodes.forEach(function(T,I){var B=T.label,H="".concat(l,"-").concat(B);if(!s[H]){var tt=a[B]||0;tt++,a[B]=tt}s[H]={graphKey:l,label:B},T.edges.forEach(function(lt){var dt=B,gt=d[lt.to].label;if(!t&&dt>gt){var _t=gt;gt=dt,dt=_t}var Ht=lt.label,oe="".concat(l,"-").concat(dt,"-").concat(Ht,"-").concat(gt),ie="".concat(dt,"-").concat(Ht,"-").concat(gt);if(!o[ie]){var Ee=o[ie]||0;Ee++,o[ie]=Ee}u[oe]={graphId:l,nodeLabel1:dt,edgeLabel:Ht,nodeLabel2:gt}})})}),Object.keys(a).forEach(function(l){var c=a[l];if(!(c<r)){var d={nodes:[],edges:[]};d.nodes.push({id:"0",label:l}),n.push(d)}}),n},i.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,r=this.directed,n={};Object.keys(t).forEach(function(a){var o=t[a],s=o.nodeMap;o.nodes.forEach(function(u){var l=e.findForwardRootEdges(o,u);l.forEach(function(c){var d=s[c.to],T="".concat(u.label,"-").concat(c.label,"-").concat(d.label);n[T]||(n[T]={projected:[],nodeLabel1:u.label,edgeLabel:c.label,nodeLabel2:d.label});var I={graphId:a,edge:c,preNode:null};n[T].projected.push(I)})})}),Object.keys(n).forEach(function(a){var o=n[a],s=o.projected,u=o.nodeLabel1,l=o.edgeLabel,c=o.nodeLabel2;e.dfsCode.dfsEdgeList.push(new ln(0,1,u,l,c)),e.subGraphMining(s),e.dfsCode.dfsEdgeList.pop()})}},i}(),Jn=function(e,t,r,n){var a={};return Object.keys(e).forEach(function(o,s){var u=e[o],l=new An(s,!0,t),c={};u.nodes.forEach(function(d,T){l.addNode(T,d[r]),c[d.id]=T}),u.edges.forEach(function(d,T){var I=c[d.source],B=c[d.target];l.addEdge(-1,I,B,d[n])}),l&&l.getNodeNum()&&(a[l.id]=l)}),a},sa=function(e,t,r){var n=[];return e.forEach(function(a){var o={nodes:[],edges:[]};a.nodes.forEach(function(s){var u;o.nodes.push((u={id:"".concat(s.id)},u[t]=s.label,u))}),a.edges.forEach(function(s){var u;o.edges.push((u={source:"".concat(s.from),target:"".concat(s.to)},u[r]=s.label,u))}),n.push(o)}),n},qn="cluster",Za=function(e){var t=e.graphs,r=e.directed,n=r===void 0?!1:r,a=e.nodeLabelProp,o=a===void 0?qn:a,s=e.edgeLabelProp,u=s===void 0?qn:s,l=Jn(t,n,o,u),c=e.minSupport,d=e.maxNodeNum,T=e.minNodeNum,I=e.verbose,B=e.top,H={graphs:l,minSupport:c,maxNodeNum:d,minNodeNum:T,top:B,verbose:I,directed:n},tt=new Bn(H);tt.run();var lt=sa(tt.frequentSubgraphs,o,u);return lt},za=Za,xa=function(e,t,r,n){r===void 0&&(r="cluster"),n===void 0&&(n=2);var a=[],o=e.nodes;return t.forEach(function(s,u){a.push(Ei(o,s,u,r,n))}),a},Ei=function(e,t,r,n,a){var o=[r],s=[],u={};return t.forEach(function(l,c){if(l<=a&&r!==c){o.push(c),s.push(e[c]);var d=e[c][n];u[d]?(u[d].count++,u[d].dists.push(l)):u[d]={count:1,dists:[l]}}}),Object.keys(u).forEach(function(l){u[l].dists=u[l].dists.sort(function(c,d){return c-d})}),{nodeIdx:r,nodeId:e[r].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:u}},_o=function(e,t,r,n,a){var o=Math.ceil(r/t),s={},u=0;return n.forEach(function(l,c){for(var d=0,T=0,I=l.nodeIdxs,B=l.neighborNum-1;d<o;){for(var H=I[1+Math.floor(Math.random()*B)],tt=0;(s["".concat(c,"-").concat(H)]||s["".concat(H,"-").concat(c)])&&(H=Math.floor(Math.random()*t),tt++,!(tt>2*t)););if(tt<2*t&&(s["".concat(c,"-").concat(H)]={start:c,end:H,distance:a[c][H]},d++,u++,u>=r))return s;if(T++,T>2*t)break}if(d<o){var lt=o-d;o=(o+lt)/(t-c-1)}}),s},Mi=function(e,t,r,n){var a=r.nodes;return n||(n={}),Object.keys(e).forEach(function(o){var s,u;if(!(n&&n[o])){n[o]={nodes:[],edges:[]};var l=e[o],c=(s=t[l.start])===null||s===void 0?void 0:s.nodeIdxs,d=(u=t[l.end])===null||u===void 0?void 0:u.nodeIdxs;if(!(!c||!d)){var T=new Set(d),I=c.filter(function(dt){return T.has(dt)});if(!(!I||!I.length)){for(var B={},H=I.length,tt=0;tt<H;tt++){var lt=a[I[tt]];n[o].nodes.push(lt),B[lt.id]=!0}r.edges.forEach(function(dt){B[dt.source]&&B[dt.target]&&n[o].edges.push(dt)})}}}}),n},Ti=function(e,t,r,n){var a,o,s={};e.nodes.forEach(function(l){s[l.id]=l});var u=0;return!(!((a=t==null?void 0:t.edges)===null||a===void 0)&&a.length)||((o=t==null?void 0:t.nodes)===null||o===void 0?void 0:o.length)<2?0:(e.edges.forEach(function(l){var c=s[l.source][r],d=s[l.target][r],T=t==null?void 0:t.nodes[0][r],I=t==null?void 0:t.nodes[1][r],B=t==null?void 0:t.edges[0][n];l[n]===B&&(c===T&&d===I||c===I&&d===T)&&u++}),u)},ga=function(e,t,r){for(var n=1/0,a=0,o=function(l){var c=e[l],d=Object.keys(c).sort(function(dt,gt){return c[dt]-c[gt]}),T=10,I=[];d.forEach(function(dt,gt){I[gt%T]||(I[gt%T]={graphs:[],totalCount:0,aveCount:0}),I[gt%T].graphs.push(dt),I[gt%T].totalCount+=c[dt]});var B=0,H=[];I.forEach(function(dt){var gt=dt.totalCount/dt.graphs.length;dt.aveCount=gt,H.push(gt);var _t=0,Ht=dt.length;dt.graphs.forEach(function(oe,ie){var Ee=c[oe];dt.graphs.forEach(function(Re,Ae){ie!==Ae&&(_t+=Math.abs(Ee-c[Re]))})}),_t/=Ht*(Ht-1)/2,B+=_t}),B/=I.length;var tt=0;H.forEach(function(dt,gt){H.forEach(function(_t,Ht){gt!==Ht&&(tt+=Math.abs(dt-_t))}),tt/=H.length*(H.length-1)/2});var lt=tt-B;n<lt&&(n=lt,a=l)},s=0;s<t;s++)o(s);return{structure:r[a],structureCountMap:e[a]}},Ri=function(e,t){var r={},n={};return e.forEach(function(a,o){r[a.id]={idx:o,node:a,degree:0,inDegree:0,outDegree:0};var s=a[t];n[s]||(n[s]=[]),n[s].push(a)}),{nodeMap:r,nodeLabelMap:n}},so=function(e,t,r){var n={},a={};return e.forEach(function(o,s){n["".concat(ue)]={idx:s,edge:o};var u=o[t];a[u]||(a[u]=[]),a[u].push(o);var l=r[o.source];l&&(l.degree++,l.outDegree++);var c=r[o.target];c&&(c.degree++,c.inDegree++)}),{edgeMap:n,edgeLabelMap:a}},Ba=function(e,t,r){var n=t.length,a={};return t.forEach(function(o,s){for(var u=r?0:s+1,l=e[s].id,c=u;c<n;c++)if(s!==c){var d=e[c].id,T=o[c];a["".concat(l,"-").concat(d)]=T,r||(a["".concat(d,"-").concat(l)]=T)}}),a},Zi=function(e,t,r,n,a,o,s,u,l,c,d){var T,I="".concat(t.id,"-").concat(r.id);if(c&&c[I])return c[I];var B=d?d[I]:void 0;if(!B){var H=(T={},T[I]={start:n[t.id].idx,end:n[r.id].idx,distance:a},T);d=Mi(H,o,e,d),B=d[I]}return Ti(B,s,u,l)},Fo=function(e,t,r,n){var a,o,s,u=(a=e[t])===null||a===void 0?void 0:a.degree,l=(o=e[t])===null||o===void 0?void 0:o.inDegree,c=(s=e[t])===null||s===void 0?void 0:s.outDegree;return e[t]===void 0&&(u=1/0,l=1/0,c=1/0,n[t].forEach(function(d){var T=r[d.id].degree;u>T&&(u=T);var I=r[d.id].inDegree;l>I&&(l=I);var B=r[d.id].outDegree;c>B&&(c=B)}),e[t]={degree:u,inDegree:l,outDegree:c}),{minPatternNodeLabelDegree:u,minPatternNodeLabelInDegree:l,minPatternNodeLabelOutDegree:c}},uo=function(e,t,r,n,a,o,s){var u;if(r===void 0&&(r=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),!(!e||!e.nodes)){var l=e.nodes.length;if(l){var c=qe(e,r),d=qe(t,r),T=Ba(e.nodes,c,r),I=Ba(t.nodes,d,r),B=Ri(e.nodes,o),H=B.nodeMap,tt=B.nodeLabelMap,lt=Ri(t.nodes,o),dt=lt.nodeMap,gt=lt.nodeLabelMap;so(e.edges,s,H);var _t=so(t.edges,s,dt).edgeLabelMap,Ht=[];d==null||d.forEach(function(Ha){Ht=Ht.concat(Ha)}),a||(a=Math.max.apply(Math,(0,g.__spreadArray)((0,g.__spreadArray)([],Ht,!1),[2],!1))),n||(n=a);var oe=xa(e,c,o,n),ie=xa(t,d,o,n),Ee=Math.min(100,l*(l-1)/2),Re=_o(n,l,Ee,oe,c),Ae=Mi(Re,oe,e),Ve=10,sr=1,tn=1,Tn=4,pn={graphs:Ae,nodeLabelProp:o,edgeLabelProp:s,minSupport:sr,minNodeNum:tn,maxNodeNum:Tn,directed:r},Vr=za(pn).slice(0,Ve),Gn=Vr.length,Rn=[];Vr.forEach(function(Ha,bi){Rn[bi]={},Object.keys(Ae).forEach(function(Wa){var xi=Ae[Wa],Fi=Ti(xi,Ha,o,s);Rn[bi][Wa]=Fi})});var Hr=ga(Rn,Gn,Vr),hn=Hr.structure,On=Hr.structureCountMap,In=t.nodes[0],jn=[],ea=(u=t.nodes[0])===null||u===void 0?void 0:u[o],ba=-1/0;t.nodes.forEach(function(Ha){var bi=Ha[o],Wa=tt[bi];(Wa==null?void 0:Wa.length)>ba&&(ba=Wa.length,jn=Wa,ea=bi,In=Ha)});var Na={},wi={},ii={},Si={},Pi={},io={};Object.keys(gt).forEach(function(Ha,bi){Pi[Ha]=[],r&&(io[Ha]=[]);var Wa=-1/0,xi=gt[Ha],Fi={};xi.forEach(function(ri){var ci=I["".concat(In.id,"-").concat(ri.id)];if(ci&&Pi[Ha].push(ci),Wa<ci&&(Wa=ci),Fi["".concat(In.id,"-").concat(ri.id)]={start:0,end:dt[ri.id].idx,distance:ci},r){var yo=I["".concat(ri.id,"-").concat(In.id)];yo&&io[Ha].push(yo)}}),Pi[Ha]=Pi[Ha].sort(function(ri,ci){return ri-ci}),r&&(io[Ha]=io[Ha].sort(function(ri,ci){return ri-ci})),wi=Mi(Fi,ie,t,wi);var fa=[];if(Object.keys(Fi).forEach(function(ri){if(ii[ri]){fa.push(ii[ri]);return}var ci=wi[ri];ii[ri]=Ti(ci,hn,o,s),fa.push(ii[ri])}),fa=fa.sort(function(ri,ci){return ci-ri}),Si["".concat(In.id,"-").concat(Ha)]=fa,Ha!==ea)for(var Qa=(jn==null?void 0:jn.length)||0,ti=function(ci){var yo=jn[ci],Gs=oe[H[yo.id].idx],Bo=Gs.nodeLabelCountMap[Ha],af=gt[Ha].length;if(!Bo||Bo.count<af)return jn.splice(ci,1),"continue";for(var ed=!1,bs=0;bs<af;bs++)if(Bo.dists[bs]>Pi[Ha][bs]){ed=!0;break}if(ed)return jn.splice(ci,1),"continue";var ru={};Gs.neighbors.forEach(function(xs){var bu=T["".concat(yo.id,"-").concat(xs.id)];ru["".concat(yo.id,"-").concat(xs.id)]={start:H[yo.id].idx,end:H[xs.id].idx,distance:bu}}),Ae=Mi(ru,oe,e,Ae);var Qu=[];Object.keys(ru).forEach(function(xs){if(On[xs]){Qu.push(On[xs]);return}var bu=Ae[xs];On[xs]=Ti(bu,hn,o,s),Qu.push(On[xs])}),Qu=Qu.sort(function(xs,bu){return bu-xs});for(var bc=!1,bs=0;bs<af;bs++)if(Qu[bs]<fa[bs]){bc=!0;break}if(bc)return jn.splice(ci,1),"continue"},zi=Qa-1;zi>=0;zi--)ti(zi)});var Hi=[];jn==null||jn.forEach(function(Ha){for(var bi=H[Ha.id].idx,Wa=Ei(e.nodes,c[bi],bi,o,a),xi=Wa.neighbors,Fi=xi.length,fa=!1,Qa=Fi-1;Qa>=0;Qa--){if(xi.length+1<t.nodes.length){fa=!0;return}var ti=xi[Qa],zi=ti[o];if(!gt[zi]||!gt[zi].length){xi.splice(Qa,1);continue}if(!Pi[zi]||!Pi[zi].length){xi.splice(Qa,1);continue}var ri="".concat(Ha.id,"-").concat(ti.id),ci=T[ri],yo=Pi[zi].length-1,Gs=Pi[zi][yo];if(ci>Gs){xi.splice(Qa,1);continue}if(r){var Bo="".concat(ti.id,"-").concat(Ha.id),af=T[Bo];yo=io[zi].length-1;var ed=io[zi][yo];if(af>ed){xi.splice(Qa,1);continue}}var bs=On[ri]?On[ri]:Zi(e,Ha,ti,H,ci,oe,hn,o,s,On,Ae),ru="".concat(In.id,"-").concat(zi),Qu=Si[ru][Si[ru].length-1];if(bs<Qu){xi.splice(Qa,1);continue}var bc=Fo(Na,zi,dt,gt),xs=bc.minPatternNodeLabelDegree,bu=bc.minPatternNodeLabelInDegree,Il=bc.minPatternNodeLabelOutDegree;if(H[ti.id].degree<xs){xi.splice(Qa,1);continue}}fa||Hi.push({nodes:[Ha].concat(xi)})});var tu=qr(t,In.id,!1).length,jo={};r?(Object.keys(tu).forEach(function(Ha){var bi=dt[Ha].node[o];jo[bi]?jo[bi].push(tu[Ha]):jo[bi]=[tu[Ha]]}),Object.keys(jo).forEach(function(Ha){jo[Ha].sort(function(bi,Wa){return bi-Wa})})):jo=Pi;for(var eu=Hi.length,Vo=function(bi){var Wa=Hi[bi],xi=Wa.nodes[0],Fi={},fa={};Wa.nodes.forEach(function(vo,Us){fa[vo.id]={idx:Us,node:vo,degree:0,inDegree:0,outDegree:0};var Qo=vo[o];Fi[Qo]?Fi[Qo]++:Fi[Qo]=1});var Qa=[],ti={};e.edges.forEach(function(vo){fa[vo.source]&&fa[vo.target]&&(Qa.push(vo),ti[vo[s]]?ti[vo[s]]++:ti[vo[s]]=1,fa[vo.source].degree++,fa[vo.target].degree++,fa[vo.source].outDegree++,fa[vo.target].inDegree++)});for(var zi=Object.keys(_t).length,ri=!1,ci=0;ci<zi;ci++){var yo=Object.keys(_t)[ci];if(!ti[yo]||ti[yo]<_t[yo].length){ri=!0;break}}if(ri)return Hi.splice(bi,1),"continue";var Gs=Qa.length;if(Gs<t.edges.length)return Hi.splice(bi,1),"break";for(var Bo=!1,af=function(Us){var Qo=Qa[Us],qu=Qo[s],of=_t[qu];if(!of||!of.length)return ti[qu]--,of&&ti[qu]<of.length?(Bo=!0,"break"):(Qa.splice(Us,1),fa[Qo.source].degree--,fa[Qo.target].degree--,fa[Qo.source].outDegree--,fa[Qo.target].inDegree--,"continue");var C0=fa[Qo.source].node[o],T0=fa[Qo.target].node[o],Cv=!1;if(of.forEach(function(A0){var O0=dt[A0.source].node,I0=dt[A0.target].node;O0[o]===C0&&I0[o]===T0&&(Cv=!0),!r&&O0[o]===T0&&I0[o]===C0&&(Cv=!0)}),!Cv)return ti[qu]--,of&&ti[qu]<of.length?(Bo=!0,"break"):(Qa.splice(Us,1),fa[Qo.source].degree--,fa[Qo.target].degree--,fa[Qo.source].outDegree--,fa[Qo.target].inDegree--,"continue")},ci=Gs-1;ci>=0;ci--){var ed=af(ci);if(ed==="break")break}if(Bo)return Hi.splice(bi,1),"continue";Wa.edges=Qa;var bs=qr(Wa,Wa.nodes[0].id,!1).length;if(Object.keys(bs).reverse().forEach(function(vo){if(!(vo===Wa.nodes[0].id||Bo)){if(bs[vo]===1/0){var Us=fa[vo].node[o];if(Fi[Us]--,Fi[Us]<gt[Us].length){Bo=!0;return}var Qo=Wa.nodes.indexOf(fa[vo].node);Wa.nodes.splice(Qo,1),fa[vo]=void 0;return}var qu=H[vo].node[o];if(!jo[qu]||!jo[qu].length||bs[vo]>jo[qu][jo[qu].length-1]){var Us=fa[vo].node[o];if(Fi[Us]--,Fi[Us]<gt[Us].length){Bo=!0;return}var Qo=Wa.nodes.indexOf(fa[vo].node);Wa.nodes.splice(Qo,1),fa[vo]=void 0}}}),Bo)return Hi.splice(bi,1),"continue";for(var ru=!0,Qu=0;ru&&!Bo;){ru=!1;var bc=r?fa[xi.id].degree<dt[In.id].degree||fa[xi.id].inDegree<dt[In.id].inDegree||fa[xi.id].outDegree<dt[In.id].outDegree:fa[xi.id].degree<dt[In.id].degree;if(bc){Bo=!0;break}if(Fi[xi[o]]<gt[xi[o]].length){Bo=!0;break}for(var xs=Wa.nodes.length,bu=xs-1;bu>=0;bu--){var Il=Wa.nodes[bu],M0=fa[Il.id].degree,ES=fa[Il.id].inDegree,wS=fa[Il.id].outDegree,SS=Il[o],_v=Fo(Na,SS,dt,gt),_0=_v.minPatternNodeLabelDegree,MS=_v.minPatternNodeLabelInDegree,_S=_v.minPatternNodeLabelOutDegree,CS=r?M0<_0||ES<MS||wS<_S:M0<_0;if(CS){if(Fi[Il[o]]--,Fi[Il[o]]<gt[Il[o]].length){Bo=!0;break}Wa.nodes.splice(bu,1),fa[Il.id]=void 0,ru=!0}}if(Bo||!ru&&Qu!==0)break;Gs=Qa.length;for(var wh=Gs-1;wh>=0;wh--){var Dl=Qa[wh];if(!fa[Dl.source]||!fa[Dl.target]){Qa.splice(wh,1);var Sh=Dl[s];if(ti[Sh]--,fa[Dl.source]&&(fa[Dl.source].degree--,fa[Dl.source].outDegree--),fa[Dl.target]&&(fa[Dl.target].degree--,fa[Dl.target].inDegree--),_t[Sh]&&ti[Sh]<_t[Sh].length){Bo=!0;break}ru=!0}}Qu++}if(Bo||Bo||Wa.nodes.length<t.nodes.length||Qa.length<t.edges.length)return Hi.splice(bi,1),"continue"},Ho=eu-1;Ho>=0;Ho--){var zs=Vo(Ho);if(zs==="break")break}for(var as=Hi.length,ys=function(bi){var Wa=Hi[bi],xi={};Wa.edges.forEach(function(Qa){var ti="".concat(Qa.source,"-").concat(Qa.target,"-").concat(Qa.label);xi[ti]?xi[ti]++:xi[ti]=1});for(var Fi=function(ti){var zi=Hi[ti],ri={};zi.edges.forEach(function(yo){var Gs="".concat(yo.source,"-").concat(yo.target,"-").concat(yo.label);ri[Gs]?ri[Gs]++:ri[Gs]=1});var ci=!0;Object.keys(ri).length!==Object.keys(xi).length?ci=!1:Object.keys(xi).forEach(function(yo){ri[yo]!==xi[yo]&&(ci=!1)}),ci&&Hi.splice(ti,1)},fa=as-1;fa>bi;fa--)Fi(fa);as=Hi.length},Ho=0;Ho<=as-1;Ho++)ys(Ho);return Hi}}},oi=uo,Li=function(){function i(e){e===void 0&&(e=10),this.linkedList=new vt,this.maxStep=e}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),Gi=Li,Zo=on,si={getAdjMatrix:Q,breadthFirstSearch:ne,connectedComponent:qt,getDegree:Zt,getInDegree:se,getOutDegree:Se,detectCycle:on,detectDirectedCycle:Zo,detectAllCycles:nn,detectAllDirectedCycle:Ur,detectAllUndirectedCycle:_r,depthFirstSearch:vr,dijkstra:qr,findAllPath:Ir,findShortestPath:zr,floydWarshall:qe,labelPropagation:rr,louvain:ae,iLouvain:ct,kCore:M,kMeans:mt,cosineSimilarity:Rt,nodesCosineSimilarity:Te,minimumSpanningTree:Lr,pageRank:ce,getNeighbors:Et,Stack:Gi,GADDI:oi},Ai=C(277160),Qn=C(631437),Jt=ht,fe=function(e){return function(t,r){return t[e]-r[e]}},Pe=function(e,t,r){return e>=t&&e<=r},ar=function(e,t,r,n){var a=1e-4,o={x:r.x-e.x,y:r.y-e.y},s={x:t.x-e.x,y:t.y-e.y},u={x:n.x-r.x,y:n.y-r.y},l=s.x*u.y-s.y*u.x,c=l*l,d=1/l,T=s.x*s.x+s.y*s.y,I=u.x*u.x+u.y*u.y;if(c>a*T*I){var B=(o.x*u.y-o.y*u.x)*d,H=(o.x*s.y-o.y*s.x)*d;return!Pe(B,0,1)||!Pe(H,0,1)?null:{x:e.x+B*s.x,y:e.y+B*s.y}}return null},Tr=function(e,t){var r=e.x,n=e.y,a=e.width,o=e.height,s=r+a/2,u=n+o/2,l=[],c={x:s,y:u};l.push({x:r,y:n}),l.push({x:r+a,y:n}),l.push({x:r+a,y:n+o}),l.push({x:r,y:n+o}),l.push({x:r,y:n});for(var d=null,T=1;T<l.length&&(d=ar(l[T-1],l[T],c,t),!d);T++);return d},Sr=function(e,t){var r=e.x,n=e.y,a=e.r,o=t.x,s=t.y,u=o-r,l=s-n;if(u*u+l*l<a*a)return null;var c=Math.atan(l/u);return{x:r+Math.abs(a*Math.cos(c))*Math.sign(u),y:n+Math.abs(a*Math.sin(c))*Math.sign(l)}},xr=function(e,t){var r=e.rx,n=e.ry,a=e.x,o=e.y,s=t.x-a,u=t.y-o,l=Math.atan2(u/n,s/r);return l<0&&(l+=2*Math.PI),{x:a+r*Math.cos(l),y:o+n*Math.sin(l)}},Kr=function(e,t,r){r===void 0&&(r=1);var n=[e.x,e.y,r];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Ai.transformMat3(n,n,t),{x:n[0],y:n[1]}},cn=function(e,t,r){r===void 0&&(r=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=q.invert([1,0,0,0,1,0,0,0,1],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[e.x,e.y,r];return Ai.transformMat3(a,a,n),{x:a[0],y:a[1]}},Mn=function(e,t,r){var n=e.x-t.x,a=e.y-t.y,o=e.x-r.x,s=e.y-r.y,u=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,l=(e.x*e.x-r.x*r.x-r.y*r.y+e.y*e.y)/2,c=a*o-n*s;return{x:-(s*u-a*l)/c,y:-(n*l-o*u)/c}},Zn=function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)},Un=function(e,t){var r=[];return e.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),r.push(a)}),r},na=function(e){for(var t=[],r=e.length,n=0;n<r;n+=1){t[n]=[];for(var a=0;a<r;a+=1)n===a?t[n][a]=0:e[n][a]===0||!e[n][a]?t[n][a]=1/0:t[n][a]=e[n][a]}for(var o=0;o<r;o+=1)for(var n=0;n<r;n+=1)for(var a=0;a<r;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},aa=function(e,t){var r=e.nodes,n=e.edges,a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,u){o[s.id]=u;var l=[];a.push(l)}),n&&n.forEach(function(s){var u=s.source,l=s.target,c=o[u],d=o[l];a[c][d]=1,t||(a[d][c]=1)}),a},Ya=function(e,t){e.translate(t.x,t.y)},ua=function(e,t,r,n){n===void 0&&(n={duration:500});var a=e.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),s=t.x-o.minX,u=t.y-o.minY;if(r){var l=s*a[0],c=u*a[4],d=0,T=0,I=0,B=0;e.animate(function(tt){return I=l*tt,B=c*tt,a=Jt(a,[["t",I-d,B-T]]),d=I,T=B,{matrix:a}},n)}else{var H=Jt(a,[["t",s,u]]);e.setMatrix(H)}},$n=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=t;(0,f.isArray)(t)||(n=[t,t]),(0,f.isArray)(t)&&t.length===1&&(n=[t[0],t[0]]),r=Jt(r,[["s",n[0],n[1]]]),e.setMatrix(r)},Ga=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]),r=Jt(r,[["r",t]]),e.setMatrix(r)},Pa=function(e,t,r){for(var n=[],a=0;a<e;a++)n[a]=0;return r.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function Ea(i,e,t){return(t[0]-i[0])*(e[1]-i[1])===(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}var ui=function(e,t,r){var n=!1,a=e.length,o=1e-6;function s(d){return Math.abs(d)<o?0:d<0?-1:1}if(a<=2)return!1;for(var u=0;u<a;u++){var l=e[u],c=e[(u+1)%a];if(Ea(l,c,[t,r]))return!0;s(l[1]-r)>0!=s(c[1]-r)>0&&s(t-(r-l[1])*(l[0]-c[0])/(l[1]-c[1])-l[0])<0&&(n=!n)}return n},qa=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},Ra=function(e,t){var r=!1;return(0,f.each)(e,function(n){if(ar(n.from,n.to,t.from,t.to))return r=!0,!1}),r},Ca=function(e,t){var r=function(T){var I=T.map(function(H){return H[0]}),B=T.map(function(H){return H[1]});return{minX:Math.min.apply(null,I),maxX:Math.max.apply(null,I),minY:Math.min.apply(null,B),maxY:Math.max.apply(null,B)}},n=function(T){for(var I=[],B=T.length,H=0;H<B-1;H++){var tt=T[H],lt=T[H+1];I.push({from:{x:tt[0],y:tt[1]},to:{x:lt[0],y:lt[1]}})}if(I.length>1){var dt=T[0],gt=T[B-1];I.push({from:{x:gt[0],y:gt[1]},to:{x:dt[0],y:dt[1]}})}return I};if(e.length<2||t.length<2)return!1;var a=r(e),o=r(t);if(!qa(a,o))return!1;var s=!1;if((0,f.each)(t,function(d){if(ui(e,d[0],d[1]))return s=!0,!1}),s||((0,f.each)(e,function(d){if(ui(t,d[0],d[1]))return s=!0,!1}),s))return!0;var u=n(e),l=n(t),c=!1;return(0,f.each)(l,function(d){if(Ra(u,d))return c=!0,!1}),c},va=function(){function i(e,t,r,n){this.x1=e,this.y1=t,this.x2=r,this.y2=n}return i.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:e,y:t,minX:e,minY:t,maxX:r,maxY:n,width:r-e,height:n-t};return a},i}(),fi=function(e,t){var r={top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]};return r[t]},ni=function(e,t){var r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),a=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(a){var o=r/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},di=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=0,o=[],s=0;s<4;s++){var u=fi(n,r[s]),l=u[0],c=u[1],d=u[2],T=u[3];o[s]=ar({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:l,y:c},{x:d,y:T}),o[s]&&(a+=1)}return[o,a]},ki=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var u=fi(n,r[s]),l=u[0],c=u[1],d=u[2],T=u[3],I=ni(t,new va(l,c,d,T));I=Math.abs(I-.5),I>=0&&I<=1&&(o+=1,a=I<a?I:a)}return o===0?-1:a},Oi=function(e){var t=0,r=0;if(e.length>0){for(var n=0,a=e;n<a.length;n++){var o=a[n];t+=o.x,r+=o.y}t/=e.length,r/=e.length}return{x:t,y:r}},Ui=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},To=function(e,t){var r=t.x1,n=t.y1,a=t.x2-r,o=t.y2-n,s=e.x-r,u=e.y-n,l=s*a+u*o,c;l<=0?c=0:(s=a-s,u=o-u,l=s*a+u*o,l<=0?c=0:c=l*l/(a*a+o*o));var d=s*s+u*u-c;return d<0&&(d=0),d},Ao=function(e,t,r){return r===void 0&&(r=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(r,2)},Ni=function(e,t){var r=e.x<t.x,n=e.x>t.x+t.width,a=e.y>t.y+t.height,o=e.y<t.y,s=r||n||a||o;if(!s)return 0;if(a&&!r&&!n)return Math.pow(t.y+t.height-e.y,2);if(o&&!r&&!n)return Math.pow(e.y-t.y,2);if(r&&!a&&!o)return Math.pow(t.x-e.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-e.x,2);var u=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),l=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return u*u+l*l},ka=function(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=t.x,u=t.y,l=[a-r,o-n];if(Qn.exactEquals(l,[0,0]))return NaN;var c=[-l[1],l[0]];Qn.normalize(c,c);var d=[s-r,u-n];return Math.abs(Qn.dot(d,c))},pi=function(e,t,r){return e+(t-e)*r},Bi=function(e,t,r){for(var n=Math.min(e.length,t.length),a=new Array(n),o=0;o<n;o++)a[o]=pi(e[o],t[o],r);return a},Ma="rgb(95, 149, 255)",Wi="rgb(255, 255, 255)",lo="rgb(0, 0, 0)",_i="rgb(247, 250, 255)",Do="rgb(239, 244, 255)",gi="rgb(253, 253, 253)",co="rgb(250, 250, 250)",zo="rgb(224, 224, 224)",ts="rgb(234, 234, 234)",Yi="rgb(245, 245, 245)",Go="rgb(191, 213, 255)",Uo="#4572d9",fs="rgb(223, 234, 255)",ha={mainStroke:Ma,mainFill:Do,activeStroke:Ma,activeFill:_i,inactiveStroke:Go,inactiveFill:_i,selectedStroke:Ma,selectedFill:Wi,highlightStroke:Uo,highlightFill:fs,disableStroke:zo,disableFill:co,edgeMainStroke:zo,edgeActiveStroke:Ma,edgeInactiveStroke:ts,edgeSelectedStroke:Ma,edgeHighlightStroke:Ma,edgeDisableStroke:Yi,comboMainStroke:zo,comboMainFill:gi,comboActiveStroke:Ma,comboActiveFill:_i,comboInactiveStroke:zo,comboInactiveFill:gi,comboSelectedStroke:Ma,comboSelectedFill:gi,comboHighlightStroke:Uo,comboHighlightFill:gi,comboDisableStroke:ts,comboDisableFill:co},Wt={version:"0.8.7",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:ha.mainStroke,fill:Do},size:20,color:ha.mainStroke,linkPoints:{size:8,lineWidth:1,fill:ha.activeFill,stroke:ha.activeStroke}},nodeStateStyles:{active:{fill:ha.activeFill,stroke:ha.activeStroke,lineWidth:2,shadowColor:ha.mainStroke,shadowBlur:10},selected:{fill:ha.selectedFill,stroke:ha.selectedStroke,lineWidth:4,shadowColor:ha.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:ha.highlightFill,stroke:ha.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:ha.inactiveFill,stroke:ha.inactiveStroke,lineWidth:1},disable:{fill:ha.disableFill,stroke:ha.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:lo,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ha.edgeMainStroke,lineAppendWidth:2},color:ha.edgeMainStroke},edgeStateStyles:{active:{stroke:ha.edgeActiveStroke,lineWidth:1},selected:{stroke:ha.edgeSelectedStroke,lineWidth:2,shadowColor:ha.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ha.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ha.edgeInactiveStroke,lineWidth:1},disable:{stroke:ha.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:lo,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ha.comboMainFill,lineWidth:1,stroke:ha.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:ha.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:ha.comboActiveStroke,lineWidth:1,fill:ha.comboActiveFill},selected:{stroke:ha.comboSelectedStroke,lineWidth:2,fill:ha.comboSelectedFill,shadowColor:ha.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ha.comboHighlightStroke,lineWidth:2,fill:ha.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:ha.comboInactiveStroke,fill:ha.comboInactiveFill,lineWidth:1},disable:{stroke:ha.comboDisableStroke,fill:ha.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:typeof window!="undefined"&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Le={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Je=Math.PI,mr=Math.sin,Zr=Math.cos,fn=mr(Je/8),Fn=Zr(Je/8),Da=function(e,t){var r=e.getBBox(),n={x:r.minX,y:r.minY},a={x:r.maxX,y:r.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Kr(n,o),a=Kr(a,o)}var s=n.x,u=n.y,l=a.x,c=a.y;return{x:s,y:u,minX:s,minY:u,maxX:l,maxY:c,width:l-s,height:c-u}},hi=function(e){var t=e.sourceNode||e.targetNode,r=t.get("group"),n=r.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=e.loopCfg||{},u=s.dist||Math.max(o.width,o.height)*2,l=s.position||Wt.defaultLoopPosition,c=[(o.minX+o.maxX)/2+n[6],(o.minY+o.maxY)/2+n[7]],d=[e.startPoint.x,e.startPoint.y],T=[e.endPoint.x,e.endPoint.y],I=o.height/2,B=o.width/2,H=I,tt=I,lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,Ht=a.get("type"),oe=Math.min(I/2,B/2),ie=Math.min(I,B),Ee=s!=null&&s.pointPadding?Math.min(ie,s==null?void 0:s.pointPadding):oe;if(d[0]===T[0]&&d[1]===T[1]){switch(l){case"top":Ht==="circle"?(d=[c[0]-lt,c[1]-dt],T=[c[0]+gt,c[1]-_t]):(d=[c[0]-Ee,c[1]-I],T=[c[0]+Ee,c[1]-I]);break;case"top-right":H=I,tt=B,Ht==="circle"?(lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,d=[c[0]+lt,c[1]-dt],T=[c[0]+_t,c[1]-gt]):(d=[c[0]+B-Ee,c[1]-I],T=[c[0]+B,c[1]-I+Ee]);break;case"right":H=B,tt=B,Ht==="circle"?(lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,d=[c[0]+dt,c[1]-lt],T=[c[0]+_t,c[1]+gt]):(d=[c[0]+B,c[1]-Ee],T=[c[0]+B,c[1]+Ee]);break;case"bottom-right":H=B,tt=I,Ht==="circle"?(lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,d=[c[0]+dt,c[1]+lt],T=[c[0]+gt,c[1]+_t]):(d=[c[0]+B,c[1]+I-Ee],T=[c[0]+B-Ee,c[1]+I]);break;case"bottom":H=I,tt=I,Ht==="circle"?(lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,d=[c[0]+lt,c[1]+dt],T=[c[0]-gt,c[1]+_t]):(d=[c[0]-Ee,c[1]+I],T=[c[0]+Ee,c[1]+I]);break;case"bottom-left":H=I,tt=B,Ht==="circle"?(lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,d=[c[0]-lt,c[1]+dt],T=[c[0]-_t,c[1]+gt]):(d=[c[0]-B,c[1]+I-Ee],T=[c[0]-B+Ee,c[1]+I]);break;case"left":H=B,tt=B,Ht==="circle"?(lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,d=[c[0]-dt,c[1]+lt],T=[c[0]-_t,c[1]-gt]):(d=[c[0]-B,c[1]-Ee],T=[c[0]-B,c[1]+Ee]);break;case"top-left":H=B,tt=I,Ht==="circle"?(lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,d=[c[0]-dt,c[1]-lt],T=[c[0]-gt,c[1]-_t]):(d=[c[0]-B+Ee,c[1]-I],T=[c[0]-B,c[1]-I+Ee]);break;default:H=B,tt=B,lt=H*fn,dt=H*Fn,gt=tt*fn,_t=tt*Fn,d=[c[0]-lt,c[1]-dt],T=[c[0]+gt,c[1]-_t]}if(s.clockwise===!1){var Re=[d[0],d[1]];d=[T[0],T[1]],T=[Re[0],Re[1]]}}var Ae=[d[0]-c[0],d[1]-c[1]],Ve=(H+u)/H,sr=(tt+u)/tt;s.clockwise===!1&&(Ve=(tt+u)/tt,sr=(H+u)/H);var tn=Qn.scale([0,0],Ae,Ve),Tn=[c[0]+tn[0],c[1]+tn[1]],pn=[T[0]-c[0],T[1]-c[1]],Vr=Qn.scale([0,0],pn,sr),Gn=[c[0]+Vr[0],c[1]+Vr[1]];return e.startPoint={x:d[0],y:d[1]},e.endPoint={x:T[0],y:T[1]},e.controlPoints=[{x:Tn[0],y:Tn[1]},{x:Gn[0],y:Gn[1]}],e},to=function(e,t,r,n,a){var o=1e-4,s=[],u=e==null?void 0:e.getPoint(t);if(!u)return{x:0,y:0,angle:0};if(t<o)s=e.getStartTangent().reverse();else if(t>1-o)s=e.getEndTangent();else{var l=e==null?void 0:e.getPoint(t+o);s.push([u.x,u.y]),s.push([l.x,l.y])}var c=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(c<0&&(c+=Je*2),r&&(u.x+=Zr(c)*r,u.y+=mr(c)*r),n){var d=c-Je/2;c>1/2*Je&&c<3*1/2*Je&&(d-=Je),u.x+=Zr(d)*n,u.y+=mr(d)*n}var T={x:u.x,y:u.y,angle:c};return a?(c>.5*Je&&c<1.5*Je&&(c-=Je),(0,g.__assign)({rotate:c},T)):T},bo=function i(e,t,r,n){if(n(e,t,r)===!1)return!1;if(e&&e.children){for(var a=e.children.length-1;a>=0;a--)if(!i(e.children[a],e,a,n))return!1}return!0},ds=function i(e,t,r,n){if(e&&e.children){for(var a=e.children.length-1;a>=0;a--)if(!i(e.children[a],e,a,n))return}return n(e,t,r)!==!1},Ii=function(e,t){typeof t=="function"&&bo(e,null,-1,t)},eo=function(e,t){typeof t=="function"&&ds(e,null,-1,t)},Wo=function(e,t){return t*(Le[e]||1)},hs=function(e,t){var r=0,n=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(a){n.test(a)?r+=t:r+=Wo(a,t)}),[r,t]},qo=function(e,t){return typeof t!="number"||t<=0||t>=e.length?e:e.substring(0,t)+"..."},Es=function(e,t){var r=[],n={},a={};e.forEach(function(u){a[u.id]=u}),e.forEach(function(u,l){var c=(0,f.clone)(u);c.itemType="combo",c.children=void 0,c.parentId===c.id?(console.warn("The parentId for combo ".concat(c.id," can not be the same as the combo's id")),delete c.parentId):c.parentId&&!a[c.parentId]&&(console.warn("The parent combo for combo ".concat(c.id," does not exist!")),delete c.parentId);var d=n[c.id];if(d){if(c.children=d.children,n[c.id]=c,d=c,!d.parentId){r.push(d);return}var T=n[d.parentId];if(T)T.children?T.children.push(c):T.children=[c];else{var I={id:d.parentId,children:[d]};n[d.parentId]=I,n[c.id]=c}return}if((0,f.isString)(u.parentId)){var B=n[u.parentId];if(B)B.children?B.children.push(c):B.children=[c],n[c.id]=c;else{var H={id:u.parentId,children:[c]};n[H.id]=H,n[c.id]=c}}else r.push(c),n[c.id]=c});var o={};(t||[]).forEach(function(u){o[u.id]=u;var l=n[u.comboId];if(l){var c={id:u.id,comboId:u.comboId};l.children?l.children.push(c):l.children=[c],c.itemType="node",n[u.id]=c}});var s=0;return r.forEach(function(u){u.depth=s+10,Ii(u,function(l){var c,d=n[l.id].itemType;d==="node"?c=n[l.comboId]:c=n[l.parentId],c&&d==="node"?l.depth=s+1:l.depth=s+10,s<l.depth&&(s=l.depth);var T=o[l.id];return T&&(T.depth=l.depth),!0})}),r},As=function(e,t,r){var n,a=e,o,s={root:{children:e}},u=!1,l="root";(e||[]).forEach(function(B){if(!u){if(B.id===t){o=B,B.itemType==="combo"?o.parentId=r:o.comboId=r,u=!0;return}Ii(B,function(H){var tt;return s[H.id]={children:(H==null?void 0:H.children)||[]},a=(tt=s[H.parentId||H.comboId||"root"])===null||tt===void 0?void 0:tt.children,H&&(H.removed||t===H.id)&&a?(l=H.parentId||H.comboId||"root",o=H,H.itemType==="combo"?o.parentId=r:o.comboId=r,u=!0,!1):!0})}}),a=(n=s[l])===null||n===void 0?void 0:n.children;var c=a?a.indexOf(o):-1;if(c>-1&&a.splice(c,1),u||(o={id:t,itemType:"node",comboId:r},s[t]={children:void 0}),t){var d=!1;if(r){var T=0;(e||[]).forEach(function(B){d||Ii(B,function(H){return r===H.id?(d=!0,H.children?H.children.push(o):H.children=[o],T=H.depth,o.itemType==="node"?o.depth=T+2:o.depth=T+1,!1):!0})})}else(!r||!d)&&o.itemType!=="node"&&e.push(o);var I=o.depth;Ii(o,function(B){return B.itemType==="node"?I+=2:I+=1,B.depth=I,!0})}return e},ws=function(e,t,r){var n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||e.length===0){var a=r==null?void 0:r.getModel(),o=a||{},s=o.x,u=o.y,l=o.fixSize,c=o.collapsed,d=o.fixCollapseSize,T=c?d:l,I=(0,f.isArray)(T)?T:[T,T],B=I[0],H=I[1],tt=[B/2,H/2];return{minX:s-tt[0],minY:u-tt[1],maxX:s+tt[0],maxY:u+tt[1],x:s,y:u,width:B,height:H}}return e.forEach(function(lt){var dt=t.findById(lt.id);if(!(!dt||!dt.isVisible())){dt.set("bboxCanvasCache",void 0);var gt=dt.getCanvasBBox();gt.x&&n.minX>gt.minX&&(n.minX=gt.minX),gt.y&&n.minY>gt.minY&&(n.minY=gt.minY),gt.x&&n.maxX<gt.maxX&&(n.maxX=gt.maxX),gt.y&&n.maxY<gt.maxY&&(n.maxY=gt.maxY)}}),n.x=(n.minX+n.maxX)/2,n.y=(n.minY+n.maxY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,(r==null?void 0:r.getKeyShape().get("type"))==="circle"&&(n.width=Math.hypot(n.height,n.width),n.height=n.width),Object.keys(n).forEach(function(lt){(n[lt]===1/0||n[lt]===-1/0)&&(n[lt]=void 0)}),n},nu=function(e){var t=(0,f.isNumber)(e.x)||(0,f.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,f.isNumber)(e.style.r)||(0,f.isNumber)(e.style.width)||(0,f.isNumber)(e.style.height)||(0,f.isNumber)(e.style.rx)||(0,f.isNumber)(e.style.ry)),t},Ko=function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if((0,f.isObject)(n)&&!(0,f.isArray)(n)){var a={};Object.keys(n).forEach(function(o){var s=n[o];o==="img"&&!(0,f.isString)(s)||(a[o]=(0,f.clone)(s))}),t[r]=a}else t[r]=(0,f.clone)(n)}),t},is=function(e){var t=e.animateCfg,r=e.callback,n;if(!t)n={duration:500,callback:r};else if(n=(0,f.clone)(t),t.callback){var a=t.callback;n.callback=function(){r(),a()}}else n.callback=r;return n},vs=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,r=e.edges,n=e.combos,a=n===void 0?[]:n;if(!t&&!r){var o=!0;return Ii(e,function(T){return(0,f.isString)(T.id)?!0:(o=!1,!1)}),o}var s=(t||[]).find(function(T){return!(0,f.isString)(T.id)});if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var u=(t||[]).map(function(T){return T.id}),l=a==null?void 0:a.map(function(T){return T.id}),c=(0,g.__spreadArray)((0,g.__spreadArray)([],u,!0),l,!0),d=(r||[]).find(function(T){return!c.includes(T.source)||!c.includes(T.target)});return d?(console.warn("G6 Warning Tips: The source %c".concat(d.source,"%c or the target %c").concat(d.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},Po=function(e,t){if(e==="node"||e==="combo"){if(t.id&&!(0,f.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(e==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},xu=function(){function i(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var e=this.modes;(0,f.each)(e,function(t){(0,f.each)(t,function(r,n){(0,f.isString)(r)&&(t[n]={type:r})})})},i.prototype.setBehaviors=function(e){var t=this.graph,r=this.modes[e],n=[],a;(0,f.each)(r||[],function(o){var s=U.getBehavior(o.type||o);s&&(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(e,t){return(0,f.each)(t,function(r){e.indexOf(r)<0&&((0,f.isString)(r)&&(r={type:r}),e.push(r))}),e},i.filterBehaviors=function(e,t){var r=[];return e.forEach(function(n){var a="";(0,f.isString)(n)?a=n:a=n.type,t.indexOf(a)<0&&r.push(n)}),r},i.prototype.setMode=function(e){var t=this,r=t.modes,n=t.graph,a=e,o=r[a];o&&(n.emit("beforemodechange",{mode:e}),(0,f.each)(this.currentBehaves,function(s){s.delegate&&s.delegate.remove(),s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:e}),this.mode=e)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(e,t,r){var n=this,a;if((0,f.isArray)(e)?a=e:a=[e],(0,f.isArray)(t))return(0,f.each)(t,function(s){n.modes[s]?r?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):r&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||r&&(this.modes[o]=a),r?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.formatModes(),this.setMode(this.mode),this},i.prototype.updateBehavior=function(e,t,r){(0,f.isString)(e)&&(e={type:e});var n=[];if(!r||r===this.mode||r==="default"){if(n=this.currentBehaves,!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var a=n.length,o=0;o<a;o++){var s=n[o];if(s.type===e.type)return s.updateCfg(t),this;o===a-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(n=this.modes[r],!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var u=n.length,o=0;o<u;o++){var s=n[o];if(s.type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),n[o]=s,this;o===u-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),Eu=xu,Xi=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,xo=new RegExp("([a-z])["+Xi+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Xi+"]*,?["+Xi+"]*)+)","ig"),Lo=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Xi+"]*,?["+Xi+"]*","ig"),h=function(i){if(!i)return null;if((0,f.isArray)(i))return i;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(i).replace(xo,function(r,n,a){var o=[],s=n.toLowerCase();if(a.replace(Lo,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return i}),t},X=function(i,e){for(var t=[],r=0,n=i.length;n-2*!e>r;r+=2){var a=[{x:+i[r-2],y:+i[r-1]},{x:+i[r],y:+i[r+1]},{x:+i[r+2],y:+i[r+3]},{x:+i[r+4],y:+i[r+5]}];e?r?n-4===r?a[3]={x:+i[0],y:+i[1]}:n-2===r&&(a[2]={x:+i[0],y:+i[1]},a[3]={x:+i[2],y:+i[3]}):a[0]={x:+i[n-2],y:+i[n-1]}:n-4===r?a[3]=a[2]:r||(a[0]={x:+i[r],y:+i[r+1]}),t.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return t},wt=function(i,e,t,r,n){var a=[];if(n===null&&r===null&&(r=t),i=+i,e=+e,t=+t,r=+r,n!==null){var o=Math.PI/180,s=i+t*Math.cos(-r*o),u=i+t*Math.cos(-n*o),l=e+t*Math.sin(-r*o),c=e+t*Math.sin(-n*o);a=[["M",s,l],["A",t,t,0,+(n-r>180),0,u,c]]}else a=[["M",i,e],["m",0,-r],["a",t,r,0,1,1,0,2*r],["a",t,r,0,1,1,0,-2*r],["z"]];return a},Bt=function(i){if(i=h(i),!i||!i.length)return[["M",0,0]];var e=[],t=0,r=0,n=0,a=0,o=0,s,u;i[0][0]==="M"&&(t=+i[0][1],r=+i[0][2],n=t,a=r,o++,e[0]=["M",t,r]);for(var l=i.length===3&&i[0][0]==="M"&&i[1][0].toUpperCase()==="R"&&i[2][0].toUpperCase()==="Z",c=void 0,d=void 0,T=o,I=i.length;T<I;T++){if(e.push(c=[]),d=i[T],s=d[0],s!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+d[6]+t,c[7]=+d[7]+r;break;case"V":c[1]=+d[1]+r;break;case"H":c[1]=+d[1]+t;break;case"R":u=[t,r].concat(d.slice(1));for(var B=2,H=u.length;B<H;B++)u[B]=+u[B]+t,u[++B]=+u[B]+r;e.pop(),e=e.concat(X(u,l));break;case"O":e.pop(),u=wt(t,r,d[1],d[2]),u.push(u[0]),e=e.concat(u);break;case"U":e.pop(),e=e.concat(wt(t,r,d[1],d[2],d[3])),c=["U"].concat(e[e.length-1].slice(-2));break;case"M":n=+d[1]+t,a=+d[2]+r;break;default:for(var B=1,H=d.length;B<H;B++)c[B]=+d[B]+(B%2?t:r)}else if(s==="R")u=[t,r].concat(d.slice(1)),e.pop(),e=e.concat(X(u,l)),c=["R"].concat(d.slice(-2));else if(s==="O")e.pop(),u=wt(t,r,d[1],d[2]),u.push(u[0]),e=e.concat(u);else if(s==="U")e.pop(),e=e.concat(wt(t,r,d[1],d[2],d[3])),c=["U"].concat(e[e.length-1].slice(-2));else for(var tt=0,lt=d.length;tt<lt;tt++)c[tt]=d[tt];if(s=s.toUpperCase(),s!=="O")switch(c[0]){case"Z":t=+n,r=+a;break;case"H":t=c[1];break;case"V":r=c[1];break;case"M":n=c[c.length-2],a=c[c.length-1];break;default:t=c[c.length-2],r=c[c.length-1]}}return e},Qt=function(i,e,t,r){return[i,e,t,r,t,r]},de=function(i,e,t,r,n,a){var o=.3333333333333333,s=2/3;return[o*i+s*t,o*e+s*r,o*n+s*t,o*a+s*r,n,a]},ve=function(i,e,t,r,n,a,o,s,u,l){t===r&&(t+=1);var c=Math.PI*120/180,d=Math.PI/180*(+n||0),T=[],I,B,H,tt,lt,dt=function(wi,ii,Si){var Pi=wi*Math.cos(Si)-ii*Math.sin(Si),io=wi*Math.sin(Si)+ii*Math.cos(Si);return{x:Pi,y:io}};if(l)B=l[0],H=l[1],tt=l[2],lt=l[3];else{I=dt(i,e,-d),i=I.x,e=I.y,I=dt(s,u,-d),s=I.x,u=I.y,i===s&&e===u&&(s+=1,u+=1);var gt=(i-s)/2,_t=(e-u)/2,Ht=gt*gt/(t*t)+_t*_t/(r*r);Ht>1&&(Ht=Math.sqrt(Ht),t=Ht*t,r=Ht*r);var oe=t*t,ie=r*r,Ee=(a===o?-1:1)*Math.sqrt(Math.abs((oe*ie-oe*_t*_t-ie*gt*gt)/(oe*_t*_t+ie*gt*gt)));tt=Ee*t*_t/r+(i+s)/2,lt=Ee*-r*gt/t+(e+u)/2,B=Math.asin(((e-lt)/r).toFixed(9)),H=Math.asin(((u-lt)/r).toFixed(9)),B=i<tt?Math.PI-B:B,H=s<tt?Math.PI-H:H,B<0&&(B=Math.PI*2+B),H<0&&(H=Math.PI*2+H),o&&B>H&&(B=B-Math.PI*2),!o&&H>B&&(H=H-Math.PI*2)}var Re=H-B;if(Math.abs(Re)>c){var Ae=H,Ve=s,sr=u;H=B+c*(o&&H>B?1:-1),s=tt+t*Math.cos(H),u=lt+r*Math.sin(H),T=ve(s,u,t,r,n,0,o,Ve,sr,[H,Ae,tt,lt])}Re=H-B;var tn=Math.cos(B),Tn=Math.sin(B),pn=Math.cos(H),Vr=Math.sin(H),Gn=Math.tan(Re/4),Rn=4/3*t*Gn,Hr=4/3*r*Gn,hn=[i,e],On=[i+Rn*Tn,e-Hr*tn],In=[s+Rn*Vr,u-Hr*pn],jn=[s,u];if(On[0]=2*hn[0]-On[0],On[1]=2*hn[1]-On[1],l)return[On,In,jn].concat(T);T=[On,In,jn].concat(T).join().split(",");for(var ea=[],ba=0,Na=T.length;ba<Na;ba++)ea[ba]=ba%2?dt(T[ba-1],T[ba],d).y:dt(T[ba],T[ba+1],d).x;return ea},_e=function(i,e){var t=Bt(i),r=e&&Bt(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],u="",l="",c,d=function(gt,_t,Ht){var oe,ie;if(!gt)return["C",_t.x,_t.y,_t.x,_t.y,_t.x,_t.y];switch(!(gt[0]in{T:1,Q:1})&&(_t.qx=_t.qy=null),gt[0]){case"M":_t.X=gt[1],_t.Y=gt[2];break;case"A":gt=["C"].concat(ve.apply(0,[_t.x,_t.y].concat(gt.slice(1))));break;case"S":Ht==="C"||Ht==="S"?(oe=_t.x*2-_t.bx,ie=_t.y*2-_t.by):(oe=_t.x,ie=_t.y),gt=["C",oe,ie].concat(gt.slice(1));break;case"T":Ht==="Q"||Ht==="T"?(_t.qx=_t.x*2-_t.qx,_t.qy=_t.y*2-_t.qy):(_t.qx=_t.x,_t.qy=_t.y),gt=["C"].concat(de(_t.x,_t.y,_t.qx,_t.qy,gt[1],gt[2]));break;case"Q":_t.qx=gt[1],_t.qy=gt[2],gt=["C"].concat(de(_t.x,_t.y,gt[1],gt[2],gt[3],gt[4]));break;case"L":gt=["C"].concat(Qt(_t.x,_t.y,gt[1],gt[2]));break;case"H":gt=["C"].concat(Qt(_t.x,_t.y,gt[1],_t.y));break;case"V":gt=["C"].concat(Qt(_t.x,_t.y,_t.x,gt[1]));break;case"Z":gt=["C"].concat(Qt(_t.x,_t.y,_t.X,_t.Y));break;default:break}return gt},T=function(gt,_t){if(gt[_t].length>7){gt[_t].shift();for(var Ht=gt[_t];Ht.length;)o[_t]="A",r&&(s[_t]="A"),gt.splice(_t++,0,["C"].concat(Ht.splice(0,6)));gt.splice(_t,1),c=Math.max(t.length,r&&r.length||0)}},I=function(gt,_t,Ht,oe,ie){gt&&_t&&gt[ie][0]==="M"&&_t[ie][0]!=="M"&&(_t.splice(ie,0,["M",oe.x,oe.y]),Ht.bx=0,Ht.by=0,Ht.x=gt[ie][1],Ht.y=gt[ie][2],c=Math.max(t.length,r&&r.length||0))};c=Math.max(t.length,r&&r.length||0);for(var B=0;B<c;B++){t[B]&&(u=t[B][0]),u!=="C"&&(o[B]=u,B&&(l=o[B-1])),t[B]=d(t[B],n,l),o[B]!=="A"&&u==="C"&&(o[B]="C"),T(t,B),r&&(r[B]&&(u=r[B][0]),u!=="C"&&(s[B]=u,B&&(l=s[B-1])),r[B]=d(r[B],a,l),s[B]!=="A"&&u==="C"&&(s[B]="C"),T(r,B)),I(t,r,n,a,B),I(r,t,a,n,B);var H=t[B],tt=r&&r[B],lt=H.length,dt=r&&tt.length;n.x=H[lt-2],n.y=H[lt-1],n.bx=parseFloat(H[lt-4])||n.x,n.by=parseFloat(H[lt-3])||n.y,a.bx=r&&(parseFloat(tt[dt-4])||a.x),a.by=r&&(parseFloat(tt[dt-3])||a.y),a.x=r&&tt[dt-2],a.y=r&&tt[dt-1]}return r?[t,r]:t},De=/,?([a-z]),?/gi,Ye=function(i){return i.join(",").replace(De,"$1")},or=function(i,e,t,r,n){var a=-3*e+9*t-9*r+3*n,o=i*a+6*e-12*t+6*r;return i*o-3*e+3*t},Br=function(i,e,t,r,n,a,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],T=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],I=0,B=0;B<c;B++){var H=l*d[B]+l,tt=or(H,i,t,n,o),lt=or(H,e,r,a,s),dt=tt*tt+lt*lt;I+=T[B]*Math.sqrt(dt)}return l*I},Wr=function(i,e,t,r,n,a,o,s){for(var u=[],l=[[],[]],c,d,T,I,B=0;B<2;++B){if(B===0?(d=6*i-12*t+6*n,c=-3*i+9*t-9*n+3*o,T=3*t-3*i):(d=6*e-12*r+6*a,c=-3*e+9*r-9*a+3*s,T=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(d)<1e-12)continue;I=-T/d,I>0&&I<1&&u.push(I);continue}var H=d*d-4*T*c,tt=Math.sqrt(H);if(!(H<0)){var lt=(-d+tt)/(2*c);lt>0&&lt<1&&u.push(lt);var dt=(-d-tt)/(2*c);dt>0&&dt<1&&u.push(dt)}}for(var gt=u.length,_t=gt,Ht;gt--;)I=u[gt],Ht=1-I,l[0][gt]=Ht*Ht*Ht*i+3*Ht*Ht*I*t+3*Ht*I*I*n+I*I*I*o,l[1][gt]=Ht*Ht*Ht*e+3*Ht*Ht*I*r+3*Ht*I*I*a+I*I*I*s;return l[0][_t]=i,l[1][_t]=e,l[0][_t+1]=o,l[1][_t+1]=s,l[0].length=l[1].length=_t+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},Fr=function(i,e,t,r,n,a,o,s){if(!(Math.max(i,t)<Math.min(n,o)||Math.min(i,t)>Math.max(n,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(i*r-e*t)*(n-o)-(i-t)*(n*s-a*o),l=(i*r-e*t)*(a-s)-(e-r)*(n*s-a*o),c=(i-t)*(a-s)-(e-r)*(n-o);if(c){var d=u/c,T=l/c,I=+d.toFixed(2),B=+T.toFixed(2);if(!(I<+Math.min(i,t).toFixed(2)||I>+Math.max(i,t).toFixed(2)||I<+Math.min(n,o).toFixed(2)||I>+Math.max(n,o).toFixed(2)||B<+Math.min(e,r).toFixed(2)||B>+Math.max(e,r).toFixed(2)||B<+Math.min(a,s).toFixed(2)||B>+Math.max(a,s).toFixed(2)))return{x:d,y:T}}}},gn=function(i,e,t){return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},Pn=function(i,e,t,r,n){if(n)return[["M",+i+ +n,e],["l",t-n*2,0],["a",n,n,0,0,1,n,n],["l",0,r-n*2],["a",n,n,0,0,1,-n,n],["l",n*2-t,0],["a",n,n,0,0,1,-n,-n],["l",0,n*2-r],["a",n,n,0,0,1,n,-n],["z"]];var a=[["M",i,e],["l",t,0],["l",0,r],["l",-t,0],["z"]];return a.parsePathArray=Ye,a},Qr=function(i,e,t,r){return i===null&&(i=e=t=r=0),e===null&&(e=i.y,t=i.width,r=i.height,i=i.x),{x:i,y:e,width:t,w:t,height:r,h:r,x2:i+t,y2:e+r,cx:i+t/2,cy:e+r/2,r1:Math.min(t,r)/2,r2:Math.max(t,r)/2,r0:Math.sqrt(t*t+r*r)/2,path:Pn(i,e,t,r),vb:[i,e,t,r].join(" ")}},Vn=function(i,e){return i=Qr(i),e=Qr(e),gn(e,i.x,i.y)||gn(e,i.x2,i.y)||gn(e,i.x,i.y2)||gn(e,i.x2,i.y2)||gn(i,e.x,e.y)||gn(i,e.x2,e.y)||gn(i,e.x,e.y2)||gn(i,e.x2,e.y2)||(i.x<e.x2&&i.x>e.x||e.x<i.x2&&e.x>i.x)&&(i.y<e.y2&&i.y>e.y||e.y<i.y2&&e.y>i.y)},Aa=function(i,e,t,r,n,a,o,s){(0,f.isArray)(i)||(i=[i,e,t,r,n,a,o,s]);var u=Wr.apply(null,i);return Qr(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Ia=function(i,e,t,r,n,a,o,s,u){var l=1-u,c=Math.pow(l,3),d=Math.pow(l,2),T=u*u,I=T*u,B=c*i+d*3*u*t+l*3*u*u*n+I*o,H=c*e+d*3*u*r+l*3*u*u*a+I*s,tt=i+2*u*(t-i)+T*(n-2*t+i),lt=e+2*u*(r-e)+T*(a-2*r+e),dt=t+2*u*(n-t)+T*(o-2*n+t),gt=r+2*u*(a-r)+T*(s-2*a+r),_t=l*i+u*t,Ht=l*e+u*r,oe=l*n+u*o,ie=l*a+u*s,Ee=90-Math.atan2(tt-dt,lt-gt)*180/Math.PI;return{x:B,y:H,m:{x:tt,y:lt},n:{x:dt,y:gt},start:{x:_t,y:Ht},end:{x:oe,y:ie},alpha:Ee}},wa=function(i,e,t){var r=Aa(i),n=Aa(e);if(!Vn(r,n))return t?0:[];for(var a=Br.apply(0,i),o=Br.apply(0,e),s=~~(a/8),u=~~(o/8),l=[],c=[],d={},T=t?0:[],I=0;I<s+1;I++){var B=Ia.apply(0,i.concat(I/s));l.push({x:B.x,y:B.y,t:I/s})}for(var I=0;I<u+1;I++){var B=Ia.apply(0,e.concat(I/u));c.push({x:B.x,y:B.y,t:I/u})}for(var I=0;I<s;I++)for(var H=0;H<u;H++){var tt=l[I],lt=l[I+1],dt=c[H],gt=c[H+1],_t=Math.abs(lt.x-tt.x)<.001?"y":"x",Ht=Math.abs(gt.x-dt.x)<.001?"y":"x",oe=Fr(tt.x,tt.y,lt.x,lt.y,dt.x,dt.y,gt.x,gt.y);if(oe){if(d[oe.x.toFixed(4)]===oe.y.toFixed(4))continue;d[oe.x.toFixed(4)]=oe.y.toFixed(4);var ie=tt.t+Math.abs((oe[_t]-tt[_t])/(lt[_t]-tt[_t]))*(lt.t-tt.t),Ee=dt.t+Math.abs((oe[Ht]-dt[Ht])/(gt[Ht]-dt[Ht]))*(gt.t-dt.t);ie>=0&&ie<=1&&Ee>=0&&Ee<=1&&(t?T+=1:T.push({x:oe.x,y:oe.y,t1:ie,t2:Ee}))}}return T},ca=function(i,e,t){i=_e(i),e=_e(e);for(var r,n,a,o,s,u,l,c,d,T,I=t?0:[],B=0,H=i.length;B<H;B++){var tt=i[B];if(tt[0]==="M")r=s=tt[1],n=u=tt[2];else{tt[0]==="C"?(d=[r,n].concat(tt.slice(1)),r=d[6],n=d[7]):(d=[r,n,r,n,s,u,s,u],r=s,n=u);for(var lt=0,dt=e.length;lt<dt;lt++){var gt=e[lt];if(gt[0]==="M")a=l=gt[1],o=c=gt[2];else{gt[0]==="C"?(T=[a,o].concat(gt.slice(1)),a=T[6],o=T[7]):(T=[a,o,a,o,l,c,l,c],a=l,o=c);var _t=wa(d,T,t);if(t)I+=_t;else{for(var Ht=0,oe=_t.length;Ht<oe;Ht++)_t[Ht].segment1=B,_t[Ht].segment2=lt,_t[Ht].bez1=d,_t[Ht].bez2=T;I=I.concat(_t)}}}}}return I},ma=function(i,e){return ca(i,e)};function ro(i,e){var t=[],r=[];function n(a,o){if(a.length===1)t.push(a[0]),r.push(a[0]);else{for(var s=[],u=0;u<a.length-1;u++)u===0&&t.push(a[0]),u===a.length-2&&r.push(a[u+1]),s[u]=[(1-o)*a[u][0]+o*a[u+1][0],(1-o)*a[u][1]+o*a[u+1][1]];n(s,o)}}return i.length&&n(i,e),{left:t,right:r.reverse()}}function Ki(i,e,t){var r=[[i[1],i[2]]];t=t||2;var n=[];e[0]==="A"?(r.push(e[6]),r.push(e[7])):e[0]==="C"?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var a=r,o=1/t,s=0;s<t-1;s++){var u=o/(1-o*s),l=ro(a,u);n.push(l.left),a=l.right}n.push(a);var c=n.map(function(d){var T=[];return d.length===4&&(T.push("C"),T=T.concat(d[2])),d.length>=3&&(d.length===3&&T.push("Q"),T=T.concat(d[1])),d.length===2&&T.push("L"),T=T.concat(d[d.length-1]),T});return c}var ji=function(i,e,t){if(t===1)return[[].concat(i)];var r=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")r=r.concat(Ki(i,e,t));else{var n=[].concat(i);n[0]==="M"&&(n[0]="L");for(var a=0;a<=t-1;a++)r.push(n)}return r},$i=function(i,e){if(i.length===1)return i;var t=i.length-1,r=e.length-1,n=t/r,a=[];if(i.length===1&&i[0][0]==="M"){for(var o=0;o<r-t;o++)i.push(i[0]);return i}for(var o=0;o<r;o++){var s=Math.floor(n*o);a[s]=(a[s]||0)+1}var u=a.reduce(function(l,c,d){return d===t?l.concat(i[t]):l.concat(ji(i[d],i[d+1],c))},[]);return u.unshift(i[0]),(e[r]==="Z"||e[r]==="z")&&u.push("Z"),u},Qi=function(i,e){if(i.length!==e.length)return!1;var t=!0;return(0,f.each)(i,function(r,n){if(r!==e[n])return t=!1,!1}),t};function fo(i,e,t){var r=null,n=t;return e<n&&(n=e,r="add"),i<n&&(n=i,r="del"),{type:r,min:n}}var Eo=function(i,e){var t=i.length,r=e.length,n,a,o=0;if(t===0||r===0)return null;for(var s=[],u=0;u<=t;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=r;l++)s[0][l]={min:l};for(var u=1;u<=t;u++){n=i[u-1];for(var l=1;l<=r;l++){a=e[l-1],Qi(n,a)?o=0:o=1;var c=s[u-1][l].min+1,d=s[u][l-1].min+1,T=s[u-1][l-1].min+o;s[u][l]=fo(c,d,T)}}return s},Xa=function(i,e){var t=Eo(i,e),r=i.length,n=e.length,a=[],o=1,s=1;if(t[r][n].min!==r){for(var u=1;u<=r;u++){var l=t[u][u].min;s=u;for(var c=o;c<=n;c++)t[u][c].min<l&&(l=t[u][c].min,s=c);o=s,t[u][o].type&&a.push({index:u-1,type:t[u][o].type})}for(var u=a.length-1;u>=0;u--)o=a[u].index,a[u].type==="add"?i.splice(o,0,[].concat(i[o])):i.splice(o,1)}r=i.length;var d=n-r;if(r<n)for(var u=0;u<d;u++)i[r-1][0]==="z"||i[r-1][0]==="Z"?i.splice(r-2,0,i[r-2]):i.push(i[r-1]),r+=1;return i};function vi(i,e,t){for(var r=[].concat(i),n,a=1/(t+1),o=Os(e)[0],s=1;s<=t;s++)a*=s,n=Math.floor(i.length*a),n===0?r.unshift([o[0]*a+i[n][0]*(1-a),o[1]*a+i[n][1]*(1-a)]):r.splice(n,0,[o[0]*a+i[n][0]*(1-a),o[1]*a+i[n][1]*(1-a)]);return r}function Os(i){var e=[];switch(i[0]){case"M":e.push([i[1],i[2]]);break;case"L":e.push([i[1],i[2]]);break;case"A":e.push([i[6],i[7]]);break;case"Q":e.push([i[3],i[4]]),e.push([i[1],i[2]]);break;case"T":e.push([i[1],i[2]]);break;case"C":e.push([i[5],i[6]]),e.push([i[1],i[2]]),e.push([i[3],i[4]]);break;case"S":e.push([i[3],i[4]]),e.push([i[1],i[2]]);break;case"H":e.push([i[1],i[1]]);break;case"V":e.push([i[1],i[1]]);break;default:}return e}var ps=function(i,e){if(i.length<=1)return i;for(var t,r=0;r<e.length;r++)if(i[r][0]!==e[r][0])switch(t=Os(i[r]),e[r][0]){case"M":i[r]=["M"].concat(t[0]);break;case"L":i[r]=["L"].concat(t[0]);break;case"A":i[r]=[].concat(e[r]),i[r][6]=t[0][0],i[r][7]=t[0][1];break;case"Q":if(t.length<2)if(r>0)t=vi(t,i[r-1],1);else{i[r]=e[r];break}i[r]=["Q"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"T":i[r]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(r>0)t=vi(t,i[r-1],2);else{i[r]=e[r];break}i[r]=["C"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"S":if(t.length<2)if(r>0)t=vi(t,i[r-1],1);else{i[r]=e[r];break}i[r]=["S"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;default:i[r]=e[r]}return i},es=function(){function i(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},i.prototype.save=function(){},i.prototype.restore=function(){},i}(),au=es;function xc(i,e){var t=i.indexOf(e);t!==-1&&i.splice(t,1)}var sf=typeof window!="undefined"&&typeof window.document!="undefined";function uf(i,e){if(i.isCanvas())return!0;for(var t=e.getParent(),r=!1;t;){if(t===i){r=!0;break}t=t.getParent()}return r}function Ec(i){return i.cfg.visible&&i.cfg.capture}var rd=function(i){(0,g.__extends)(e,i);function e(t){var r=i.call(this)||this;r.destroyed=!1;var n=r.getDefaultCfg();return r.cfg=(0,f.mix)(n,t),r}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,r){this.cfg[t]=r},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(nt),wc=rd,Ju=C(734155),lf=function(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,a;r<n;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return i.concat(a||Array.prototype.slice.call(e))},Sc=function(){function i(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return i}(),cf=function(){function i(e){this.version=e,this.type="node",this.name="node",this.os=Ju.platform}return i}(),nd=function(){function i(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"}return i}(),iu=function(){function i(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return i}(),ff=function(){function i(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return i}(),Wn=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wu=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ja=3,Mc=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Wn]],Pl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ou(i){return i?Ll(i):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new ff:typeof navigator!="undefined"?Ll(navigator.userAgent):hf()}function _c(i){return i!==""&&Mc.reduce(function(e,t){var r=t[0],n=t[1];if(e)return e;var a=n.exec(i);return!!a&&[r,a]},!1)}function Cc(i){var e=_c(i);return e?e[0]:null}function Ll(i){var e=_c(i);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new iu;var n=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);n?n.length<ja&&(n=lf(lf([],n,!0),gs(ja-n.length),!0)):n=[];var a=n.join("."),o=df(i),s=wu.exec(i);return s&&s[1]?new nd(t,a,o,s[1]):new Sc(t,a,o)}function df(i){for(var e=0,t=Pl.length;e<t;e++){var r=Pl[e],n=r[0],a=r[1],o=a.exec(i);if(o)return n}return null}function hf(){var i=typeof Ju!="undefined"&&Ju.version;return i?new cf(Ju.version.slice(1)):null}function gs(i){for(var e=[],t=0;t<i;t++)e.push("0");return e}function Tc(i,e){var t=[],r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],c=i[7],d=i[8],T=e[0],I=e[1],B=e[2],H=e[3],tt=e[4],lt=e[5],dt=e[6],gt=e[7],_t=e[8];return t[0]=T*r+I*o+B*l,t[1]=T*n+I*s+B*c,t[2]=T*a+I*u+B*d,t[3]=H*r+tt*o+lt*l,t[4]=H*n+tt*s+lt*c,t[5]=H*a+tt*u+lt*d,t[6]=dt*r+gt*o+_t*l,t[7]=dt*n+gt*s+_t*c,t[8]=dt*a+gt*u+_t*d,t}function Ws(i,e){var t=[],r=e[0],n=e[1];return t[0]=i[0]*r+i[3]*n+i[6],t[1]=i[1]*r+i[4]*n+i[7],t}function po(i){var e=[],t=i[0],r=i[1],n=i[2],a=i[3],o=i[4],s=i[5],u=i[6],l=i[7],c=i[8],d=c*o-s*l,T=-c*a+s*u,I=l*a-o*u,B=t*d+r*T+n*I;return B?(B=1/B,e[0]=d*B,e[1]=(-c*r+n*l)*B,e[2]=(s*r-n*o)*B,e[3]=T*B,e[4]=(c*t-n*u)*B,e[5]=(-s*t+n*a)*B,e[6]=I*B,e[7]=(-l*t+r*u)*B,e[8]=(o*t-r*a)*B,e):null}var Ys=ht,Is="matrix",Nl=["zIndex","capture","visible","type"],Ac=["repeat"],vf=":",pf="*";function gf(i){for(var e=[],t=0;t<i.length;t++)(0,f.isArray)(i[t])?e.push([].concat(i[t])):e.push(i[t]);return e}function Rl(i,e){var t={},r=e.attrs;for(var n in i)t[n]=r[n];return t}function mf(i,e){var t={},r=e.attr();return(0,f.each)(i,function(n,a){Ac.indexOf(a)===-1&&!(0,f.isEqual)(r[a],n)&&(t[a]=n)}),t}function kl(i,e){if(e.onFrame)return i;var t=e.startTime,r=e.delay,n=e.duration,a=Object.prototype.hasOwnProperty;return(0,f.each)(i,function(o){t+r<o.startTime+o.delay+o.duration&&n>o.delay&&(0,f.each)(e.toAttrs,function(s,u){a.call(o.toAttrs,u)&&(delete o.toAttrs[u],delete o.fromAttrs[u])})}),i}var yf=function(i){(0,g.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.attrs={};var n=r.getDefaultAttrs();return(0,f.mix)(n,t.attrs),r.attrs=n,r.initAttrs(n),r.initAnimate(),r}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=r[0],o=r[1];if(!a)return this.attrs;if((0,f.isObject)(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return r.length===2?(this.setAttr(a,o),this.afterAttrsChange((t={},t[a]=o,t)),this):this.attrs[a]},e.prototype.isClipped=function(t,r){var n=this.getClip();return n&&!n.isHit(t,r)},e.prototype.setAttr=function(t,r){var n=this.attrs[t];n!==r&&(this.attrs[t]=r,this.onAttrChange(t,r,n))},e.prototype.onAttrChange=function(t,r,n){t==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var r=this.cfg.applyTo;r&&r.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var r=this.getParent();return r&&r.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var r=t.getChildren(),n=this.get("el"),a=r.indexOf(this);r.splice(a,1),r.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var r=t.getChildren(),n=this.get("el"),a=r.indexOf(this);r.splice(a,1),r.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){t===void 0&&(t=!0);var r=this.getParent();r?(xc(r.getChildren(),this),r.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(Is,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(Is)},e.prototype.setMatrix=function(t){this.attr(Is,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var r=this.attr("matrix"),n=this.cfg.parentMatrix;n&&r?t=Tc(n,r):t=r||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var r=this.attr("matrix"),n=null;t&&r?n=Tc(t,r):n=r||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var r=this.attr("matrix");return r?Ws(r,t):t},e.prototype.invertFromMatrix=function(t){var r=this.attr("matrix");if(r){var n=po(r);if(n)return Ws(n,t)}return t},e.prototype.setClip=function(t){var r=this.getCanvas(),n=null;if(t){var a=this.getShapeBase(),o=(0,f.upperFirst)(t.type),s=a[o];s&&(n=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:r}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,r=this.attrs,n={};(0,f.each)(r,function(s,u){(0,f.isArray)(r[u])?n[u]=gf(r[u]):n[u]=r[u]});var a=this.constructor,o=new a({attrs:n});return(0,f.each)(Nl,function(s){o.set(s,t.get(s))}),o},e.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},i.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var a=this.get("animations")||[];n.timer||n.initTimer();var o=t[0],s=t[1],u=t[2],l=u===void 0?"easeLinear":u,c=t[3],d=c===void 0?f.noop:c,T=t[4],I=T===void 0?0:T,B,H,tt,lt,dt;(0,f.isFunction)(o)?(B=o,o={}):(0,f.isObject)(o)&&o.onFrame&&(B=o.onFrame,H=o.repeat),(0,f.isObject)(s)?(dt=s,s=dt.duration,l=dt.easing||"easeLinear",I=dt.delay||0,H=dt.repeat||H||!1,d=dt.callback||f.noop,tt=dt.pauseCallback||f.noop,lt=dt.resumeCallback||f.noop):((0,f.isNumber)(d)&&(I=d,d=null),(0,f.isFunction)(l)?(d=l,l="easeLinear"):l=l||"easeLinear");var gt=mf(o,this),_t={fromAttrs:Rl(gt,this),toAttrs:gt,duration:s,easing:l,repeat:H,callback:d,pauseCallback:tt,resumeCallback:lt,delay:I,startTime:n.getTime(),id:(0,f.uniqueId)(),onFrame:B,pathFormatted:!1};a.length>0?a=kl(a,_t):n.addAnimator(this),a.push(_t),this.set("animations",a),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var r=this;t===void 0&&(t=!0);var n=this.get("animations");(0,f.each)(n,function(a){t&&(a.onFrame?r.attr(a.onFrame(1)):r.attr(a.toAttrs)),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),r=this.get("animations"),n=t.getTime();return(0,f.each)(r,function(a){a._paused=!0,a._pauseTime=n,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),r=t.getTime(),n=this.get("animations"),a=this.get("_pause").pauseTime;return(0,f.each)(n,function(o){o.startTime=o.startTime+(r-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,r){var n=this,a=r.propagationPath,o=this.getEvents(),s;t==="mouseenter"?s=r.fromShape:t==="mouseleave"&&(s=r.toShape);for(var u=function(T){var I=a[T],B=I.get("name");if(B){if((I.isGroup()||I.isCanvas&&I.isCanvas())&&s&&uf(I,s))return"break";(0,f.isArray)(B)?(0,f.each)(B,function(H){n.emitDelegateEvent(I,H,r)}):l.emitDelegateEvent(I,B,r)}},l=this,c=0;c<a.length;c++){var d=u(c);if(d==="break")break}},e.prototype.emitDelegateEvent=function(t,r,n){var a=this.getEvents(),o=r+vf+n.type;(a[o]||a[pf])&&(n.name=o,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(o,n))},e.prototype.translate=function(t,r){t===void 0&&(t=0),r===void 0&&(r=0);var n=this.getMatrix(),a=Ys(n,[["t",t,r]]);return this.setMatrix(a),this},e.prototype.move=function(t,r){var n=this.attr("x")||0,a=this.attr("y")||0;return this.translate(t-n,r-a),this},e.prototype.moveTo=function(t,r){return this.move(t,r)},e.prototype.scale=function(t,r){var n=this.getMatrix(),a=Ys(n,[["s",t,r||t]]);return this.setMatrix(a),this},e.prototype.rotate=function(t){var r=this.getMatrix(),n=Ys(r,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var r=this.attr(),n=r.x,a=r.y,o=this.getMatrix(),s=Ys(o,[["t",-n,-a],["r",t],["t",n,a]]);return this.setMatrix(s),this},e.prototype.rotateAtPoint=function(t,r,n){var a=this.getMatrix(),o=Ys(a,[["t",-t,-r],["r",n],["t",t,r]]);return this.setMatrix(o),this},e}(wc),Oc=yf,tl={},Ic="_INDEX";function os(i,e){if(i.set("canvas",e),i.isGroup()){var t=i.get("children");t.length&&t.forEach(function(r){os(r,e)})}}function Dc(i,e){if(i.set("timeline",e),i.isGroup()){var t=i.get("children");t.length&&t.forEach(function(r){Dc(r,e)})}}function el(i,e){var t=i.getChildren();return t.indexOf(e)>=0}function bf(i,e,t){t===void 0&&(t=!0),t?e.destroy():(e.set("parent",null),e.set("canvas",null)),xc(i.getChildren(),e)}function ad(i){return function(e,t){var r=i(e,t);return r===0?e[Ic]-t[Ic]:r}}var Pc=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,r=-1/0,n=1/0,a=-1/0,o=[],s=[],u=this.getChildren().filter(function(c){return c.get("visible")&&(!c.isGroup()||c.isGroup()&&c.getChildren().length>0)});u.length>0?((0,f.each)(u,function(c){var d=c.getBBox();o.push(d.minX,d.maxX),s.push(d.minY,d.maxY)}),t=(0,f.min)(o),r=(0,f.max)(o),n=(0,f.min)(s),a=(0,f.max)(s)):(t=0,r=0,n=0,a=0);var l={x:t,y:n,minX:t,minY:n,maxX:r,maxY:a,width:r-t,height:a-n};return l},e.prototype.getCanvasBBox=function(){var t=1/0,r=-1/0,n=1/0,a=-1/0,o=[],s=[],u=this.getChildren().filter(function(c){return c.get("visible")&&(!c.isGroup()||c.isGroup()&&c.getChildren().length>0)});u.length>0?((0,f.each)(u,function(c){var d=c.getCanvasBBox();o.push(d.minX,d.maxX),s.push(d.minY,d.maxY)}),t=(0,f.min)(o),r=(0,f.max)(o),n=(0,f.min)(s),a=(0,f.max)(s)):(t=0,r=0,n=0,a=0);var l={x:t,y:n,minX:t,minY:n,maxX:r,maxY:a,width:r-t,height:a-n};return l},e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.children=[],t},e.prototype.onAttrChange=function(t,r,n){if(i.prototype.onAttrChange.call(this,t,r,n),t==="matrix"){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},e.prototype.applyMatrix=function(t){var r=this.getTotalMatrix();i.prototype.applyMatrix.call(this,t);var n=this.getTotalMatrix();n!==r&&this._applyChildrenMarix(n)},e.prototype._applyChildrenMarix=function(t){var r=this.getChildren();(0,f.each)(r,function(n){n.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=t[1];(0,f.isObject)(n)?a=n:a.type=n;var o=tl[a.type];o||(o=(0,f.upperFirst)(a.type),tl[a.type]=o);var s=this.getShapeBase(),u=new s[o](a);return this.add(u),u},e.prototype.addGroup=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=t[1],o;if((0,f.isFunction)(n))a?o=new n(a):o=new n({parent:this});else{var s=n||{},u=this.getGroupBase();o=new u(s)}return this.add(o),o},e.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},e.prototype.getShape=function(t,r,n){if(!Ec(this))return null;var a=this.getChildren(),o;if(this.isCanvas())o=this._findShape(a,t,r,n);else{var s=[t,r,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],n))}return o},e.prototype._findShape=function(t,r,n,a){for(var o=null,s=t.length-1;s>=0;s--){var u=t[s];if(Ec(u)&&(u.isGroup()?o=u.getShape(r,n,a):u.isHit(r,n)&&(o=u)),o)break}return o},e.prototype.add=function(t){var r=this.getCanvas(),n=this.getChildren(),a=this.get("timeline"),o=t.getParent();o&&bf(o,t,!1),t.set("parent",this),r&&os(t,r),a&&Dc(t,a),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var r=this.getTotalMatrix();r&&t.applyMatrix(r)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();(0,f.each)(t,function(r,n){return r[Ic]=n,r}),t.sort(ad(function(r,n){return r.get("zIndex")-n.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),r=t.length-1;r>=0;r--)t[r].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),i.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var r=this.getChildren();return r[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var r=this.getChildren();return r.indexOf(t)>-1},e.prototype.removeChild=function(t,r){r===void 0&&(r=!0),this.contain(t)&&t.remove(r)},e.prototype.findAll=function(t){var r=[],n=this.getChildren();return(0,f.each)(n,function(a){t(a)&&r.push(a),a.isGroup()&&(r=r.concat(a.findAll(t)))}),r},e.prototype.find=function(t){var r=null,n=this.getChildren();return(0,f.each)(n,function(a){if(t(a)?r=a:a.isGroup()&&(r=a.find(t)),r)return!1}),r},e.prototype.findById=function(t){return this.find(function(r){return r.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(r){return r.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(r){return r.get("name")===t})},e}(Oc),rl=Pc,id=C(235374),Lc=C(918698);function Nc(i,e,t){i.prototype=e.prototype=t,t.constructor=i}function xf(i,e){var t=Object.create(i.prototype);for(var r in e)t[r]=e[r];return t}function nl(){}var Su=.7,su=1/Su,Mu="\\s*([+-]?\\d+)\\s*",al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ef=/^#([0-9a-f]{3,8})$/,_u=new RegExp("^rgb\\(".concat(Mu,",").concat(Mu,",").concat(Mu,"\\)$")),od=new RegExp("^rgb\\(".concat(Ss,",").concat(Ss,",").concat(Ss,"\\)$")),sd=new RegExp("^rgba\\(".concat(Mu,",").concat(Mu,",").concat(Mu,",").concat(al,"\\)$")),Bl=new RegExp("^rgba\\(".concat(Ss,",").concat(Ss,",").concat(Ss,",").concat(al,"\\)$")),Rc=new RegExp("^hsl\\(".concat(al,",").concat(Ss,",").concat(Ss,"\\)$")),ud=new RegExp("^hsla\\(".concat(al,",").concat(Ss,",").concat(Ss,",").concat(al,"\\)$")),il={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nc(nl,ol,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:wf,formatHex:wf,formatHex8:ld,formatHsl:Sf,formatRgb:Mf,toString:Mf});function wf(){return this.rgb().formatHex()}function ld(){return this.rgb().formatHex8()}function Sf(){return Ul(this).formatHsl()}function Mf(){return this.rgb().formatRgb()}function ol(i){var e,t;return i=(i+"").trim().toLowerCase(),(e=Ef.exec(i))?(t=e[1].length,e=parseInt(e[1],16),t===6?Cu(e):t===3?new Co(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Tu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Tu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_u.exec(i))?new Co(e[1],e[2],e[3],1):(e=od.exec(i))?new Co(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sd.exec(i))?Tu(e[1],e[2],e[3],e[4]):(e=Bl.exec(i))?Tu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rc.exec(i))?Gl(e[1],e[2]/100,e[3]/100,1):(e=ud.exec(i))?Gl(e[1],e[2]/100,e[3]/100,e[4]):il.hasOwnProperty(i)?Cu(il[i]):i==="transparent"?new Co(NaN,NaN,NaN,0):null}function Cu(i){return new Co(i>>16&255,i>>8&255,i&255,1)}function Tu(i,e,t,r){return r<=0&&(i=e=t=NaN),new Co(i,e,t,r)}function Fl(i){return i instanceof nl||(i=ol(i)),i?(i=i.rgb(),new Co(i.r,i.g,i.b,i.opacity)):new Co}function zl(i,e,t,r){return arguments.length===1?Fl(i):new Co(i,e,t,r==null?1:r)}function Co(i,e,t,r){this.r=+i,this.g=+e,this.b=+t,this.opacity=+r}Nc(Co,zl,xf(nl,{brighter:function(e){return e=e==null?su:Math.pow(su,e),new Co(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Su:Math.pow(Su,e),new Co(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new Co(ss(this.r),ss(this.g),ss(this.b),sl(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uu,formatHex:uu,formatHex8:_f,formatRgb:lu,toString:lu}));function uu(){return"#".concat(Ds(this.r)).concat(Ds(this.g)).concat(Ds(this.b))}function _f(){return"#".concat(Ds(this.r)).concat(Ds(this.g)).concat(Ds(this.b)).concat(Ds((isNaN(this.opacity)?1:this.opacity)*255))}function lu(){var i=sl(this.opacity);return"".concat(i===1?"rgb(":"rgba(").concat(ss(this.r),", ").concat(ss(this.g),", ").concat(ss(this.b)).concat(i===1?")":", ".concat(i,")"))}function sl(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function ss(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function Ds(i){return i=ss(i),(i<16?"0":"")+i.toString(16)}function Gl(i,e,t,r){return r<=0?i=e=t=NaN:t<=0||t>=1?i=e=NaN:e<=0&&(i=NaN),new rs(i,e,t,r)}function Ul(i){if(i instanceof rs)return new rs(i.h,i.s,i.l,i.opacity);if(i instanceof nl||(i=ol(i)),!i)return new rs;if(i instanceof rs)return i;i=i.rgb();var e=i.r/255,t=i.g/255,r=i.b/255,n=Math.min(e,t,r),a=Math.max(e,t,r),o=NaN,s=a-n,u=(a+n)/2;return s?(e===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-e)/s+2:o=(e-t)/s+4,s/=u<.5?a+n:2-a-n,o*=60):s=u>0&&u<1?0:o,new rs(o,s,u,i.opacity)}function kc(i,e,t,r){return arguments.length===1?Ul(i):new rs(i,e,t,r==null?1:r)}function rs(i,e,t,r){this.h=+i,this.s=+e,this.l=+t,this.opacity=+r}Nc(rs,kc,xf(nl,{brighter:function(e){return e=e==null?su:Math.pow(su,e),new rs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Su:Math.pow(Su,e),new rs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Co(Wl(e>=240?e-240:e+120,a,n),Wl(e,a,n),Wl(e<120?e+240:e-120,a,n),this.opacity)},clamp:function(){return new rs(ul(this.h),ll(this.s),ll(this.l),sl(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=sl(this.opacity);return"".concat(e===1?"hsl(":"hsla(").concat(ul(this.h),", ").concat(ll(this.s)*100,"%, ").concat(ll(this.l)*100,"%").concat(e===1?")":", ".concat(e,")"))}}));function ul(i){return i=(i||0)%360,i<0?i+360:i}function ll(i){return Math.max(0,Math.min(1,i||0))}function Wl(i,e,t){return(i<60?e+(t-e)*i/60:i<180?t:i<240?e+(t-e)*(240-i)/60:e)*255}function Bc(i,e,t,r,n){var a=i*i,o=a*i;return((1-3*i+3*a-o)*e+(4-6*a+3*o)*t+(1+3*i+3*a-3*o)*r+o*n)/6}function Cf(i){var e=i.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),n=i[r],a=i[r+1],o=r>0?i[r-1]:2*n-a,s=r<e-1?i[r+2]:2*a-n;return Bc((t-r/e)*e,o,n,a,s)}}function Tf(i){var e=i.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e),n=i[(r+e-1)%e],a=i[r%e],o=i[(r+1)%e],s=i[(r+2)%e];return Bc((t-r/e)*e,n,a,o,s)}}var cl=function(i){return function(){return i}};function Yl(i,e){return function(t){return i+t*e}}function Af(i,e,t){return i=Math.pow(i,t),e=Math.pow(e,t)-i,t=1/t,function(r){return Math.pow(i+r*e,t)}}function cd(i,e){var t=e-i;return t?Yl(i,t>180||t<-180?t-360*Math.round(t/360):t):constant(isNaN(i)?e:i)}function Of(i){return(i=+i)==1?Au:function(e,t){return t-e?Af(e,t,i):cl(isNaN(e)?t:e)}}function Au(i,e){var t=e-i;return t?Yl(i,t):cl(isNaN(i)?e:i)}var Xl=function i(e){var t=Of(e);function r(n,a){var o=t((n=zl(n)).r,(a=zl(a)).r),s=t(n.g,a.g),u=t(n.b,a.b),l=Au(n.opacity,a.opacity);return function(c){return n.r=o(c),n.g=s(c),n.b=u(c),n.opacity=l(c),n+""}}return r.gamma=i,r}(1);function $e(i){return function(e){var t=e.length,r=new Array(t),n=new Array(t),a=new Array(t),o,s;for(o=0;o<t;++o)s=zl(e[o]),r[o]=s.r||0,n[o]=s.g||0,a[o]=s.b||0;return r=i(r),n=i(n),a=i(a),s.opacity=1,function(u){return s.r=r(u),s.g=n(u),s.b=a(u),s+""}}}var fd=$e(Cf),fl=$e(Tf);function dl(i,e){e||(e=[]);var t=i?Math.min(e.length,i.length):0,r=e.slice(),n;return function(a){for(n=0;n<t;++n)r[n]=i[n]*(1-a)+e[n]*a;return r}}function Fc(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function zc(i,e){return(Fc(e)?dl:Gc)(i,e)}function Gc(i,e){var t=e?e.length:0,r=i?Math.min(t,i.length):0,n=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)n[o]=Xs(i[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=n[o](s);return a}}function If(i,e){var t=new Date;return i=+i,e=+e,function(r){return t.setTime(i*(1-r)+e*r),t}}function cu(i,e){return i=+i,e=+e,function(t){return i*(1-t)+e*t}}function jl(i,e){var t={},r={},n;(i===null||Lc(i)!=="object")&&(i={}),(e===null||Lc(e)!=="object")&&(e={});for(n in e)n in i?t[n]=Xs(i[n],e[n]):r[n]=e[n];return function(a){for(n in t)r[n]=t[n](a);return r}}var hl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ou=new RegExp(hl.source,"g");function wo(i){return function(){return i}}function Iu(i){return function(e){return i(e)+""}}function Uc(i,e){var t=hl.lastIndex=Ou.lastIndex=0,r,n,a,o=-1,s=[],u=[];for(i=i+"",e=e+"";(r=hl.exec(i))&&(n=Ou.exec(e));)(a=n.index)>t&&(a=e.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:cu(r,n)})),t=Ou.lastIndex;return t<e.length&&(a=e.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Iu(u[0].x):wo(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function Xs(i,e){var t=Lc(e),r;return e==null||t==="boolean"?cl(e):(t==="number"?cu:t==="string"?(r=ol(e))?(e=r,Xl):Uc:e instanceof ol?Xl:e instanceof Date?If:Fc(e)?dl:Array.isArray(e)?Gc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jl:cu)(i,e)}function Ms(i){return+i}function Du(i){return i*i}function fu(i){return i*(2-i)}function Ps(i){return((i*=2)<=1?i*i:--i*(2-i)+1)/2}function Pu(i){return i*i*i}function du(i){return--i*i*i+1}function js(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var Ls=3,Vl=function i(e){e=+e;function t(r){return Math.pow(r,e)}return t.exponent=i,t}(Ls),Hl=function i(e){e=+e;function t(r){return 1-Math.pow(1-r,e)}return t.exponent=i,t}(Ls),Lu=function i(e){e=+e;function t(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return t.exponent=i,t}(Ls),Zl=Math.PI,Kl=Zl/2;function Nu(i){return+i==1?1:1-Math.cos(i*Kl)}function us(i){return Math.sin(i*Kl)}function $l(i){return(1-Math.cos(Zl*i))/2}function Ns(i){return(Math.pow(2,-10*i)-.0009765625)*1.0009775171065494}function Ql(i){return Ns(1-+i)}function Wc(i){return 1-Ns(i)}function ql(i){return((i*=2)<=1?Ns(1-i):2-Ns(i-1))/2}function Df(i){return 1-Math.sqrt(1-i*i)}function hu(i){return Math.sqrt(1- --i*i)}function Yc(i){return((i*=2)<=1?1-Math.sqrt(1-i*i):Math.sqrt(1-(i-=2)*i)+1)/2}var Jl=4/11,dd=6/11,Pf=8/11,Lf=3/4,hd=9/11,Nf=10/11,Rf=15/16,vd=21/22,kf=63/64,vl=1/Jl/Jl;function Bf(i){return 1-Ru(1-i)}function Ru(i){return(i=+i)<Jl?vl*i*i:i<Pf?vl*(i-=dd)*i+Lf:i<Nf?vl*(i-=hd)*i+Rf:vl*(i-=vd)*i+kf}function Xc(i){return((i*=2)<=1?1-Ru(1-i):Ru(i-1)+1)/2}var vu=1.70158,tc=function i(e){e=+e;function t(r){return(r=+r)*r*(e*(r-1)+r)}return t.overshoot=i,t}(vu),ec=function i(e){e=+e;function t(r){return--r*r*((r+1)*e+r)+1}return t.overshoot=i,t}(vu),pl=function i(e){e=+e;function t(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return t.overshoot=i,t}(vu),Vs=2*Math.PI,ku=1,Bu=.3,gl=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Vs);function n(a){return e*Ns(- --a)*Math.sin((r-a)/t)}return n.amplitude=function(a){return i(a,t*Vs)},n.period=function(a){return i(e,a)},n}(ku,Bu),rc=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Vs);function n(a){return 1-e*Ns(a=+a)*Math.sin((a+r)/t)}return n.amplitude=function(a){return i(a,t*Vs)},n.period=function(a){return i(e,a)},n}(ku,Bu),nc=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Vs);function n(a){return((a=a*2-1)<0?e*Ns(-a)*Math.sin((r-a)/t):2-e*Ns(a)*Math.sin((r+a)/t))/2}return n.amplitude=function(a){return i(a,t*Vs)},n.period=function(a){return i(e,a)},n}(ku,Bu),ml={};function ac(i){return ml[i.toLowerCase()]||L[i]}function ic(i,e){ml[i.toLowerCase()]=e}var yl=function(i){return["fill","stroke","fillStyle","strokeStyle"].includes(i)},Fu=function(i){return/^[r,R,L,l]{1}[\s]*\(/.test(i)},zu=[1,0,0,0,1,0,0,0,1];function Gu(i,e,t){var r={},n=e.fromAttrs,a=e.toAttrs;if(!i.destroyed){var o;for(var s in a)if(!(0,f.isEqual)(n[s],a[s]))if(s==="path"){var u=a[s],l=n[s];u.length>l.length?(u=h(a[s]),l=h(n[s]),l=Xa(l,u),l=ps(l,u),e.fromAttrs.path=l,e.toAttrs.path=u):e.pathFormatted||(u=h(a[s]),l=h(n[s]),l=ps(l,u),e.fromAttrs.path=l,e.toAttrs.path=u,e.pathFormatted=!0),r[s]=[];for(var c=0;c<u.length;c++){for(var d=u[c],T=l[c],I=[],B=0;B<d.length;B++)(0,f.isNumber)(d[B])&&T&&(0,f.isNumber)(T[B])?(o=Xs(T[B],d[B]),I.push(o(t))):I.push(d[B]);r[s].push(I)}}else if(s==="matrix"){var H=zc(n[s]||zu,a[s]||zu),tt=H(t);r[s]=tt}else yl(s)&&Fu(a[s])?r[s]=a[s]:(0,f.isFunction)(a[s])||(o=Xs(n[s],a[s]),r[s]=o(t));i.attr(r)}}function Ff(i,e,t){var r=e.startTime,n=e.delay;if(t<r+n||e._paused)return!1;var a,o=e.duration,s=e.easing,u=ac(s);if(t=t-r-e.delay,e.repeat)a=t%o/o,a=u(a);else if(a=t/o,a<1)a=u(a);else return e.onFrame?i.attr(e.onFrame(1)):i.attr(e.toAttrs),!0;if(e.onFrame){var l=e.onFrame(a);i.attr(l)}else Gu(i,e,a);return!1}var bl=function(){function i(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return i.prototype.initTimer=function(){var e=this,t=!1,r,n,a;this.timer=id.HT(function(o){if(e.current=o,e.animators.length>0){for(var s=e.animators.length-1;s>=0;s--){if(r=e.animators[s],r.destroyed){e.removeAnimator(s);continue}if(!r.isAnimatePaused()){n=r.get("animations");for(var u=n.length-1;u>=0;u--)a=n[u],t=Ff(r,a,o),t&&(n.splice(u,1),t=!1,a.callback&&a.callback())}n.length===0&&e.removeAnimator(s)}var l=e.canvas.get("autoDraw");l||e.canvas.draw()}})},i.prototype.addAnimator=function(e){this.animators.push(e)},i.prototype.removeAnimator=function(e){this.animators.splice(e,1)},i.prototype.isAnimating=function(){return!!this.animators.length},i.prototype.stop=function(){this.timer&&this.timer.stop()},i.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},i.prototype.getTime=function(){return this.current},i}(),pu=bl,zf=40,xl=0,pd=":",Gf=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ud(i,e){for(var t in i)if(i.hasOwnProperty(t)&&t.indexOf(pd+e)>=0)return!0;return!1}function Rs(i,e,t){t.name=e,t.target=i,t.currentTarget=i,t.delegateTarget=i,i.emit(e,t)}function Uf(i,e,t){if(t.bubbles){var r=void 0,n=!1;if(e==="mouseenter"?(r=t.fromShape,n=!0):e==="mouseleave"&&(n=!0,r=t.toShape),i.isCanvas()&&n)return;if(r&&uf(i,r)){t.bubbles=!1;return}t.name=e,t.currentTarget=i,t.delegateTarget=i,i.emit(e,t)}}var Wf=function(){function i(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(r){var n=r.type;t._triggerEvent(n,r)},this._onDocumentMove=function(r){var n=t.canvas,a=n.get("el");if(a!==r.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(r);t.dragging&&t._emitEvent("drag",r,o,t.draggingShape)}},this._onDocumentMouseUp=function(r){var n=t.canvas,a=n.get("el");if(a!==r.target&&t.dragging){var o=t._getPointInfo(r);t.draggingShape&&t._emitEvent("drop",r,o,null),t._emitEvent("dragend",r,o,t.draggingShape),t._afterDrag(t.draggingShape,o,r)}},this.canvas=e.canvas}return i.prototype.init=function(){this._bindEvents()},i.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,f.each)(Gf,function(r){t.addEventListener(r,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},i.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,f.each)(Gf,function(r){t.removeEventListener(r,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},i.prototype._getEventObj=function(e,t,r,n,a,o){var s=new au(e,t);return s.fromShape=a,s.toShape=o,s.x=r.x,s.y=r.y,s.clientX=r.clientX,s.clientY=r.clientY,s.propagationPath.push(n),s},i.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},i.prototype._getPointInfo=function(e){var t=this.canvas,r=t.getClientByEvent(e),n=t.getPointByEvent(e);return{x:n.x,y:n.y,clientX:r.x,clientY:r.y}},i.prototype._triggerEvent=function(e,t){var r=this._getPointInfo(t),n=this._getShape(r,t),a=this["_on"+e],o=!1;if(a)a.call(this,r,n,t);else{var s=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,t,r,null,null,n),n&&this._emitEvent(e,t,r,n,null,n),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,r,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(o=!0,s&&this._emitEvent(e,t,r,s,s,null),this._emitEvent(e,t,r,null,s,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,r,null)):this._emitEvent(e,t,r,n,null,null)}if(o||(this.currentShape=n),n&&!n.get("destroyed")){var u=this.canvas,l=u.get("el");l.style.cursor=n.attr("cursor")||u.get("cursor")}},i.prototype._onmousedown=function(e,t,r){r.button===xl&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=r.timeStamp),this._emitEvent("mousedown",r,e,t,null,null)},i.prototype._emitMouseoverEvents=function(e,t,r,n){var a=this.canvas.get("el");r!==n&&(r&&(this._emitEvent("mouseout",e,t,r,r,n),this._emitEvent("mouseleave",e,t,r,r,n),(!n||n.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",e,t,n,r,n),this._emitEvent("mouseenter",e,t,n,r,n)))},i.prototype._emitDragoverEvents=function(e,t,r,n,a){n?(n!==r&&(r&&this._emitEvent("dragleave",e,t,r,r,n),this._emitEvent("dragenter",e,t,n,r,n)),a||this._emitEvent("dragover",e,t,n)):r&&this._emitEvent("dragleave",e,t,r,r,n),a&&this._emitEvent("dragover",e,t,n)},i.prototype._afterDrag=function(e,t,r){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(t,r);n!==e&&this._emitMouseoverEvents(r,t,e,n),this.currentShape=n},i.prototype._onmouseup=function(e,t,r){if(r.button===xl){var n=this.draggingShape;this.dragging?(n&&this._emitEvent("drop",r,e,t),this._emitEvent("dragend",r,e,n),this._afterDrag(n,e,r)):(this._emitEvent("mouseup",r,e,t),t===this.mousedownShape&&this._emitEvent("click",r,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},i.prototype._ondragover=function(e,t,r){r.preventDefault();var n=this.currentShape;this._emitDragoverEvents(r,e,n,t,!0)},i.prototype._onmousemove=function(e,t,r){var n=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(r,e,a,t,!1),this._emitEvent("drag",r,e,o);else{var s=this.mousedownPoint;if(s){var u=this.mousedownShape,l=r.timeStamp,c=l-this.mousedownTimeStamp,d=s.clientX-e.clientX,T=s.clientY-e.clientY,I=d*d+T*T;c>120||I>zf?u&&u.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",r,e,o),this.mousedownShape=null,this.mousedownPoint=null):!u&&n.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",r,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t)):(this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t))}else this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t)}},i.prototype._emitEvent=function(e,t,r,n,a,o){var s=this._getEventObj(e,t,r,n,a,o);if(n){s.shape=n,Rs(n,e,s);for(var u=n.getParent();u;)u.emitDelegation(e,s),s.propagationStopped||Uf(u,e,s),s.propagationPath.push(u),u=u.getParent()}else{var l=this.canvas;Rs(l,e,s)}},i.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},i}(),Yf=Wf,Xf="px",jc=ou(),gd=jc&&jc.name==="firefox",No=function(i){(0,g.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.initContainer(),r.initDom(),r.initEvents(),r.initTimeline(),r}return e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},e.prototype.initContainer=function(){var t=this.get("container");(0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var r=this.get("container");r.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Yf({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new pu(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,r){var n=this.get("el");sf&&(n.style.width=t+Xf,n.style.height=r+Xf)},e.prototype.changeSize=function(t,r){this.setDOMSize(t,r),this.set("width",t),this.set("height",r),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var r=this.get("el");sf&&r&&(r.style.cursor=t)},e.prototype.getPointByEvent=function(t){var r=this.get("supportCSSTransform");if(r){if(gd&&!(0,f.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,f.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),a=n.x,o=n.y;return this.getPointByClient(a,o)},e.prototype.getClientByEvent=function(t){var r=t;return t.touches&&(t.type==="touchend"?r=t.changedTouches[0]:r=t.touches[0]),{x:r.clientX,y:r.clientY}},e.prototype.getPointByClient=function(t,r){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t-a.left,y:r-a.top}},e.prototype.getClientByPoint=function(t,r){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t+a.left,y:r+a.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),i.prototype.destroy.call(this))},e}(rl),Vc=No,Uu=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var t=i.prototype.clone.call(this),r=this.getChildren(),n=0;n<r.length;n++){var a=r[n];t.add(a.clone())}return t},e}(rl),ks=Uu,jf=function(i){(0,g.__extends)(e,i);function e(t){return i.call(this,t)||this}return e.prototype._isInBBox=function(t,r){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=r&&n.maxY>=r},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(t){i.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),r=this.getTotalMatrix(),n=t.minX,a=t.minY,o=t.maxX,s=t.maxY;if(r){var u=Ws(r,[t.minX,t.minY]),l=Ws(r,[t.maxX,t.minY]),c=Ws(r,[t.minX,t.maxY]),d=Ws(r,[t.maxX,t.maxY]);n=Math.min(u[0],l[0],c[0],d[0]),o=Math.max(u[0],l[0],c[0],d[0]),a=Math.min(u[1],l[1],c[1],d[1]),s=Math.max(u[1],l[1],c[1],d[1])}var T=this.attrs;if(T.shadowColor){var I=T.shadowBlur,B=I===void 0?0:I,H=T.shadowOffsetX,tt=H===void 0?0:H,lt=T.shadowOffsetY,dt=lt===void 0?0:lt,gt=n-B+tt,_t=o+B+tt,Ht=a-B+dt,oe=s+B+dt;n=Math.min(n,gt),o=Math.max(o,_t),a=Math.min(a,Ht),s=Math.max(s,oe)}return{x:n,y:a,minX:n,minY:a,maxX:o,maxY:s,width:o-n,height:s-a}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,r){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,r){var n=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[t,r,1];o=this.invertFromMatrix(o);var s=o[0],u=o[1],l=this._isInBBox(s,u);return this.isOnlyHitBox()?l:!!(l&&!this.isClipped(s,u)&&(this.isInShape(s,u)||n&&n.isHit(s,u)||a&&a.isHit(s,u)))},e}(Oc),oc=jf,El=new Map;function ms(i,e){El.set(i,e)}function Yo(i){return El.get(i)}function Bs(i){var e=i.attr(),t=e.x,r=e.y,n=e.width,a=e.height;return{x:t,y:r,width:n,height:a}}function no(i){var e=i.attr(),t=e.x,r=e.y,n=e.r;return{x:t-n,y:r-n,width:n*2,height:n*2}}function mi(i,e,t,r){var n=i-t,a=e-r;return Math.sqrt(n*n+a*a)}function gu(i,e){return Math.abs(i-e)<.001}function Wu(i,e){var t=(0,f.min)(i),r=(0,f.min)(e),n=(0,f.max)(i),a=(0,f.max)(e);return{x:t,y:r,width:n-t,height:a-r}}function md(i,e,t,r){return{minX:(0,f.min)([i,t]),maxX:(0,f.max)([i,t]),minY:(0,f.min)([e,r]),maxY:(0,f.max)([e,r])}}function sc(i){return(i+Math.PI*2)%(Math.PI*2)}var Oo={box:function(i,e,t,r){return Wu([i,t],[e,r])},length:function(i,e,t,r){return mi(i,e,t,r)},pointAt:function(i,e,t,r,n){return{x:(1-n)*i+n*t,y:(1-n)*e+n*r}},pointDistance:function(i,e,t,r,n,a){var o=(t-i)*(n-i)+(r-e)*(a-e);if(o<0)return mi(i,e,n,a);var s=(t-i)*(t-i)+(r-e)*(r-e);return o>s?mi(t,r,n,a):this.pointToLine(i,e,t,r,n,a)},pointToLine:function(i,e,t,r,n,a){var o=[t-i,r-e];if(Qn.exactEquals(o,[0,0]))return Math.sqrt((n-i)*(n-i)+(a-e)*(a-e));var s=[-o[1],o[0]];Qn.normalize(s,s);var u=[n-i,a-e];return Math.abs(Qn.dot(u,s))},tangentAngle:function(i,e,t,r){return Math.atan2(r-e,t-i)}},Vf=1e-4;function Hf(i,e,t,r,n,a){var o,s=1/0,u=[t,r],l=20;a&&a>200&&(l=a/10);for(var c=1/l,d=c/10,T=0;T<=l;T++){var I=T*c,B=[n.apply(null,i.concat([I])),n.apply(null,e.concat([I]))],H=mi(u[0],u[1],B[0],B[1]);H<s&&(o=I,s=H)}if(o===0)return{x:i[0],y:e[0]};if(o===1){var tt=i.length;return{x:i[tt-1],y:e[tt-1]}}s=1/0;for(var T=0;T<32&&!(d<Vf);T++){var lt=o-d,dt=o+d,B=[n.apply(null,i.concat([lt])),n.apply(null,e.concat([lt]))],H=mi(u[0],u[1],B[0],B[1]);if(lt>=0&&H<s)o=lt,s=H;else{var gt=[n.apply(null,i.concat([dt])),n.apply(null,e.concat([dt]))],_t=mi(u[0],u[1],gt[0],gt[1]);dt<=1&&_t<s?(o=dt,s=_t):d*=.5}}return{x:n.apply(null,i.concat([o])),y:n.apply(null,e.concat([o]))}}function yd(i,e){for(var t=0,r=i.length,n=0;n<r;n++){var a=i[n],o=e[n],s=i[(n+1)%r],u=e[(n+1)%r];t+=mi(a,o,s,u)}return t/2}function Hs(i,e,t,r){var n=1-r;return n*n*i+2*r*n*e+r*r*t}function Zf(i,e,t){var r=i+t-2*e;if(gu(r,0))return[.5];var n=(i-e)/r;return n<=1&&n>=0?[n]:[]}function Hc(i,e,t,r){return 2*(1-r)*(e-i)+2*r*(t-e)}function uc(i,e,t,r,n,a,o){var s=Hs(i,t,n,o),u=Hs(e,r,a,o),l=Oo.pointAt(i,e,t,r,o),c=Oo.pointAt(t,r,n,a,o);return[[i,e,l.x,l.y,s,u],[s,u,c.x,c.y,n,a]]}function Yu(i,e,t,r,n,a,o){if(o===0)return(mi(i,e,t,r)+mi(t,r,n,a)+mi(i,e,n,a))/2;var s=uc(i,e,t,r,n,a,.5),u=s[0],l=s[1];return u.push(o-1),l.push(o-1),Yu.apply(null,u)+Yu.apply(null,l)}var Zc={box:function(i,e,t,r,n,a){var o=Zf(i,t,n)[0],s=Zf(e,r,a)[0],u=[i,n],l=[e,a];return o!==void 0&&u.push(Hs(i,t,n,o)),s!==void 0&&l.push(Hs(e,r,a,s)),Wu(u,l)},length:function(i,e,t,r,n,a){return Yu(i,e,t,r,n,a,3)},nearestPoint:function(i,e,t,r,n,a,o,s){return Hf([i,t,n],[e,r,a],o,s,Hs)},pointDistance:function(i,e,t,r,n,a,o,s){var u=this.nearestPoint(i,e,t,r,n,a,o,s);return mi(u.x,u.y,o,s)},interpolationAt:Hs,pointAt:function(i,e,t,r,n,a,o){return{x:Hs(i,t,n,o),y:Hs(e,r,a,o)}},divide:function(i,e,t,r,n,a,o){return uc(i,e,t,r,n,a,o)},tangentAngle:function(i,e,t,r,n,a,o){var s=Hc(i,t,n,o),u=Hc(e,r,a,o),l=Math.atan2(u,s);return sc(l)}};function Zs(i,e,t,r,n){var a=1-n;return a*a*a*i+3*e*n*a*a+3*t*n*n*a+r*n*n*n}function Kc(i,e,t,r,n){var a=1-n;return 3*(a*a*(e-i)+2*a*n*(t-e)+n*n*(r-t))}function lc(i,e,t,r){var n=-3*i+9*e-9*t+3*r,a=6*i-12*e+6*t,o=3*e-3*i,s=[],u,l,c;if(gu(n,0))gu(a,0)||(u=-o/a,u>=0&&u<=1&&s.push(u));else{var d=a*a-4*n*o;gu(d,0)?s.push(-a/(2*n)):d>0&&(c=Math.sqrt(d),u=(-a+c)/(2*n),l=(-a-c)/(2*n),u>=0&&u<=1&&s.push(u),l>=0&&l<=1&&s.push(l))}return s}function wl(i,e,t,r,n,a,o,s,u){var l=Zs(i,t,n,o,u),c=Zs(e,r,a,s,u),d=Oo.pointAt(i,e,t,r,u),T=Oo.pointAt(t,r,n,a,u),I=Oo.pointAt(n,a,o,s,u),B=Oo.pointAt(d.x,d.y,T.x,T.y,u),H=Oo.pointAt(T.x,T.y,I.x,I.y,u);return[[i,e,d.x,d.y,B.x,B.y,l,c],[l,c,H.x,H.y,I.x,I.y,o,s]]}function Lt(i,e,t,r,n,a,o,s,u){if(u===0)return yd([i,t,n,o],[e,r,a,s]);var l=wl(i,e,t,r,n,a,o,s,.5),c=l[0],d=l[1];return c.push(u-1),d.push(u-1),Lt.apply(null,c)+Lt.apply(null,d)}var we={extrema:lc,box:function(i,e,t,r,n,a,o,s){for(var u=[i,o],l=[e,s],c=lc(i,t,n,o),d=lc(e,r,a,s),T=0;T<c.length;T++)u.push(Zs(i,t,n,o,c[T]));for(var T=0;T<d.length;T++)l.push(Zs(e,r,a,s,d[T]));return Wu(u,l)},length:function(i,e,t,r,n,a,o,s){return Lt(i,e,t,r,n,a,o,s,3)},nearestPoint:function(i,e,t,r,n,a,o,s,u,l,c){return Hf([i,t,n,o],[e,r,a,s],u,l,Zs,c)},pointDistance:function(i,e,t,r,n,a,o,s,u,l,c){var d=this.nearestPoint(i,e,t,r,n,a,o,s,u,l,c);return mi(d.x,d.y,u,l)},interpolationAt:Zs,pointAt:function(i,e,t,r,n,a,o,s,u){return{x:Zs(i,t,n,o,u),y:Zs(e,r,a,s,u)}},divide:function(i,e,t,r,n,a,o,s,u){return wl(i,e,t,r,n,a,o,s,u)},tangentAngle:function(i,e,t,r,n,a,o,s,u){var l=Kc(i,t,n,o,u),c=Kc(e,r,a,s,u);return sc(Math.atan2(c,l))}};function ze(i,e){var t=Math.abs(i);return e>0?t:t*-1}var Dr={box:function(i,e,t,r){return{x:i-t,y:e-r,width:t*2,height:r*2}},length:function(i,e,t,r){return Math.PI*(3*(t+r)-Math.sqrt((3*t+r)*(t+3*r)))},nearestPoint:function(i,e,t,r,n,a){var o=t,s=r;if(o===0||s===0)return{x:i,y:e};for(var u=n-i,l=a-e,c=Math.abs(u),d=Math.abs(l),T=o*o,I=s*s,B=Math.PI/4,H,tt,lt=0;lt<4;lt++){H=o*Math.cos(B),tt=s*Math.sin(B);var dt=(T-I)*Math.pow(Math.cos(B),3)/o,gt=(I-T)*Math.pow(Math.sin(B),3)/s,_t=H-dt,Ht=tt-gt,oe=c-dt,ie=d-gt,Ee=Math.hypot(Ht,_t),Re=Math.hypot(ie,oe),Ae=Ee*Math.asin((_t*ie-Ht*oe)/(Ee*Re)),Ve=Ae/Math.sqrt(T+I-H*H-tt*tt);B+=Ve,B=Math.min(Math.PI/2,Math.max(0,B))}return{x:i+ze(H,u),y:e+ze(tt,l)}},pointDistance:function(i,e,t,r,n,a){var o=this.nearestPoint(i,e,t,r,n,a);return mi(o.x,o.y,n,a)},pointAt:function(i,e,t,r,n){var a=2*Math.PI*n;return{x:i+t*Math.cos(a),y:e+r*Math.sin(a)}},tangentAngle:function(i,e,t,r,n){var a=2*Math.PI*n,o=Math.atan2(r*Math.cos(a),-t*Math.sin(a));return sc(o)}};function Jr(i,e,t,r,n,a,o,s){return-1*t*Math.cos(n)*Math.sin(s)-r*Math.sin(n)*Math.cos(s)}function Ar(i,e,t,r,n,a,o,s){return-1*t*Math.sin(n)*Math.sin(s)+r*Math.cos(n)*Math.cos(s)}function Gr(i,e,t){return Math.atan(-e/i*Math.tan(t))}function vn(i,e,t){return Math.atan(e/(i*Math.tan(t)))}function mn(i,e,t,r,n,a){return t*Math.cos(n)*Math.cos(a)-r*Math.sin(n)*Math.sin(a)+i}function En(i,e,t,r,n,a){return t*Math.sin(n)*Math.cos(a)+r*Math.cos(n)*Math.sin(a)+e}function yn(i,e,t,r){var n=Math.atan2(r*i,t*e);return(n+Math.PI*2)%(Math.PI*2)}function _n(i,e,t){return{x:i*Math.cos(t),y:e*Math.sin(t)}}function v(i,e,t){var r=Math.cos(t),n=Math.sin(t);return[i*r-e*n,i*n+e*r]}var N={box:function(i,e,t,r,n,a,o){for(var s=Gr(t,r,n),u=1/0,l=-1/0,c=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var T=s+d;a<o?a<T&&T<o&&c.push(T):o<T&&T<a&&c.push(T)}for(var d=0;d<c.length;d++){var I=mn(i,e,t,r,n,c[d]);I<u&&(u=I),I>l&&(l=I)}for(var B=vn(t,r,n),H=1/0,tt=-1/0,lt=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var dt=B+d;a<o?a<dt&&dt<o&&lt.push(dt):o<dt&&dt<a&&lt.push(dt)}for(var d=0;d<lt.length;d++){var gt=En(i,e,t,r,n,lt[d]);gt<H&&(H=gt),gt>tt&&(tt=gt)}return{x:u,y:H,width:l-u,height:tt-H}},length:function(i,e,t,r,n,a,o){},nearestPoint:function(i,e,t,r,n,a,o,s,u){var l=v(s-i,u-e,-n),c=l[0],d=l[1],T=Dr.nearestPoint(0,0,t,r,c,d),I=yn(t,r,T.x,T.y);I<a?T=_n(t,r,a):I>o&&(T=_n(t,r,o));var B=v(T.x,T.y,n);return{x:B[0]+i,y:B[1]+e}},pointDistance:function(i,e,t,r,n,a,o,s,u){var l=this.nearestPoint(i,e,t,r,s,u);return mi(l.x,l.y,s,u)},pointAt:function(i,e,t,r,n,a,o,s){var u=(o-a)*s+a;return{x:mn(i,e,t,r,n,u),y:En(i,e,t,r,n,u)}},tangentAngle:function(i,e,t,r,n,a,o,s){var u=(o-a)*s+a,l=Jr(i,e,t,r,n,a,o,u),c=Ar(i,e,t,r,n,a,o,u);return sc(Math.atan2(c,l))}};function Z(i){for(var e=0,t=[],r=0;r<i.length-1;r++){var n=i[r],a=i[r+1],o=mi(n[0],n[1],a[0],a[1]),s={from:n,to:a,length:o};t.push(s),e+=o}return{segments:t,totalLength:e}}function it(i){if(i.length<2)return 0;for(var e=0,t=0;t<i.length-1;t++){var r=i[t],n=i[t+1];e+=mi(r[0],r[1],n[0],n[1])}return e}function pt(i,e){if(e>1||e<0||i.length<2)return null;var t=Z(i),r=t.segments,n=t.totalLength;if(n===0)return{x:i[0][0],y:i[0][1]};for(var a=0,o=null,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,d=u.length/n;if(e>=a&&e<=a+d){var T=(e-a)/d;o=Oo.pointAt(l[0],l[1],c[0],c[1],T);break}a+=d}return o}function yt(i,e){if(e>1||e<0||i.length<2)return 0;for(var t=Z(i),r=t.segments,n=t.totalLength,a=0,o=0,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,d=u.length/n;if(e>=a&&e<=a+d){o=Math.atan2(c[1]-l[1],c[0]-l[0]);break}a+=d}return o}function At(i,e,t){for(var r=1/0,n=0;n<i.length-1;n++){var a=i[n],o=i[n+1],s=Oo.pointDistance(a[0],a[1],o[0],o[1],e,t);s<r&&(r=s)}return r}var Nt={box:function(i){for(var e=[],t=[],r=0;r<i.length;r++){var n=i[r];e.push(n[0]),t.push(n[1])}return Wu(e,t)},length:function(i){return it(i)},pointAt:function(i,e){return pt(i,e)},pointDistance:function(i,e,t){return At(i,e,t)},tangentAngle:function(i,e){return yt(i,e)}};function jt(i){var e=i.slice(0);return i.length&&e.push(i[0]),e}var le={box:function(i){return Nt.box(i)},length:function(i){return it(jt(i))},pointAt:function(i,e){return pt(jt(i),e)},pointDistance:function(i,e,t){return At(jt(i),e,t)},tangentAngle:function(i,e){return yt(jt(i),e)}};function xe(i,e){return!i||!e?i||e:{minX:Math.min(i.minX,e.minX),minY:Math.min(i.minY,e.minY),maxX:Math.max(i.maxX,e.maxX),maxY:Math.max(i.maxY,e.maxY)}}function ge(i,e){var t=i.get("startArrowShape"),r=i.get("endArrowShape"),n=null,a=null;return t&&(n=t.getCanvasBBox(),e=xe(e,n)),r&&(a=r.getCanvasBBox(),e=xe(e,a)),e}function Be(i){for(var e=i.attr(),t=e.points,r=[],n=[],a=0;a<t.length;a++){var o=t[a];r.push(o[0]),n.push(o[1])}var s=Wu(r,n),u=s.x,l=s.y,c=s.width,d=s.height,T={minX:u,minY:l,maxX:u+c,maxY:l+d};return T=ge(i,T),{x:T.minX,y:T.minY,width:T.maxX-T.minX,height:T.maxY-T.minY}}function ir(i){for(var e=i.attr(),t=e.points,r=[],n=[],a=0;a<t.length;a++){var o=t[a];r.push(o[0]),n.push(o[1])}return Wu(r,n)}var Yr=null;function dr(){if(!Yr){var i=document.createElement("canvas");i.width=1,i.height=1,Yr=i.getContext("2d")}return Yr}function pr(i,e,t){var r=1;if((0,f.isString)(i)&&(r=i.split(`
`).length),r>1){var n=gr(e,t);return e*r+n*(r-1)}return e}function gr(i,e){return e?e-i:i*.14}function bn(i,e){var t=dr(),r=0;if((0,f.isNil)(i)||i==="")return r;if(t.save(),t.font=e,(0,f.isString)(i)&&i.includes(`
`)){var n=i.split(`
`);(0,f.each)(n,function(a){var o=t.measureText(a).width;r<o&&(r=o)})}else r=t.measureText(i).width;return t.restore(),r}function Ln(i){var e=i.fontSize,t=i.fontFamily,r=i.fontWeight,n=i.fontStyle,a=i.fontVariant;return[n,a,r,e+"px",t].join(" ").trim()}function Cn(i){var e=i.attr(),t=e.x,r=e.y,n=e.text,a=e.fontSize,o=e.lineHeight,s=e.font;s||(s=Ln(e));var u=bn(n,s),l;if(!u)l={x:t,y:r,width:0,height:0};else{var c=e.textAlign,d=e.textBaseline,T=pr(n,a,o),I={x:t,y:r-T};c&&(c==="end"||c==="right"?I.x-=u:c==="center"&&(I.x-=u/2)),d&&(d==="top"?I.y+=T:d==="middle"&&(I.y+=T/2)),l={x:I.x,y:I.y,width:u,height:T}}return l}var ta=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,Kn=/[^\s\,]+/ig;function ia(i){var e=i||[];if((0,f.isArray)(e))return e;if((0,f.isString)(e))return e=e.match(ta),(0,f.each)(e,function(t,r){if(t=t.match(Kn),t[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}(0,f.each)(t,function(a,o){isNaN(a)||(t[o]=+a)}),e[r]=t}),e}var pa=ia;function da(i,e,t,r){var n=[],a=!!r,o,s,u,l,c,d,T;if(a){u=r[0],l=r[1];for(var I=0,B=i.length;I<B;I+=1){var H=i[I];u=Qn.min([0,0],u,H),l=Qn.max([0,0],l,H)}}for(var I=0,tt=i.length;I<tt;I+=1){var H=i[I];if(I===0&&!t)T=H;else if(I===tt-1&&!t)d=H,n.push(T),n.push(d);else{var lt=[I?I-1:tt-1,I-1][t?0:1];o=i[lt],s=i[t?(I+1)%tt:I+1];var dt=[0,0];dt=Qn.sub(dt,s,o),dt=Qn.scale(dt,dt,e);var gt=Qn.distance(H,o),_t=Qn.distance(H,s),Ht=gt+_t;Ht!==0&&(gt/=Ht,_t/=Ht);var oe=Qn.scale([0,0],dt,-gt),ie=Qn.scale([0,0],dt,_t);d=Qn.add([0,0],H,oe),c=Qn.add([0,0],H,ie),c=Qn.min([0,0],c,Qn.max([0,0],s,H)),c=Qn.max([0,0],c,Qn.min([0,0],s,H)),oe=Qn.sub([0,0],c,H),oe=Qn.scale([0,0],oe,-gt/_t),d=Qn.add([0,0],H,oe),d=Qn.min([0,0],d,Qn.max([0,0],o,H)),d=Qn.max([0,0],d,Qn.min([0,0],o,H)),ie=Qn.sub([0,0],H,d),ie=Qn.scale([0,0],ie,_t/gt),c=Qn.add([0,0],H,ie),a&&(d=Qn.max([0,0],d,u),d=Qn.min([0,0],d,l),c=Qn.max([0,0],c,u),c=Qn.min([0,0],c,l)),n.push(T),n.push(d),T=c}}return t&&n.push(n.shift()),n}function Di(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var r=!!e,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=da(n,.4,r,t),u=n.length,l=[],c,d,T,a=0;a<u-1;a+=1)c=s[a*2],d=s[a*2+1],T=n[a+1],l.push(["C",c[0],c[1],d[0],d[1],T[0],T[1]]);return r&&(c=s[u],d=s[u+1],T=n[0],l.push(["C",c[0],c[1],d[0],d[1],T[0],T[1]])),l}var ya=Di;function qi(i,e,t){var r=null,n=t;return e<n&&(n=e,r="add"),i<n&&(n=i,r="del"),{type:r,min:n}}var yi=function(i,e){var t=i.length,r=e.length,n,a,o=0;if(t===0||r===0)return null;for(var s=[],u=0;u<=t;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=r;l++)s[0][l]={min:l};for(var u=1;u<=t;u++){n=i[u-1];for(var l=1;l<=r;l++){a=e[l-1],isEqual(n,a)?o=0:o=1;var c=s[u-1][l].min+1,d=s[u][l-1].min+1,T=s[u-1][l-1].min+o;s[u][l]=qi(c,d,T)}}return s};function Ua(i,e){var t=yi(i,e),r=i.length,n=e.length,a=[],o=1,s=1;if(t[r][n]!==r){for(var u=1;u<=r;u++){var l=t[u][u].min;s=u;for(var c=o;c<=n;c++)t[u][c].min<l&&(l=t[u][c].min,s=c);o=s,t[u][o].type&&a.push({index:u-1,type:t[u][o].type})}for(var u=a.length-1;u>=0;u--)o=a[u].index,a[u].type==="add"?i.splice(o,0,[].concat(i[o])):i.splice(o,1)}if(r=i.length,r<n)for(var u=0;u<n-r;u++)i[r-1][0]==="z"||i[r-1][0]==="Z"?i.splice(r-2,0,i[r-2]):i.push(i[r-1]);return i}var Ci=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Ji=new RegExp("([a-z])["+Ci+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ci+"]*,?["+Ci+"]*)+)","ig"),So=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ci+"]*,?["+Ci+"]*","ig");function Io(i){if(!i)return null;if((0,f.isArray)(i))return i;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(i).replace(Ji,function(r,n,a){var o=[],s=n.toLowerCase();if(a.replace(So,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return""}),t}var go=/[a-z]/;function Ta(i,e){return[e[0]+(e[0]-i[0]),e[1]+(e[1]-i[1])]}function Ro(i){var e=Io(i);if(!e||!e.length)return[["M",0,0]];for(var t=!1,r=0;r<e.length;r++){var n=e[r][0];if(go.test(n)||["V","H","T","S"].indexOf(n)>=0){t=!0;break}}if(!t)return e;var a=[],o=0,s=0,u=0,l=0,c=0,d,T,I=e[0];(I[0]==="M"||I[0]==="m")&&(o=+I[1],s=+I[2],u=o,l=s,c++,a[0]=["M",o,s]);for(var r=c,B=e.length;r<B;r++){var H=e[r],tt=a[r-1],lt=[],n=H[0],dt=n.toUpperCase();if(n!==dt)switch(lt[0]=dt,dt){case"A":lt[1]=H[1],lt[2]=H[2],lt[3]=H[3],lt[4]=H[4],lt[5]=H[5],lt[6]=+H[6]+o,lt[7]=+H[7]+s;break;case"V":lt[1]=+H[1]+s;break;case"H":lt[1]=+H[1]+o;break;case"M":u=+H[1]+o,l=+H[2]+s,lt[1]=u,lt[2]=l;break;default:for(var gt=1,_t=H.length;gt<_t;gt++)lt[gt]=+H[gt]+(gt%2?o:s)}else lt=e[r];switch(dt){case"Z":o=+u,s=+l;break;case"H":o=lt[1],lt=["L",o,s];break;case"V":s=lt[1],lt=["L",o,s];break;case"T":o=lt[1],s=lt[2];var Ht=Ta([tt[1],tt[2]],[tt[3],tt[4]]);lt=["Q",Ht[0],Ht[1],o,s];break;case"S":o=lt[lt.length-2],s=lt[lt.length-1];var oe=tt.length,ie=Ta([tt[oe-4],tt[oe-3]],[tt[oe-2],tt[oe-1]]);lt=["C",ie[0],ie[1],lt[1],lt[2],o,s];break;case"M":u=lt[lt.length-2],l=lt[lt.length-1];break;default:o=lt[lt.length-2],s=lt[lt.length-1]}a.push(lt)}return a}var $a=Math.PI*2,oa=function(i,e,t,r,n,a,o){var s=i.x,u=i.y;s*=e,u*=t;var l=r*s-n*u,c=n*s+r*u;return{x:l+a,y:c+o}},Fa=function(i,e){var t=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=Math.cos(i),n=Math.sin(i),a=Math.cos(i+e),o=Math.sin(i+e);return[{x:r-n*t,y:n+r*t},{x:a+o*t,y:o-a*t},{x:a,y:o}]},Ka=function(i,e,t,r){var n=i*r-e*t<0?-1:1,a=i*t+e*r;return a>1&&(a=1),a<-1&&(a=-1),n*Math.acos(a)},mo=function(i,e,t,r,n,a,o,s,u,l,c,d){var T=Math.pow(n,2),I=Math.pow(a,2),B=Math.pow(c,2),H=Math.pow(d,2),tt=T*I-T*H-I*B;tt<0&&(tt=0),tt/=T*H+I*B,tt=Math.sqrt(tt)*(o===s?-1:1);var lt=tt*n/a*d,dt=tt*-a/n*c,gt=l*lt-u*dt+(i+t)/2,_t=u*lt+l*dt+(e+r)/2,Ht=(c-lt)/n,oe=(d-dt)/a,ie=(-c-lt)/n,Ee=(-d-dt)/a,Re=Ka(1,0,Ht,oe),Ae=Ka(Ht,oe,ie,Ee);return s===0&&Ae>0&&(Ae-=$a),s===1&&Ae<0&&(Ae+=$a),[gt,_t,Re,Ae]},Ks=function(i){var e=i.px,t=i.py,r=i.cx,n=i.cy,a=i.rx,o=i.ry,s=i.xAxisRotation,u=s===void 0?0:s,l=i.largeArcFlag,c=l===void 0?0:l,d=i.sweepFlag,T=d===void 0?0:d,I=[];if(a===0||o===0)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:n}];var B=Math.sin(u*$a/360),H=Math.cos(u*$a/360),tt=H*(e-r)/2+B*(t-n)/2,lt=-B*(e-r)/2+H*(t-n)/2;if(tt===0&&lt===0)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:n}];a=Math.abs(a),o=Math.abs(o);var dt=Math.pow(tt,2)/Math.pow(a,2)+Math.pow(lt,2)/Math.pow(o,2);dt>1&&(a*=Math.sqrt(dt),o*=Math.sqrt(dt));var gt=mo(e,t,r,n,a,o,c,T,B,H,tt,lt),_t=gt[0],Ht=gt[1],oe=gt[2],ie=gt[3],Ee=Math.abs(ie)/($a/4);Math.abs(1-Ee)<1e-7&&(Ee=1);var Re=Math.max(Math.ceil(Ee),1);ie/=Re;for(var Ae=0;Ae<Re;Ae++)I.push(Fa(oe,ie)),oe+=ie;return I.map(function(Ve){var sr=oa(Ve[0],a,o,H,B,_t,Ht),tn=sr.x,Tn=sr.y,pn=oa(Ve[1],a,o,H,B,_t,Ht),Vr=pn.x,Gn=pn.y,Rn=oa(Ve[2],a,o,H,B,_t,Ht),Hr=Rn.x,hn=Rn.y;return{x1:tn,y1:Tn,x2:Vr,y2:Gn,x:Hr,y:hn}})};function cc(i,e,t,r,n,a,o,s,u){var l=Ks({px:i,py:e,cx:s,cy:u,rx:t,ry:r,xAxisRotation:n,largeArcFlag:a,sweepFlag:o});return l.reduce(function(c,d){var T=d.x1,I=d.y1,B=d.x2,H=d.y2,tt=d.x,lt=d.y;return c.push(T,I,B,H,tt,lt),c},[])}function ke(i,e){"TQ".indexOf(i[0])<0&&(e.qx=null,e.qy=null);var t=i.slice(1),r=t[0],n=t[1];switch(i[0]){case"M":return e.x=r,e.y=n,i;case"A":return["C"].concat(arcToCubic.apply(0,[e.x1,e.y1].concat(i.slice(1))));case"Q":return e.qx=r,e.qy=n,["C"].concat(quadToCubic.apply(0,[e.x1,e.y1].concat(i.slice(1))));case"L":return["C"].concat(lineToCubic(e.x1,e.y1,i[1],i[2]));case"H":return["C"].concat(lineToCubic(e.x1,e.y1,i[1],e.y1));case"V":return["C"].concat(lineToCubic(e.x1,e.y1,e.x1,i[1]));case"Z":return["C"].concat(lineToCubic(e.x1,e.y1,e.x,e.y));default:}return i}function kr(i,e){e===void 0&&(e=!1);for(var t=path2Absolute(i),r={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},n=[],a="",o=t.length,s,u,l=[],c=0;c<o;c+=1)t[c]&&(a=t[c][0]),n[c]=a,t[c]=segmentToCubic(t[c],r),Mr(t,n,c),o=t.length,a==="Z"&&l.push(c),s=t[c],u=s.length,r.x1=+s[u-2],r.y1=+s[u-1],r.x2=+s[u-4]||r.x1,r.y2=+s[u-3]||r.y1;return e?[t,l]:t}function Mr(i,e,t){if(i[t].length>7){i[t].shift();for(var r=i[t],n=t;r.length;)e[t]="A",i.splice(n+=1,0,["C"].concat(r.splice(0,6)));i.splice(t,1)}}var Xn=function(i,e,t,r,n){var a=-3*e+9*t-9*r+3*n,o=i*a+6*e-12*t+6*r;return i*o-3*e+3*t},La=function(i,e,t,r,n,a,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],T=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],I=0,B=0;B<c;B++){var H=l*d[B]+l,tt=Xn(H,i,t,n,o),lt=Xn(H,e,r,a,s),dt=tt*tt+lt*lt;I+=T[B]*Math.sqrt(dt)}return l*I},Oe=function(i,e,t,r,n,a,o,s){for(var u=[],l=[[],[]],c,d,T,I,B=0;B<2;++B){if(B===0?(d=6*i-12*t+6*n,c=-3*i+9*t-9*n+3*o,T=3*t-3*i):(d=6*e-12*r+6*a,c=-3*e+9*r-9*a+3*s,T=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(d)<1e-12)continue;I=-T/d,I>0&&I<1&&u.push(I);continue}var H=d*d-4*T*c,tt=Math.sqrt(H);if(!(H<0)){var lt=(-d+tt)/(2*c);lt>0&&lt<1&&u.push(lt);var dt=(-d-tt)/(2*c);dt>0&&dt<1&&u.push(dt)}}for(var gt=u.length,_t=gt,Ht;gt--;)I=u[gt],Ht=1-I,l[0][gt]=Ht*Ht*Ht*i+3*Ht*Ht*I*t+3*Ht*I*I*n+I*I*I*o,l[1][gt]=Ht*Ht*Ht*e+3*Ht*Ht*I*r+3*Ht*I*I*a+I*I*I*s;return l[0][_t]=i,l[1][_t]=e,l[0][_t+1]=o,l[1][_t+1]=s,l[0].length=l[1].length=_t+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},me=function(i,e,t,r,n,a,o,s){if(!(Math.max(i,t)<Math.min(n,o)||Math.min(i,t)>Math.max(n,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(i*r-e*t)*(n-o)-(i-t)*(n*s-a*o),l=(i*r-e*t)*(a-s)-(e-r)*(n*s-a*o),c=(i-t)*(a-s)-(e-r)*(n-o);if(c){var d=u/c,T=l/c,I=+d.toFixed(2),B=+T.toFixed(2);if(!(I<+Math.min(i,t).toFixed(2)||I>+Math.max(i,t).toFixed(2)||I<+Math.min(n,o).toFixed(2)||I>+Math.max(n,o).toFixed(2)||B<+Math.min(e,r).toFixed(2)||B>+Math.max(e,r).toFixed(2)||B<+Math.min(a,s).toFixed(2)||B>+Math.max(a,s).toFixed(2)))return{x:d,y:T}}}},Ze=function(i,e,t){return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},yr=function(i,e,t,r){return i===null&&(i=e=t=r=0),e===null&&(e=i.y,t=i.width,r=i.height,i=i.x),{x:i,y:e,width:t,w:t,height:r,h:r,x2:i+t,y2:e+r,cx:i+t/2,cy:e+r/2,r1:Math.min(t,r)/2,r2:Math.max(t,r)/2,r0:Math.sqrt(t*t+r*r)/2,path:rectPath(i,e,t,r),vb:[i,e,t,r].join(" ")}},Er=function(i,e){return i=yr(i),e=yr(e),Ze(e,i.x,i.y)||Ze(e,i.x2,i.y)||Ze(e,i.x,i.y2)||Ze(e,i.x2,i.y2)||Ze(i,e.x,e.y)||Ze(i,e.x2,e.y)||Ze(i,e.x,e.y2)||Ze(i,e.x2,e.y2)||(i.x<e.x2&&i.x>e.x||e.x<i.x2&&e.x>i.x)&&(i.y<e.y2&&i.y>e.y||e.y<i.y2&&e.y>i.y)},er=function(i,e,t,r,n,a,o,s){isArray(i)||(i=[i,e,t,r,n,a,o,s]);var u=Oe.apply(null,i);return yr(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Qe=function(i,e,t,r,n,a,o,s,u){var l=1-u,c=Math.pow(l,3),d=Math.pow(l,2),T=u*u,I=T*u,B=c*i+d*3*u*t+l*3*u*u*n+I*o,H=c*e+d*3*u*r+l*3*u*u*a+I*s,tt=i+2*u*(t-i)+T*(n-2*t+i),lt=e+2*u*(r-e)+T*(a-2*r+e),dt=t+2*u*(n-t)+T*(o-2*n+t),gt=r+2*u*(a-r)+T*(s-2*a+r),_t=l*i+u*t,Ht=l*e+u*r,oe=l*n+u*o,ie=l*a+u*s,Ee=90-Math.atan2(tt-dt,lt-gt)*180/Math.PI;return{x:B,y:H,m:{x:tt,y:lt},n:{x:dt,y:gt},start:{x:_t,y:Ht},end:{x:oe,y:ie},alpha:Ee}},lr=function(i,e,t){var r=er(i),n=er(e);if(!Er(r,n))return t?0:[];for(var a=La.apply(0,i),o=La.apply(0,e),s=~~(a/8),u=~~(o/8),l=[],c=[],d={},T=t?0:[],I=0;I<s+1;I++){var B=Qe.apply(0,i.concat(I/s));l.push({x:B.x,y:B.y,t:I/s})}for(var I=0;I<u+1;I++){var B=Qe.apply(0,e.concat(I/u));c.push({x:B.x,y:B.y,t:I/u})}for(var I=0;I<s;I++)for(var H=0;H<u;H++){var tt=l[I],lt=l[I+1],dt=c[H],gt=c[H+1],_t=Math.abs(lt.x-tt.x)<.001?"y":"x",Ht=Math.abs(gt.x-dt.x)<.001?"y":"x",oe=me(tt.x,tt.y,lt.x,lt.y,dt.x,dt.y,gt.x,gt.y);if(oe){if(d[oe.x.toFixed(4)]===oe.y.toFixed(4))continue;d[oe.x.toFixed(4)]=oe.y.toFixed(4);var ie=tt.t+Math.abs((oe[_t]-tt[_t])/(lt[_t]-tt[_t]))*(lt.t-tt.t),Ee=dt.t+Math.abs((oe[Ht]-dt[Ht])/(gt[Ht]-dt[Ht]))*(gt.t-dt.t);ie>=0&&ie<=1&&Ee>=0&&Ee<=1&&(t?T++:T.push({x:oe.x,y:oe.y,t1:ie,t2:Ee}))}}return T},Ie=function(i,e,t){i=path2Curve(i),e=path2Curve(e);for(var r,n,a,o,s,u,l,c,d,T,I=t?0:[],B=0,H=i.length;B<H;B++){var tt=i[B];if(tt[0]==="M")r=s=tt[1],n=u=tt[2];else{tt[0]==="C"?(d=[r,n].concat(tt.slice(1)),r=d[6],n=d[7]):(d=[r,n,r,n,s,u,s,u],r=s,n=u);for(var lt=0,dt=e.length;lt<dt;lt++){var gt=e[lt];if(gt[0]==="M")a=l=gt[1],o=c=gt[2];else{gt[0]==="C"?(T=[a,o].concat(gt.slice(1)),a=T[6],o=T[7]):(T=[a,o,a,o,l,c,l,c],a=l,o=c);var _t=lr(d,T,t);if(t)I+=_t;else{for(var Ht=0,oe=_t.length;Ht<oe;Ht++)_t[Ht].segment1=B,_t[Ht].segment2=lt,_t[Ht].bez1=d,_t[Ht].bez2=T;I=I.concat(_t)}}}}}return I};function Ke(i,e){return Ie(i,e)}function Ce(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function hr(i,e){return Ce(i)*Ce(e)?(i[0]*e[0]+i[1]*e[1])/(Ce(i)*Ce(e)):1}function wr(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(hr(i,e))}function $r(i,e){return i[0]===e[0]&&i[1]===e[1]}function en(i,e){var t=e[1],r=e[2],n=(0,f.mod)((0,f.toRadian)(e[3]),Math.PI*2),a=e[4],o=e[5],s=i[0],u=i[1],l=e[6],c=e[7],d=Math.cos(n)*(s-l)/2+Math.sin(n)*(u-c)/2,T=-1*Math.sin(n)*(s-l)/2+Math.cos(n)*(u-c)/2,I=d*d/(t*t)+T*T/(r*r);I>1&&(t*=Math.sqrt(I),r*=Math.sqrt(I));var B=t*t*(T*T)+r*r*(d*d),H=B?Math.sqrt((t*t*(r*r)-B)/B):1;a===o&&(H*=-1),isNaN(H)&&(H=0);var tt=r?H*t*T/r:0,lt=t?H*-r*d/t:0,dt=(s+l)/2+Math.cos(n)*tt-Math.sin(n)*lt,gt=(u+c)/2+Math.sin(n)*tt+Math.cos(n)*lt,_t=[(d-tt)/t,(T-lt)/r],Ht=[(-1*d-tt)/t,(-1*T-lt)/r],oe=wr([1,0],_t),ie=wr(_t,Ht);return hr(_t,Ht)<=-1&&(ie=Math.PI),hr(_t,Ht)>=1&&(ie=0),o===0&&ie>0&&(ie=ie-2*Math.PI),o===1&&ie<0&&(ie=ie+2*Math.PI),{cx:dt,cy:gt,rx:$r(i,[l,c])?0:t,ry:$r(i,[l,c])?0:r,startAngle:oe,endAngle:oe+ie,xRotation:n,arcFlag:a,sweepFlag:o}}function Xr(i,e){return[e[0]+(e[0]-i[0]),e[1]+(e[1]-i[1])]}function wn(i){i=pa(i);for(var e=[],t=null,r=null,n=null,a=0,o=i.length,s=0;s<o;s++){var u=i[s];r=i[s+1];var l=u[0],c={command:l,prePoint:t,params:u,startTangent:null,endTangent:null};switch(l){case"M":n=[u[1],u[2]],a=s;break;case"A":var d=en(t,u);c.arcParams=d;break;default:break}if(l==="Z")t=n,r=i[a+1];else{var T=u.length;t=[u[T-2],u[T-1]]}r&&r[0]==="Z"&&(r=i[a],e[a]&&(e[a].prePoint=t)),c.currentPoint=t,e[a]&&$r(t,e[a].currentPoint)&&(e[a].prePoint=c.prePoint);var I=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=I;var B=c.prePoint;if(["L","H","V"].includes(l))c.startTangent=[B[0]-t[0],B[1]-t[1]],c.endTangent=[t[0]-B[0],t[1]-B[1]];else if(l==="Q"){var H=[u[1],u[2]];c.startTangent=[B[0]-H[0],B[1]-H[1]],c.endTangent=[t[0]-H[0],t[1]-H[1]]}else if(l==="T"){var tt=e[s-1],H=Xr(tt.currentPoint,B);tt.command==="Q"?(c.command="Q",c.startTangent=[B[0]-H[0],B[1]-H[1]],c.endTangent=[t[0]-H[0],t[1]-H[1]]):(c.command="TL",c.startTangent=[B[0]-t[0],B[1]-t[1]],c.endTangent=[t[0]-B[0],t[1]-B[1]])}else if(l==="C"){var lt=[u[1],u[2]],dt=[u[3],u[4]];c.startTangent=[B[0]-lt[0],B[1]-lt[1]],c.endTangent=[t[0]-dt[0],t[1]-dt[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[lt[0]-dt[0],lt[1]-dt[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[dt[0]-lt[0],dt[1]-lt[1]])}else if(l==="S"){var tt=e[s-1],lt=Xr(tt.currentPoint,B),dt=[u[1],u[2]];tt.command==="C"?(c.command="C",c.startTangent=[B[0]-lt[0],B[1]-lt[1]],c.endTangent=[t[0]-dt[0],t[1]-dt[1]]):(c.command="SQ",c.startTangent=[B[0]-dt[0],B[1]-dt[1]],c.endTangent=[t[0]-dt[0],t[1]-dt[1]])}else if(l==="A"){var gt=.001,_t=c.arcParams||{},Ht=_t.cx,oe=Ht===void 0?0:Ht,ie=_t.cy,Ee=ie===void 0?0:ie,Re=_t.rx,Ae=Re===void 0?0:Re,Ve=_t.ry,sr=Ve===void 0?0:Ve,tn=_t.sweepFlag,Tn=tn===void 0?0:tn,pn=_t.startAngle,Vr=pn===void 0?0:pn,Gn=_t.endAngle,Rn=Gn===void 0?0:Gn;Tn===0&&(gt*=-1);var Hr=Ae*Math.cos(Vr-gt)+oe,hn=sr*Math.sin(Vr-gt)+Ee;c.startTangent=[Hr-n[0],hn-n[1]];var On=Ae*Math.cos(Vr+Rn+gt)+oe,In=sr*Math.sin(Vr+Rn-gt)+Ee;c.endTangent=[B[0]-On,B[1]-In]}e.push(c)}return e}function ra(i){for(var e=[],t=i.length,r=0;r<t-1;r++){var n=i[r],a=i[r+1];e.push({from:{x:n[0],y:n[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=i[0],s=i[t-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function Oa(i,e){var t=!1;return each(i,function(r){if(getLineIntersect(r.from,r.to,e.from,e.to))return t=!0,!1}),t}function Hn(i){var e=i.map(function(r){return r[0]}),t=i.map(function(r){return r[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function la(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function _a(i,e){if(i.length<2||e.length<2)return!1;var t=Hn(i),r=Hn(e);if(!la(t,r))return!1;var n=!1;if(each(e,function(u){if(isPointInPolygon(i,u[0],u[1]))return n=!0,!1}),n||(each(i,function(u){if(isPointInPolygon(e,u[0],u[1]))return n=!0,!1}),n))return!0;var a=ra(i),o=ra(e),s=!1;return each(o,function(u){if(Oa(a,u))return s=!0,!1}),s}function ei(i,e){for(var t=[],r=[],n=[],a=0;a<i.length;a++){var o=i[a],s=o.currentPoint,u=o.params,l=o.prePoint,c=void 0;switch(o.command){case"Q":c=Zc.box(l[0],l[1],u[1],u[2],u[3],u[4]);break;case"C":c=we.box(l[0],l[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var d=o.arcParams;c=N.box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:t.push(s[0]),r.push(s[1]);break}c&&(o.box=c,t.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&n.push(o)}t=t.filter(function(lt){return!Number.isNaN(lt)&&lt!==1/0&&lt!==-1/0}),r=r.filter(function(lt){return!Number.isNaN(lt)&&lt!==1/0&&lt!==-1/0});var T=(0,f.min)(t),I=(0,f.min)(r),B=(0,f.max)(t),H=(0,f.max)(r);if(n.length===0)return{x:T,y:I,width:B-T,height:H-I};for(var a=0;a<n.length;a++){var o=n[a],s=o.currentPoint,tt=void 0;s[0]===T?(tt=Vi(o,e),T=T-tt.xExtra):s[0]===B&&(tt=Vi(o,e),B=B+tt.xExtra),s[1]===I?(tt=Vi(o,e),I=I-tt.yExtra):s[1]===H&&(tt=Vi(o,e),H=H+tt.yExtra)}return{x:T,y:I,width:B-T,height:H-I}}function Vi(i,e){var t=i.prePoint,r=i.currentPoint,n=i.nextPoint,a=Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2),o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),s=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2),u=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!u||Math.sin(u)===0||(0,f.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(n[1]-r[1],n[0]-r[0])),c=Math.abs(Math.atan2(n[0]-r[0],n[1]-r[1]));l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c;var d={xExtra:Math.cos(u/2-l)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(c-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0};return d}function ns(i){var e=i.attr(),t=e.path,r=e.stroke,n=r?e.lineWidth:0,a=i.get("segments")||wn(t),o=ei(a,n),s=o.x,u=o.y,l=o.width,c=o.height,d={minX:s,minY:u,maxX:s+l,maxY:u+c};return d=ge(i,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function bd(i){var e=i.attr(),t=e.x1,r=e.y1,n=e.x2,a=e.y2,o=Math.min(t,n),s=Math.max(t,n),u=Math.min(r,a),l=Math.max(r,a),c={minX:o,maxX:s,minY:u,maxY:l};return c=ge(i,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function _s(i){var e=i.attr(),t=e.x,r=e.y,n=e.rx,a=e.ry;return{x:t-n,y:r-a,width:n*2,height:a*2}}ms("rect",Bs),ms("image",Bs),ms("circle",no),ms("marker",no),ms("polyline",Be),ms("polygon",ir),ms("text",Cn),ms("path",ns),ms("line",bd),ms("ellipse",_s);var Ch="0.5.11",Fs=function(i){(0,g.__extends)(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}return e}(au),Kf=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},Th=function(e){if((0,f.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,f.isNumber)(e))return[e,e,e,e];if((0,f.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},R0=function(e){var t=new Fs(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},k0=function(e){if(!e)return!1;for(var t=9,r=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(e[n]!==r[n])return!0;return!1},Xu=function(e){return Number.isNaN(Number(e))},Av=function(e){for(var t=1/0,r=-1/0,n=1/0,a=-1/0,o=0;o<e.length;o++){var s=e[o],u=s.getBBox(),l=u.minX,c=u.minY,d=u.maxX,T=u.maxY;l<t&&(t=l),c<n&&(n=c),d>r&&(r=d),T>a&&(a=T)}var I=Math.floor(t),B=Math.floor(n),H=Math.ceil(r)-Math.floor(t),tt=Math.ceil(a)-Math.floor(n);return{x:I,y:B,width:H,height:tt,minX:t,minY:n,maxX:r,maxY:a}},B0=function(e,t,r,n,a){t===void 0&&(t=15),r===void 0&&(r="quadratic"),n===void 0&&(n=void 0),a===void 0&&(a=void 0);for(var o=e.length,s=t*2,u=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],l={},c=[],d={},T=0;T<o;T++){var I=e[T],B=I.source,H=I.target,tt="".concat(B,"-").concat(H);if(!c[T]){l[tt]||(l[tt]=[]),c[T]=!0,l[tt].push(I);for(var lt=0;lt<o;lt++)if(T!==lt){var dt=e[lt],gt=dt.source,_t=dt.target;c[lt]||(B===_t&&H===gt?(l[tt].push(dt),c[lt]=!0,d["".concat(gt,"|").concat(_t,"|").concat(l[tt].length-1)]=!0):B===gt&&H===_t&&(l[tt].push(dt),c[lt]=!0))}}}for(var Ht in l)for(var oe=l[Ht],ie=oe.length,Ee=0;Ee<ie;Ee++){var Re=oe[Ee];if(Re.source===Re.target){a&&(Re.type=a),Re.loopCfg={position:u[Ee%8],dist:Math.floor(Ee/8)*20+50};continue}if(ie===1&&n&&Re.source!==Re.target){Re.type=n;continue}Re.type=r;var Ae=(Ee%2===0?1:-1)*(d["".concat(Re.source,"|").concat(Re.target,"|").concat(Ee)]?-1:1);ie%2===1?Re.curveOffset=Ae*Math.ceil(Ee/2)*s:Re.curveOffset=Ae*(Math.floor(Ee/2)*s+t)}return e},Ov=C(731278),F0=function(){function i(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return i.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,r=this.graph.get("width"),n=t.get("height");return{x:(r-e[1]-e[3])/2+e[3],y:(n-e[0]-e[2])/2+e[0]}},i.prototype.fitCenter=function(e,t){var r=this.graph,n=r.get("group"),a,o=r.getNodes();if(o.length>r.get("optimizeThreshold")){var s=1/0,u=1/0,l=-1/0,c=-1/0;o.forEach(function(_t){var Ht=_t.getModel(),oe=Ht.x,ie=Ht.y;s>oe&&(s=oe),u>ie&&(u=ie),l<oe&&(l=oe),c<ie&&(c=ie)});var d=n.getMatrix()||[1,0,0,0,1,0,0,0,1],T=Kr({x:s,y:u},d),I=T.x,B=T.y,H=Kr({x:l,y:c},d),tt=H.x,lt=H.y;a={minX:I,maxX:tt,minY:B,maxY:lt,width:tt-I,height:lt-B,x:I,y:B}}else a=n.getCanvasBBox();if(!(a.width===0||a.height===0)){var dt=this.getViewCenter(),gt={x:a.x+a.width/2,y:a.y+a.height/2};r.translate(dt.x-gt.x,dt.y-gt.y,e,t)}},i.prototype.animatedFitView=function(e,t,r,n,a,o,s,u){var l=this.graph;r=r||{duration:500,easing:"easeCubic"};var c=[1,0,0,0,1,0,0,0,1],d=n.x+a.x-o.x-n.minX,T=n.y+a.y-o.y-n.minY;if(!(Xu(d)||Xu(T))){var I=(0,Ov.vs)(c,[["t",d,T]]);if(!u){var B=is({animateCfg:r,callback:function(){l.emit("viewportchange",{action:"translate",matrix:I})}});e.animate(function(_t){return{matrix:Bi(t,I,_t)}},B);return}var H=l.get("minZoom"),tt=l.get("maxZoom"),lt=s;H&&s<H?(lt=H,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph minzoom has been used instead")):tt&&s>tt&&(lt=tt,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph maxzoom has been used instead"));var dt=(0,Ov.vs)(I,[["t",-a.x,-a.y],["s",lt,lt],["t",a.x,a.y]]),gt=is({animateCfg:r,callback:function(){e.setMatrix(dt),l.emit("viewportchange",{action:"translate",matrix:I}),l.emit("viewportchange",{action:"zoom",matrix:dt})}});e.stopAnimate(),e.setMatrix(t),e.animate(function(_t){return{matrix:Bi(t,dt,_t)}},gt)}},i.prototype.fitView=function(e,t){var r=this.graph,n=this.getFormatPadding(),a=r.get("width"),o=r.get("height"),s=r.get("group"),u=s.getMatrix()||[1,0,0,0,1,0,0,0,1];s.resetMatrix();var l,c=r.getNodes();if(c.length>r.get("optimizeThreshold")){var d=1/0,T=1/0,I=-1/0,B=-1/0;c.forEach(function(oe){var ie=oe.getModel(),Ee=ie.x,Re=ie.y;d>Ee&&(d=Ee),T>Re&&(T=Re),I<Ee&&(I=Ee),B<Re&&(B=Re)}),l={minX:d,maxX:I,minY:T,maxY:B,width:I-d,height:B-T,x:d,y:T}}else l=s.getCanvasBBox();if(!(l.width===0||l.height===0)){var H=this.getViewCenter(),tt={x:l.x+l.width/2,y:l.y+l.height/2},lt=(a-n[1]-n[3])/l.width,dt=(o-n[0]-n[2])/l.height,gt=lt;if(lt>dt&&(gt=dt),e)this.animatedFitView(s,u,t,l,H,tt,gt,!0);else{var _t=H.x-tt.x,Ht=H.y-tt.y;if(Xu(_t)||Xu(Ht))return;r.translate(_t,Ht),r.zoom(gt,H)||console.warn("zoom failed, ratio out of range, ratio: %f",gt)}}},i.prototype.fitViewByRules=function(e,t,r){var n=e.onlyOutOfViewPort,a=n===void 0?!1:n,o=e.direction,s=o===void 0?"both":o,u=e.ratioRule,l=u===void 0?"min":u,c=this.graph,d=this.getFormatPadding(),T=c.get("width"),I=c.get("height"),B=c.get("group"),H=B.getMatrix()||[1,0,0,0,1,0,0,0,1];B.resetMatrix();var tt,lt=c.getNodes();if(lt.length>c.get("optimizeThreshold")){var dt=1/0,gt=1/0,_t=-1/0,Ht=-1/0;lt.forEach(function(Tn){var pn=Tn.getModel(),Vr=pn.x,Gn=pn.y;dt>Vr&&(dt=Vr),gt>Gn&&(gt=Gn),_t<Vr&&(_t=Vr),Ht<Gn&&(Ht=Gn)}),tt={minX:dt,maxX:_t,minY:gt,maxY:Ht,width:_t-dt,height:Ht-gt,x:dt,y:gt}}else tt=B.getCanvasBBox();if(!(tt.width===0||tt.height===0)){var oe=this.getViewCenter(),ie={x:tt.x+tt.width/2,y:tt.y+tt.height/2},Ee=(T-d[1]-d[3])/tt.width,Re=(I-d[0]-d[2])/tt.height,Ae;if(s==="x"?Ae=Ee:s==="y"?Ae=Re:Ae=l==="max"?Math.max(Ee,Re):Math.min(Ee,Re),a&&(Ae=Ae<1?Ae:1),t)this.animatedFitView(B,H,r,tt,oe,ie,Ae,!0);else{var Ve=c.getZoom(),sr=Ve*Ae,tn=c.get("minZoom");sr<tn&&(sr=tn,console.warn("fitview failed, ratio out of range, ratio: %f",Ae,"graph minzoom has been used instead")),c.translate(oe.x-ie.x,oe.y-ie.y),c.zoomTo(sr,oe)}}},i.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return Th(e)},i.prototype.focusPoint=function(e,t,r){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var u=(o.x-e.x)*s[0],l=(o.y-e.y)*s[4],c=0,d=0,T=0,I=0;this.graph.get("canvas").animate(function(B){T=u*B,I=l*B,n.graph.translate(T-c,I-d),c=T,d=I},(0,g.__assign)({},r))}else this.graph.translate((o.x-e.x)*s[0],(o.y-e.y)*s[4])},i.prototype.getPointByCanvas=function(e,t){var r=this.graph.get("group").getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=cn({x:e,y:t},r);return n},i.prototype.getPointByClient=function(e,t){var r=this.graph.get("canvas"),n=r.getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(e,t){var r=this.graph.get("canvas"),n=this.getCanvasByPoint(e,t),a=r.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(e,t){var r=this.graph.get("group").getMatrix();return r||(r=[1,0,0,0,1,0,0,0,1]),Kr({x:e,y:t},r)},i.prototype.focus=function(e,t,r){if((0,f.isString)(e)&&(e=this.graph.findById(e)),e){var n=0,a=0;if(e.getType&&e.getType()==="edge"){var o=e.getSource().get("group").getMatrix(),s=e.getTarget().get("group").getMatrix();o&&s?(n=(o[6]+s[6])/2,a=(o[7]+s[7])/2):(o||s)&&(n=o?o[6]:s[6],a=o?o[7]:s[7])}else{var u=e.get("group"),l=u.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),n=l[6],a=l[7]}this.focusPoint({x:n,y:a},t,r)}},i.prototype.focusItems=function(e,t,r,n){if(e.length){var a=this.graph,o=this.getFormatPadding(),s=a.get("width"),u=a.get("height"),l=a.get("group"),c=l.getMatrix()||[1,0,0,0,1,0,0,0,1];l.resetMatrix();for(var d={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},T=0,I=e;T<I.length;T++){var B=I[T],H=B.getBBox();H.minX<d.minX&&(d.minX=H.minX),H.minY<d.minY&&(d.minY=H.minY),H.maxX>d.maxX&&(d.maxX=H.maxX),H.maxY>d.maxY&&(d.maxY=H.maxY)}if(d.x=d.minX,d.y=d.minY,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY,!(d.width===0||d.height===0)){var tt=this.getViewCenter(),lt={x:d.x+d.width/2,y:d.y+d.height/2},dt=(s-o[1]-o[3])/d.width,gt=(u-o[0]-o[2])/d.height,_t=dt;dt>gt&&(_t=gt),r?this.animatedFitView(l,c,n,d,tt,lt,_t,t):(a.translate(tt.x-lt.x,tt.y-lt.y),t&&!a.zoom(_t,tt)&&console.warn("zoom failed, ratio out of range, ratio: %f",_t))}}},i.prototype.changeSize=function(e,t){var r=this.graph;if(!(0,f.isNumber)(e)||!(0,f.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");r.set({width:e,height:t});var n=r.get("canvas");n.changeSize(e,t);var a=r.get("plugins");a.forEach(function(o){o.get("gridContainer")&&o.positionInit()})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),z0=F0;function Ah(i){return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(i)}function Iv(i){if(typeof i!="string")return i;var e=function(ie){if(typeof ie!="string")return ie;try{return JSON.parse(ie.trim())}catch(Ee){return ie.trim()}},t=e(i);if(typeof t!="string")return t;for(var r=function(ie){return ie[ie.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var ie=[],Ee=0;Ee<arguments.length;Ee++)ie[Ee]=arguments[Ee];return ie.some(function(Re){return r(o)===Re})},u=function(){return r(a)},l=null,c=0,d="";c<n.length;){var T=n[c],I=s('"',"'");if(!I&&!T.trim()){c+=1;continue}var B=n[c-1]==="\\",H=s("}"),tt=s("]"),lt=s(","),dt=u();if(I)if(r(o)===T&&!B){o.pop();var gt=e(d);dt.push(gt),l=gt,d=""}else d+=T;else if(tt&&T===",")d&&(dt.push(e(d)),d="");else if(H&&T===":")o.push(","),d&&(dt.push(d),d="");else if(lt&&T===",")d&&(dt.push(e(d)),d=""),o.pop();else if(T==="}"&&(H||lt)){d&&(dt.push(e(d)),d=""),lt&&o.pop();for(var _t={},Ht=1;Ht<dt.length;Ht+=2)_t[dt[Ht-1]]=dt[Ht];a.pop(),a.length&&r(a).push(_t),o.pop(),l=_t}else T==="]"&&tt?(d&&(dt.push(e(d)),d=""),a.pop(),a.length&&r(a).push(dt),o.pop(),l=dt):T==="{"?(a.push([]),o.push("}")):T==="["?(a.push([]),o.push("]")):T==='"'?o.push('"'):T==="'"?o.push("'"):d+=T;c+=1}return l||d}var G0=function(e){return e.split("-").reduce(function(t,r){return t+r.charAt(0).toUpperCase()+r.slice(1)})},U0=function(e){return function(t){for(var r=e.length,n=[],a=0,o="";a<r;)if(e[a]==="{"&&e[a+1]==="{")n.push(o),o="",a+=2;else if(e[a]==="}"&&e[a+1]==="}"){if(n.length){var s=n.pop();o=(0,f.get)(t,o,s.endsWith("=")?'"{'.concat(o,'}"'):o),n.push(s+o)}a+=2,o=""}else o+=e[a],a+=1;return n.push(o),n.map(function(u,l){return n[l-1]&&n[l-1].endsWith("=")?'"{'.concat(u,'}"'):u}).join("")}};function Dv(i,e){var t={},r=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Dv(s,e)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(r).forEach(function(s){var u=G0(s),l=i.getAttribute(s);try{if(u==="style"||u==="attrs"){var c=Iv(l);t=(0,g.__assign)((0,g.__assign)({},t),c)}else a[u]=Iv(l)}catch(d){if(u==="style")throw d;a[u]=l}}),a.attrs=t,e&&e.style&&a.name&&Ah(e.style[a.name])==="object"&&(a.attrs=(0,g.__assign)((0,g.__assign)({},a.attrs),e.style[a.name])),e&&e.style&&a.keyshape&&(a.attrs=(0,g.__assign)((0,g.__assign)({},a.attrs),e.style)),n.length&&(a.children=n),a}function W0(i,e,t){var r=i.attrs,n=r===void 0?{}:r,a={x:e.x||0,y:e.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=hs(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=(0,g.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Pv(i,e){var t;e===void 0&&(e={x:0,y:0});var r=(0,g.__assign)({x:0,y:0,width:0,height:0},e);if(!((t=i.children)===null||t===void 0)&&t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=(0,g.__assign)({},e);o&&(s.y+=o);for(var u=0;u<i.children.length;u++){i.children[u].attrs.key="".concat(a.key||"root"," -").concat(u," ");var l=Pv(i.children[u],s);if(l.bbox){var c=l.bbox;l.attrs.next==="inline"?s.x+=l.bbox.width:s.y+=l.bbox.height,c.width+c.x>r.width&&(r.width=c.width+c.x),c.height+c.y>r.height&&(r.height=c.height+c.y)}}}return i.bbox=W0(i,e,r),i.attrs=(0,g.__assign)((0,g.__assign)({},i.attrs),i.bbox),i}function Lv(i,e){var t,r,n,a,o=(i||{}).type,s=((e==null?void 0:e.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&e)return{action:"delete",val:e,type:o,key:s};if(i&&!e)return{action:"add",val:i,type:o};if(!i&&!e)return{action:"same",type:o};var u=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((r=e.children)===null||r===void 0?void 0:r.length)>0)for(var l=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=e.children)===null||a===void 0?void 0:a.length),c=e.children||[],d=i.children||[],T=0;T<l;T+=1)u.push(Lv(d[T],c[T]));var I=Object.keys(e.attrs),B=Object.keys(i.attrs);return e.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:e,key:s,children:u}:I.filter(function(H){return H!=="children"}).some(function(H){return i.attrs[H]!==e.attrs[H]||!B.includes(H)})?{action:"change",val:i,children:u,type:o,key:s}:{action:"same",children:u,type:o,key:s}}function Nv(i){var e={},t=function(n){var a=typeof i=="function"?i(n):i,o=U0(a)(n),s=document.createElement("div");s.innerHTML=o;var u=s.children[0],l=Pv(Dv(u,n));return s.remove(),l};return{draw:function(n,a){var o=t(n),s=a,u=function l(c){var d=c.attrs,T=d===void 0?{}:d,I=c.bbox,B=c.type,H=c.children,tt=(0,g.__rest)(c,["attrs","bbox","type","children"]);if(c.type!=="group"){var lt=a.addShape(c.type,(0,g.__assign)({attrs:T,origin:{bbox:I,type:B,children:H}},tt));c.keyshape&&(s=lt)}c.children&&c.children.forEach(function(dt){return l(dt)})};return u(o),e[n.id]=[o],s},update:function(n,a){e[n.id]||(e[n.id]=[]);var o=a.getContainer(),s=o.get("children"),u=t(n),l=e[n.id].pop(),c=Lv(u,l),d=function B(H){var tt;H.type!=="group"&&o.addShape(H.type,{attrs:H.attrs}),!((tt=H.children)===null||tt===void 0)&&tt.length&&H.children.map(function(lt){return B(lt)})},T=function B(H){var tt,lt=s.find(function(dt){return dt.attrs.key===H.attrs.key});lt&&o.removeChild(lt),!((tt=H.children)===null||tt===void 0)&&tt.length&&H.children.map(function(dt){return B(dt)})},I=function B(H){var tt=H.key;if(H.type!=="group"){var lt=s.find(function(gt){return gt.attrs.key===tt});switch(H.action){case"change":if(lt){var dt=H.val.keyshape?a.getOriginStyle():{};lt.attr((0,g.__assign)((0,g.__assign)({},dt),H.val.attrs))}break;case"add":d(H.val);break;case"delete":T(H.val);break;case"restructure":T(H.formerTarget),d(H.nowTarget);break;default:break}}H.children&&H.children.forEach(function(gt){return B(gt)})};I(c),e[n.id].push(u)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Oh={};function Rv(i){return Oh[i]||(Oh[i]=(0,f.upperFirst)(i)),Oh[i]}var Y0={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this,r=t[e]||t[t.defaultShapeType]||t["simple-circle"];return r},draw:function(e,t,r){var n=this.getShape(e);r.shapeMap={};var a=n.draw(t,r);return n.afterDraw&&n.afterDraw(t,r,a),a},baseUpdate:function(e,t,r,n){var a,o,s=this.getShape(e);s.update&&(s.mergeStyle=(a=s.getOptions)===null||a===void 0?void 0:a.call(s,t,n),(o=s.update)===null||o===void 0||o.call(s,t,r,n)),s.afterUpdate&&s.afterUpdate(t,r)},setState:function(e,t,r,n){var a=this.getShape(e);a.setState(t,r,n)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var r=this.getShape(e);return r.getControlPoints(t)},getAnchorPoints:function(e,t){var r=this.getShape(e);return r.getAnchorPoints(t)}},Ih={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints,r=e.anchorPoints||t;return r}},Wd=function(){function i(){}return i.registerFactory=function(e,t){var r=Rv(e),n=Y0,a=(0,g.__assign)((0,g.__assign)({},n),t);return i[r]=a,a.className=r,a},i.getFactory=function(e){var t=Rv(e);return i[t]},i.registerNode=function(e,t,r){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=Nv(t);a=(0,g.__assign)((0,g.__assign)({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=Nv(s);a=(0,g.__assign)((0,g.__assign)((0,g.__assign)({},n.getShape("single-node")),o),t)}else{n.getShape(r);var u=r?n.getShape(r):Ih;a=(0,g.__assign)((0,g.__assign)({},u),t)}return a.type=e,a.itemType="node",n[e]=a,a},i.registerEdge=function(e,t,r){var n=i.Edge,a=r?n.getShape(r):Ih,o=(0,g.__assign)((0,g.__assign)({},a),t);return o.type=e,o.itemType="edge",n[e]=o,o},i.registerCombo=function(e,t,r){var n=i.Combo,a=r?n.getShape(r):Ih,o=(0,g.__assign)((0,g.__assign)({},a),t);return o.type=e,o.itemType="combo",n[e]=o,o},i}(),Jo=Wd;Wd.registerFactory("node",{defaultShapeType:"circle"}),Wd.registerFactory("edge",{defaultShapeType:"line"}),Wd.registerFactory("combo",{defaultShapeType:"circle"});var Dh="bboxCache",Ph="bboxCanvasCache",IS=null,X0=function(){function i(e){this._cfg={},this.destroyed=!1,this.optimize=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var r=this.get("model"),n=r.id,a=this.get("type");typeof n=="undefined"?n=Kf(a):typeof n!="string"&&(n=String(n)),this.get("model").id=n,this.set("id",n);var o=e.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=r.shape||r.type||(a==="edge"?"line":"circle"),u=this.get("shapeFactory");if(u&&u[s]){var l=u[s].options;if(l&&l.stateStyles){var c=this.get("styles")||r.stateStyles;c=(0,f.deepMix)({},l.stateStyles,c),this.set("styles",c)}}}return i.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Da(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Da(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),r=e.get("group"),n=e.get("model");r.clear();var a=n.visible;if(a!==void 0&&!a&&e.changeVisibility(a),!!t){e.updatePosition(n);var o=e.getShapeCfg(n),s=o.type,u=t.draw(s,o,r);u&&(e.set("keyShape",u),u.set("isKeyShape",!0),u.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),r=this.getKeyShape(),n=this,a=r.get("name");if(this.get("originStyle")){var I=this.get("originStyle");a&&!I[a]&&(I[a]={});for(var B=this.getCurrentStatesStyle(),H=function(lt){var dt=t[lt],gt=dt.get("name"),_t=dt.attr();if(gt&&gt!==a){var Ht=B[gt];I[gt]||(I[gt]={}),Ht?Object.keys(_t).forEach(function(Ee){var Re=_t[Ee];Re!==Ht[Ee]&&(I[gt][Ee]=Re)}):I[gt]=dt.get("type")!=="image"?(0,f.clone)(_t):n.getShapeStyleByName(gt)}else{var oe=dt.attr(),ie={};Object.keys(B).forEach(function(Ee){var Re=B[Ee];(Ee===a||!(0,f.isPlainObject)(Re))&&(ie[Ee]=Re)}),Object.keys(oe).forEach(function(Ee){var Re=oe[Ee];ie[Ee]!==Re&&(a?I[a][Ee]=Re:I[Ee]=Re)})}},s=0;s<t.length;s++)H(s);delete I.path,delete I.matrix,delete I.x,delete I.y,I[a]&&(delete I[a].x,delete I[a].y,delete I[a].matrix,delete I[a].path),n.set("originStyle",I)}else{for(var o={},s=0;s<t.length;s++){var u=t[s],l=u.get("type"),c=u.get("name");if(c&&c!==a)o[c]=l!=="image"?(0,f.clone)(u.attr()):n.getShapeStyleByName(c),l==="text"&&o[c]&&(delete o[c].x,delete o[c].y,delete o[c].matrix);else{var d=n.getShapeStyleByName();if(delete d.path,delete d.matrix,!a)Object.assign(o,d);else if(c)o[a]=d;else{var T=Kf("shape");u.set("name",T),e.shapeMap[T]=u,o[T]=l!=="image"?(0,f.clone)(u.attr()):n.getShapeStyleByName(c)}}}n.set("originStyle",o)}},i.prototype.restoreStates=function(e,t){var r=this,n=r.get("states");(0,f.each)(n,function(a){e.setState(t,a,!0,r)})},i.prototype.init=function(){var e=Jo.getFactory(this.get("type"));this.set("shapeFactory",e)},i.prototype.get=function(e){return this._cfg[e]},i.prototype.set=function(e,t){(0,f.isPlainObject)(e)?this._cfg=(0,g.__assign)((0,g.__assign)({},this._cfg),e):this._cfg[e]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(Dh,null),this.set(Ph,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(e){var t=this.get("group"),r;if(e?r=t.shapeMap[e]:r=this.getKeyShape(),r){var n={};return(0,f.each)(r.attr(),function(a,o){(o!=="img"||(0,f.isString)(a))&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(e,t){var r=this.get("styles");if(r){var n=e;return n.style=(0,g.__assign)((0,g.__assign)({},r),e.style),n}return e},i.prototype.getStateStyle=function(e){var t=this.get("styles"),r=t&&t[e];return r},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var e=this,t={},r=e.getStates();return!r||!r.length?this.get("originStyle"):((0,f.each)(e.getStates(),function(n){t=Object.assign(t,e.getStateStyle(n))}),t)},i.prototype.setState=function(e,t){var r=this.get("states"),n=this.get("shapeFactory"),a=e,o=e;(0,f.isString)(t)&&(a="".concat(e,":").concat(t),o="".concat(e,":"));var s=r;if((0,f.isBoolean)(t)){var u=r.indexOf(o);if(t){if(u>-1)return;r.push(a)}else u>-1&&r.splice(u,1)}else if((0,f.isString)(t)){var l=r.filter(function(T){return T.includes(o)});l.length>0&&this.clearStates(l),s=s.filter(function(T){return!T.includes(o)}),s.push(a),this.set("states",s)}if(n){var c=this.get("model"),d=c.type;n.setState(d,e,t,this)}},i.prototype.clearStates=function(e){var t=this,r=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.type;e||(e=r),(0,f.isString)(e)&&(e=[e]);var s=r.filter(function(u){return e.indexOf(u)===-1});t.set("states",s),e.forEach(function(u){n.setState(o,u,!1,t)})},i.prototype.setOptimize=function(e){this.optimize=e},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(e){var t=this.getStates();return t.indexOf(e)>=0},i.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},i.prototype.getUpdateType=function(e){},i.prototype.update=function(e,t){t===void 0&&(t=void 0);var r=this.get("model");if(t==="move")this.updatePosition(e);else{var n=r.visible,a=e.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o={x:r.x,y:r.y};e.x=isNaN(+e.x)?r.x:+e.x,e.y=isNaN(+e.y)?r.y:+e.y;var s=this.get("styles");if(e.stateStyles){var u=e.stateStyles;(0,f.mix)(s,u),delete e.stateStyles}Object.assign(r,e),(o.x!==e.x||o.y!==e.y)&&this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(e){var t=this.get("shapeFactory"),r=this.get("model"),n=r.type;if(t.shouldUpdate(n)&&n===this.get("currentShape")){var a=this.getShapeCfg(r,e);t.baseUpdate(n,a,this,e),e!=="move"&&this.setOriginStyle()}else this.draw();this.restoreStates(t,n)},i.prototype.updatePosition=function(e){var t=this.get("model"),r=isNaN(+e.x)?+t.x:+e.x,n=isNaN(+e.y)?+t.y:+e.y,a=this.get("group");if(isNaN(r)||isNaN(n))return!1;t.x=r,t.y=n;var o=a.getMatrix();return o&&o[6]===r&&o[7]===n?!1:(a.resetMatrix(),Ya(a,{x:r,y:n}),this.clearCache(),!0)},i.prototype.getBBox=function(){var e=this.get(Dh);return e||(e=this.calculateBBox(),this.set(Dh,e)),e},i.prototype.getCanvasBBox=function(){var e=this.get(Ph);return e||(e=this.calculateCanvasBBox(),this.set(Ph,e)),e},i.prototype.toFront=function(){var e=this.get("group");e.toFront()},i.prototype.toBack=function(){var e=this.get("group");e.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},i.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),kv=X0,Yd={source:"start",target:"end"},ju="Node",$f="Point",j0="Anchor",V0=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,r){var n=Yd[t]+$f,a=t+ju,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(r)?(this.set(n,r),this.set(a,null)):r&&(r.addEdge(this),this.set(a,r),this.set(n,null))},e.prototype.getLinkPoint=function(t,r,n){var a=Yd[t]+$f,o=t+ju,s=this.get(a);if(!s){var u=this.get(o),l=t+j0,c=this.getPrePoint(t,n),d=r[l];(0,f.isNil)(d)||(s=u.getLinkPointByAnchor(d)),s=s||u.getLinkPoint(c),(0,f.isNil)(s.index)||this.set("".concat(t,"AnchorIndex"),s.index)}return s},e.prototype.getPrePoint=function(t,r){if(r&&r.length){var n=t==="source"?0:r.length-1;return r[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},e.prototype.getEndPoint=function(t){var r=t+ju,n=Yd[t]+$f,a=this.get(r);return a&&!a.destroyed?a.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var r=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.type;return a.getControlPoints(o,{startPoint:r,endPoint:n})},e.prototype.getEndCenter=function(t){var r=t+ju,n=Yd[t]+$f,a=this.get(r);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},e.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t,r){var n=this,a=n.get("linkCenter"),o=r!=null&&r.includes("move")?t:i.prototype.getShapeCfg.call(this,t);if(a)o.startPoint=n.getEndCenter("source"),o.endPoint=n.getEndCenter("target");else{var s=o.controlPoints||n.getControlPointsByCenter(o);o.startPoint=n.getLinkPoint("source",t,s),o.endPoint=n.getLinkPoint("target",t,s)}return o.sourceNode=n.get("sourceNode"),o.targetNode=n.get("targetNode"),o},e.prototype.getModel=function(){var t=this.get("model"),r=this.get("source".concat(ju)),n=this.get("target".concat(ju));return r?delete t["source".concat(ju)]:t.source=this.get("start".concat($f)),n?delete t["target".concat(ju)]:t.target=this.get("end".concat($f)),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,r){r===void 0&&(r=void 0);var n=this.get("model"),a=n.visible,o=t.visible;a!==o&&o!==void 0&&this.changeVisibility(o);var s=this.get("source"),u=this.get("target");if(!(!s||s.destroyed||!u||u.destroyed)){var l=this.get("styles");if(t.stateStyles){var c=t.stateStyles;(0,f.mix)(l,c),delete t.stateStyles}Object.assign(n,t),this.updateShape(r),this.afterUpdate(),this.clearCache()}},e.prototype.destroy=function(){var t=this.get("source".concat(ju)),r=this.get("target".concat(ju));t&&!t.destroyed&&t.removeEdge(this),r&&!r.destroyed&&r.removeEdge(this),i.prototype.destroy.call(this)},e}(kv),Bv=V0,Lh="anchorPointsCache",H0="bboxCache",Z0=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getNearestPoint=function(t,r){for(var n=0,a=t[0],o=Zn(t[0],r),s=0;s<t.length;s++){var u=t[s],l=Zn(u,r);l<o&&(a=u,o=l,n=s)}return a.anchorIndex=n,a},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("source")===t})},e.prototype.getNeighbors=function(t){var r=this,n=this.get("edges");if(t==="target"){var a=function(l){return l.getSource()===r};return n.filter(a).map(function(u){return u.getTarget()})}if(t==="source"){var o=function(l){return l.getTarget()===r};return n.filter(o).map(function(u){return u.getSource()})}var s=function(l){return l.getSource()===r?l.getTarget():l.getSource()};return n.map(s)},e.prototype.getLinkPointByAnchor=function(t){var r=this.getAnchorPoints();return r[t]},e.prototype.getLinkPoint=function(t){var r=this.get("keyShape"),n=r.get("type"),a=this.get("type"),o,s,u=this.getBBox();a==="combo"?(o=u.centerX||(u.maxX+u.minX)/2,s=u.centerY||(u.maxY+u.minY)/2):(o=u.centerX,s=u.centerY);var l=this.getAnchorPoints(),c;switch(n){case"circle":c=Sr({x:o,y:s,r:u.width/2},t);break;case"ellipse":c=xr({x:o,y:s,rx:u.width/2,ry:u.height/2},t);break;default:c=Tr(u,t)}var d=c;return l.length&&(d||(d=t),d=this.getNearestPoint(l,d)),d||(d={x:o,y:s}),d},e.prototype.getAnchorPoints=function(){var t=this.get(Lh);if(!t){t=[];var r=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.type,u=r.getAnchorPoints(s,o)||[];(0,f.each)(u,function(l,c){var d={x:n.minX+l[0]*n.width,y:n.minY+l[1]*n.height,anchorIndex:c};t.push(d)}),this.set(Lh,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var r=this.getEdges(),n=r.indexOf(t);n>-1&&r.splice(n,1)},e.prototype.clearCache=function(){this.set(H0,null),this.set(Lh,null)},e.prototype.getUpdateType=function(t){var r,n,a,o,s;if(t){var u=!(0,f.isNil)(t.x),l=!(0,f.isNil)(t.y),c=Object.keys(t);if(c.length===1&&(u||l)||c.length===2&&u&&l)return"move";if((0,f.isNumber)(t.x)||(0,f.isNumber)(t.y)||t.type||t.anchorPoints||t.size||t!=null&&t.style&&(!((r=t==null?void 0:t.style)===null||r===void 0)&&r.r||!((n=t==null?void 0:t.style)===null||n===void 0)&&n.width||!((a=t==null?void 0:t.style)===null||a===void 0)&&a.height||!((o=t==null?void 0:t.style)===null||o===void 0)&&o.rx||!((s=t==null?void 0:t.style)===null||s===void 0)&&s.ry))return"bbox|label";var d=c.includes("label")||c.includes("labelCfg");return d?"style|label":"style"}},e.prototype.setState=function(t,r){var n=this;if(this.optimize){i.prototype.setState.call(this,t,r);return}this.runWithBBoxAffected(function(){return i.prototype.setState.call(n,t,r)})},e.prototype.clearStates=function(t){var r=this;if(this.optimize){i.prototype.clearStates.call(this,t);return}this.runWithBBoxAffected(function(){return i.prototype.clearStates.call(r,t)})},e.prototype.runWithBBoxAffected=function(t){var r=["r","width","height","rx","ry","lineWidth"],n=this.getKeyShape().attr(),a={};Object.keys(this.getKeyShape().attr()).forEach(function(l){r.includes(l)&&(a[l]=n[l])}),t();for(var o=this.getKeyShape().attr(),s=0;s<r.length;s++){var u=r[s];if(o[u]!==a[u]){this.clearCache(),this.getEdges().forEach(function(l){return l.refresh()});break}}},e}(kv),Nh=Z0,Fv="bboxCache",zv="bboxCanvasCache",Gv="sizeCache",Uv="anchorPointsCache",K0=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var r=this.get("styles"),n=this.get("bbox");if(r&&n){var a=t,o=(0,f.isNumber)(t.size)?[t.size,t.size]:t.size,s=(0,f.isNumber)(t.fixSize)?[t.fixSize,t.fixSize]:t.fixSize,u=o||s||Wt.defaultCombo.size,l={r:(Math.max(n.width,n.height)||Math.max(u[0],u[1]))/2,width:n.width||u[0],height:n.height||u[1]};a.style=(0,g.__assign)((0,g.__assign)((0,g.__assign)({},r),t.style),l);var c=t.padding||Wt.defaultCombo.padding;return(0,f.isNumber)(c)?(l.r+=c,l.width+=c*2,l.height+=c*2):(l.r=l.r+Math.max.apply(Math,c),l.width+=c[1]+c[3]||c[1]*2,l.height+=c[0]+c[2]||c[0]*2),this.set(Gv,l),a}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),r=this.get("group"),n=Da(t,r);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Fv)||{},o=a.x,s=a.x;return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n.x=n.minX,n.y=n.minY,(n.x!==o||n.y!==s)&&this.set(Uv,null),n}},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.addNode(t);break;case"combo":r.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var r=this;return r.get("combos").push(t),!0},e.prototype.addNode=function(t){var r=this;return r.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.removeNode(t);break;case"combo":r.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var r=this.getCombos(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.removeNode=function(t){if(t){var r=this.getNodes(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){this.set(zv,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(Fv,null),this.set(zv,null),this.set(Uv,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),r=this.get("group");t&&r.stopAnimate(),r.shapeMap={},this.clearCache(),this.set(Gv,null),this.set("bbox",null),r.remove(),this._cfg=null,this.destroyed=!0}},e}(Nh),Wv=K0,Xd="node",jd="edge",Yv="vedge",xd="combo",$0="default",Xv="Mapper",Sl="stateStyles",Q0=function(){function i(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,f.throttle)(function(r){var n=t.graph;if(!(!n||n.get("destroyed"))){var a=t.edgeToBeUpdateMap;if(a){var o=Object.values(a);o.length&&(o.forEach(function(s){var u=s.edge;if(!(!u||u.destroyed)){var l=u.getSource(),c=u.getTarget();!l||l.destroyed||!c||c.destroyed||u.refresh(s.updateType)}}),t.edgeToBeUpdateMap={})}}},16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return i.prototype.addItem=function(e,t){var r=this.graph,n=e===Yv?jd:e,a=r.get("".concat(n,"Group"))||r.get("group"),o=(0,f.upperFirst)(n),s=null,u=r.get(n+(0,f.upperFirst)(Sl))||{},l=r.get($0+o);t[Sl]&&(u=t[Sl]),l&&(0,f.each)(l,function(oe,ie){(0,f.isObject)(oe)&&!(0,f.isArray)(oe)?t[ie]=(0,f.deepMix)({},oe,t[ie]):(0,f.isArray)(oe)?t[ie]=t[ie]||(0,f.clone)(l[ie]):t[ie]=t[ie]||l[ie]});var c=r.get(n+Xv);if(c){var d=c(t);d[Sl]&&(u=d[Sl],delete d[Sl]),(0,f.each)(d,function(oe,ie){(0,f.isObject)(oe)&&!(0,f.isArray)(oe)?t[ie]=(0,f.deepMix)({},t[ie],oe):t[ie]=d[ie]||t[ie]})}if(r.emit("beforeadditem",{type:e,model:t}),e===jd||e===Yv){var T=void 0,I=void 0;if(T=t.source,I=t.target,T&&(0,f.isString)(T)&&(T=r.findById(T)),I&&(0,f.isString)(I)&&(I=r.findById(I)),!T||!I){console.warn("The source or target node of edge ".concat(t.id," does not exist!"));return}T.getType&&T.getType()==="combo"&&(t.isComboEdge=!0),I.getType&&I.getType()==="combo"&&(t.isComboEdge=!0),s=new Bv({model:t,source:T,target:I,styles:u,linkCenter:r.get("linkCenter"),group:a.addGroup()})}else if(e===Xd)s=new Nh({model:t,styles:u,group:a.addGroup()});else if(e===xd){var B=t.children,H=ws(B,r),tt=void 0,lt=void 0;if(isNaN(H.x)?isNaN(t.x)&&(tt=Math.random()*100):tt=H.x,isNaN(H.y)?isNaN(t.y)&&(lt=Math.random()*100):lt=H.y,isNaN(t.x)||isNaN(t.y))t.x=tt,t.y=lt;else{var dt=t.x-tt,gt=t.y-lt;this.updateComboSucceeds(t.id,dt,gt,B)}var _t=a.addGroup();_t.setZIndex(t.depth),s=new Wv({model:t,styles:u,animate:r.get("animate"),bbox:t.collapsed?ws([],r):H,group:_t}),!t.collapsed&&s.getKeyShape().get("type")==="circle"&&(H.width=Math.hypot(H.height,H.width),H.height=H.width,s.set("bbox",H),s.refresh());var Ht=s.getModel();(B||[]).forEach(function(oe){var ie=r.findById(oe.id);s.addChild(ie),oe.depth=Ht.depth+2})}if(s)return s.setOptimize(r.getNodes().length>r.get("optimizeThreshold")),r.get("".concat(e,"s")).push(s),r.get("itemMap")[s.get("id")]=s,r.emit("afteradditem",{item:s,model:t}),s},i.prototype.updateItem=function(e,t){var r=this,n,a,o=this.graph;if((0,f.isString)(e)&&(e=o.findById(e)),!(!e||e.destroyed)){var s="";e.getType&&(s=e.getType());var u=o.get(s+Xv),l=e.getModel(),c=l.x,d=l.y,T=e.getUpdateType(t);if(u){var I=(0,f.deepMix)({},l,t),B=u(I),H=(0,f.deepMix)({},l,B,t);B[Sl]&&(e.set("styles",H[Sl]),delete H[Sl]),(0,f.each)(H,function(Ae,Ve){t[Ve]=Ae})}else(0,f.each)(t,function(Ae,Ve){l[Ve]&&(0,f.isObject)(Ae)&&!(0,f.isArray)(Ae)&&(t[Ve]=(0,g.__assign)((0,g.__assign)({},l[Ve]),t[Ve]))});if(o.emit("beforeupdateitem",{item:e,cfg:t}),s===jd){if(t.source){var tt=t.source;(0,f.isString)(tt)&&(tt=o.findById(tt)),e.setSource(tt)}if(t.target){var lt=t.target;(0,f.isString)(lt)&&(lt=o.findById(lt)),e.setTarget(lt)}e.update(t)}else if(s===Xd){e.update(t,T);var dt=e.getEdges();T==="move"?(0,f.each)(dt,function(Ae){r.edgeToBeUpdateMap[Ae.getID()]={edge:Ae,updateType:T},r.throttleRefresh()}):T!=null&&T.includes("bbox")&&(0,f.each)(dt,function(Ae){Ae.refresh(T)})}else if(s===xd){if(e.update(t,T),!isNaN(t.x)||!isNaN(t.y)){var gt=t.x-c||0,_t=t.y-d||0;this.updateComboSucceeds(l.id,gt,_t)}var Ht=e.getEdges(),oe=(T==null?void 0:T.includes("bbox"))||T==="move";if(oe&&s===xd){var ie=e.get("shapeFactory"),Ee=l.type||"circle",Re=l.animate===void 0||t.animate===void 0?(a=(n=ie[Ee])===null||n===void 0?void 0:n.options)===null||a===void 0?void 0:a.animate:l.animate||t.animate;Re?setTimeout(function(){if(!(!e||e.destroyed)){var Ae=e.getKeyShape();!Ae||Ae.destroyed||(0,f.each)(Ht,function(Ve){Ve&&!Ve.destroyed&&Ve.refresh()})}},201):(0,f.each)(Ht,function(Ae){Ae.refresh()})}}e.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:e,cfg:t})}},i.prototype.updateCombo=function(e,t,r){var n=this,a,o,s=this.graph;if((0,f.isString)(e)&&(e=s.findById(e)),!(!e||e.destroyed)){var u=e.getModel(),l=ws(t,s,e),c=l.x,d=l.y;e.set("bbox",l);var T=c,I=d;r?(T=isNaN(u.x)?c:u.x,I=isNaN(u.y)?d:u.y):(T=isNaN(c)?u.x:c,I=isNaN(d)?u.y:d),e.update({x:T,y:I});var B=e.get("shapeFactory"),H=u.type||"circle",tt=u.animate===void 0?(o=(a=B[H])===null||a===void 0?void 0:a.options)===null||o===void 0?void 0:o.animate:u.animate;tt?setTimeout(function(){if(!(!e||e.destroyed)){var lt=e.getKeyShape();!lt||lt.destroyed||(e.getShapeCfg(u),n.updateComboEdges(e))}},201):this.updateComboEdges(e)}},i.prototype.updateComboEdges=function(e){for(var t,r,n=e.getEdges()||[],a=0;a<n.length;a++){var o=n[a];!(o!=null&&o.destroyed)&&!(!((t=o==null?void 0:o.getSource())===null||t===void 0)&&t.destroyed)&&!(!((r=o==null?void 0:o.getTarget())===null||r===void 0)&&r.destroyed)&&o.refresh()}},i.prototype.collapseCombo=function(e,t){t===void 0&&(t=!0);var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e));var n=e.getChildren();n.nodes.forEach(function(a){r.hideItem(a,t)}),n.combos.forEach(function(a){r.hideItem(a,t)})},i.prototype.updateComboSucceeds=function(e,t,r,n){var a=this;n===void 0&&(n=[]);var o=this.graph;if(!(!t&&!r)){var s=n;if(!(s!=null&&s.length)){var u=o.get("comboTrees");u==null||u.forEach(function(l){Ii(l,function(c){return c.id===e?(s=c.children,!1):!0})})}s==null||s.forEach(function(l){var c=o.findById(l.id);if(c){var d=c.getModel();a.updateItem(l.id,{x:(d.x||0)+t,y:(d.y||0)+r})}})}},i.prototype.expandCombo=function(e,t){t===void 0&&(t=!0);var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e));var n=e.getChildren(),a=new Set;n.nodes.forEach(function(o){r.showItem(o,t),o.getEdges().forEach(function(s){return a.add(s)})}),n.combos.forEach(function(o){o.getModel().collapsed?o.show():r.showItem(o,t),o.getEdges().forEach(function(s){return a.add(s)})}),a.forEach(function(o){return o.refresh()})},i.prototype.removeItem=function(e){var t=this,r=this.graph;if((0,f.isString)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n=(0,f.clone)(e.getModel()),a="";e.getType&&(a=e.getType()),r.emit("beforeremoveitem",{item:n,type:a});var o=r.get("".concat(a,"s")),s=o.indexOf(e);if(s>-1&&o.splice(s,1),a===jd){var u=r.get("v".concat(a,"s")),l=u.indexOf(e);l>-1&&u.splice(l,1)}var c=e.get("id"),d=r.get("itemMap");delete d[c];var T=r.get("comboTrees"),I=e.get("id");if(a===Xd){var B=e.getModel().comboId;if(T&&B){var H=T,tt=!1;T.forEach(function(oe){tt||Ii(oe,function(ie){if(ie.id===I&&H){var Ee=H.indexOf(ie);return H.splice(Ee,1),tt=!0,!1}return H=ie.children,!0})})}for(var lt=e.getEdges(),dt=lt.length-1;dt>=0;dt--)r.removeItem(lt[dt],!1);B&&r.updateCombo(B)}else if(a===xd){var gt=e.getModel().parentId,_t,Ht=!1;(T||[]).forEach(function(ie){Ht||Ii(ie,function(Ee){return Ee.id===I?(_t=Ee,Ht=!0,!1):!0})}),_t.removed=!0,_t&&_t.children&&_t.children.forEach(function(ie){t.removeItem(ie.id)});for(var lt=e.getEdges(),dt=lt.length;dt>=0;dt--)r.removeItem(lt[dt],!1);gt&&r.updateCombo(gt)}e.destroy(),r.emit("afterremoveitem",{item:n,type:a})}},i.prototype.setItemState=function(e,t,r){var n=this.graph,a=t;(0,f.isString)(r)&&(a="".concat(t,":").concat(r)),!(e.hasState(a)===r&&r||(0,f.isString)(r)&&e.hasState(a))&&(n.emit("beforeitemstatechange",{item:e,state:a,enabled:r}),e.setState(t,r),n.autoPaint(),n.emit("afteritemstatechange",{item:e,state:a,enabled:r}))},i.prototype.priorityState=function(e,t){var r=this.graph,n=e;(0,f.isString)(e)&&(n=r.findById(e)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(e,t){var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e)),r.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),r.emit("afteritemstatesclear",{item:e,states:t})},i.prototype.refreshItem=function(e){var t=this.graph;(0,f.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},i.prototype.addCombos=function(e,t){var r=this,n=this.graph;(e||[]).forEach(function(o){eo(o,function(s){var u;return t.forEach(function(l){l.id===s.id&&(l.children=s.children,l.depth=s.depth,u=l)}),u&&r.addItem("combo",u),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(e,t){var r=this,n=this.graph;if((0,f.isString)(e)&&(e=n.findById(e)),!e){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===Xd){var a=e.getEdges();(0,f.each)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||r.changeItemVisibility(c,t)})}else if(e.getType&&e.getType()===xd){var o=n.get("comboTrees"),s=e.get("id"),u=[],l=!1;(o||[]).forEach(function(d){l||!d.children||d.children.length===0||Ii(d,function(T){return T.id===s?(u=T.children,l=!0,!1):!0})}),u&&(!t||t&&!e.getModel().collapsed)&&u.forEach(function(d){var T=n.findById(d.id);r.changeItemVisibility(T,t)});var a=e.getEdges();(0,f.each)(a,function(d){t&&!(d.get("source").isVisible()&&d.get("target").isVisible())||r.changeItemVisibility(d,t)})}return n.emit("afteritemvisibilitychange",{item:e,visible:t}),e},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),q0=Q0,J0=function(){function i(e){this.graph=e,this.destroyed=!1}return i.prototype.updateState=function(e,t,r){var n=this.graph.get("states"),a=t;(0,f.isString)(r)&&(a="".concat(t,":").concat(r)),n[a]||(n[a]=[]),r?n[a].push(e):n[a]=n[a].filter(function(o){return o!==e}),this.graph.set("states",n),this.graph.emit("graphstatechange",{states:n})},i.prototype.updateStates=function(e,t,r){var n=this.graph.get("states"),a=(0,f.isString)(t)?[t]:t;a.forEach(function(o){var s=o;n[s]||(n[s]=[]),(0,f.isString)(r)&&(s="".concat(o,":").concat(r)),r?n[s].push(e):n[s]=n[s].filter(function(u){return u!==e})}),this.graph.set("states",n),this.graph.emit("graphstatechange",{states:t})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),tm=J0,em=function(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){if(r.charAt(0)==="\\")return r.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},jv=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var r=0,n=e;r<n.length;r++){var a=n[r],o=a.x,s=a.y;t.push(o),t.push(s)}var u=ya(t);return u.unshift(["M",e[0].x,e[0].y]),u},Vd=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a={x:(1-r)*e.x+r*t.x,y:(1-r)*e.y+r*t.y},o=[0,0];Qn.normalize(o,[t.x-e.x,t.y-e.y]),(!o||!o[0]&&!o[1])&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},rm=function(e,t){var r=e.length;if(!r)return"";for(var n="",a="",o=0;o<r;o++){var s=e[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=em(a,s)}return t&&(n+="Z"),n},Rh=function(e){var t=[];return e.forEach(function(r){var n=r[0];if(n!=="A")for(var a=1;a<r.length;a=a+2)t.push([r[a],r[a+1]]);else{var o=r.length;t.push([r[o-2],r[o-1]])}}),t},kh=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],r=e[1],n=e[e.length-1],a=e[e.length-2];e.unshift(n),e.unshift(a),e.push(t),e.push(r);for(var o=[],s=1;s<e.length-2;s+=1){var u=e[s-1].x,l=e[s-1].y,c=e[s].x,d=e[s].y,T=e[s+1].x,I=e[s+1].y,B=s!==e.length-2?e[s+2].x:T,H=s!==e.length-2?e[s+2].y:I,tt=c+(T-u)/6,lt=d+(I-l)/6,dt=T-(B-c)/6,gt=I-(H-d)/6;o.push(["C",tt,lt,dt,gt,T,I])}return o.unshift(["M",n.x,n.y]),o},Vv=function(e,t){return Qn.scale([0,0],Qn.normalize([0,0],e),t)},Hv=function(e,t){var r=[e[1]-t[1],t[0]-e[0]],n=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[r[0]/n,r[1]/n]},Zv=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function Bh(i,e){var t=function(d){var T=[d[0][0],d[0][1]-e],I=[d[0][0],d[0][1]+e];return"M ".concat(T," A ").concat(e,",").concat(e,",0,0,0,").concat(I," A ").concat(e,",").concat(e,",0,0,0,").concat(T)},r=function(d){var T=Qn.scale([0,0],Hv(d[0],d[1]),e),I=Qn.scale([0,0],T,-1),B=Qn.add([0,0],d[0],T),H=Qn.add([0,0],d[1],T),tt=Qn.add([0,0],d[1],I),lt=Qn.add([0,0],d[0],I);return"M ".concat(B," L ").concat(H," A ").concat([e,e,"0,0,0",tt].join(",")," L ").concat(lt," A ").concat([e,e,"0,0,0",B].join(","))};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return r(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],u=Qn.scale([0,0],Hv(o,s),e);n[a]=[Qn.add([0,0],o,u),Qn.add([0,0],s,u)]}var l="A ".concat([e,e,"0,0,0,"].join(","));return n=n.map(function(c,d){var T="";return d===0&&(T="M ".concat(n[n.length-1][1]," ")),T+="".concat(l+c[0]," L ").concat(c[1]),T}),n.join(" ")}function Kv(i,e){var t=i.length,r=function(c){var d=[c[0][0],c[0][1]-e],T=[c[0][0],c[0][1]+e];return"M ".concat(d," A ").concat([e,e,"0,0,0",T].join(",")," A ").concat([e,e,"0,0,0",d].join(","))},n=function(c){var d=Zv(c[0],c[1]),T=Vv(d,e),I=Qn.add([0,0],c[0],Qn.scale([0,0],T,-1)),B=Qn.add([0,0],c[1],T),H=1.2*e,tt=Vv(Qn.normalize([0,0],d),H),lt=Qn.scale([0,0],tt,-1),dt=Qn.add([0,0],I,lt),gt=Qn.add([0,0],B,lt),_t=Qn.add([0,0],I,tt);return"M ".concat(I," C ").concat([dt,gt,B].join(",")," S ").concat([_t,I].join(",")," Z")};if(!i||t<1)return"";if(t===1)return r(i);if(t===2)return n(i);for(var a=i.map(function(l,c){var d=i[(c+1)%t];return{p:l,v:Qn.normalize([0,0],Zv(l,d))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,u=Qn.normalize([0,0],Qn.add([0,0],a[s].v,Qn.scale([0,0],a[o].v,-1)));a[o].p=Qn.add([0,0],a[o].p,Qn.scale([0,0],u,e))}return a.map(function(l){var c=l.p;return{x:c[0],y:c[1]}})}var nm=function(e,t){for(var r=[],n=0;n<5;n++){var a=Math.cos((18+72*n)/180*Math.PI)*e,o=Math.sin((18+72*n)/180*Math.PI)*e,s=Math.cos((54+72*n)/180*Math.PI)*t,u=Math.sin((54+72*n)/180*Math.PI)*t;n===0?r.push(["M",a,-o]):r.push(["L",a,-o]),r.push(["L",s,-u])}return r.push(["Z"]),r},$v=function(e,t,r){return(e.y-r.y)*(t.x-r.x)-(e.x-r.x)*(t.y-r.y)},Qv=function(e){var t=e.map(function(d){return{x:d.getModel().x,y:d.getModel().y}});t.sort(function(d,T){return d.x===T.x?d.y-T.y:d.x-T.x});for(var r={},n=t.length-1;n>=0;n--){var a=t[n],o=a.x,s=a.y;r["".concat(o,"-").concat(s)]&&t.splice(n,1),r["".concat(o,"-").concat(s)]=!0}if(t.length===1)return t;for(var u=[],n=0;n<t.length;n++){for(;u.length>=2&&$v(u[u.length-2],u[u.length-1],t[n])<=0;)u.pop();u.push(t[n])}for(var l=[],n=t.length-1;n>=0;n--){for(;l.length>=2&&$v(l[l.length-2],l[l.length-1],t[n])<=0;)l.pop();l.push(t[n])}l.pop(),u.pop();var c=u.concat(l);return c},am={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function im(i,e,t){var r=!1,n=function(u,l){return e.cells[u+l*e.width]},a=function(u,l){var c=0;return n(u-1,l-1)>=t&&(c+=1),n(u,l-1)>t&&(c+=2),n(u-1,l)>t&&(c+=4),n(u,l)>t&&(c+=8),c},o=function(u,l){for(var c=u,d=l,T,I,B=0;B<e.width*e.height;B++){if(T=c,I=d,i.findIndex(function(tt){return tt.x===c&&tt.y===d})>-1){if(!(i[0].x!==c||i[0].y!==d))return!0}else i.push({x:c,y:d});var H=a(c,d);switch(H){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:c++;break;case 12:case 14:case 4:c--;break;case 6:T===0&&(I===-1?c-=1:c+=1);break;case 1:case 13:case 5:d--;break;case 9:T===1&&(I===0?d-=1:d+=1);break;case 10:case 8:case 11:d++;break;default:return console.warn("Marching squares invalid state: ".concat(H)),!0}}};this.march=function(){for(var s=0;s<e.width&&!r;s+=1)for(var u=0;u<e.height&&!r;u+=1)n(s,u)>t&&a(s,u)!==15&&(r=o(s,u));return r}}var om=function(e,t,r){var n=Math.ceil(e/r),a=Math.ceil(t/r),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},sm=function(e,t,r){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:e.getModel().x,y:e.getModel().y},u={x:o.getModel().x,y:o.getModel().y},l=Ui(s,u),c=new va(s.x,s.y,u.x,u.y),d=r.reduce(function(T,I){return ki(I,c)>0?T+1:T},0);l*Math.pow(d+1,2)<a&&(n=o,a=l*Math.pow(d+1,2))}),n},qv=function(e,t){var r=Number.POSITIVE_INFINITY,n=null;return e.forEach(function(a){var o=ki(a,t);o>=0&&o<r&&(n=a,r=o)}),n},um=function(e,t,r,n){var a=[],o=[];o.push(e);for(var s=!0,u=0,l=function(I,B){var H=!1;return B.forEach(function(tt){H||(Ao(I,{x:tt.x1,y:tt.y1})||Ao(I,{x:tt.x2,y:tt.y2}))&&(H=!0)}),H},c=function(I,B){for(var H=0,tt=B;H<tt.length;H++){var lt=tt[H],dt=lt.getBBox(),gt=[[dt.x,dt.y],[dt.x+dt.width,dt.y],[dt.x,dt.y+dt.height],[dt.x+dt.width,dt.y+dt.height]];if(ui(gt,I.x,I.y))return!0}return!1};s&&u<r;){s=!1;for(var d=function(){var I=o.pop(),B=qv(t,I);if(B){var H=di(B,I),tt=H[0],lt=H[1];if(lt===2){var dt=function(_t){for(var Ht=n,oe=Jv(B,Ht,tt,_t),ie=l(oe,o)||l(oe,a),Ee=c(oe,t);!ie&&Ee&&Ht>=1;)Ht/=1.5,oe=Jv(B,Ht,tt,_t),ie=l(oe,o)||l(oe,a),Ee=c(oe,t);oe&&!ie&&(!_t||!Ee)&&(o.push(new va(I.x1,I.y1,oe.x,oe.y)),o.push(new va(oe.x,oe.y,I.x2,I.y2)),s=!0)};dt(!0),s||dt(!1)}}s||a.push(I),u+=1};!s&&o.length;)d()}for(;o.length;)a.push(o.pop());return a};function lm(i,e,t,r,n){var a=sm(i,t,e);if(a===null)return[];var o=function(d){for(var T=[];d.length>0;){var I=d.pop();if(d.length===0){T.push(I);break}var B=d.pop(),H=new va(I.x1,I.y1,B.x2,B.y2),tt=qv(e,H);tt?(T.push(I),d.push(B)):d.push(H)}return T},s=new va(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),u=um(s,e,r,n),l=o(u);return l}var cm=function(e,t,r){var n=Object.assign(am,r),a=Oi(e.map(function(dt){return{x:dt.getModel().x,y:dt.getModel().y}}));e=e.sort(function(dt,gt){return Ui({x:dt.getModel().x,y:dt.getModel().y},a)-Ui({x:gt.getModel().x,y:gt.getModel().y},a)});var o=[],s=[];e.forEach(function(dt){var gt=lm(dt,t,o,n.maxRoutingIterations,n.morphBuffer);gt.forEach(function(_t){s.push(_t)}),o.push(dt)});for(var u=fm(e,s,n.nodeR0),l=om(u.width,u.height,n.pixelGroupSize),c=[],d=[],T=0;T<n.maxMarchingIterations;T++)if(dm(e,t,s,u,l,n),c=[],d=[],!!new im(c,l,n.threshold).march()){var I=c.map(function(dt){return{x:Math.round(dt.x*n.pixelGroupSize+u.minX),y:Math.round(dt.y*n.pixelGroupSize+u.minY)}});if(I){var B=I.length;if(n.skip>1)for(B=Math.floor(I.length/n.skip);B<3&&n.skip>1;)n.skip-=1,B=Math.floor(I.length/n.skip);for(var H=0,tt=0;tt<B;tt+=1,H+=n.skip)d.push({x:I[H].x,y:I[H].y})}var lt=function(){for(var gt=0,_t=e;gt<_t.length;gt++){var Ht=_t[gt],oe=d.map(function(ie){return[ie.x,ie.y]});if(!ui(oe,Ht.getBBox().centerX,Ht.getBBox().centerY))return!1}return!0};if(d&&lt())return d;if(n.threshold*=.9,T<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return d};function fm(i,e,t){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(u){n.push(u.getBBox())}),e.forEach(function(u){n.push(u.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];r.minX=(s.minX<r.minX?s.minX:r.minX)-t,r.minY=(s.minY<r.minY?s.minY:r.minY)-t,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+t,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+t}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}function dm(i,e,t,r,n,a){function o(I,B){var H=Math.floor((I-B)/a.pixelGroupSize);return H<0?0:H}function s(I,B){return I*a.pixelGroupSize+B}var u=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),l=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),c=function(B,H){var tt=Math.min(o(B.minX,H+r.minX),n.width),lt=Math.min(o(B.minY,H+r.minY),n.height),dt=Math.min(o(B.maxX,-H+r.minX),n.width),gt=Math.min(o(B.maxY,-H+r.minY),n.height);return[tt,lt,dt,gt]},d=function(B,H){for(var tt=B.getBBox(),lt=c(tt,a.nodeR1),dt=lt[0],gt=lt[1],_t=lt[2],Ht=lt[3],oe=gt;oe<Ht;oe+=1)for(var ie=dt;ie<_t;ie+=1)if(!(H<0&&n[ie+oe*n.width]<=0)){var Ee=s(ie,r.minX),Re=s(oe,r.minY),Ae=Ni({x:Ee,y:Re},{x:tt.minX,y:tt.minY,width:tt.width,height:tt.height});if(Ae<Math.pow(a.nodeR1,2)){var Ve=Math.sqrt(Ae)-a.nodeR1;n.cells[ie+oe*n.width]+=H*Ve*Ve}}},T=function(B,H){for(var tt=B.getBBox(),lt=c(tt,a.edgeR1),dt=lt[0],gt=lt[1],_t=lt[2],Ht=lt[3],oe=gt;oe<Ht;oe+=1)for(var ie=dt;ie<_t;ie+=1)if(!(H<0&&n.cells[ie+oe*n.width]<=0)){var Ee=s(ie,r.minX),Re=s(oe,r.minY),Ae=To({x:Ee,y:Re},B);if(Ae<Math.pow(a.edgeR1,2)){var Ve=Math.sqrt(Ae)-a.edgeR1;n.cells[ie+oe*n.width]+=H*Ve*Ve}}};a.nodeInfluenceFactor&&i.forEach(function(I){d(I,a.nodeInfluenceFactor/u)}),a.edgeInfluenceFactor&&t.forEach(function(I){T(I,a.edgeInfluenceFactor/l)}),a.negativeNodeInfluenceFactor&&e.forEach(function(I){d(I,a.negativeNodeInfluenceFactor/u)})}function Jv(i,e,t,r){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],u=t[3],l={topLeft:{x:n.minX-e,y:n.minY-e},topRight:{x:n.maxX+e,y:n.minY-e},bottomLeft:{x:n.minX-e,y:n.maxY+e},bottomRight:{x:n.maxX+e,y:n.maxY+e}},c=n.height*n.width;function d(B,H){return n.width*((B.y-n.minY+(H.y-n.minY))*.5)}if(o){if(a)return r?l.topLeft:l.bottomRight;if(s)return r?l.bottomLeft:l.topRight;var T=d(o,u);return T<c*.5?o.y>u.y?r?l.topLeft:l.bottomRight:r?l.topRight:l.bottomLeft:o.y<u.y?r?l.bottomLeft:l.topRight:r?l.bottomRight:l.topLeft}if(u){if(a)return r?l.topRight:l.bottomLeft;if(s)return r?l.bottomRight:l.topLeft}var I=d(a,s);return I<c*.5?a.x>s.x?r?l.topLeft:l.bottomRight:r?l.bottomLeft:l.topRight:a.x<s.x?r?l.topRight:l.bottomLeft:r?l.bottomRight:l.topLeft}var hm=function(){function i(e,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(r){return(0,f.isString)(r)?e.findById(r):r}),this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,f.isString)(r)?e.findById(r):r}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(e,t){var r,n,a;switch(this.type){case"round-convex":r=Qv(e),a=Bh(r.map(function(o){return[o.x,o.y]}),this.padding),n=Io(a);break;case"smooth-convex":r=Qv(e),r.length===2?(a=Bh(r.map(function(o){return[o.x,o.y]}),this.padding),n=Io(a)):r.length>2&&(a=Kv(r.map(function(o){return[o.x,o.y]}),this.padding),n=kh(a));break;case"bubble":r=cm(e,t,this.cfg.bubbleCfg),n=r.length>=2&&kh(r);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:(0,g.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},i.prototype.addMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(e,t){var r=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(n){return(0,f.isString)(n)?r.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?r.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(e){var t=this.group.findById(this.id);t.attr((0,g.__assign)({},e))},i.prototype.updateCfg=function(e){var t=this;this.cfg=(0,f.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(r){return(0,f.isString)(r)?t.graph.findById(r):r})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,f.isString)(r)?t.graph.findById(r):r})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(e){var t=this,r;(0,f.isString)(e)?r=this.graph.findById(e):r=e;var n,a=r.getKeyShape();if(r.get("type")==="path")n=Rh(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var u=t.graph.getPointByCanvas(s[0],s[1]);return[u.x,u.y]}),Ca(n,Rh(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),tp=hm,Ed=ht,vm="node",pm=function(i){(0,g.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.sortCombos=(0,f.debounce)(function(){var n=r.get("comboSorted");if(!(!r||r.destroyed||n)){r.set("comboSorted",!0);var a=[],o={},s=r.get("comboTrees");(s||[]).forEach(function(l){Ii(l,function(c){return a[c.depth]?a[c.depth].push(c.id):a[c.depth]=[c.id],o[c.id]=c.depth,!0})});var u=r.getEdges().concat(r.get("vedges"));(u||[]).forEach(function(l){var c=l.getModel(),d=o[c.source]||0,T=o[c.target]||0,I=Math.max(d,T);a[I]?a[I].push(c.id):a[I]=[c.id]}),a.forEach(function(l){if(!(!l||!l.length))for(var c=l.length-1;c>=0;c--){var d=r.findById(l[c]);d&&d.toFront()}})}},500,!1),r.cfg=(0,f.deepMix)(r.getDefaultCfg(),t),r.init(),r.animating=!1,r.destroyed=!1,r.cfg.enabledStack&&(r.undoStack=new Gi(r.cfg.maxStep),r.redoStack=new Gi(r.cfg.maxStep)),r}return e.prototype.init=function(){this.initCanvas();var t=new z0(this),r=new Eu(this),n=new q0(this),a=new tm(this);this.set({viewController:t,modeController:r,itemController:n,stateController:a}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(t){var r=t.get("el"),n=(r||{}).id,a=n===void 0?"g6":n,o=t.addGroup({id:"".concat(a,"-root"),className:Wt.rootContainerClassName});if(this.get("groupByTypes")){var s=o.addGroup({id:"".concat(a,"-edge"),className:Wt.edgeContainerClassName}),u=o.addGroup({id:"".concat(a,"-node"),className:Wt.nodeContainerClassName}),l=o.addGroup({id:"".concat(a,"-combo"),className:Wt.comboContainerClassName});l.toBack(),this.set({nodeGroup:u,edgeGroup:s,comboGroup:l})}var c=o.addGroup({id:"".concat(a,"-delegate"),className:Wt.delegateContainerClassName});this.set({delegateGroup:c}),this.set("group",o)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},e.prototype.set=function(t,r){return(0,f.isPlainObject)(t)?this.cfg=(0,g.__assign)((0,g.__assign)({},this.cfg),t):this.cfg[t]=r,t==="enabledStack"&&r&&!this.undoStack&&!this.redoStack&&(this.undoStack=new Gi(this.cfg.maxStep),this.redoStack=new Gi(this.cfg.maxStep)),this},e.prototype.get=function(t){var r;return(r=this.cfg)===null||r===void 0?void 0:r[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,r){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");r||(r=t.get("states")),n.clearItemStates(t,r);var a=this.get("stateController");a.updateStates(t,r,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,r){var n,a=this.get("".concat(t,"s"));return(0,f.each)(a,function(o,s){if(r(o,s))return n=o,n}),n},e.prototype.findAll=function(t,r){var n=[];return(0,f.each)(this.get("".concat(t,"s")),function(a,o){r(a,o)&&n.push(a)}),n},e.prototype.findAllByState=function(t,r,n){return n?this.findAll(t,function(a){return a.hasState(r)&&n(a)}):this.findAll(t,function(a){return a.hasState(r)})},e.prototype.translate=function(t,r,n,a){var o=this,s=this.get("group"),u=(0,f.clone)(s.getMatrix());if(u||(u=[1,0,0,0,1,0,0,0,1]),n){var l=is({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"translate",matrix:s.getMatrix()})}});ua(s,{x:s.getCanvasBBox().x+t,y:s.getCanvasBBox().y+r},n,l||{duration:500,easing:"easeCubic"})}else u=Ed(u,[["t",t,r]]),s.setMatrix(u),this.emit("viewportchange",{action:"translate",matrix:u}),this.autoPaint()},e.prototype.moveTo=function(t,r,n,a){var o=this.get("group");ua(o,{x:t,y:r},n,a||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:o.getMatrix()})},e.prototype.fitView=function(t,r,n,a){t&&this.set("fitViewPadding",t);var o=this.get("viewController");r?o.fitViewByRules(r,n,a):o.fitView(n,a),this.autoPaint()},e.prototype.fitCenter=function(t,r){var n=this.get("viewController");n.fitCenter(t,r),this.autoPaint()},e.prototype.addBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!0),this},e.prototype.removeBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!1),this},e.prototype.updateBehavior=function(t,r,n){var a=this.get("modeController");return a.updateBehavior(t,r,n),this},e.prototype.zoom=function(t,r,n,a){var o=this,s=this.get("group"),u=(0,f.clone)(s.getMatrix())||[1,0,0,0,1,0,0,0,1],l=this.get("minZoom"),c=this.get("maxZoom"),d=this.getZoom()||1,T=d*t,I=t,B=!1;if(l&&T<l?(I=l/d,B=!0):c&&T>c&&(I=c/d,B=!0),r?u=Ed(u,[["t",-r.x,-r.y],["s",I,I],["t",r.x,r.y]]):u=Ed(u,[["s",I,I]]),n){var H=(0,f.clone)(s.getMatrix());H||(H=[1,0,0,0,1,0,0,0,1]);var tt=H[0],lt=tt*I,dt=is({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"zoom",matrix:s.getMatrix()})}});s.animate(function(gt){if(gt===1)H=u;else{var _t=pi(tt,lt,gt)/H[0];r?H=Ed(H,[["t",-r.x,-r.y],["s",_t,_t],["t",r.x,r.y]]):H=Ed(H,[["s",_t,_t]])}return{matrix:H}},dt)}else s.setMatrix(u),this.emit("viewportchange",{action:"zoom",matrix:u}),this.autoPaint();return!B},e.prototype.zoomTo=function(t,r,n,a){var o=t/this.getZoom();return this.zoom(o,r,n,a)},e.prototype.focusItem=function(t,r,n){var a=this.get("viewController"),o=!1;r?o=!0:r===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},e.prototype.focusItems=function(t,r,n,a){var o=this.get("viewController");o.focusItems(t,r,n,a)},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,r){var n=this.get("viewController");return n.getPointByClient(t,r)},e.prototype.getClientByPoint=function(t,r){var n=this.get("viewController");return n.getClientByPoint(t,r)},e.prototype.getPointByCanvas=function(t,r){var n=this.get("viewController");return n.getPointByCanvas(t,r)},e.prototype.getCanvasByPoint=function(t,r){var n=this.get("viewController");return n.getCanvasByPoint(t,r)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),u={},l={};switch(s){case"node":u.nodes=[{id:o,visible:!1}],l.nodes=[{id:o,visible:!0}];break;case"edge":u.nodes=[{id:o,visible:!1}],l.edges=[{id:o,visible:!0}];break;case"combo":u.nodes=[{id:o,visible:!1}],l.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:u,after:l})}},e.prototype.hideItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),u={},l={};switch(s){case"node":u.nodes=[{id:o,visible:!0}],l.nodes=[{id:o,visible:!1}];break;case"edge":u.nodes=[{id:o,visible:!0}],l.edges=[{id:o,visible:!1}];break;case"combo":u.nodes=[{id:o,visible:!0}],l.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:u,after:l})}},e.prototype.refreshItem=function(t){var r=this.get("itemController");r.refreshItem(t)},e.prototype.setAutoPaint=function(t){var r=this;r.set("autoPaint",t);var n=r.get("canvas");n.set("autoDraw",t)},e.prototype.remove=function(t,r){r===void 0&&(r=!0),this.removeItem(t,r)},e.prototype.removeItem=function(t,r){r===void 0&&(r=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t))console.warn("The item ".concat(t," to be removed does not exist!"));else if(n){var a="";if(n.getType&&(a=n.getType()),r&&this.get("enabledStack")){var o=(0,g.__assign)((0,g.__assign)({},n.getModel()),{itemType:a}),s={};switch(a){case"node":{s.nodes=[o],s.edges=[];for(var u=n.getEdges(),l=u.length-1;l>=0;l--)s.edges.push((0,g.__assign)((0,g.__assign)({},u[l].getModel()),{itemType:"edge"}));break}case"edge":s.edges=[o];break;case"combo":s.combos=[o];break;default:break}this.pushStack("delete",{before:s,after:{}})}if(a==="node"){var c=n.getModel();c.comboId&&this.updateComboTree(n,void 0,!1)}var d=this.get("itemController");if(d.removeItem(n),a==="combo"){var T=As(this.get("comboTrees"));this.set("comboTrees",T)}}},e.prototype.innerAddItem=function(t,r,n){if(!Po(t,r))return!1;if(r.id&&this.findById(r.id)){console.warn("This item exists already. Be sure the id %c".concat(r.id,"%c is unique."),"font-size: 20px; color: red;","");return}var a,o=this.get("comboTrees")||[];if(t==="combo"){var s=this.get("itemMap"),u=!1;if(o.forEach(function(B){u||eo(B,function(H){if(r.parentId===H.id){u=!0;var tt=(0,g.__assign)({id:r.id,depth:H.depth+2},r);H.children?H.children.push(tt):H.children=[tt],r.depth=tt.depth,a=n.addItem(t,r)}var lt=s[H.id];return u&&lt&&lt.getType&&lt.getType()==="combo"&&n.updateCombo(lt,H.children),!0})}),!u){var l=(0,g.__assign)({id:r.id,depth:0},r);r.depth=l.depth,o.push(l),a=n.addItem(t,r)}this.set("comboTrees",o),r.collapsed&&(this.collapseCombo(a,!1),this.updateCombo(a))}else if(t==="node"&&(0,f.isString)(r.comboId)&&o){var c=this.findById(r.comboId);c&&c.getType&&c.getType()!=="combo"&&console.warn("'".concat(r.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=n.addItem(t,r);var d=this.get("itemMap"),T=!1,I=!1;o.forEach(function(B){I||T||eo(B,function(H){if(H.id===r.id)return I=!0,!1;if(r.comboId===H.id&&!I){T=!0;var tt=(0,f.clone)(r);tt.itemType="node",H.children?H.children.push(tt):H.children=[tt],tt.depth=H.depth+1}return T&&d[H.id].getType&&d[H.id].getType()==="combo"&&n.updateCombo(d[H.id],H.children),!0})})}else a=n.addItem(t,r);if(t==="node"&&r.comboId||t==="combo"&&r.parentId){var c=this.findById(r.comboId||r.parentId);c&&c.getType&&c.getType()==="combo"&&c.addChild(a)}return a},e.prototype.addItem=function(t,r,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController"),u=this.innerAddItem(t,r,s);if(u===!1||u===!0)return u;var l=this.get("combos");if(l&&l.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var c=(0,g.__assign)((0,g.__assign)({},u.getModel()),{itemType:t}),d={};switch(t){case"node":d.nodes=[c];break;case"edge":d.edges=[c];break;case"combo":d.combos=[c];break;default:break}this.pushStack("add",{before:{},after:d})}return u},e.prototype.addItems=function(t,r,n){t===void 0&&(t=[]),r===void 0&&(r=!0),n===void 0&&(n=!0);var a=this.get("comboSorted");this.set("comboSorted",a&&!n);for(var o=this.get("itemController"),s=[],u=0;u<t.length;u++){var l=t[u];l.type!=="edge"&&l.type!=="vedge"?s.push(this.innerAddItem(l.type,l.model,o)):s.push(void 0)}for(var u=0;u<t.length;u++){var l=t[u];(l.type==="edge"||l.type==="vedge")&&(s[u]=this.innerAddItem(l.type,l.model,o))}if(n){var c=this.get("combos");c&&c.length>0&&this.sortCombos()}if(this.autoPaint(),r&&this.get("enabledStack")){for(var d={nodes:[],edges:[],combos:[]},u=0;u<t.length;u++){var T=t[u].type,I=s[u];if(I&&I!==!0){var B=(0,g.__assign)((0,g.__assign)({},I.getModel()),{itemType:T});switch(T){case"node":d.nodes.push(B);break;case"edge":d.edges.push(B);break;case"combo":d.combos.push(B);break;default:break}}}this.pushStack("addItems",{before:{},after:d})}return s},e.prototype.add=function(t,r,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,r,n,a)},e.prototype.updateItem=function(t,r,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var u=n&&this.get("enabledStack"),l;u&&(l=(0,f.clone)(s.getModel()));var c="";s.getType&&(c=s.getType());var d=(0,g.__spreadArray)([],s.getStates(),!0);if(c==="combo"&&(0,f.each)(d,function(H){return a.setItemState(s,H,!1)}),o.updateItem(s,r),c==="combo"&&(0,f.each)(d,function(H){return a.setItemState(s,H,!0)}),u){var T={nodes:[],edges:[],combos:[]},I={nodes:[],edges:[],combos:[]},B=(0,g.__assign)({id:l.id},r);switch(c){case"node":T.nodes.push(l),I.nodes.push(B);break;case"edge":T.edges.push(l),I.edges.push(B);break;case"combo":T.combos.push(l),I.combos.push(B);break;default:break}this.pushStack("update",{before:T,after:I})}},e.prototype.update=function(t,r,n){n===void 0&&(n=!0),this.updateItem(t,r,n)},e.prototype.setItemState=function(t,r,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,r,n);var o=this.get("stateController");o.updateState(t,r,n)},e.prototype.priorityState=function(t,r){var n=this.get("itemController");n.priorityState(t,r)},e.prototype.data=function(t){vs(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var r=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!r)throw new Error("data must be defined first");var n=r.nodes,a=n===void 0?[]:n,o=r.edges,s=o===void 0?[]:o,u=r.combos,l=u===void 0?[]:u;if(this.clear(!0),this.emit("beforerender"),t.addItems(a.map(function(tt){return{type:"node",model:tt}}),!1,!1),(l==null?void 0:l.length)!==0){var c=Es(l,a);this.set("comboTrees",c),t.addCombos(l)}t.addItems(s.map(function(tt){return{type:"edge",model:tt}}),!1,!1);var d=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var T=t.get("layoutController");if(T){if(T.layout(I),this.destroyed)return}else I();function I(){(t.get("comboTrees")||[]).forEach(function(tt){eo(tt,function(lt){var dt=t.findById(lt.id);return dt.getType()==="combo"&&lt.collapsed&&(t.collapseCombo(lt.id,!1),t.updateCombo(dt)),!0})}),t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",d),setTimeout(function(){var tt;(tt=t.getCombos())===null||tt===void 0||tt.forEach(function(lt){lt.set("animate",!0)})},0)}if(!this.get("groupByTypes"))if(l&&l.length!==0)this.sortCombos();else if(r.nodes&&r.edges&&r.nodes.length<r.edges.length){var B=this.getNodes();B.forEach(function(tt){tt.toFront()})}else{var H=this.getEdges();H.forEach(function(tt){tt.toBack()})}},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,r,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(u){if(o=s[u.id],o){if(a.get("animate")&&t===vm){var l=o.getContainer().getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:l[6],y:l[7]})}a.updateItem(o,u,!1)}else o=a.addItem(t,u,!1);o&&r["".concat(t,"s")].push(o)})},e.prototype.changeData=function(t,r){var n=this,a;r===void 0&&(r=!0);var o=this,s=t||o.get("data");if(!vs(s))return this;this.emit("beforechangedata"),r&&this.get("enabledStack")&&this.pushStack("changedata",{before:o.save(),after:s}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(dt){return o.clearItemStates(dt)}),this.getEdges().map(function(dt){return o.clearItemStates(dt)});var u=this.get("canvas"),l=u.get("localRefresh");u.set("localRefresh",!1),o.get("data")||(o.data(s),o.render());var c=this.get("itemMap"),d={nodes:[],edges:[]},T=s.combos;if(T){var I=Es(T,s.nodes);this.set("comboTrees",I)}else this.set("comboTrees",[]);this.diffItems("node",d,s.nodes),(0,f.each)(c,function(dt,gt){c[gt].getModel().depth=0,!(dt.getType&&dt.getType()==="edge")&&(dt.getType&&dt.getType()==="combo"?(delete c[gt],dt.destroy()):d.nodes.indexOf(dt)<0&&(delete c[gt],o.remove(dt,!1)))});for(var B=this.getCombos(),H=B.length,tt=H-1;tt>=0;tt--)B[tt].destroyed&&B.splice(tt,1);T&&(o.addCombos(T),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",d,s.edges),(0,f.each)(c,function(dt,gt){dt.getType&&(dt.getType()==="node"||dt.getType()==="combo")||d.edges.indexOf(dt)<0&&(delete c[gt],o.remove(dt,!1))}),(this.get("comboTrees")||[]).forEach(function(dt){eo(dt,function(gt){var _t=n.findById(gt.id);return _t.getType()==="combo"&&gt.collapsed&&n.collapseCombo(gt.id,!1),!0})}),this.set({nodes:d.nodes,edges:d.edges});var lt=this.get("layoutController");return lt&&(lt.changeData(function(){setTimeout(function(){var dt;(dt=o.getCombos())===null||dt===void 0||dt.forEach(function(gt){gt.set("animate",!0)})},0)}),o.get("animate")&&!lt.getLayoutType()?(o.positionsAnimate(),(a=o.getCombos())===null||a===void 0||a.forEach(function(dt){return dt.set("animate",!0)})):o.autoPaint()),setTimeout(function(){u.set("localRefresh",l)},16),this.set("data",s),this.emit("afterchangedata"),this},e.prototype.addCombos=function(t){var r=this,n=r.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},e.prototype.createCombo=function(t,r,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController");this.set("comboSorted",!1);var s="",u;if(t){if((0,f.isString)(t))s=t,u={id:t};else{if(s=t.id,!s){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}u=t}var l=n&&this.get("enabledStack"),c={nodes:[],combos:[]};l&&r.forEach(function(tt){var lt=a.findById(tt),dt=lt.getType();if(!(dt!=="node"&&dt!=="combo")){var gt=lt.getModel();c["".concat(dt,"s")].push({id:tt,parentId:dt==="node"?gt.comboId:gt.parentId})}});var d=this.get("comboTrees"),T=new Set(r),I=new Map;d&&(d.forEach(function(tt){eo(tt,function(lt,dt,gt){if(T.has(lt.id)){if(dt){var _t=a.findById(dt.id),Ht=a.findById(lt.id);dt.children.splice(gt,1),_t.removeChild(Ht),o.updateCombo(_t,dt.children)}lt.itemType==="combo"&&I.set(lt.id,lt)}return!0})}),d=d.filter(function(tt){return!T.has(tt.id)}),this.set("comboTrees",d));var B={nodes:[],combos:[]},H=r.map(function(tt){var lt=a.findById(tt),dt=lt.getModel(),gt="";lt.getType&&(gt=lt.getType());var _t=I.get(tt)||{id:lt.getID(),itemType:gt};return gt==="combo"?(_t.parentId=s,dt.parentId=s):gt==="node"&&(_t.comboId=s,dt.comboId=s),l&&B["".concat(gt,"s")].push({id:dt.id,parentId:s}),_t});u.children=H,this.addItem("combo",u,!1),this.set("comboSorted",!1),d&&(d.forEach(function(tt){Ii(tt,function(lt){return lt.id===s?(lt.itemType="combo",lt.children=H,!1):!0})}),this.sortCombos()),l&&(B.combos.push(u),this.pushStack("createCombo",{before:c,after:B}))}},e.prototype.uncombo=function(t,r){var n=this,a,o;r===void 0&&(r=!0);var s=this,u=t;if((0,f.isString)(t)&&(u=this.findById(t)),!u||u.getType&&u.getType()!=="combo"){console.warn("The item is not a combo!");return}var l=u.getModel(),c=u.getModel().parentId,d=s.get("comboTrees");d||(d=[]);var T=this.get("itemMap"),I=u.get("id"),B,H=[],tt=this.get("combos"),lt=this.findById(c),dt=r&&this.get("enabledStack"),gt={};if(dt&&(gt=(0,f.clone)(l),gt.children=[]),d.forEach(function(ie){B||eo(ie,function(Ee){var Re;if(Ee.id===I){B=Ee;var Ae=u.getEdges().map(function(tn){return tn.getID()});Ae.forEach(function(tn){n.removeItem(tn,!1)});var Ve=tt.indexOf(u);tt.splice(Ve,1),delete T[I];var sr=(0,f.clone)(u.getModel());u.destroy(),n.emit("afterremoveitem",{item:sr,type:"combo"})}if(c&&B&&Ee.id===c){lt.removeCombo(u),H=Ee.children;var Ve=H.indexOf(B);return Ve!==-1&&H.splice(Ve,1),(Re=B.children)===null||Re===void 0||Re.forEach(function(Tn){var pn=n.findById(Tn.id),Vr=pn.getModel();pn.getType&&pn.getType()==="combo"?(Tn.parentId=c,delete Tn.comboId,Vr.parentId=c,delete Vr.comboId):pn.getType&&pn.getType()==="node"&&(Tn.comboId=c,Vr.comboId=c),lt.addChild(pn),H.push(Tn)}),n.updateCombo(lt),!1}return!0})}),!c&&B){var _t=d.indexOf(B);d.splice(_t,1),(a=B.children)===null||a===void 0||a.forEach(function(ie){ie.parentId=void 0;var Ee=n.findById(ie.id).getModel();delete Ee.parentId,delete Ee.comboId,ie.itemType!=="node"&&d.push(ie)})}if(dt){var Ht={nodes:[],combos:[]},oe={nodes:[],combos:[]};(o=B.children)===null||o===void 0||o.forEach(function(ie){var Ee=n.findById(ie.id),Re=Ee.getType();Re!=="node"&&Re!=="combo"||(Ht["".concat(Re,"s")].push({id:ie.id,parentId:I}),oe["".concat(Re,"s")].push({id:ie.id,parentId:c}))}),Ht.combos.push(gt),this.pushStack("uncombo",{before:Ht,after:oe})}},e.prototype.updateCombos=function(t){var r=this;t===void 0&&(t=!1);var n=this,a=this.get("comboTrees"),o=n.get("itemController"),s=n.get("itemMap");(a||[]).forEach(function(u){eo(u,function(l){var c;if(!l)return!0;var d=s[l.id];if(((c=d==null?void 0:d.getType)===null||c===void 0?void 0:c.call(d))==="combo"){var T=(0,g.__spreadArray)([],d.getStates(),!0);(0,f.each)(T,function(I){return r.setItemState(d,I,!1)}),o.updateCombo(d,l.children,t),(0,f.each)(T,function(I){return r.setItemState(d,I,!0)})}return!0})}),n.sortCombos()},e.prototype.updateCombo=function(t){var r=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),u=n.get("itemController"),l=n.get("itemMap");(s||[]).forEach(function(c){eo(c,function(d){if(!d)return!0;var T=l[d.id];if(o===d.id&&T&&T.getType&&T.getType()==="combo"){var I=(0,g.__spreadArray)([],T.getStates(),!0);(0,f.each)(I,function(B){T.getStateStyle(B)&&r.setItemState(T,B,!1)}),u.updateCombo(T,d.children),(0,f.each)(I,function(B){T.getStateStyle(B)&&r.setItemState(T,B,!0)}),o&&(o=d.parentId)}return!0})})},e.prototype.updateComboTree=function(t,r,n){n===void 0&&(n=!0);var a=this;this.set("comboSorted",!1);var o;(0,f.isString)(t)?o=a.findById(t):o=t;var s=o.getModel(),u=s.comboId||s.parentId,l="";if(o.getType&&(l=o.getType()),r&&l==="combo"){var c=this.get("comboTrees"),d=!0,T;if((c||[]).forEach(function(dt){T||Ii(dt,function(gt){if(!T)return gt.id===o.getID()&&(T=gt),!0})}),Ii(T,function(dt){return dt.id===r?(d=!1,!1):!0}),!d){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(n&&this.get("enabledStack")){var I={},B={};l==="combo"?(I.combos=[{id:s.id,parentId:s.parentId}],B.combos=[{id:s.id,parentId:r}]):l==="node"&&(I.nodes=[{id:s.id,parentId:s.comboId}],B.nodes=[{id:s.id,parentId:r}]),this.pushStack("updateComboTree",{before:I,after:B})}if(s.parentId||s.comboId){var H=this.findById(s.parentId||s.comboId);H&&H.removeChild(o)}if(l==="combo"?s.parentId=r:l==="node"&&(s.comboId=r),r){var tt=this.findById(r);tt&&tt.addChild(o)}if(u){var tt=this.findById(u);tt&&tt.removeChild(o)}var lt=As(this.get("comboTrees"),s.id,r);this.set("comboTrees",lt),this.updateCombos()},e.prototype.save=function(){var t=[],r=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){r.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:r,combos:n}},e.prototype.changeSize=function(t,r){var n=this.get("viewController");return n.changeSize(t,r),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var r=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(r,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},e.prototype.positionsAnimate=function(t){var r=this;r.emit("beforeanimate");var n=r.get("animateCfg"),a=n.onFrame,o=t?r.getNodes().concat(r.getCombos()):r.getNodes(),s=o.map(function(l){var c=l.getModel();return{id:c.id,x:c.x,y:c.y}});r.stopAnimate();var u=r.get("canvas");r.animating=!0,u.animate(function(l){(0,f.each)(s,function(c){var d=r.findById(c.id);if(!(!d||d.destroyed)){var T=d.get("originAttrs"),I=d.get("model"),B=d.getContainer().getMatrix();if(T==null&&(B&&(T={x:B[6],y:B[7]}),d.set("originAttrs",T||0)),a){var H=a(d,l,c,T||{x:0,y:0});d.set("model",Object.assign(I,H))}else T?(I.x=T.x+(c.x-T.x)*l,I.y=T.y+(c.y-T.y)*l):(I.x=c.x,I.y=c.y)}}),r.refreshPositions(t)},{duration:n.duration,easing:n.easing,callback:function(){(0,f.each)(o,function(c){c.set("originAttrs",null)}),n.callback&&n.callback(),r.emit("afteranimate"),r.animating=!1}})},e.prototype.refreshPositions=function(t){var r=this;r.emit("beforegraphrefreshposition");var n=r.get("nodes"),a=r.get("edges"),o=r.get("vedges"),s=r.get("combos"),u,l={},c=function(T){(0,f.each)(T,function(I){u=I.getModel();var B=I.get("originAttrs");if(!(B&&u.x===B.x&&u.y===B.y)){var H=I.updatePosition({x:u.x,y:u.y});l[u.id]=H,u.comboId&&(l[u.comboId]=l[u.comboId]||H),u.parentId&&(l[u.parentId]=l[u.parentId]||H)}})};c(s),c(n),s&&s.length!==0&&(t&&c(s),r.updateCombos()),(0,f.each)(a,function(d){var T=d.getSource().getModel(),I=d.getTarget();if(!(0,f.isPlainObject)(I)){var B=I.getModel();(l[T.id]||l[B.id]||d.getModel().isComboEdge)&&d.refresh()}}),(0,f.each)(o,function(d){d.refresh()}),r.emit("aftergraphrefreshposition"),r.autoPaint()},e.prototype.stopAnimate=function(){this.isAnimating()&&this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var r=this.get("modeController");return r.setMode(t),this},e.prototype.clear=function(t){var r;return t===void 0&&(t=!1),(r=this.get("canvas"))===null||r===void 0||r.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,r,n,a){var o=this;t===void 0&&(t={}),a===void 0&&(a=!0);var s=this.get("layoutController");if((0,f.isString)(t)&&(t={type:t}),r){var u=n;u||(r==="begin"?u={x:0,y:0}:u={x:this.getWidth()/2,y:this.getHeight()/2}),u=this.getPointByCanvas(u.x,u.y);var l=["force","gForce","fruchterman","force2"];l.includes(t.type)||!t.type&&l.includes(s==null?void 0:s.layoutType)?t.center=[u.x,u.y]:this.once("afterlayout",function(T){var I=o.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];u.x=u.x*I[0]+I[6],u.y=u.y*I[0]+I[7];var B=o.getGroup().getCanvasBBox(),H=B.minX,tt=B.maxX,lt=B.minY,dt=B.maxY,gt={x:(H+tt)/2,y:(lt+dt)/2};r==="begin"&&(gt.x=H,gt.y=lt),o.translate(u.x-gt.x,u.y-gt.y)})}var c=(0,g.__assign)({},this.get("layout")),d={};Object.assign(d,c,t),t.pipes&&!t.type?delete d.type:!t.pipes&&d.type&&delete d.pipes,this.set("layout",d),s&&(s.isLayoutTypeSame(d)&&d.gpuEnabled===c.gpuEnabled?s.updateLayoutCfg(d):s.changeLayout(d),a&&this.get("enabledStack")&&this.pushStack("layout",{before:c,after:d}))},e.prototype.destroyLayout=function(){var t=this.get("layoutController");t==null||t.destroyLayout()},e.prototype.layout=function(){var t,r=this.get("layoutController"),n=this.get("layout");if(!(!n||!r)){if(n.workerEnabled){r.layout();return}!((t=r.layoutMethods)===null||t===void 0)&&t.length?r.relayout(!0):r.layout()}},e.prototype.collapseCombo=function(t,r){var n=this;if(r===void 0&&(r=!0),!this.destroyed){if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var a=t.getModel(),o=this.get("itemController");o.collapseCombo(t,r),a.collapsed=!0;var s=this.getEdges().concat(this.get("vedges")),u=[],l=this.get("comboTrees"),c=!1;(l||[]).forEach(function(T){c||Ii(T,function(I){if(c&&I.depth<=a.depth)return!1;if(a.id===I.id&&(c=!0),c){var B=n.findById(I.id);B&&B.getType&&B.getType()==="combo"&&(u=u.concat(B.getNodes()),u=u.concat(B.getCombos()))}return!0})});var d={};s.forEach(function(T){var I=T.getModel(),B=I.isVEdge,H=I.size,tt=H===void 0?1:H;if(!(T.isVisible()&&!B)){var lt=T.getSource(),dt=T.getTarget(),gt=null,_t;if(lt.getModel().id===a.id||u.includes(lt)&&!u.includes(dt)?(gt=dt,_t=!1):(dt.getModel().id===a.id||!u.includes(lt)&&u.includes(dt))&&(gt=lt,_t=!0),gt){if(B){n.removeItem(T,!1);return}for(var Ht=gt.getModel();!gt.isVisible();){var oe=Ht.parentId,ie=Ht.comboId,Ee=oe||ie;if(gt=n.findById(Ee),!gt||!Ee)return;Ht=gt.getModel()}var Re=Ht.id,Ae=_t?{source:Re,target:a.id,size:tt,isVEdge:!0}:{source:a.id,target:Re,size:tt,isVEdge:!0},Ve="".concat(Ae.source,"-").concat(Ae.target);if(d[Ve]){d[Ve].size+=tt;return}d[Ve]=Ae}}}),this.addItems(Object.values(d).map(function(T){return{type:"vedge",model:T}}),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}},e.prototype.expandCombo=function(t,r){var n=this;if(r===void 0&&(r=!0),(0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var a=t.getModel(),o=this.get("itemController");o.expandCombo(t,r),a.collapsed=!1;var s=this.getEdges().concat(this.get("vedges")),u=[],l=this.get("comboTrees"),c=!1;(l||[]).forEach(function(T){c||Ii(T,function(I){if(c&&I.depth<=a.depth)return!1;if(a.id===I.id&&(c=!0),c){var B=n.findById(I.id);B&&B.getType&&B.getType()==="combo"&&(u=u.concat(B.getNodes()),u=u.concat(B.getCombos()))}return!0})});var d={};s.forEach(function(T){if(!(T.isVisible()&&!T.getModel().isVEdge)){var I=T.getSource(),B=T.getTarget(),H=I.get("id"),tt=B.get("id"),lt=null,dt;if(H===a.id||u.includes(I)&&!u.includes(B)?(lt=B,dt=!1):tt===a.id||!u.includes(I)&&u.includes(B)?(lt=I,dt=!0):u.includes(I)&&u.includes(B)&&I.isVisible()&&B.isVisible()&&T.show(),lt){var gt=T.getModel(),_t=gt.isVEdge,Ht=gt.size,oe=Ht===void 0?1:Ht;if(_t){n.removeItem(T,!1);return}for(var ie=lt.getModel();!lt.isVisible();){var Ee=ie.parentId,Re=ie.comboId,Ae=Ee||Re;if(lt=n.findById(Ae),!lt||!Ae)return;ie=lt.getModel()}for(var Ve=ie.id,sr=dt?B:I,tn=sr.getModel();!sr.isVisible();){var Tn=tn.parentId,pn=tn.comboId,Vr=Tn||pn;if(sr=n.findById(Vr),!sr||!Vr)return;if(tn.comboId===a.id||tn.parentId===a.id)break;tn=sr.getModel()}var Gn=tn.id;if(Ve){var Rn=dt?{source:Ve,target:Gn,isVEdge:!0,size:oe}:{source:Gn,target:Ve,isVEdge:!0,size:oe},Hr="".concat(Rn.source,"-").concat(Rn.target);if(d[Hr]){d[Hr].size+=oe;return}d[Hr]=Rn}}}}),this.addItems(Object.values(d).map(function(T){return{type:"vedge",model:T}}),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},e.prototype.collapseExpandCombo=function(t,r){if(r===void 0&&(r=!0),(0,f.isString)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var n=t.getModel(),a=this.findById(n.parentId);a;){var o=a.getModel();if(o.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),a=void 0;return}a=this.findById(o.parentId)}var s=n.collapsed;s?this.expandCombo(t,r):this.collapseCombo(t,r),this.updateCombo(t)}},e.prototype.getNeighbors=function(t,r){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(r)},e.prototype.getNodeDegree=function(t,r,n){r===void 0&&(r=void 0),n===void 0&&(n=!1);var a=t;(0,f.isString)(t)&&(a=this.findById(t));var o=this.get("degrees");(!o||n)&&(o=Zt(this.save()),this.set("degrees",o));var s=o[a.getID()],u=0;if(!s)return 0;switch(r){case"in":u=s.inDegree;break;case"out":u=s.outDegree;break;case"all":u=s;break;default:u=s.degree;break}return u},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},e.prototype.pushStack=function(t,r,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=r?(0,f.clone)(r):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{action:t,stackType:n,undoStack:this.undoStack,redoStack:this.redoStack})},e.prototype.getAdjMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Q(this.save(),r),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Q(this.save(),r),this.set("adjMatrix",n)),(!a||!t)&&(a=qe(this.save(),r),this.set("shortestPathMatrix",a)),a},e.prototype.on=function(t,r,n){return i.prototype.on.call(this,t,r,n)},e.prototype.destroy=function(){var t,r,n,a,o;this.clear(),this.clearStack(),(t=this.get("itemController"))===null||t===void 0||t.destroy(),(r=this.get("modeController"))===null||r===void 0||r.destroy(),(n=this.get("viewController"))===null||n===void 0||n.destroy(),(a=this.get("stateController"))===null||a===void 0||a.destroy(),(o=this.get("canvas"))===null||o===void 0||o.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var r=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),(!r||r.get("destroyed"))&&(r=this.get("group").addGroup({id:"hullGroup"}),r.toBack(),this.set("hullGroup",r)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=r.addGroup({id:"".concat(t.id,"-container")}),o=new tp(this,(0,g.__assign)((0,g.__assign)({},t),{group:a})),s=o.id;return n[s]=o,o},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var r,n;(0,f.isString)(t)?n=this.getHullById(t):n=t,(r=this.get("hullMap"))===null||r===void 0||delete r[n.id],n.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(r){var n=t[r];n.destroy()}),this.set("hullMap",{}))},e}(nt),ep=pm;function Fh(i){return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(i)}var Qf=ht,rp="-shape",zh="-label",Hd=["startArrow","endArrow"],np={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},gm={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Zd={edge:gm,node:np,combo:np},Gh="-label-bg",Uh={options:{labelCfg:{style:{fontFamily:Wt.windowFontFamily}},descriptionCfg:{style:{fontFamily:Wt.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return t==="move"||t!=null&&t.includes("bbox")?e:(0,f.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var r=this.drawShape(e,t);if(r.set("className",this.itemType+rp),t.shapeMap[this.itemType+rp]=r,e.label){var n=this.drawLabel(e,t);n.set("className",this.itemType+zh),t.shapeMap[this.itemType+zh]=n}return r},afterDraw:function(e,t,r){},drawShape:function(e,t){return null},drawLabel:function(e,t){var r=(this.mergeStyle||this.getOptions(e)||{}).labelCfg,n=r||{},a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""){var u=s.getBBox(),l=[1,0,0,0,1,0,0,0,1];if(a.rotateCenter)switch(a.rotateCenter){case"center":l=Qf(l,[["t",-u.width/2,-u.height/2],["r",o],["t",u.width/2,u.height/2]]);break;case"lefttop":l=Qf(l,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":l=Qf(l,[["t",-a.x,-a.y-u.height/2],["r",o],["t",a.x,a.y+u.height/2]]);break;default:l=Qf(l,[["t",-u.width/2,-u.height/2],["r",o],["t",u.width/2,u.height/2]]);break}else l=Qf(l,[["t",-a.x,-a.y-u.height/2],["r",o],["t",a.x,a.y+u.height/2]]);s.setMatrix(l)}if(a.background){var c=this.drawLabelBg(e,t,s),d=this.itemType+Gh;c.set("classname",d),t.shapeMap[d]=c,s.toFront()}return s},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,a=(0,f.mix)({},n,e.labelCfg),o=this.getLabelBgStyleByPosition(r,a),s=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=s,s},getLabelStyleByPosition:function(e,t,r){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,r){var n=this.getLabelStyleByPosition(e,t,r),a="".concat(this.itemType,"Label"),o=Wt[a]?Wt[a].style:null;return(0,g.__assign)((0,g.__assign)((0,g.__assign)({},o),n),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,r){this.updateShapeStyle(e,t,r),this.updateLabel(e,t,r)},updateShapeStyle:function(e,t,r){var n,a=t.getContainer(),o=t.getKeyShape(),s=(0,f.mix)({},o.attr(),e.style),u=function(d){var T,I=s[d];if((0,f.isPlainObject)(I)){var B=((n=a.shapeMap)===null||n===void 0?void 0:n[d])||a.find(function(H){return H.get("name")===d});B==null||B.attr(I)}else o.attr((T={},T[d]=I,T))};for(var l in s)u(l)},updateLabel:function(e,t,r){var n,a;if(e.label||e.label===""){var o=t.getContainer(),s=(this.mergeStyle||this.getOptions({},r)||{}).labelCfg,u=s===void 0?{}:s,l=this.itemType+zh,c=o.shapeMap[l]||o.find(function(_t){return _t.get("className")===l}),d=this.itemType+Gh,T=o.shapeMap[d]||o.find(function(_t){return _t.get("className")===d});if(c){(!r||r==="bbox|label"||this.itemType==="edge"&&r!=="style")&&(u=(0,f.deepMix)(u,e.labelCfg));var B=this.getLabelStyleByPosition(e,u,o),H=(n=e.labelCfg)===null||n===void 0?void 0:n.style,tt=(0,g.__assign)((0,g.__assign)({},B),H),lt=tt.rotate;if(delete tt.rotate,!isNaN(lt)&&lt!==""){var dt=[1,0,0,0,1,0,0,0,1];dt=Qf(dt,[["t",-tt.x,-tt.y],["r",lt],["t",tt.x,tt.y]]),tt.matrix=dt,c.attr(tt)}else((a=c.getMatrix())===null||a===void 0?void 0:a[4])!==1&&c.resetMatrix(),c.attr(tt);if(!T)tt.background&&(T=this.drawLabelBg(e,o,c),T.set("classname",d),o.shapeMap[d]=T,c.toFront());else if(tt.background){var gt=this.getLabelBgStyleByPosition(c,u);T.attr(gt)}else o.removeChild(T)}else{var I=this.drawLabel(e,o);I.set("className",l),o.shapeMap[l]=I}}},afterUpdate:function(e,t){},setState:function(e,t,r){var n,a,o,s=r.get("keyShape");if(!(!s||s.destroyed)){var u=r.getType(),l=(0,f.isBoolean)(t)?e:"".concat(e,":").concat(t),c=this.getStateStyle(l,r),d=r.getStateStyle(l);if(!(!d&&!c)){var T=(0,f.mix)({},d||c),I=r.getContainer(),B={x:1,y:1,cx:1,cy:1,matrix:1};if(u==="combo"&&(B.r=1,B.width=1,B.height=1),t){var H=function(Vr){var Gn,Rn=T[Vr];if((0,f.isPlainObject)(Rn)&&!Hd.includes(Vr)){var Hr=((o=I.shapeMap)===null||o===void 0?void 0:o[Vr])||I.find(function(hn){return hn.get("name")===Vr});Hr==null||Hr.attr(Rn)}else s.attr((Gn={},Gn[Vr]=Rn,Gn))};for(var tt in T)H(tt)}else{var lt=Ko(r.getCurrentStatesStyle()),dt=r.getModel(),gt=(0,f.mix)({},dt.style,Ko(r.getOriginStyle())),_t=s.get("name"),Ht=s.attr(),oe={};Object.keys(Ht).forEach(function(pn){if(pn!=="img"){var Vr=Ht[pn];Vr&&Fh(Vr)==="object"?oe[pn]=(0,f.clone)(Vr):oe[pn]=Vr}});var ie={},Ee=function(Vr){var Gn=T[Vr];if((0,f.isPlainObject)(Gn)&&!Hd.includes(Vr)){var Rn=I.shapeMap[Vr]||I.find(function(On){return On.get("name")===Vr});if(Rn){var Hr=Ko(Rn.attr());(0,f.each)(Gn,function(On,In){if(Vr===_t&&oe[In]&&!B[In]){delete oe[In];var jn=gt[Vr][In]||Zd[u][In];s.attr(In,jn)}else if(Hr[In]||Hr[In]===0){delete Hr[In];var ea=gt[Vr][In]||Zd[u][In];Rn.attr(In,ea)}}),ie[Vr]=Hr}}else if(oe[Vr]&&!B[Vr]){delete oe[Vr];var hn=gt[Vr]||(gt[_t]?gt[_t][Vr]:void 0)||Zd[u][Vr];s.attr(Vr,hn)}};for(var Re in T)Ee(Re);_t?ie[_t]=oe:(0,f.mix)(ie,oe);for(var tt in lt)if(!B[tt]){var Ae=lt[tt];(!(0,f.isPlainObject)(Ae)||Hd.includes(tt))&&(_t?((0,f.mix)(gt[_t],(a={},a[tt]=Ae,a)),delete gt[tt]):(0,f.mix)(gt,(n={},n[tt]=Ae,n)),delete lt[tt])}var Ve={};(0,f.deepMix)(Ve,gt,ie,lt);var sr=!1,tn=function(Vr){var Gn,Rn,Hr=Ve[Vr];if((0,f.isPlainObject)(Hr)&&!Hd.includes(Vr)){var hn=I.shapeMap[Vr]||I.find(function(In){return In.get("name")===Vr});hn&&((hn.get("type")==="text"||hn.get("labelRelated"))&&(delete Hr.x,delete Hr.y,delete Hr.matrix),Vr===_t&&(u==="combo"&&(delete Hr.r,delete Hr.width,delete Hr.height),sr=!0),hn.attr(Hr))}else if(!sr){var On=Hr||Zd[u][Vr];u==="combo"?_t||s.attr((Gn={},Gn[Vr]=On,Gn)):s.attr((Rn={},Rn[Vr]=On,Rn))}};for(var Tn in Ve)tn(Tn)}}}},getStateStyle:function(e,t){var r=t.getModel(),n=t.getType(),a=this.getOptions(r),o=a.stateStyles,s=a.style,u=s===void 0?{}:s,l=r.stateStyles?r.stateStyles[e]:o&&o[e];return n==="combo"?(0,f.clone)(l):(0,f.mix)({},u,l)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,r,n=(e==null?void 0:e.anchorPoints)||((t=this.getCustomConfig(e))===null||t===void 0?void 0:t.anchorPoints)||((r=this.options)===null||r===void 0?void 0:r.anchorPoints);return n}},mm={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Wt.nodeLabel.offset,getSize:function(e){var t,r=((t=this.mergeStyle)===null||t===void 0?void 0:t.size)||e.size||this.getOptions({}).size||Wt.defaultNode.size;return(0,f.isArray)(r)&&r.length===1&&(r=[r[0],r[0]]),(0,f.isArray)(r)||(r=[r,r]),r},getLabelStyleByPosition:function(e,t){var r=t.maxLength,n=e.label;r&&(n=qo(n,r));var a=t.position||this.labelPosition;if(a==="center")return{x:0,y:0,text:n,textBaseline:"middle",textAlign:"center"};var o=t.offset;(0,f.isNil)(o)&&(o=this.offset);var s=this.getSize(e),u;switch(a){case"top":u={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":u={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":u={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:u={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"};break}return u.text=n,u},getLabelBgStyleByPosition:function(e,t){var r;if(!e)return{};var n=(r=t.style)===null||r===void 0?void 0:r.background;if(!n)return{};var a=e.getBBox(),o=Th(n.padding),s=a.width+o[1]+o[3],u=a.height+o[0]+o[2];return(0,g.__assign)((0,g.__assign)({x:a.minX-o[3],y:a.minY-o[0]},n),{width:s,height:u})},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=a,a},updateLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=t.shapeMap["link-point-left"]||t.find(function(Ve){return Ve.get("className")==="link-point-left"}),a=t.shapeMap["link-point-right"]||t.find(function(Ve){return Ve.get("className")==="link-point-right"}),o=t.shapeMap["link-point-top"]||t.find(function(Ve){return Ve.get("className")==="link-point-top"}),s=t.shapeMap["link-point-bottom"]||t.find(function(Ve){return Ve.get("className")==="link-point-bottom"}),u;n&&(u=n.attr()),a&&!u&&(u=a.attr()),o&&!u&&(u=o.attr()),s&&!u&&(u=s.attr()),u||(u=r);var l=(0,f.mix)({},u,e.linkPoints),c=l.fill,d=l.stroke,T=l.lineWidth,I=l.size/2;I||(I=l.r);var B=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},H=B.left,tt=B.right,lt=B.top,dt=B.bottom,gt=this.getSize(e),_t=gt[0],Ht=gt[1],oe={r:I,fill:c,stroke:d,lineWidth:T};if(n)!H&&H!==void 0?(n.remove(),delete t.shapeMap["link-point-left"]):n.attr((0,g.__assign)((0,g.__assign)({},oe),{x:-_t/2,y:0}));else if(H){var ie="link-point-left";t.shapeMap[ie]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},oe),{x:-_t/2,y:0}),className:ie,name:ie,isAnchorPoint:!0})}if(a)!tt&&tt!==void 0&&(a.remove(),delete t.shapeMap["link-point-right"]),a.attr((0,g.__assign)((0,g.__assign)({},oe),{x:_t/2,y:0}));else if(tt){var Ee="link-point-right";t.shapeMap[Ee]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},oe),{x:_t/2,y:0}),className:Ee,name:Ee,isAnchorPoint:!0})}if(o)!lt&&lt!==void 0&&(o.remove(),delete t.shapeMap["link-point-top"]),o.attr((0,g.__assign)((0,g.__assign)({},oe),{x:0,y:-Ht/2}));else if(lt){var Re="link-point-top";t.shapeMap[Re]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},oe),{x:0,y:-Ht/2}),className:Re,name:Re,isAnchorPoint:!0})}if(s)!dt&&dt!==void 0?(s.remove(),delete t.shapeMap["link-point-bottom"]):s.attr((0,g.__assign)((0,g.__assign)({},oe),{x:0,y:Ht/2}));else if(dt){var Ae="link-point-bottom";t.shapeMap[Ae]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},oe),{x:0,y:Ht/2}),className:Ae,name:Ae,isAnchorPoint:!0})}},updateShape:function(e,t,r,n,a){var o=t.get("keyShape");o.attr((0,g.__assign)({},r)),this.updateLabel(e,t,a),n&&this.updateIcon(e,t)},updateIcon:function(e,t){var r=this,n=t.getContainer(),a=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},s=o.show,u=o.text,l=n.shapeMap["".concat(this.type,"-icon")]||n.find(function(lt){return lt.get("name")==="".concat(r.type,"-icon")});if(l)if(s||s===void 0){var c=(0,f.mix)({},l.attr(),a),d=c.width,T=d===void 0?20:d,I=c.height,B=I===void 0?20:I;(c.fontFamily==="iconfont"||c.hasOwnProperty("text"))&&(T=0,B=0),l.attr((0,g.__assign)((0,g.__assign)({},c),{x:-T/2,y:-B/2}))}else l.remove(),delete n.shapeMap["".concat(this.type,"-icon")];else if(s){var H="".concat(this.type,"-icon");if(u)n.shapeMap[H]=n.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:H,name:H});else{var T=a.width,B=a.height;n.shapeMap[H]=n.addShape("image",{attrs:(0,g.__assign)((0,g.__assign)({},a),{x:-T/2,y:-B/2}),className:H,name:H})}var tt=n.shapeMap["node-label"]||n.find(function(lt){return lt.get("name")==="node-label"});tt&&tt.toFront()}}},ym=(0,g.__assign)((0,g.__assign)({},Uh),mm);Jo.registerNode("single-node",ym);var Kd="edge-shape";function bm(i){var e=i;return i==="start"?e="end":i==="end"&&(e="start"),e}var xm={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Wt.defaultEdge.size,style:{x:0,y:0,stroke:Wt.defaultEdge.style.stroke,lineAppendWidth:Wt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Wt.edgeLabel.style.fill,fontSize:Wt.edgeLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},stateStyles:(0,g.__assign)({},Wt.edgeStateStyles)},getPath:function(e){var t=[];return(0,f.each)(e,function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,f.mix)({},t,r,e.style),a=e.size||Wt.defaultEdge.size;e=this.getPathPoints(e);var o=e.startPoint,s=e.endPoint,u=this.getControlPoints(e),l=[o];u&&(l=l.concat(u)),l.push(s);var c=this.getPath(l),d=(0,f.mix)({},Wt.defaultEdge.style,{stroke:Wt.defaultEdge.color,lineWidth:a,path:c},n);return d},updateShapeStyle:function(e,t,r){var n,a=t.getContainer(),o=((n=t.getKeyShape)===null||n===void 0?void 0:n.call(t))||a.shapeMap["edge-shape"],s=e.size;e=this.getPathPoints(e);var u=e.startPoint,l=e.endPoint,c=this.getControlPoints(e),d=[u];c&&(d=d.concat(c)),d.push(l);var T=o.attr(),I=e.style||{};I.stroke===void 0&&(I.stroke=e.color);var B=e.sourceNode,H=e.targetNode,tt={radius:I.radius};c||(tt={source:B,target:H,offset:I.offset,radius:I.radius});var lt=this.getPath(d,tt),dt={};r==="move"?dt={path:lt}:(T.endArrow&&I.endArrow===!1&&(e.style.endArrow={path:""}),T.startArrow&&I.startArrow===!1&&(e.style.startArrow={path:""}),dt=(0,g.__assign)({},e.style),dt.lineWidth===void 0&&(dt.lineWdith=((0,f.isNumber)(s)?s:s==null?void 0:s[0])||T.lineWidth),dt.path===void 0&&(dt.path=lt),dt.stroke===void 0&&(dt.stroke=T.stroke||e.color)),o&&o.attr(dt)},getLabelStyleByPosition:function(e,t,r){var n=t.position||this.labelPosition,a={},o=r==null?void 0:r.shapeMap[Kd],s;n==="start"?s=0:n==="end"?s=1:s=.5;var u=t.refX||this.refX,l=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return a.x=e.startPoint.x+u,a.y=e.startPoint.y+l,a.text=e.label,a;var c;(0,f.isNil)(t.autoRotate)?c=this.labelAutoRotate:c=t.autoRotate;var d=to(o,s,u,l,c);return a.x=d.x,a.y=d.y,a.rotate=d.rotate,a.textAlign=this._getTextAlign(n,d.angle),a.text=e.label,a},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var r=e.getBBox(),n=t.style&&t.style.background;if(!n)return{};var a=n.padding,o=r.width+a[1]+a[3],s=r.height+a[0]+a[2],u=(0,g.__assign)((0,g.__assign)({},n),{width:o,height:s,x:r.minX-a[3],y:r.minY-a[0],matrix:[1,0,0,0,1,0,0,0,1]}),l;return(0,f.isNil)(t.autoRotate)?l=this.labelAutoRotate:l=t.autoRotate,l&&(u.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),u},_getTextAlign:function(e,t){var r="center";return t?(t=t%(Math.PI*2),e!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?r=e:r=bm(e)),r):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("path",{className:Kd,name:Kd,attrs:r});return t.shapeMap[Kd]=n,n},drawLabel:function(e,t){var r=this.options.labelCfg,n=(0,f.deepMix)({},r,e.labelCfg),a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""&&s.rotateAtStart(o),a.background){var u=this.drawLabelBg(e,t,s,a,o),l=this.itemType+Gh;u.set("classname",l),t.shapeMap[l]=u,s.toFront()}return s},drawLabelBg:function(e,t,r,n,a){var o=this.options.labelCfg,s=(0,f.deepMix)({},o,e.labelCfg),u=this.getLabelBgStyleByPosition(r,s),l=t.addShape("rect",{name:"text-bg-shape",attrs:u,labelRelated:!0});return t.shapeMap["text-bg-shape"]=l,l}},Em=(0,g.__assign)((0,g.__assign)({},Uh),xm);Jo.registerEdge("single-edge",Em),Jo.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Jo.registerEdge("spline",{getPath:function(e){var t=jv(e);return t}},"single-edge"),Jo.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint,n={x:(t.x+r.x)/2,y:(t.y+r.y)/2},a,o;if(e.controlPoints!==void 0){if(o=e.controlPoints[0],a=Mn(t,o,r),t.x<=r.x&&t.y>r.y?this.clockwise=a.x>o.x?0:1:t.x<=r.x&&t.y<r.y?this.clockwise=a.x>o.x?1:0:t.x>r.x&&t.y<=r.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)===(r.x-t.x)/(r.y-t.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),(0,f.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:r.x-t.x,y:r.y-t.y},u=Math.atan2(s.y,s.x);o={x:e.curveOffset*Math.cos(-Math.PI/2+u)+n.x,y:e.curveOffset*Math.sin(-Math.PI/2+u)+n.y},a=Mn(t,o,r)}var l=Zn(t,a),c=[{x:l,y:l}];return c},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),Jo.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var r=e.startPoint,n=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,f.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,f.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]);var a=Vd(r,n,e.curvePosition,e.curveOffset);t=[a]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),Jo.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var r=e.startPoint,n=e.endPoint,a=Vd(r,n,e.curvePosition[0],e.curveOffset[0]),o=Vd(r,n,e.curvePosition[1],e.curveOffset[1]);t=[a,o]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),Jo.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=r.y-t.y,a=[0,0];e.curveOffset?a=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(a=e.minCurveOffset);var o={x:t.x,y:t.y+n*this.curvePosition[0]+a[0]},s={x:r.x,y:r.y-n*this.curvePosition[1]+a[1]};return[o,s]}},"cubic"),Jo.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=r.x-t.x,a=[0,0];e.curveOffset?a=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(a=e.minCurveOffset);var o={x:t.x+n*this.curvePosition[0]+a[0],y:t.y},s={x:r.x-n*this.curvePosition[1]+a[1],y:r.y},u=[o,s];return u}},"cubic"),Jo.registerEdge("loop",{getPathPoints:function(e){return hi(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var wm={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Wt.comboLabel.refX,refY:Wt.comboLabel.refY,options:{style:{stroke:Wt.defaultCombo.style.stroke,fill:Wt.defaultCombo.style.fill,lineWidth:Wt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Wt.comboLabel.style.fill,fontSize:Wt.comboLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},stateStyles:(0,g.__assign)({},Wt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(e){var t=(0,f.clone)(e.size||this.options.size||Wt.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,f.isArray)(a)&&(a=Math.max.apply(Math,a));var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var u=this.getSize(e),l=Math.max(n.r,u[0]/2)||u[0]/2,c=l+a,d;switch(r){case"top":d={x:0,y:-c-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":d={x:0,y:c+s,textBaseline:"bottom",textAlign:"center"};break;case"left":d={x:-c+o,y:0,textAlign:"left"};break;case"center":d={x:0,y:0,text:e.label,textAlign:"center"};break;default:d={x:c+o,y:0,textAlign:"right"};break}return d.text=e.label,d},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateCollapsedIcon:function(e,t,r){var n=e.collapsed,a=e.collapsedSubstituteIcon,o=a===void 0?{}:a,s=Object.assign({},this.options.collapsedSubstituteIcon,o),u=s.show,l=s.img,c=s.width,d=s.height,T=t.getContainer(),I=T.find(function(lt){return lt.get("name")==="combo-collapsed-substitute-icon"}),B=I&&!I.destroyed,H=t.get("keyShape");if(n&&u){if(B)I.show();else{var tt={width:c||r.r*2||r.width,height:d||r.r*2||r.height};I=T.addShape("image",{attrs:(0,g.__assign)({img:l,x:-tt.width/2,y:-tt.height/2},tt),name:"combo-collapsed-substitute-icon",draggable:!0})}H.hide()}else B&&(I.hide(),H.show())},updateShape:function(e,t,r){var n=this,a=t.get("keyShape"),o=t.get("animate"),s=o&&(e.animate===void 0?this.options.animate:e.animate);s&&a.animate?(e.collapsed||this.updateCollapsedIcon(e,t,r),a.animate(r,{duration:200,easing:"easeLinear",callback:function(){e.collapsed&&n.updateCollapsedIcon(e,t,r)}})):(a.attr((0,g.__assign)({},r)),this.updateCollapsedIcon(e,t,r)),this.updateLabel(e,t)}},Sm=(0,g.__assign)((0,g.__assign)({},Uh),wm);Jo.registerCombo("single-combo",Sm),Jo.registerCombo("circle",{options:{size:[Wt.defaultCombo.size[0],Wt.defaultCombo.size[0]],padding:Math.max.apply(Math,Wt.defaultCombo.padding),animate:!0,style:{stroke:Wt.defaultCombo.style.stroke,fill:Wt.defaultCombo.style.fill,lineWidth:Wt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Wt.comboLabel.style.fill,fontSize:Wt.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,g.__assign)({},Wt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e);delete r.height,delete r.width;var n=t.addShape("circle",{attrs:r,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,f.isArray)(r)&&(r=Math.max.apply(Math,r));var n={stroke:e.color},a=(0,f.mix)({},t,n,e.style),o=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize,s;if(o)s=(0,f.isNumber)(o)?o/2:o[0]/2;else{var u=this.getSize(e);!(0,f.isNumber)(a.r)||isNaN(a.r)?s=u[0]/2||Wt.defaultCombo.style.r:s=Math.max(a.r,u[0]/2)||u[0]/2}a.r=s+r;var l=(0,g.__assign)({x:0,y:0},a);return e.style?e.style.r=s:e.style={r:s},l},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,f.isArray)(n)&&(n=Math.max.apply(Math,n));var a=(0,f.clone)(e.style),o=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize,s;o?s=(0,f.isNumber)(o)?o/2:o[0]/2:s=Math.max(a.r,r[0]/2)||r[0]/2,a.r=s+n;var u=t.get("sizeCache");u&&(u.r=a.r);var l={stroke:e.color},c=t.get("keyShape"),d=(0,f.mix)({},c.attr(),l,a);e.style?e.style.r=s:e.style={r:s},this.updateShape(e,t,d,!0)}},"single-combo"),Jo.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Wt.defaultCombo.style.stroke,fill:Wt.defaultCombo.style.fill,lineWidth:Wt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Wt.comboLabel.style.fill,fontSize:Wt.comboLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,g.__assign)({},Wt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var u=-n.width/2-a[3],l=n.width/2+a[1],c=-n.height/2-a[0],d=n.height/2+a[2],T;switch(r){case"top":T={x:u+o,y:c+s,textBaseline:"top",textAlign:"left"};break;case"bottom":T={x:0,y:d+s,textBaseline:"top",textAlign:"center"};break;case"left":T={x:u+s,y:0,textAlign:"left"};break;case"center":T={x:0,y:0,text:e.label,textAlign:"center"};break;case"top-center":T={x:0,y:c+s,textBaseline:"top",textAlign:"center"};break;default:T={x:l+o,y:0,textAlign:"right"};break}return T.text=e.label,T},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,f.isNumber)(r)&&(r=[r,r,r,r]);var n={stroke:e.color},a=(0,f.mix)({},t,n,e.style),o=this.getSize(e),s,u,l=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;l?(0,f.isNumber)(l)?(s=l,u=l):(s=l[0],u=l[1]):(!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Wt.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?u=o[1]||Wt.defaultCombo.style.height:u=Math.max(a.height,o[1])||o[1]);var c=-s/2-r[3],d=-u/2-r[0];a.width=s+r[1]+r[3],a.height=u+r[0]+r[2];var T=(0,g.__assign)({x:c,y:d},a);return e.style?(e.style.width=s,e.style.height=u):e.style={width:s,height:u},T},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(e.style),o,s,u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,f.isNumber)(u)?(o=u,s=u):(o=u[0],s=u[1]):(o=Math.max(a.width,r[0])||r[0],s=Math.max(a.height,r[1])||r[1]),a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var c={stroke:e.color},d=t.get("keyShape"),T=(0,f.mix)({},d.attr(),c,a);e.style?(e.style.width=o,e.style.height=s):e.style={width:o,height:s},this.updateShape(e,t,T,!1)}},"single-combo"),Jo.registerNode("simple-circle",{options:{size:Wt.defaultNode.size,style:{x:0,y:0,stroke:Wt.defaultNode.style.stroke,fill:Wt.defaultNode.style.fill,lineWidth:Wt.defaultNode.style.lineWidth},labelCfg:{style:{fill:Wt.nodeLabel.style.fill,fontSize:Wt.nodeLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},stateStyles:(0,g.__assign)({},Wt.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var r=this.getShapeStyle(e),n="".concat(this.type,"-keyShape"),a=t.addShape("circle",{attrs:r,className:"".concat(this.type,"-keyShape"),name:n,draggable:!0});return t.shapeMap[n]=a,a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.deepMix)({},t,r),a=this.getSize(e),o=a[0]/2,s=(0,g.__assign)({x:0,y:0,r:o},n);return s},update:function(e,t,r){var n=this.getSize(e),a={stroke:e.color,r:n[0]/2},o=t.get("keyShape"),s=(0,f.deepMix)({},o.attr(),a,e.style);this.updateShape(e,t,s,!0,r)}},"single-node"),Jo.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Wt.defaultNode.style.stroke,fill:Wt.defaultNode.style.fill,lineWidth:Wt.defaultNode.style.lineWidth},labelCfg:{style:{fill:Wt.nodeLabel.style.fill,fontSize:Wt.nodeLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,g.__assign)({},Wt.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return n},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,g.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=(this.mergeStyle||this.getOptions(e)).style,o=this.getSize(e),s=t.get("keyShape");e.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var u={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},l=(0,f.mix)({},a,s.attr(),u);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!1,r)}},"single-node"),Jo.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Wt.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e);delete n.fill;var a=t.addShape(r,{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,a),a},drawClip:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).clipCfg;if(r.show){var n=r.type,a=r.x,o=r.y,s=r.style;if(n==="circle"){var u=r.r;t.setClip({type:"circle",attrs:(0,g.__assign)({r:u,x:a,y:o},s)})}else if(n==="rect"){var l=r.width,c=r.height,d=a-l/2,T=o-c/2;t.setClip({type:"rect",attrs:(0,g.__assign)({x:d,y:T,width:l,height:c},s)})}else if(n==="ellipse"){var I=r.rx,B=r.ry;t.setClip({type:"ellipse",attrs:(0,g.__assign)({x:a,y:o,rx:I,ry:B},s)})}else if(n==="polygon"){var H=r.points;t.setClip({type:"polygon",attrs:(0,g.__assign)({points:H},s)})}else if(n==="path"){var tt=r.path;t.setClip({type:"path",attrs:(0,g.__assign)({path:tt},s)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),r=t.style,n=t.img,a=this.getSize(e),o=a[0],s=a[1];r&&(o=r.width||a[0],s=r.height||a[1]);var u=(0,g.__assign)({x:-o/2,y:-s/2,width:o,height:s,img:n},r);return u},updateShapeStyle:function(e,t){var r=t.getContainer(),n="".concat(this.itemType,"-shape"),a=r.shapeMap[n]||r.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(e);a&&!a.destroyed&&a.attr(o)}},"single-node");var ap={triangle:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",0 L ").concat(n+t,",-").concat(e/2," L ").concat(n+t,",").concat(e/2," Z");return a},vee:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=20),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",0 L ").concat(n+t,",-").concat(e/2,`
        L `).concat(n+2*t/3,",0 L ").concat(n+t,",").concat(e/2," Z");return a},circle:function(e,t){e===void 0&&(e=5),t===void 0&&(t=0);var r=t*2,n="M ".concat(r,`, 0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(e*2,`,0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(-e*2,",0");return n},rect:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=10),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",").concat(-e/2,` 
        L `).concat(n+t,",").concat(-e/2,` 
        L `).concat(n+t,",").concat(e/2,` 
        L `).concat(n,",").concat(e/2," Z");return a},diamond:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,`,0 
        L `).concat(n+t/2,",").concat(-e/2,` 
        L `).concat(n+t,`,0 
        L `).concat(n+t/2,",").concat(e/2," Z");return a},triangleRect:function(e,t,r,n,a,o){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,u=s+t+a,l="M ".concat(s,",0 L ").concat(s+t,",-").concat(e/2," L ").concat(s+t,",").concat(e/2,` Z
            M `).concat(u,", -").concat(r/2,`
            L `).concat(u+n," -").concat(r/2,`
            L `).concat(u+n," ").concat(r/2,`
            L `).concat(u," ").concat(r/2,`
            Z`);return l}},ip={collapse:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e+r-4,t]]},expand:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e-r+2*r-4,t],["M",e-r+r,t-r+4],["L",e,t+r-4]]},upTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t+a],["L",e+n,t+a],["L",e,t-r],["Z"]]},downTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t-a],["L",e+n,t-a],["L",e,t+r],["Z"]]}},fc=Jo,Mm=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],op=function(e){return e==="force"||e==="g6force"||e==="gForce"||e==="force2"},_m=ht,Cm=(0,g.__assign)((0,g.__assign)((0,g.__assign)((0,g.__assign)((0,g.__assign)((0,g.__assign)((0,g.__assign)({},P),w),p),R),m),S),{transform:_m,mat3:q}),ls=Cm,Tm=function(){function i(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},i.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var r=e.pipes;return Array.isArray(r)?r.map(function(n){return(n==null?void 0:n.type)||""}):null},i.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e),r=Array.isArray(this.layoutType),n=Array.isArray(t);return r&&n?this.layoutType.every(function(a,o){return a===t[o]}):Array.isArray(t)||Array.isArray(this.layoutType)?!1:(e==null?void 0:e.type)===this.layoutType},i.prototype.refreshLayout=function(){var e=this,t=e.graph,r=e.layoutType,n=e.layoutCfg,a=n===void 0?{}:n;if(t){var o=a.animate,s=o===void 0&&(r==="force"||r==="force2"),u=op(r)&&(o||s);t.get("animate")&&!u?t.positionsAnimate(r==="comboCombined"):t.refreshPositions(r==="comboCombined")}},i.prototype.changeLayout=function(e){var t=e.disableTriggerLayout,r=(0,g.__rest)(e,["disableTriggerLayout"]);this.layoutCfg=r,this.layoutType=r.type||this.layoutType,!t&&this.layout()},i.prototype.changeData=function(e){this.layout(e)},i.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods,t=[];return e==null||e.forEach(function(r){var n,a=(n=r.getType)===null||n===void 0?void 0:n.call(r);a&&t.push(a),r.destroy()}),this.layoutMethods=[],t},i.prototype.destroyLayout=function(){this.destoryLayoutMethods();var e=this.graph;e&&!e.get("destroyed")&&e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},i.prototype.setDataFromGraph=function(){for(var e,t=[],r=[],n=[],a=[],o=[],s=[],u=[],l=this.graph.getNodes(),c=this.graph.getEdges(),d=this.graph.getCombos(),T=l.length,I=0;I<T;I++){var B=l[I];if(!(!B||B.destroyed)){var H=B.getModel();if(!B.isVisible()){r.push(H);continue}t.push(H)}}for(var tt=c.length,I=0;I<tt;I++){var lt=c[I];if(!(!lt||lt.destroyed)){var H=lt.getModel();if(!lt.isVisible()){a.push(H);continue}H.isComboEdge?o.push(H):n.push(H)}}for(var dt=d.length,I=0;I<dt;I++){var gt=d[I];if(!gt.destroyed){var H=gt.getModel();if(!gt.isVisible()){u.push(H);continue}s.push(H)}}return{nodes:t,hiddenNodes:r,edges:n,hiddenEdges:a,combos:s,hiddenCombos:u,comboEdges:o,vedges:(e=this.graph.get("vedges"))===null||e===void 0?void 0:e.map(function(_t){return _t.getModel()})}},i.prototype.relayout=function(e){var t=this,r=this,n=r.graph,a=r.layoutMethods,o=r.layoutCfg;if(!(!n||n.get("destroyed"))){if(e){this.data=this.setDataFromGraph();var s=this.data.nodes;if(!s)return!1;this.initPositions(o.center,s)}n.emit("beforelayout");var u=Promise.resolve();a==null||a.forEach(function(l,c){var d=o[c]||o;u=u.then(function(){var T,I=t.execLayoutMethod(d,c);return c===a.length-1&&((T=o.onAllLayoutEnd)===null||T===void 0||T.call(o)),I})})}},i.prototype.filterLayoutData=function(e,t){var r=e.nodes,n=e.edges,a=(0,g.__rest)(e,["nodes","edges"]);if(!r)return e;var o,s;(0,f.isFunction)(t==null?void 0:t.nodesFilter)?o=t.nodesFilter:o=function(){return!0};var u=r.filter(o);if((0,f.isFunction)(t==null?void 0:t.edgesFilter))s=t.edgesFilter;else{var l=u.reduce(function(c,d){return c[d.id]=!0,c},{});s=function(d){return l[d.source]&&l[d.target]}}return(0,g.__assign)({nodes:u,edges:n.filter(s)},a)},i.prototype.getLayoutBBox=function(e){var t=this.graph,r=(0,f.groupBy)(t.getNodes(),function(o){return o.getModel().layoutOrder}),n=Object.values(r).map(function(o){var s=Av(o);return s.size=[s.width,s.height],s}),a=Object.values((0,f.groupBy)(e,"layoutOrder"));return{groupNodes:a,layoutNodes:n}},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var e=this.graph,t=e.get("data"),r=t.nodes;if(!(r[0].x===void 0||r[0].x===null||Xu(r[0].x))){for(var n=[0,0],a=r.length,o=0;o<a;o++){var s=r[o];n[0]+=s.x,n[1]+=s.y}n[0]/=r.length,n[1]/=r.length;for(var o=0;o<a;o++){var s=r[o];s.x-=n[0],s.y-=n[1]}}},i.prototype.initPositions=function(e,t){var r,n=this.graph;if(!t)return!1;var a=t.filter(function(gt){return Xu(gt.x)||Xu(gt.y)}),o=a?a.length:0;if(o){var s=(r=this.initWithPreset)===null||r===void 0?void 0:r.call(this);if(s)return!1;var u=n.get("width")*.85,l=n.get("height")*.85,c=Math.ceil(Math.sqrt(o)*(u/l)),d=Math.ceil(o/c),T=u/(c-1),I=l/(d-1);(!isFinite(T)||!T)&&(T=0),(!isFinite(I)||!T)&&(I=0);for(var B=e[0]-u/2,H=e[1]-l/2,tt=!0,lt=0;lt<o;lt++){var dt=a[lt];Xu(+dt.x)&&(tt=!1,dt.x=lt%c*T+B),Xu(+dt.y)&&(tt=!1,dt.y=Math.floor(lt/c)*I+H)}return tt}},i.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},i}(),sp=Tm,Am=function(){function i(e){this.graph=e,this.destroyed=!1,this.initEvents()}return i}(),up=Am,Ml=fc.registerNode,lp=fc.registerEdge,Om=fc.registerCombo,cp=G.registerBehavior,zn=Wt,DS={version:Wt.version,AbstractGraph:ep,BaseGlobal:zn,Util:ls,Shape:fc,Node:Nh,Edge:Bv,Combo:Wv,Hull:tp,registerNode:fc.registerNode,registerEdge:fc.registerEdge,registerCombo:fc.registerCombo,registerBehavior:G.registerBehavior,Arrow:ap,Marker:ip,AbstractLayout:sp,AbstractEvent:up},Im=C(810369);function Dm(){return window?window.devicePixelRatio:1}function fp(i,e,t,r){var n=i-t,a=e-r;return Math.sqrt(n*n+a*a)}function $c(i,e,t,r,n,a){return n>=i&&n<=i+t&&a>=e&&a<=e+r}function wd(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function Pm(i,e){return!i||!e?i||e:{minX:Math.min(i.minX,e.minX),minY:Math.min(i.minY,e.minY),maxX:Math.max(i.maxX,e.maxX),maxY:Math.max(i.maxY,e.maxY)}}function dp(i,e){return i[0]===e[0]&&i[1]===e[1]}var Lm=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Nm=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Rm=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,hp=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function vp(i,e){var t=i.match(hp);(0,f.each)(t,function(r){var n=r.split(":");e.addColorStop(n[0],n[1])})}function km(i,e,t){var r=Lm.exec(t),n=parseFloat(r[1])%360*(Math.PI/180),a=r[2],o=e.getBBox(),s,u;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},u={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},u={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},u={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},u={x:o.maxX,y:o.minY});var l=Math.tan(n),c=l*l,d=(u.x-s.x+l*(u.y-s.y))/(c+1)+s.x,T=l*(u.x-s.x+l*(u.y-s.y))/(c+1)+s.y,I=i.createLinearGradient(s.x,s.y,d,T);return vp(a,I),I}function Bm(i,e,t){var r=Nm.exec(t),n=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];if(o===0){var u=s.match(hp);return u[u.length-1].split(":")[1]}var l=e.getBBox(),c=l.maxX-l.minX,d=l.maxY-l.minY,T=Math.sqrt(c*c+d*d)/2,I=i.createRadialGradient(l.minX+c*n,l.minY+d*a,0,l.minX+c/2,l.minY+d/2,o*T);return vp(s,I),I}function Fm(i,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,n,a=Rm.exec(t),o=a[1],s=a[2];function u(){r=i.createPattern(n,o),e.set("pattern",r),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?u():(n.onload=u,n.src=n.src),r}function zm(i,e,t){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return t;if((0,f.isString)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return km(i,e,t);if(t[0]==="r")return Bm(i,e,t);if(t[0]==="p")return Fm(i,e,t)}return t}if(t instanceof CanvasPattern)return t}function Gm(i){var e=0,t=0,r=0,n=0;return(0,f.isArray)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,[e,t,r,n]}function $d(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Wh(i,e){return $d(i)*$d(e)?(i[0]*e[0]+i[1]*e[1])/($d(i)*$d(e)):1}function pp(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(Wh(i,e))}function gp(i,e){var t=e[1],r=e[2],n=(0,f.mod)((0,f.toRadian)(e[3]),Math.PI*2),a=e[4],o=e[5],s=i[0],u=i[1],l=e[6],c=e[7],d=Math.cos(n)*(s-l)/2+Math.sin(n)*(u-c)/2,T=-1*Math.sin(n)*(s-l)/2+Math.cos(n)*(u-c)/2,I=d*d/(t*t)+T*T/(r*r);I>1&&(t*=Math.sqrt(I),r*=Math.sqrt(I));var B=t*t*(T*T)+r*r*(d*d),H=B?Math.sqrt((t*t*(r*r)-B)/B):1;a===o&&(H*=-1),isNaN(H)&&(H=0);var tt=r?H*t*T/r:0,lt=t?H*-r*d/t:0,dt=(s+l)/2+Math.cos(n)*tt-Math.sin(n)*lt,gt=(u+c)/2+Math.sin(n)*tt+Math.cos(n)*lt,_t=[(d-tt)/t,(T-lt)/r],Ht=[(-1*d-tt)/t,(-1*T-lt)/r],oe=pp([1,0],_t),ie=pp(_t,Ht);return Wh(_t,Ht)<=-1&&(ie=Math.PI),Wh(_t,Ht)>=1&&(ie=0),o===0&&ie>0&&(ie=ie-2*Math.PI),o===1&&ie<0&&(ie=ie+2*Math.PI),{cx:dt,cy:gt,rx:dp(i,[l,c])?0:t,ry:dp(i,[l,c])?0:r,startAngle:oe,endAngle:oe+ie,xRotation:n,arcFlag:a,sweepFlag:o}}var Qd=Math.sin,qd=Math.cos,Yh=Math.atan2,Jd=Math.PI;function mp(i,e,t,r,n,a,o){var s=e.stroke,u=e.lineWidth,l=t-n,c=r-a,d=Yh(c,l),T=new $h({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*qd(Jd/6)+","+10*Qd(Jd/6)+" L0,0 L"+10*qd(Jd/6)+",-"+10*Qd(Jd/6),stroke:s,lineWidth:u}});T.translate(n,a),T.rotateAtPoint(n,a,d),i.set(o?"startArrowShape":"endArrowShape",T)}function yp(i,e,t,r,n,a,o){var s=e.startArrow,u=e.endArrow,l=e.stroke,c=e.lineWidth,d=o?s:u,T=d.d,I=d.fill,B=d.stroke,H=d.lineWidth,tt=(0,g.__rest)(d,["d","fill","stroke","lineWidth"]),lt=t-n,dt=r-a,gt=Yh(dt,lt);T&&(n=n-qd(gt)*T,a=a-Qd(gt)*T);var _t=new $h({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,g.__assign)((0,g.__assign)({},tt),{stroke:B||l,lineWidth:H||c,fill:I})});_t.translate(n,a),_t.rotateAtPoint(n,a,gt),i.set(o?"startArrowShape":"endArrowShape",_t)}function Qc(i,e,t,r,n){var a=Yh(r-e,t-i);return{dx:qd(a)*n,dy:Qd(a)*n}}function Xh(i,e,t,r,n,a){typeof e.startArrow=="object"?yp(i,e,t,r,n,a,!0):e.startArrow?mp(i,e,t,r,n,a,!0):i.set("startArrowShape",null)}function jh(i,e,t,r,n,a){typeof e.endArrow=="object"?yp(i,e,t,r,n,a,!1):e.endArrow?mp(i,e,t,r,n,a,!1):i.set("startArrowShape",null)}var bp={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function qf(i,e){var t=e.attr();for(var r in t){var n=t[r],a=bp[r]?bp[r]:r;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=zm(i,e,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function Vh(i,e,t){for(var r=0;r<e.length;r++){var n=e[r];n.cfg.visible?n.draw(i,t):n.skipDraw()}}function Um(i,e,t){var r=i.get("refreshElements");(0,f.each)(r,function(n){if(n!==i)for(var a=n.cfg.parent;a&&a!==i&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),r[0]===i?Zh(e,t):Hh(e,t)}function Hh(i,e){for(var t=0;t<i.length;t++){var r=i[t];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&Zh(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&Hh(r.cfg.children,e);else{var n=Wm(r,e);r.cfg.refresh=n,n&&r.isGroup()&&Hh(r.cfg.children,e)}}}function xp(i){for(var e=0;e<i.length;e++){var t=i[e];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&xp(t.cfg.children)}}function Zh(i,e){for(var t=0;t<i.length;t++){var r=i[t];r.cfg.refresh=!0,r.isGroup()&&Zh(r.get("children"),e)}}function Wm(i,e){var t=i.cfg.cacheCanvasBBox,r=i.cfg.isInView&&t&&wd(t,e);return r}function Ep(i,e,t,r){var n=t.path,a=t.startArrow,o=t.endArrow;if(n){var s=[0,0],u=[0,0],l={dx:0,dy:0};e.beginPath();for(var c=0;c<n.length;c++){var d=n[c],T=d[0];if(c===0&&a&&a.d){var I=i.getStartTangent();l=Qc(I[0][0],I[0][1],I[1][0],I[1][1],a.d)}else if(c===n.length-2&&n[c+1][0]==="Z"&&o&&o.d){var B=n[c+1];if(B[0]==="Z"){var I=i.getEndTangent();l=Qc(I[0][0],I[0][1],I[1][0],I[1][1],o.d)}}else if(c===n.length-1&&o&&o.d&&n[0]!=="Z"){var I=i.getEndTangent();l=Qc(I[0][0],I[0][1],I[1][0],I[1][1],o.d)}var H=l.dx,tt=l.dy;switch(T){case"M":e.moveTo(d[1]-H,d[2]-tt),u=[d[1],d[2]];break;case"L":e.lineTo(d[1]-H,d[2]-tt);break;case"Q":e.quadraticCurveTo(d[1],d[2],d[3]-H,d[4]-tt);break;case"C":e.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-H,d[6]-tt);break;case"A":{var lt=void 0;r?(lt=r[c],lt||(lt=gp(s,d),r[c]=lt)):lt=gp(s,d);var dt=lt.cx,gt=lt.cy,_t=lt.rx,Ht=lt.ry,oe=lt.startAngle,ie=lt.endAngle,Ee=lt.xRotation,Re=lt.sweepFlag;if(e.ellipse)e.ellipse(dt,gt,_t,Ht,Ee,oe,ie,1-Re);else{var Ae=_t>Ht?_t:Ht,Ve=_t>Ht?1:_t/Ht,sr=_t>Ht?Ht/_t:1;e.translate(dt,gt),e.rotate(Ee),e.scale(Ve,sr),e.arc(0,0,Ae,oe,ie,1-Re),e.scale(1/Ve,1/sr),e.rotate(-Ee),e.translate(-dt,-gt)}break}case"Z":e.closePath();break;default:break}if(T==="Z")s=u;else{var tn=d.length;s=[d[tn-2],d[tn-1]]}}}}function wp(i,e){var t=i.get("canvas");t&&(e==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(i.set("hasChanged",!0),i.cfg.parent&&i.cfg.parent.get("hasChanged")||(t.refreshElement(i,e,t),t.get("autoDraw")&&t.draw())))}function Ym(i){var e;if(i.destroyed)e=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),r=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);r&&a?e=Pm(t,n):r?e=t:a&&(e=n)}return e}function Xm(i){if(!i.length)return null;var e=[],t=[],r=[],n=[];return(0,f.each)(i,function(a){var o=Ym(a);o&&(e.push(o.minX),t.push(o.minY),r.push(o.maxX),n.push(o.maxY))}),{minX:(0,f.min)(e),minY:(0,f.min)(t),maxX:(0,f.max)(r),maxY:(0,f.max)(n)}}function jm(i,e){return!i||!e||!wd(i,e)?null:{minX:Math.max(i.minX,e.minX),minY:Math.max(i.minY,e.minY),maxX:Math.min(i.maxX,e.maxX),maxY:Math.min(i.maxY,e.maxY)}}var Vm=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){wp(this,t)},e.prototype.getShapeBase=function(){return E},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,r){r&&(t.save(),qf(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,r=[],n=[];(0,f.each)(t,function(T){var I=T.cfg.cacheCanvasBBox;I&&T.cfg.isInView&&(r.push(I.minX,I.maxX),n.push(I.minY,I.maxY))});var a=null;if(r.length){var o=(0,f.min)(r),s=(0,f.max)(r),u=(0,f.min)(n),l=(0,f.max)(n);a={minX:o,minY:u,x:o,y:u,maxX:s,maxY:l,width:s-o,height:l-u};var c=this.cfg.canvas;if(c){var d=c.getViewRange();this.set("isInView",wd(a,d))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},e.prototype.draw=function(t,r){var n=this.cfg.children,a=r?this.cfg.refresh:!0;n.length&&a&&(t.save(),qf(t,this),this._applyClip(t,this.getClip()),Vh(t,n,r),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(ks),Sp=Vm,Hm=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return E},e.prototype.getGroupBase=function(){return Sp},e.prototype.onCanvasChange=function(t){wp(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),r=this.getHitLineWidth(),n=Yo(t),a=n(this),o=r/2,s=a.x-o,u=a.y-o,l=a.x+a.width+o,c=a.y+a.height+o;return{x:s,minX:s,y:u,minY:u,width:a.width+r,height:a.height+r,maxX:l,maxY:c}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,r){r&&(t.save(),qf(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.draw=function(t,r){var n=this.cfg.clipShape;if(r){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!wd(r,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),qf(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var r=this.getCanvasBBox(),n=wd(r,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",r):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isFill()&&(!(0,f.isNil)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,f.isNil)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,r){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(oc),mu=Hm,Zm=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=s.x,l=s.y,c=s.r,d=o/2,T=fp(u,l,t,r);return a&&n?T<=c+d:a?T<=c:n?T>=c-d&&T<=c+d:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},e}(mu),Km=Zm;function th(i,e,t,r){return i/(t*t)+e/(r*r)}var $m=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=o/2,l=s.x,c=s.y,d=s.rx,T=s.ry,I=(t-l)*(t-l),B=(r-c)*(r-c);return a&&n?th(I,B,d+u,T+u)<=1:a?th(I,B,d,T)<=1:n?th(I,B,d-u,T-u)>=1&&th(I,B,d+u,T+u)<=1:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.rx,s=r.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var u=o>s?o:s,l=o>s?1:o/s,c=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(l,c),t.arc(0,0,u,0,Math.PI*2),t.restore(),t.closePath()}},e}(mu),Qm=$m;function Mp(i){return i instanceof HTMLElement&&(0,f.isString)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var qm=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var r=this,n=this.attrs;if((0,f.isString)(t)){var a=new Image;a.onload=function(){if(r.destroyed)return!1;r.attr("img",a),r.set("loading",!1),r._afterLoading();var o=r.get("callback");o&&o.call(r)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Mp(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="img"&&this._setImage(r)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,u=r.sx,l=r.sy,c=r.swidth,d=r.sheight,T=r.img;(T instanceof Image||Mp(T))&&(!(0,f.isNil)(u)&&!(0,f.isNil)(l)&&!(0,f.isNil)(c)&&!(0,f.isNil)(d)?t.drawImage(T,u,l,c,d,n,a,o,s):t.drawImage(T,n,a,o,s))},e}(mu),Jm=qm;function dc(i,e,t,r,n,a,o){var s=Math.min(i,t),u=Math.max(i,t),l=Math.min(e,r),c=Math.max(e,r),d=n/2;return a>=s-d&&a<=u+d&&o>=l-d&&o<=c+d?Oo.pointToLine(i,e,t,r,a,o)<=n/2:!1}var ty=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,u=t.endArrow;s&&Xh(this,t,a,o,r,n),u&&jh(this,t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr(),u=s.x1,l=s.y1,c=s.x2,d=s.y2;return dc(u,l,c,d,o,t,r)},e.prototype.createPath=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2,u=r.startArrow,l=r.endArrow,c={dx:0,dy:0},d={dx:0,dy:0};u&&u.d&&(c=Qc(n,a,o,s,r.startArrow.d)),l&&l.d&&(d=Qc(n,a,o,s,r.endArrow.d)),t.beginPath(),t.moveTo(n+c.dx,a+c.dy),t.lineTo(o-d.dx,s-d.dy)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Oo.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return Oo.pointAt(n,a,o,s,t)},e}(mu),ey=ty,ry={circle:function(i,e,t){return[["M",i-t,e],["A",t,t,0,1,0,i+t,e],["A",t,t,0,1,0,i-t,e]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["Z"]]},"triangle-down":function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},ny=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,u;if((0,f.isFunction)(a))s=a,u=s(r,n,o),u=Ro(u);else{if(s=e.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;u=s(r,n,o)}return u},e.prototype.createPath=function(t){var r=this._getPath(),n=this.get("paramsCache");Ep(this,t,{path:r},n)},e.Symbols=ry,e}(mu),ay=ny;function _p(i,e,t){var r=dr();return i.createPath(r),r.isPointInPath(e,t)}var iy=1e-6;function Kh(i){return Math.abs(i)<iy?0:i<0?-1:1}function oy(i,e,t){return(t[0]-i[0])*(e[1]-i[1])===(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}function Cp(i,e,t){var r=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(oy(o,s,[e,t]))return!0;Kh(o[1]-t)>0!=Kh(s[1]-t)>0&&Kh(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function Sd(i,e,t,r,n,a,o,s){var u=(Math.atan2(s-e,o-i)+Math.PI*2)%(Math.PI*2);if(u<r||u>n)return!1;var l={x:i+t*Math.cos(u),y:e+t*Math.sin(u)};return fp(l.x,l.y,o,s)<=a/2}var sy=ht;function uy(i){for(var e=!1,t=i.length,r=0;r<t;r++){var n=i[r],a=n[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function ly(i,e,t,r,n){for(var a=!1,o=e/2,s=0;s<i.length;s++){var u=i[s],l=u.currentPoint,c=u.params,d=u.prePoint,T=u.box;if(!(T&&!$c(T.x-o,T.y-o,T.width+e,T.height+e,t,r))){switch(u.command){case"L":case"Z":a=dc(d[0],d[1],l[0],l[1],e,t,r);break;case"Q":var I=Zc.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],t,r);a=I<=e/2;break;case"C":var B=we.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],t,r,n);a=B<=e/2;break;case"A":var H=u.arcParams,tt=H.cx,lt=H.cy,dt=H.rx,gt=H.ry,_t=H.startAngle,Ht=H.endAngle,oe=H.xRotation,ie=[t,r,1],Ee=dt>gt?dt:gt,Re=dt>gt?1:dt/gt,Ae=dt>gt?gt/dt:1,Ve=sy(null,[["t",-tt,-lt],["r",-oe],["s",1/Re,1/Ae]]);Ai.transformMat3(ie,ie,Ve),a=Sd(0,0,Ee,_t,Ht,e,ie[0],ie[1]);break;default:break}if(a)break}}return a}function cy(i){for(var e=i.length,t=[],r=[],n=[],a=0;a<e;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(r.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&r.push(n),{polygons:t,polylines:r}}var eh=(0,g.__assign)({hasArc:uy,extractPolygons:cy,isPointInStroke:ly},_);function Tp(i,e,t){for(var r=!1,n=0;n<i.length;n++){var a=i[n];if(r=Cp(a,e,t),r)break}return r}var fy=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="path"&&this._setPathArr(r),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Ro(t);var r=eh.hasArc(t);this.set("hasArc",r),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=wn(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),r=t.startArrow,n=t.endArrow;if(r){var a=this.getStartTangent();Xh(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();jh(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.getSegments(),u=this.get("hasArc"),l=!1;if(n){var c=this.getTotalLength();l=eh.isPointInStroke(s,o,t,r,c)}if(!l&&a)if(u)l=_p(this,t,r);else{var d=this.attr("path"),T=eh.extractPolygons(d);l=Tp(T.polygons,t,r)||Tp(T.polylines,t,r)}return l},e.prototype.createPath=function(t){var r=this.attr(),n=this.get("paramsCache");Ep(this,t,r,n)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var n,a,o=this.get("curve");if(!r||r.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(r,function(c,d){t>=c[0]&&t<=c[1]&&(n=(t-c[0])/(c[1]-c[0]),a=d)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var u=s.length,l=o[a+1];return we.pointAt(s[u-2],s[u-1],l[1],l[2],l[3],l[4],l[5],l[6],n)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",eh.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,r=0,n=[],a,o,s,u,l=this.get("curve");if(l){if((0,f.each)(l,function(c,d){s=l[d+1],u=c.length,s&&(t+=we.length(c[u-2],c[u-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(l,function(c,d){s=l[d+1],u=c.length,s&&(a=[],a[0]=r/t,o=we.length(c[u-2],c[u-1],s[1],s[2],s[3],s[4],s[5],s[6]),r+=o||0,a[1]=r/t,n.push(a))}),this.set("tCache",n)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),r;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;r=[],o?(r.push([n[0]-o[0],n[1]-o[1]]),r.push([n[0],n[1]])):(r.push([a[0],a[1]]),r.push([n[0],n[1]]))}return r},e.prototype.getEndTangent=function(){var t=this.getSegments(),r=t.length,n;if(r>1){var a=t[r-2].currentPoint,o=t[r-1].currentPoint,s=t[r-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},e}(mu),$h=fy;function Ap(i,e,t,r,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],u=i[o][1],l=i[o+1][0],c=i[o+1][1];if(dc(s,u,l,c,e,t,r))return!0}if(n){var d=i[0],T=i[a-1];if(dc(d[0],d[1],T[0],T[1],e,t,r))return!0}return!1}var dy=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr().points,u=!1;return n&&(u=Ap(s,o,t,r,!0)),!u&&a&&(u=Cp(s,t,r)),u},e.prototype.createPath=function(t){var r=this.attr(),n=r.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}(mu),hy=dy,vy=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),r=this.attrs,n=r.points,a=r.startArrow,o=r.endArrow,s=n.length,u=n[0][0],l=n[0][1],c=n[s-1][0],d=n[s-1][1];a&&Xh(this,t,n[1][0],n[1][1],u,l),o&&jh(this,t,n[s-2][0],n[s-2][1],c,d)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Ap(s,o,t,r,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var r=this.attr(),n=r.points,a=r.startArrow,o=r.endArrow,s=n.length;if(!(n.length<2)){var u=n[0][0],l=n[0][1],c=n[s-1][0],d=n[s-1][1];if(a&&a.d){var T=Qc(u,l,n[1][0],n[1][1],a.d);u+=T.dx,l+=T.dy}if(o&&o.d){var T=Qc(n[s-2][0],n[s-2][1],c,d,o.d);c-=T.dx,d-=T.dy}t.beginPath(),t.moveTo(u,l);for(var I=0;I<s-1;I++){var B=n[I];t.lineTo(B[0],B[1])}t.lineTo(c,d)}},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,f.isNil)(r)?(this.set("totalLength",Nt.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),Oo.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(u,l){t[l+1]&&(o=[],o[0]=n/r,s=Oo.length(u[0],u[1],t[l+1][0],t[l+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(mu),py=vy;function gy(i,e,t,r,n,a,o){var s=n/2;return $c(i-s,e-s,t,n,a,o)||$c(i+t-s,e-s,n,r,a,o)||$c(i+s,e+r-s,t,n,a,o)||$c(i-s,e+s,n,r,a,o)}function my(i,e,t,r,n,a,o,s){var u=a/2;return dc(i+n,e,i+t-n,e,a,o,s)||dc(i+t,e+n,i+t,e+r-n,a,o,s)||dc(i+t-n,e+r,i+n,e+r,a,o,s)||dc(i,e+r-n,i,e+n,a,o,s)||Sd(i+t-n,e+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||Sd(i+t-n,e+r-n,n,0,.5*Math.PI,a,o,s)||Sd(i+n,e+r-n,n,.5*Math.PI,Math.PI,a,o,s)||Sd(i+n,e+n,n,Math.PI,1.5*Math.PI,a,o,s)}var yy=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=s.x,l=s.y,c=s.width,d=s.height,T=s.radius;if(T){var B=!1;return n&&(B=my(u,l,c,d,T,o,t,r)),!B&&a&&(B=_p(this,t,r)),B}else{var I=o/2;if(a&&n)return $c(u-I,l-I,c+I,d+I,t,r);if(a)return $c(u,l,c,d,t,r);if(n)return gy(u,l,c,d,o,t,r)}},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,u=r.radius;if(t.beginPath(),u===0)t.rect(n,a,o,s);else{var l=Gm(u),c=l[0],d=l[1],T=l[2],I=l[3];t.moveTo(n+c,a),t.lineTo(n+o-d,a),d!==0&&t.arc(n+o-d,a+d,d,-Math.PI/2,0),t.lineTo(n+o,a+s-T),T!==0&&t.arc(n+o-T,a+s-T,T,0,Math.PI/2),t.lineTo(n+I,a+s),I!==0&&t.arc(n+I,a+s-I,I,Math.PI/2,Math.PI),t.lineTo(n,a+c),c!==0&&t.arc(n+c,a+c,c,Math.PI,Math.PI*1.5),t.closePath()}},e}(mu),by=yy,xy=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Ln(t)},e.prototype._setText=function(t){var r=null;(0,f.isString)(t)&&t.indexOf(`
`)!==-1&&(r=t.split(`
`)),this.set("textArr",r)},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(r)},e.prototype._getSpaceingY=function(){var t=this.attrs,r=t.lineHeight,n=t.fontSize*1;return r?r-n:n*.14},e.prototype._drawTextArr=function(t,r,n){var a=this.attrs,o=a.textBaseline,s=a.x,u=a.y,l=a.fontSize*1,c=this._getSpaceingY(),d=pr(a.text,a.fontSize,a.lineHeight),T;(0,f.each)(r,function(I,B){T=u+B*(c+l)-d+l,o==="middle"&&(T+=d-l-(d-l)/2),o==="top"&&(T+=d-l),(0,f.isNil)(I)||(n?t.fillText(I,s,T):t.strokeText(I,s,T))})},e.prototype._drawText=function(t,r){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,r);else{var u=n.text;(0,f.isNil)(u)||(r?t.fillText(u,a,o):t.strokeText(u,a,o))}},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isStroke()&&n>0&&(!(0,f.isNil)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,f.isNil)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(mu),Ey=xy;function wy(i,e){if(e){var t=po(e);return Ws(t,i)}return i}function Op(i,e,t){var r=i.getTotalMatrix();if(r){var n=wy([e,t,1],r),a=n[0],o=n[1];return[a,o]}return[e,t]}function Ip(i,e,t){if(i.isCanvas&&i.isCanvas())return!0;if(!Ec(i)||i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var r=Op(i,e,t),n=r[0],a=r[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox||i.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function Dp(i,e,t){if(!Ip(i,e,t))return null;for(var r=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())r=Dp(s,e,t);else if(Ip(s,e,t)){var u=s,l=Op(s,e,t),c=l[0],d=l[1];u.isInShape(c,d)&&(r=s)}if(r)break}return r}var Sy=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return E},e.prototype.getGroupBase=function(){return Sp},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Dm();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),r=t.getContext("2d");return this.set("context",r),t},e.prototype.setDOMSize=function(t,r){i.prototype.setDOMSize.call(this,t,r);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*r,o>1&&n.scale(o,o)},e.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),r=this.get("el");t.clearRect(0,0,r.width,r.height)},e.prototype.getShape=function(t,r){var n;return this.get("quickHit")?n=Dp(this,t,r):n=i.prototype.getShape.call(this,t,r,null),n},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),r=this.getViewRange(),n;if(t.length&&t[0]===this)n=r;else if(n=Xm(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY),n.maxY+=1;var a=this.get("clipView");a&&(n=jm(n,r))}return n},e.prototype.refreshElement=function(t){var r=this.get("refreshElements");r.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,f.clearAnimationFrame)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),r=this.get("el"),n=this.getChildren();t.clearRect(0,0,r.width,r.height),qf(t,this),Vh(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),r=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),qf(t,this),Um(this,n,a),Vh(t,n,a),t.restore()):r.length&&xp(r),(0,f.each)(r,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,r=this.get("drawFrame");r||(r=(0,f.requestAnimationFrame)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",r))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(Vc),_l=Sy,PS="0.5.12",Qh={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},li={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},LS=null;function $s(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Pp(i){var e=Qh[i.type],t=i.getParent();if(!e)throw new Error("the type "+i.type+" is not supported by svg");var r=$s(e);if(i.get("id")&&(r.id=i.get("id")),i.set("el",r),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(r)}return r}function Lp(i,e){var t=i.get("el"),r=(0,f.toArray)(t.children).sort(e),n=document.createDocumentFragment();r.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function My(i,e){var t=i.parentNode,r=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=r[e],a=r.indexOf(i);if(n){if(a>e)t.insertBefore(i,n);else if(a<e){var o=r[e+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function _y(i,e){var t=i.cfg.el,r=i.attr(),n={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=e.find("filter",n);a||(a=e.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function Md(i){var e=i.attr().matrix;if(e){for(var t=i.cfg.el,r=[],n=0;n<9;n+=3)r.push(e[n]+","+e[n+1]);r=r.join(","),r.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function _d(i,e){var t=i.getClip(),r=i.get("el");if(!t)r.removeAttribute("clip-path");else if(t&&!r.hasAttribute("clip-path")){Pp(t),t.createPath(e);var n=e.addClip(t);r.setAttribute("clip-path","url(#"+n+")")}}function Np(i,e){e.forEach(function(t){t.draw(i)})}function Rp(i,e){var t=i.get("canvas");if(t&&t.get("autoDraw")){var r=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(e==="remove"){var s=i.get("isClipShape");if(s){var u=o&&o.parentNode,l=u&&u.parentNode;u&&l&&l.removeChild(u)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")My(o,a.indexOf(i));else if(e==="sort"){var c=i.get("children");c&&c.length&&Lp(i,function(d,T){return c.indexOf(d)-c.indexOf(T)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?Md(i):e==="clip"?_d(i,r):e==="attr"||e==="add"&&i.draw(r)}}var Cy=function(i){(0,g.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=$s("g");this.set("el",t);var r=this.getParent();if(r){var n=r.get("el");n||(n=r.createDom(),r.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.createPath(n,t)}},e.prototype.onCanvasChange=function(t){Rp(this,t)},e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var r=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),_d(this,t),this.createPath(t),r.length&&Np(t,r))},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){li[s]&&a.setAttribute(li[s],o)}),Md(this)},e}(ks),kp=Cy,Ty=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.draw(n,t)}},e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return kp},e.prototype.onCanvasChange=function(t){Rp(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),r=null;if(t)r=t.getBBox();else{var n=Yo(this.get("type"));n&&(r=n(this))}if(r){var a=r.x,o=r.y,s=r.width,u=r.height,l=this.getHitLineWidth(),c=l/2,d=a-c,T=o-c,I=a+s+c,B=o+u+c;return{x:d,y:T,minX:d,minY:T,maxX:I,maxY:B,width:s+l,height:u+l}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),r=t.fill,n=t.fillStyle;return(r||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),r=t.stroke,n=t.strokeStyle;return(r||n)&&this.canStroke},e.prototype.draw=function(t,r){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Pp(this),_d(this,t),this.createPath(t,r),this.shadow(t,r),this.strokeAndFill(t,r),this.transform(r))},e.prototype.createPath=function(t,r){},e.prototype.strokeAndFill=function(t,r){var n=r||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,u=n.strokeStyle,l=n.fillOpacity,c=n.strokeOpacity,d=n.lineWidth,T=this.get("el");this.canFill&&(r?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),l&&T.setAttribute(li.fillOpacity,l)),this.canStroke&&d>0&&(r?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",u):this._setColor(t,"stroke",s||u),c&&T.setAttribute(li.strokeOpacity,c),d&&T.setAttribute(li.lineWidth,d))},e.prototype._setColor=function(t,r,n){var a=this.get("el");if(!n){a.setAttribute(li[r],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(li[r],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(li[r],"url(#"+o+")")}else a.setAttribute(li[r],n)},e.prototype.shadow=function(t,r){var n=this.attr(),a=r||n,o=a.shadowOffsetX,s=a.shadowOffsetY,u=a.shadowBlur,l=a.shadowColor;(o||s||u||l)&&_y(this,t)},e.prototype.transform=function(t){var r=this.attr(),n=(t||r).matrix;n&&Md(this)},e.prototype.isInShape=function(t,r){return this.isPointInPath(t,r)},e.prototype.isPointInPath=function(t,r){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,u=r+o.top,l=document.elementFromPoint(s,u);return!!(l&&l.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,r=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?r+n:0},e}(oc),Qs=Ty,Ay=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):li[s]&&a.setAttribute(li[s],o)})},e}(Qs),Oy=Ay,Iy=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");if((0,f.each)(r||n,function(l,c){li[c]&&a.setAttribute(li[c],l)}),typeof n.html=="function"){var o=n.html.call(this,n);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,u=s.length-1;u>=0;u--)a.removeChild(s[u]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=n.html},e}(Qs),Dy=Iy,Py=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):li[s]&&a.setAttribute(li[s],o)})},e}(Qs),Ly=Py,Ny=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(r||a,function(s,u){u==="img"?n._setImage(a.img):li[u]&&o.setAttribute(li[u],s)})},e.prototype.setAttr=function(t,r){this.attrs[t]=r,t==="img"&&this._setImage(r)},e.prototype._setImage=function(t){var r=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)r.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),r.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},e}(Qs),Ry=Ny,ky=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var u=(0,f.isObject)(o)?t.addArrow(n,li[s]):t.getDefaultArrow(n,li[s]);a.setAttribute(li[s],"url(#"+u+")")}else a.removeAttribute(li[s]);else li[s]&&a.setAttribute(li[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Oo.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return Oo.pointAt(n,a,o,s,t)},e}(Qs),By=ky,rh={circle:function(i,e,t){return[["M",i,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["z"]]},triangleDown:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},Bp={get:function(i){return rh[i]},register:function(i,e){rh[i]=e},remove:function(i){delete rh[i]},getAll:function(){return rh}},Fy=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var r=this.get("el");r.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(r){return r.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=Bp.get(o),s?s(r,n,a):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=Bp,e}(Qs),zy=Fy,Gy=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(r||a,function(s,u){if(u==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(u==="startArrow"||u==="endArrow")if(s){var l=(0,f.isObject)(s)?t.addArrow(a,li[u]):t.getDefaultArrow(a,li[u]);o.setAttribute(li[u],"url(#"+l+")")}else o.removeAttribute(li[u]);else li[u]&&o.setAttribute(li[u],s)})},e.prototype._formatPath=function(t){var r=t.map(function(n){return n.join(" ")}).join("");return~r.indexOf("NaN")?"":r},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var r=this.get("el"),n=this.getTotalLength();if(n===0)return null;var a=r?r.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},e}(Qs),Uy=Gy,Wy=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):li[s]&&a.setAttribute(li[s],o)})},e}(Qs),Yy=Wy,Xy=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):li[s]&&a.setAttribute(li[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,f.isNil)(r)?(this.set("totalLength",Nt.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),Oo.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(u,l){t[l+1]&&(o=[],o[0]=n/r,s=Oo.length(u[0],u[1],t[l+1][0],t[l+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(Qs),jy=Xy,Vy=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Hy=/[^\s,]+/gi;function Zy(i){var e=0,t=0,r=0,n=0;return(0,f.isArray)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,{r1:e,r2:t,r3:r,r4:n}}function NS(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(Vy),each(i,function(e,t){if(e=e.match(Hy),e[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}each(e,function(n,a){isNaN(n)||(e[a]=+n)}),i[t]=e}),i}var Ky=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];(0,f.each)(r||a,function(l,c){u.indexOf(c)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):u.indexOf(c)===-1&&li[c]&&o.setAttribute(li[c],l)})},e.prototype._assembleRect=function(t){var r=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+r+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var u=Zy(s);(0,f.isArray)(s)?s.length===1?u.r1=u.r2=u.r3=u.r4=s[0]:s.length===2?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):s.length===3?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s;var l=[["M "+(r+u.r1)+","+n],["l "+(a-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-a)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]];return l.join(" ")},e}(Qs),$y=Ky,Fp=.3,Qy={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},qy={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Jy={left:"left",start:"left",center:"middle",right:"end",end:"end"},t1=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,g.__assign)((0,g.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(r||a,function(s,u){u==="text"?n._setText(""+s):u==="matrix"&&s?Md(n):li[u]&&o.setAttribute(li[u],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),r=this.attr(),n=r.textBaseline,a=r.textAlign,o=ou();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",qy[n]||"alphabetic"):t.setAttribute("alignment-baseline",Qy[n]||"baseline"),t.setAttribute("text-anchor",Jy[a]||"left")},e.prototype._setText=function(t){var r=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)r.innerHTML="";else if(~t.indexOf(`
`)){var u=t.split(`
`),l=u.length-1,c="";(0,f.each)(u,function(d,T){T===0?s==="alphabetic"?c+='<tspan x="'+a+'" dy="'+-l+'em">'+d+"</tspan>":s==="top"?c+='<tspan x="'+a+'" dy="0.9em">'+d+"</tspan>":s==="middle"?c+='<tspan x="'+a+'" dy="'+-(l-1)/2+'em">'+d+"</tspan>":s==="bottom"?c+='<tspan x="'+a+'" dy="-'+(l+Fp)+'em">'+d+"</tspan>":s==="hanging"&&(c+='<tspan x="'+a+'" dy="'+(-(l-1)-Fp)+'em">'+d+"</tspan>"):c+='<tspan x="'+a+'" dy="1em">'+d+"</tspan>"}),r.innerHTML=c}else r.innerHTML=t},e}(Qs),e1=t1,r1=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,n1=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a1=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function zp(i){var e=i.match(a1);if(!e)return"";var t="";return e.sort(function(r,n){return r=r.split(":"),n=n.split(":"),Number(r[0])-Number(n[0])}),(0,f.each)(e,function(r){r=r.split(":"),t+='<stop offset="'+r[0]+'" stop-color="'+r[1]+'"></stop>'}),t}function i1(i,e){var t=r1.exec(i),r=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;r>=0&&r<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=r&&r<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=r&&r<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(r),u=s*s,l=(o.x-a.x+s*(o.y-a.y))/(u+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(u+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",l),e.setAttribute("y2",c),e.innerHTML=zp(n)}function o1(i,e){var t=n1.exec(i),r=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];e.setAttribute("cx",r),e.setAttribute("cy",n),e.setAttribute("r",a),e.innerHTML=zp(o)}var s1=function(){function i(e){this.cfg={};var t=null,r=(0,f.uniqueId)("gradient_");return e.toLowerCase()[0]==="l"?(t=$s("linearGradient"),i1(e,t)):(t=$s("radialGradient"),o1(e,t)),t.setAttribute("id",r),this.el=t,this.id=r,this.cfg=e,this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),u1=s1,l1={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},c1={x:"-40%",y:"-40%",width:"200%",height:"200%"},f1=function(){function i(e){this.type="filter",this.cfg={},this.type="filter";var t=$s("filter");return(0,f.each)(c1,function(r,n){t.setAttribute(n,r)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return i.prototype.match=function(e,t){if(this.type!==e)return!1;var r=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return r=!1,!1}),r},i.prototype.update=function(e,t){var r=this.cfg;return r[l1[e]]=t,this._parseShadow(r,this.el),this},i.prototype._parseShadow=function(e,t){var r=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=r},i}(),d1=f1,h1=function(){function i(e,t){this.cfg={};var r=$s("marker"),n=(0,f.uniqueId)("marker_");r.setAttribute("id",n);var a=$s("path");a.setAttribute("stroke",e.stroke||"none"),a.setAttribute("fill",e.fill||"none"),r.appendChild(a),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=a,this.id=n;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(e.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(e,t){var r=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),r.setAttribute("refX",""+10*Math.cos(Math.PI/6)),r.setAttribute("refY",""+5)},i.prototype._setMarker=function(e,t){var r=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),r.appendChild(t),a&&r.setAttribute("refX",""+a/e)},i.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},i}(),Gp=h1,v1=function(){function i(e){this.type="clip",this.cfg={};var t=$s("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var r=e.cfg.el;return t.appendChild(r),this.cfg=e,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},i}(),p1=v1,g1=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,m1=function(){function i(e){this.cfg={};var t=$s("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var r=$s("image");t.appendChild(r);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=e;var a=g1.exec(e),o=a[2];r.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function u(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?u():(s.onload=u,s.src=s.src),this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),y1=m1,b1=function(){function i(e){var t=$s("defs"),r=(0,f.uniqueId)("defs_");t.id=r,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return i.prototype.find=function(e,t){for(var r=this.children,n=null,a=0;a<r.length;a++)if(r[a].match(e,t)){n=r[a].id;break}return n},i.prototype.findById=function(e){for(var t=this.children,r=null,n=0;n<t.length;n++)if(t[n].id===e){r=t[n];break}return r},i.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},i.prototype.getDefaultArrow=function(e,t){var r=e.stroke||e.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var n=new Gp(e,t);return this.defaultArrow[r]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(e){var t=new u1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(e,t){var r=new Gp(e,t);return this.el.appendChild(r.el),this.add(r),r.id},i.prototype.addShadow=function(e){var t=new d1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(e){var t=new y1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(e){var t=new p1(e);return this.el.appendChild(t.el),this.add(t),t.id},i}(),x1=b1,E1=function(i){(0,g.__extends)(e,i);function e(t){return i.call(this,(0,g.__assign)((0,g.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return kp},e.prototype.getShape=function(t,r,n){var a=n.target||n.srcElement;if(!Qh[a.tagName]){for(var o=a.parentNode;o&&!Qh[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},e.prototype.createDom=function(){var t=$s("svg"),r=new x1(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",r),t},e.prototype.onCanvasChange=function(t){var r=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Lp(this,function(s,u){return a.indexOf(s)-a.indexOf(u)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=r.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?Md(this):t==="clip"?_d(this,r):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),r=this.getChildren();_d(this,t),r.length&&Np(t,r)},e}(Vc),Cd=E1,RS="0.5.6",w1=C(6767),Td=C.n(w1),nh=C(697234),ah=2,Up=.16,S1=.05,M1=.05,_1=.15,Wp=5,Yp=4,C1=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Xp(i,e,t){var r;return Math.round(i.h)>=60&&Math.round(i.h)<=240?r=t?Math.round(i.h)-ah*e:Math.round(i.h)+ah*e:r=t?Math.round(i.h)+ah*e:Math.round(i.h)-ah*e,r<0?r+=360:r>=360&&(r-=360),r}function jp(i,e,t){if(i.h===0&&i.s===0)return i.s;var r;return t?r=i.s-Up*e:e===Yp?r=i.s+Up:r=i.s+S1*e,r>1&&(r=1),t&&e===Wp&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function Vp(i,e,t){var r;return t?r=i.v+M1*e:r=i.v-_1*e,r>1&&(r=1),Number(r.toFixed(2))}function ih(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=(0,nh.Z)(i),n=Wp;n>0;n-=1){var a=r.toHsv(),o=(0,nh.Z)({h:Xp(a,n,!0),s:jp(a,n,!0),v:Vp(a,n,!0)}).toHexString();t.push(o)}t.push(r.toHexString());for(var s=1;s<=Yp;s+=1){var u=r.toHsv(),l=(0,nh.Z)({h:Xp(u,s),s:jp(u,s),v:Vp(u,s)}).toHexString();t.push(l)}return e.theme==="dark"?C1.map(function(c){var d=c.index,T=c.opacity,I=nh.Z.mix(e.backgroundColor||"#141414",t[d],T*100).toHexString();return I}):t}var qh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},cs={},Jh={};Object.keys(qh).forEach(function(i){cs[i]=ih(qh[i]),cs[i].primary=cs[i][5],Jh[i]=ih(qh[i],{theme:"dark",backgroundColor:"#141414"}),Jh[i].primary=Jh[i][5]});var kS=cs.red,BS=cs.volcano,FS=cs.gold,zS=cs.orange,GS=cs.yellow,US=cs.lime,WS=cs.green,YS=cs.cyan,XS=cs.blue,jS=cs.geekblue,VS=cs.purple,HS=cs.magenta,ZS=cs.grey,$o=function(e,t,r){var n=Td()(e),a=Td()(t);return Td()([(1-r)*n.red()+r*a.red(),(1-r)*n.green()+r*a.green(),(1-r)*n.blue()+r*a.blue()]).rgb()},T1=function(e,t,r){t===void 0&&(t="#fff"),r===void 0&&(r="rgb(150, 150, 150)");var n=$o(t,e,.05).rgb().toString(),a=$o(t,e,.1).rgb().toString(),o=$o(t,e,.2).rgb().toString(),s=$o(t,e,.4).rgb().toString(),u=$o(t,r,.02).rgb().toString(),l=$o(t,r,.05).rgb().toString(),c=$o(t,r,.1).rgb().toString(),d=$o(t,r,.2).rgb().toString(),T=$o(t,r,.3).rgb().toString(),I=ih(e,{theme:"default",backgroundColor:t}),B=Td()(e).hex().toLowerCase(),H=I.indexOf(B),tt=e;return H!==-1&&(tt=I[H+1]),{mainStroke:e,mainFill:a,activeStroke:e,activeFill:n,inactiveStroke:s,inactiveFill:n,selectedStroke:e,selectedFill:t,highlightStroke:tt,highlightFill:o,disableStroke:T,disableFill:l,edgeMainStroke:T,edgeActiveStroke:e,edgeInactiveStroke:d,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:T,comboMainFill:u,comboActiveStroke:e,comboActiveFill:n,comboInactiveStroke:T,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:u,comboHighlightStroke:tt,comboHighlightFill:u,comboDisableStroke:d,comboDisableFill:l}},A1=function(e,t,r){t===void 0&&(t="#fff"),r===void 0&&(r="#777");var n=$o(t,e,.2).rgb().toString(),a=$o(t,e,.3).rgb().toString(),o=$o(t,e,.6).rgb().toString(),s=$o(t,e,.8).rgb().toString(),u=$o(t,r,.2).rgb().toString(),l=$o(t,r,.25).rgb().toString(),c=$o(t,r,.3).rgb().toString(),d=$o(t,r,.4).rgb().toString(),T=$o(t,r,.5).rgb().toString(),I=ih(e,{theme:"dark",backgroundColor:t}),B=Td()(e).hex().toLowerCase(),H=I.indexOf(B),tt=e;return H!==-1&&(tt=I[H+1]),{mainStroke:s,mainFill:n,activeStroke:e,activeFill:a,inactiveStroke:s,inactiveFill:n,selectedStroke:e,selectedFill:n,highlightStroke:e,highlightFill:o,disableStroke:T,disableFill:l,edgeMainStroke:r,edgeActiveStroke:e,edgeInactiveStroke:r,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:d,comboMainFill:l,comboActiveStroke:e,comboActiveFill:u,comboInactiveStroke:d,comboInactiveFill:l,comboSelectedStroke:e,comboSelectedFill:u,comboHighlightStroke:tt,comboHighlightFill:l,comboDisableStroke:d,comboDisableFill:u}},tv=function(e,t,r,n){return t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)"),r==="default"?T1(e,t,"rgb(150, 150, 150)"):A1(e,t,"#777")},O1=function(e,t,r,n){t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=[];return e.forEach(function(o){a.push(tv(o,t,r,n))}),a},I1="rgb(95, 149, 255)",D1="rgb(255, 255, 255)",Hp="rgb(0, 0, 0)",ai=tv(I1,D1),qc={version:"0.8.7",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:ai.mainStroke,fill:ai.mainFill},size:20,color:ai.mainStroke,linkPoints:{size:8,lineWidth:1,fill:ai.activeFill,stroke:ai.activeStroke}},nodeStateStyles:{active:{fill:ai.activeFill,stroke:ai.activeStroke,lineWidth:2,shadowColor:ai.mainStroke,shadowBlur:10},selected:{fill:ai.selectedFill,stroke:ai.selectedStroke,lineWidth:4,shadowColor:ai.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:ai.highlightFill,stroke:ai.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:ai.inactiveFill,stroke:ai.inactiveStroke,lineWidth:1},disable:{fill:ai.disableFill,stroke:ai.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Hp,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ai.edgeMainStroke,lineAppendWidth:2},color:ai.edgeMainStroke},edgeStateStyles:{active:{stroke:ai.edgeActiveStroke,lineWidth:1},selected:{stroke:ai.edgeSelectedStroke,lineWidth:2,shadowColor:ai.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ai.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ai.edgeInactiveStroke,lineWidth:1},disable:{stroke:ai.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Hp,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ai.comboMainFill,lineWidth:1,stroke:ai.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:ai.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:ai.comboActiveStroke,lineWidth:1,fill:ai.comboActiveFill},selected:{stroke:ai.comboSelectedStroke,lineWidth:2,fill:ai.comboSelectedFill,shadowColor:ai.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ai.comboHighlightStroke,lineWidth:2,fill:ai.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:ai.comboInactiveStroke,fill:ai.comboInactiveFill,lineWidth:1},disable:{stroke:ai.comboDisableStroke,fill:ai.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function oh(i,e,t){if(i){if(typeof i.addEventListener=="function")return i.addEventListener(e,t,!1),{remove:function(){i.removeEventListener(e,t,!1)}};if(typeof i.attachEvent=="function")return i.attachEvent("on"+e,t),{remove:function(){i.detachEvent("on"+e,t)}}}}var P1=ls.cloneEvent,L1=ls.isViewportChanged,N1=function(i){(0,g.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.extendEvents=[],r.dragging=!1,r.mousedown=!1,r.preItem=null,r.destroy(),r.graph=t,r.destroyed=!1,r.initEvents(),r}return e.prototype.initEvents=function(){var t=this,r=t.graph,n=t.extendEvents,a=n===void 0?[]:n,o=r.get("canvas"),s=o.get("el"),u=(0,f.wrapBehavior)(this,"onCanvasEvents"),l=(0,f.wrapBehavior)(this,"onExtendEvents"),c=(0,f.wrapBehavior)(this,"onWheelEvent");o.off("*").on("*",u),this.canvasHandler=u,a.push(oh(s,"wheel",c)),typeof window!="undefined"&&(a.push(oh(window,"keydown",l)),a.push(oh(window,"keyup",l)),a.push(oh(window,"focus",l))),this.resetHandler&&r.off("afterchangedata",this.resetHandler),this.resetHandler=(0,f.wrapBehavior)(this,"resetStatus"),r.on("afterchangedata",this.resetHandler)},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var r=this,n=this.graph,a=n.get("canvas"),o=t.target,s=t.type;switch(s){case"drag":this.onCanvasEvents(Object.assign({},t,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},t,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"dragend":case"mouseup":setTimeout(function(){return r.mousedown=!1});break;case"click":if(!this.mousedown)return;break;default:break}t.canvasX=t.x,t.canvasY=t.y;var u={x:t.canvasX,y:t.canvasY},l=n.get("group"),c=l.getMatrix();if(c||(c=[1,0,0,0,1,0,0,0,1]),L1(c)&&(u=n.getPointByClient(t.clientX,t.clientY)),t.x=u.x,t.y=u.y,t.currentTarget=n,o===a){(s==="mousemove"||s==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=a,t.item=null,n.emit(s,t),n.emit("canvas:".concat(s),t);return}var d=e.getItemRoot(o);if(!d){n.emit(s,t);return}var T=d.get("item");if(!T.destroyed){var I=T.getType();if(t.target=o,t.item=T,t.canvasX===t.x&&t.canvasY===t.y){var B=n.getCanvasByPoint(t.x,t.y);t.canvasX=B.x,t.canvasY=B.y}t.name&&!t.name.includes(":")?(n.emit("".concat(I,":").concat(s),t),n.emit(s,t)):t.name&&n.emit(t.name,t),s==="dragstart"&&(this.dragging=!0),s==="dragend"&&(this.dragging=!1),s==="mousemove"&&this.handleMouseMove(t,I)}},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){(0,f.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,r){var n=this,a=n.graph,o=n.preItem,s=a.get("canvas"),u=t.target===s?null:t.item;t=P1(t),o&&o!==u&&!o.destroyed&&(t.item=o,this.emitCustomEvent(o.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(o.getType(),"dragleave",t)),u&&o!==u&&(t.item=u,this.emitCustomEvent(r,"mouseenter",t),this.dragging&&this.emitCustomEvent(r,"dragenter",t)),this.preItem=u},e.prototype.emitCustomEvent=function(t,r,n){n.type=r,this.graph.emit("".concat(t,":").concat(r),n)},e.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},e.prototype.destroy=function(){var t=this,r=t.graph,n=t.canvasHandler,a=t.extendEvents,o=r.get("canvas");o.off("*",n),(0,f.each)(a,function(s){s.remove()}),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},e}(up),R1=N1,Ja=C(483360),k1=C(981746),sh=C.n(k1),Zp=ls.traverseTree,B1=function(e,t){var r;return e?(0,f.isNumber)(e)?r=function(a){return e}:r=e:r=function(a){return t||1},r},F1=function(e,t){var r=[],n=[],a={},o=0;for(o=0;o<e.length;o++){var s=e[o];a[s.id]=o,r.push(s.x),r.push(s.y),r.push(0),r.push(0),n.push([])}for(o=0;o<t.length;o++){var u=t[o];n[a[u.source]].push(a[u.target]),n[a[u.target]].push(a[u.source])}var l=0;for(o=0;o<e.length;o++){var c=r.length,d=n[o],T=d.length;r[o*4+2]=c,r[o*4+3]=d.length,l=Math.max(l,d.length);for(var I=0;I<T;++I){var B=d[I];r.push(+B)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:l}},z1=function(e,t,r){var n=[],a=[],o={},s=0;for(s=0;s<e.length;s++){var u=e[s];o[u.id]=s,n.push(u.x),n.push(u.y),n.push(0),n.push(0),a.push([])}for(s=0;s<t.length;s++){var l=t[s];a[o[l.source]].push(o[l.target]),a[o[l.source]].push(r(l)),a[o[l.target]].push(o[l.source]),a[o[l.target]].push(r(l))}var c=0;for(s=0;s<e.length;s++){var d=n.length,T=a[s],I=T.length;n[s*4+2]=d,n[s*4+3]=I/2,c=Math.max(c,I/2);for(var B=0;B<I;++B){var H=T[B];n.push(+H)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:c}},G1=function(e,t,r,n){var a=[],o=[],s={},u=0;for(u=0;u<e.length;u++){var l=e[u];s[l.id]=u,a.push(l.x),a.push(l.y),a.push(0),a.push(0),o.push([])}for(u=0;u<t.length;u++){var c=t[u];o[s[c.source]].push(s[c.target]),o[s[c.source]].push(r(c)),o[s[c.source]].push(n(c)),o[s[c.source]].push(0),o[s[c.target]].push(s[c.source]),o[s[c.target]].push(r(c)),o[s[c.target]].push(n(c)),o[s[c.target]].push(0)}var d=0;for(u=0;u<e.length;u++){var T=a.length,I=o[u],B=I.length;a[u*4+2]=T+1048576*B/4,a[u*4+3]=0,d=Math.max(d,B/4);for(var H=0;H<B;++H){var tt=I[H];a.push(+tt)}}for(;a.length%4!==0;)a.push(0);return{array:new Float32Array(a),maxEdgePerVetex:d}},U1=function(e,t){var r=[],n=e.length,a={};return t.forEach(function(o){e.forEach(function(s,u){if(a[o[s]]===void 0&&(a[o[s]]=Object.keys(a).length),r.push(a[o[s]]),u===n-1)for(;r.length%4!==0;)r.push(0)})}),{array:new Float32Array(r),count:Object.keys(a).length}},W1=function(e){for(var t=[],r=e.length,n=e[0].length,a=function(u){e.forEach(function(l,c){if(t.push(l[u]),c===r-1)for(;t.length%4!==0;)t.push(0)})},o=0;o<n;o++)a(o);return new Float32Array(t)},Y1=function(e,t){var r=["V","TB","BT"],n={x:1/0,y:1/0},a={x:-1/0,y:-1/0},o="x",s="y";t&&r.indexOf(t)>=0&&(s="x",o="y");var u=0;Zp(e,function(d){return u++,d.x>a.x&&(a.x=d.x),d.x<n.x&&(n.x=d.x),d.y>a.y&&(a.y=d.y),d.y<n.y&&(n.y=d.y),!0});var l=Math.PI*2/u,c=a[s]-n[s];return c===0||Zp(e,function(d){var T=(d[s]-n[s])/c*(Math.PI*2-l)+l,I=Math.abs(o==="x"?d.x-e.x:d.y-e.y);return d.x=I*Math.cos(T),d.y=I*Math.sin(T),!0}),e},Kp=function i(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var r=t.parent!==void 0?t.parent:document.body,n=t.id!==void 0?t.id:"oldie",a=i().getWebGLErrorMessage();a.id=n,r.appendChild(a)}}},X1=(0,g.__assign)((0,g.__assign)((0,g.__assign)((0,g.__assign)({},ls),A),x),D),Cl=X1,j1=Cl.radialLayout,V1=function(){function i(e){this.type=e.type,this.radial=e.radial,this.config=e}return i.prototype.init=function(e){var t=this;if(this.data=e,this.radial){this.layoutMethod=function(r){var n=sh()[t.type](r,t.config);return j1(n),n};return}this.layoutMethod=function(r){return sh()[t.type](r,t.config)}},i.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},i.prototype.layout=function(e){return this.init(e),this.execute()},i}(),H1=V1;(0,Ja.registerLayout)("grid",Ja.GridLayout),(0,Ja.registerLayout)("random",Ja.RandomLayout),(0,Ja.registerLayout)("force",Ja.ForceLayout),(0,Ja.registerLayout)("circular",Ja.CircularLayout),(0,Ja.registerLayout)("dagre",Ja.DagreLayout),(0,Ja.registerLayout)("dagreCompound",Ja.DagreCompoundLayout),(0,Ja.registerLayout)("radial",Ja.RadialLayout),(0,Ja.registerLayout)("concentric",Ja.ConcentricLayout),(0,Ja.registerLayout)("mds",Ja.MDSLayout),(0,Ja.registerLayout)("fruchterman",Ja.FruchtermanLayout),(0,Ja.registerLayout)("fruchterman-gpu",Ja.FruchtermanGPULayout),(0,Ja.registerLayout)("gForce",Ja.GForceLayout),(0,Ja.registerLayout)("force2",Ja.Force2Layout),(0,Ja.registerLayout)("gForce-gpu",Ja.GForceGPULayout),(0,Ja.registerLayout)("comboForce",Ja.ComboForceLayout),(0,Ja.registerLayout)("comboCombined",Ja.ComboCombinedLayout),(0,Ja.registerLayout)("forceAtlas2",Ja.ForceAtlas2Layout);var Z1=function(e,t){t.isCustomLayout=!0,Ja.Layouts[e]=(0,Ja.registerLayout)(e,t)},K1=function(){function i(e,t){var r=e.toString(),n=new Blob(["importScripts('".concat(t,"');(").concat(r,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(n))}return i}(),$1=K1,Q1=function(e){e===void 0&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var n={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function a(s){var u=s.data.type;return u===n.RUN||u===n.GPURUN}function o(s){var u=this,l=s.data.type;switch(l){case n.RUN:{var c=s.data,d=c.nodes,T=c.edges,I=c.layoutCfg,B=I===void 0?{}:I,H=B.type,tt=layout.getLayoutByName(H);if(!tt){this.postMessage({type:n.ERROR,message:"layout ".concat(H," not found")});break}var lt;B.onLayoutEnd=function(){u.postMessage({type:n.END,nodes:d}),lt==null||lt.destroy()},lt=new tt(B),lt.init({nodes:d,edges:T}),lt.execute();break}case n.GPURUN:{var dt=s.data,gt=dt.nodes,T=dt.edges,_t=dt.layoutCfg,B=_t===void 0?{}:_t,Ht=dt.canvas,H=B.type,tt=layout.getLayoutByName(H);if(!tt){this.postMessage({type:n.ERROR,message:"layout ".concat(H," not found")});break}if(H.split("-")[1]!=="gpu"){this.postMessage({type:n.ERROR,message:"layout ".concat(H," does not support GPU")});break}var oe=new tt(B);oe.init({nodes:gt,edges:T}),oe.executeWithWorker(Ht,this);break}default:break}}onmessage=function(u){a(u)&&o(u)}}var r=new $1(t,e);return r},Jf={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function ev(i){return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(i)}var $p=function(e){return setTimeout(e,16)},Qp=function(e){return clearTimeout(e)},uh={requestAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||$p;return t(e)},cancelAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||Qp;return t(e)}},q1=["fruchterman","gForce"],J1=["force","grid","circular"],tb=function(i){(0,g.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.graph=t,r.layoutCfg=t.get("layout")||{},r.layoutType=r.getLayoutType(),r.worker=null,r.workerData={},r.initLayout(),r}return e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=Q1(this.layoutCfg.workerScriptURL),this.worker)},e.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(uh.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(uh.cancelAnimationFrame(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,r){var n=this;return new Promise(function(a,o){return(0,g.__awaiter)(n,void 0,void 0,function(){var s,u,l,c,d,H,T,I,B,H,tt;return(0,g.__generator)(this,function(lt){switch(lt.label){case 0:if(s=this.graph,!s||s.get("destroyed"))return[2];u=t.type,t.onLayoutEnd=function(){s.emit("aftersublayout",{type:u}),a()},u&&this.isGPU&&(this.hasGPUVersion(u)?u="".concat(u,"-gpu"):console.warn("The '".concat(u,"' layout does not support GPU calculation for now, it will run in CPU."))),ls.isForce(u)?(l=t.onTick,c=t.animate,d=c===void 0&&(u==="force"||u==="force2"),H=function(){l&&l(),(c||d)&&s.refreshPositions()},t.tick=H):(u==="comboForce"||u==="comboCombined")&&(t.comboTrees=s.get("comboTrees")),T=!1;try{I=new Ja.Layouts[u](t),this.layoutMethods[r]&&this.layoutMethods[r].destroy(),this.layoutMethods[r]=I}catch(dt){console.warn("The layout method: '".concat(u,"' does not exist! Please specify it first.")),o()}return T=I.enableTick,T&&(B=t.onTick,H=function(){B&&B(),s.refreshPositions()},I.tick=H),tt=this.filterLayoutData(this.data,t),ab(tt,r),I.init(tt),s.emit("beforesublayout",{type:u}),[4,I.execute()];case 1:return lt.sent(),I.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}})})})},e.prototype.updateLayoutMethod=function(t,r){var n=this;return new Promise(function(a,o){return(0,g.__awaiter)(n,void 0,void 0,function(){var s,u,l;return(0,g.__generator)(this,function(c){switch(c.label){case 0:return s=this.graph,u=r==null?void 0:r.type,r.onLayoutEnd=function(){s.emit("aftersublayout",{type:u}),a()},l=this.filterLayoutData(this.data,r),t.init(l),t.updateCfg(r),s.emit("beforesublayout",{type:u}),[4,t.execute()];case 1:return c.sent(),t.isCustomLayout&&r.onLayoutEnd&&r.onLayoutEnd(),[2]}})})})},e.prototype.layout=function(t){var r=this,n,a=this.graph;if(!(!a||a.get("destroyed"))){this.data=this.setDataFromGraph();var o=this.data,s=o.nodes,u=o.hiddenNodes;if(!s)return!1;var l=a.get("width"),c=a.get("height"),d={};Object.assign(d,{width:l,height:c,center:[l/2,c/2]},this.layoutCfg),this.layoutCfg=d;var T=d.type,I=!1;(n=this.layoutMethods)===null||n===void 0||n.forEach(function(Ht){var oe;return I=!!(!((oe=Ht.nodes)===null||oe===void 0)&&oe.length)||I});var B=this.destoryLayoutMethods();a.emit("beforelayout"),I&&T&&(B==null?void 0:B.length)===1&&B[0]===T?this.tweakInit():this.initPositions(d.center,s),this.initPositions(d.center,u),T&&T.split("-")[1]==="gpu"&&(T=T.split("-")[0],d.gpuEnabled=!0);var H=!1;d.gpuEnabled&&(H=!0,Kp().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),H=!1)),H&&!this.hasGPUVersion(T)&&(console.warn("The '".concat(T,"' layout does not support GPU calculation for now, it will run in CPU.")),H=!1),this.isGPU=H;var tt=d.onLayoutEnd,lt=d.layoutEndFormatted,dt=d.adjust;if(lt||(d.layoutEndFormatted=!0,d.onAllLayoutEnd=function(){return(0,g.__awaiter)(r,void 0,void 0,function(){return(0,g.__generator)(this,function(Ht){switch(Ht.label){case 0:return tt&&tt(s),this.refreshLayout(),dt&&d.pipes?[4,this.adjustPipesBox(this.data,dt)]:[3,2];case 1:Ht.sent(),this.refreshLayout(),Ht.label=2;case 2:return a.emit("afterlayout"),[2]}})})}),this.stopWorker(),d.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;var gt=Promise.resolve(),_t=!1;return d.type?(_t=!0,gt=gt.then(function(){return(0,g.__awaiter)(r,void 0,void 0,function(){return(0,g.__generator)(this,function(Ht){switch(Ht.label){case 0:return[4,this.execLayoutMethod(d,0)];case 1:return[2,Ht.sent()]}})})})):d.pipes&&(_t=!0,d.pipes.forEach(function(Ht,oe){gt=gt.then(function(){return(0,g.__awaiter)(r,void 0,void 0,function(){return(0,g.__generator)(this,function(ie){switch(ie.label){case 0:return[4,this.execLayoutMethod(Ht,oe)];case 1:return[2,ie.sent()]}})})})})),_t?gt.then(function(){d.onAllLayoutEnd&&d.onAllLayoutEnd(),t&&t()}).catch(function(Ht){console.warn("graph layout failed,",Ht)}):(a.refreshPositions(),t==null||t()),!1}},e.prototype.tweakInit=function(){var t=this,r=t.data,n=t.graph,a=r.nodes,o=r.edges;if(a!=null&&a.length){var s={};a.forEach(function(c){var d=c.x,T=c.y;!isNaN(d)&&!isNaN(T)&&(s[c.id]={x:d,y:T},c.mass=c.mass||2)}),o.forEach(function(c){var d=c.source,T=c.target,I=s[d],B=s[T];!I&&B?s[d]={x:B.x+(Math.random()-.5)*80,y:B.y+(Math.random()-.5)*80}:!B&&I&&(s[T]={x:I.x+(Math.random()-.5)*80,y:I.y+(Math.random()-.5)*80})});var u=n.get("width"),l=n.get("height");a.forEach(function(c){var d=s[c.id]||{x:u/2+(Math.random()-.5)*20,y:l/2+(Math.random()-.5)*20};c.x=d.x,c.y=d.y})}},e.prototype.initWithPreset=function(){var t=this,r=t.layoutCfg,n=t.data,a=r.preset;if(!(a!=null&&a.type)||!Ja.Layouts[a==null?void 0:a.type])return!1;var o=new Ja.Layouts[a==null?void 0:a.type](a);return o.layout(n),delete r.preset,!0},e.prototype.layoutWithWorker=function(t,r){var n=this,a=this,o=a.layoutCfg,s=a.graph,u=this.getWorker(),l=this.workerData;if(!u)return!1;l.requestId=null,l.requestId2=null,l.currentTick=null,l.currentTickData=null,s.emit("beforelayout");var c=Promise.resolve(),d=!1;if(o.type)d=!0,c=c.then(function(){return n.runWebworker(u,t,o)});else if(o.pipes){d=!0;for(var T=function(lt){c=c.then(function(){return n.runWebworker(u,t,lt)})},I=0,B=o.pipes;I<B.length;I++){var H=B[I];T(H)}}return d&&c.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd(),r==null||r()}).catch(function(tt){console.error("layout failed",tt)}),!0},e.prototype.runWebworker=function(t,r,n){var a=this,o=this.isGPU,s=this.filterLayoutData(r,n),u=s.nodes,l=s.edges,c=document.createElement("canvas"),d=o&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in c,T=rb(n,function(B){return typeof B!="function"});if(!d)t.postMessage({type:Jf.RUN,nodes:u,edges:l,layoutCfg:T});else{var I=c.transferControlToOffscreen();T.type="".concat(T.type,"-gpu"),t.postMessage({type:Jf.GPURUN,nodes:u,edges:l,layoutCfg:T,canvas:I},[I])}return new Promise(function(B,H){t.onmessage=function(tt){a.handleWorkerMessage(B,H,tt,s,n)}})},e.prototype.handleWorkerMessage=function(t,r,n,a,o){var s=this,u=s.graph,l=s.workerData,c=n.data,d=c.type,T=function(){o.onTick&&o.onTick()};switch(d){case Jf.TICK:l.currentTick=c.currentTick,l.currentTickData=c,l.requestId||(l.requestId=uh.requestAnimationFrame(function(){rv(a,c),u.refreshPositions(),T(),c.currentTick===c.totalTicks?t():l.currentTick===c.totalTicks&&(l.requestId2=uh.requestAnimationFrame(function(){rv(a,l.currentTickData),u.refreshPositions(),l.requestId2=null,T(),t()})),l.requestId=null}));break;case Jf.END:l.currentTick==null&&(rv(a,c),t());break;case Jf.GPUEND:l.currentTick==null&&(nb(a,c),t());break;case Jf.ERROR:console.warn("Web-Worker layout error!",c.message),r();break;default:r();break}},e.prototype.updateLayoutCfg=function(t){var r=this,n=this,a=n.graph,o=n.layoutMethods;if(!(!a||a.get("destroyed"))){var s=t.disableTriggerLayout,u=(0,g.__rest)(t,["disableTriggerLayout"]),l=(0,f.mix)({},this.layoutCfg,u);if(this.layoutCfg=l,!s){if(!(o!=null&&o.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(u.workerEnabled&&this.layoutWithWorker(this.data,null))){a.emit("beforelayout");var c=Promise.resolve(),d=!1;(o==null?void 0:o.length)===1?(d=!0,c=c.then(function(){return(0,g.__awaiter)(r,void 0,void 0,function(){return(0,g.__generator)(this,function(T){switch(T.label){case 0:return[4,this.updateLayoutMethod(o[0],l)];case 1:return[2,T.sent()]}})})})):o!=null&&o.length&&(d=!0,o.forEach(function(T,I){var B=l.pipes[I];c=c.then(function(){return(0,g.__awaiter)(r,void 0,void 0,function(){return(0,g.__generator)(this,function(H){switch(H.label){case 0:return[4,this.updateLayoutMethod(T,B)];case 1:return[2,H.sent()]}})})})})),d&&c.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd()}).catch(function(T){console.warn("layout failed",T)})}}}},e.prototype.adjustPipesBox=function(t,r){var n=this;return new Promise(function(a){var o=t.nodes;o!=null&&o.length||a(),J1.includes(r)||(console.warn("The adjust type ".concat(r," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),a());var s={center:n.layoutCfg.center,nodeSize:function(B){return Math.max(B.height,B.width)},preventOverlap:!0,onLayoutEnd:function(){}},u=n.getLayoutBBox(o),l=u.groupNodes,c=u.layoutNodes,d=(0,f.clone)(c);s.onLayoutEnd=function(){c==null||c.forEach(function(I,B){var H,tt,lt,dt=I.x-((H=d[B])===null||H===void 0?void 0:H.x),gt=I.y-((tt=d[B])===null||tt===void 0?void 0:tt.y);(lt=l[B])===null||lt===void 0||lt.forEach(function(_t){_t.x+=dt,_t.y+=gt})}),a()};var T=new Ja.Layouts[r](s);T.layout({nodes:c})})},e.prototype.hasGPUVersion=function(t){return q1.includes(t)},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(sp),eb=tb;function rv(i,e){for(var t=i.nodes,r=e.nodes,n=t.length,a=0;a<n;a++){var o=t[a];o.x=r[a].x,o.y=r[a].y}}function rb(i,e){var t={};return i&&ev(i)==="object"?(Object.keys(i).forEach(function(r){i.hasOwnProperty(r)&&e(i[r])&&(t[r]=i[r])}),t):i}function nb(i,e){for(var t=i.nodes,r=e.vertexEdgeData,n=t.length,a=0;a<n;a++){var o=t[a],s=r[4*a],u=r[4*a+1];o.x=s,o.y=u}}function ab(i,e){var t;if(!((t=i==null?void 0:i.nodes)===null||t===void 0)&&t.length){var r=i.nodes;r.forEach(function(n){n.layoutOrder=e})}}var Ad,nv,qp,av;function ib(){Ad=document.createElement("table"),nv=document.createElement("tr"),qp=/^\s*<(\w+|!)[^>]*>/,av={tr:document.createElement("tbody"),tbody:Ad,thead:Ad,tfoot:Ad,td:nv,th:nv,"*":document.createElement("div")}}function ho(i){Ad||ib();var e=qp.test(i)&&RegExp.$1;(!e||!(e in av))&&(e="*");var t=av[e];i=typeof i=="string"?i.replace(/(^\s*)|(\s*$)/g,""):i,t.innerHTML=""+i;var r=t.childNodes[0];return r&&t.contains(r)&&t.removeChild(r),r}var ob=function(e){var t=e.clone();return sb(e,t),t},sb=function i(e,t){var r;e.isGroup()&&t.isGroup()&&((r=e.get("children"))===null||r===void 0||r.forEach(function(s,u){var l=t.get("children")[u];i(s,l)}));var n=e.get("type"),a=t.get("type");if(!(n!=="image"||a!=="image")){var o=e.get("clipShape");o&&t.setClip({type:o.get("type"),attrs:o.attr()})}},Jp=ht,ub="svg",lb=function(i){(0,g.__extends)(e,i);function e(t){var r=i.call(this,t)||this,n=r.get("defaultNode");return n||r.set("defaultNode",{type:"circle"}),n.type||(n.type="circle",r.set("defaultNode",n)),r.destroyed=!1,r}return e.prototype.initLayoutController=function(){var t=new eb(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new R1(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var r=t.clientWidth,n=t.clientHeight,a=this.get("width")||r,o=this.get("height")||n;!this.get("width")&&!this.get("height")&&(this.set("width",r),this.set("height",n));var s=this.get("renderer"),u;if(s===ub)u=new Cd({container:t,width:a,height:o});else{var l={container:t,width:a,height:o},c=this.get("pixelRatio");c&&(l.pixelRatio=c,window.devicePixelRatio=c),u=new _l(l)}this.set("canvas",u)},e.prototype.initPlugins=function(){var t=this;(0,f.each)(t.get("plugins"),function(r){!r.destroyed&&r.initPlugin&&r.initPlugin(t)})},e.prototype.downloadImageWatermark=function(t,r,n,a){return(0,g.__awaiter)(this,void 0,void 0,function(){var o,s,u;return(0,g.__generator)(this,function(l){switch(l.label){case 0:return o=t.style.backgroundImage,s=o.slice(5,o.length-2),u=new Image,u.src=s,[4,new Promise(function(c){u.onload=function(){var d=r.createPattern(u,"repeat");r.rect(0,0,n,a),r.fillStyle=d,r.fill(),c("")}})];case 1:return l.sent(),[2]}})})},e.prototype.asyncToDataUrl=function(t,r,n,a,o,s){var u=this,l=document.querySelector(".g6-graph-watermarker"),c=this.get("canvas"),d=c.getRenderer(),T=s||c.get("el"),I="";t||(t="image/png"),setTimeout(function(){return(0,g.__awaiter)(u,void 0,void 0,function(){var B,H,tt,lt,dt,gt,_t,Ht,oe,ie;return(0,g.__generator)(this,function(Ee){switch(Ee.label){case 0:return d!=="svg"?[3,1]:(B=T.cloneNode(!0),H=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),tt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",H),tt.replaceChild(B,tt.documentElement),lt=new XMLSerializer().serializeToString(tt),I="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(lt)),[3,4]);case 1:return dt=void 0,gt=T.getContext("2d"),_t=a||this.get("width"),Ht=o||this.get("height"),oe=void 0,l?[4,this.downloadImageWatermark(l,gt,_t,Ht)]:[3,3];case 2:Ee.sent(),Ee.label=3;case 3:if(r){ie=typeof window!="undefined"?window.devicePixelRatio:1;try{dt=gt.getImageData(0,0,_t*ie,Ht*ie),oe=gt.globalCompositeOperation,gt.globalCompositeOperation="destination-over",gt.fillStyle=r,gt.fillRect(0,0,_t,Ht)}catch(Re){console.error("Download image failed. Out of memory at ImageData creation")}}I=T.toDataURL(t),r&&(gt.clearRect(0,0,_t,Ht),gt.putImageData(dt,0,0),gt.globalCompositeOperation=oe),Ee.label=4;case 4:return n&&n(I),[2]}})})},16)},e.prototype.toDataURL=function(t,r){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var u=o.cloneNode(!0),l=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),c=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",l);c.replaceChild(u,c.documentElement);var d=new XMLSerializer().serializeToString(c);s="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))}else{var T=void 0,I=o.getContext("2d"),B=Math.max(this.get("width"),500),H=Math.max(this.get("height"),500),tt=void 0;if(r){var lt=typeof window!="undefined"&&window.devicePixelRatio||1;try{T=I.getImageData(0,0,B*lt,H*lt),tt=I.globalCompositeOperation,I.globalCompositeOperation="destination-over",I.fillStyle=r,I.fillRect(0,0,B,H)}catch(dt){console.error("Download image failed. Out of memory at ImageData creation")}}s=o.toDataURL(t),r&&(I.clearRect(0,0,B,H),I.putImageData(T,0,0),I.globalCompositeOperation=tt)}return s},e.prototype.toFullDataURL=function(t,r,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,u=this.get("renderer"),l=ho('<div id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,d=n?n.padding:void 0;d?(0,f.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var T=o+d[0]+d[2],I=s+d[1]+d[3],B={container:l,height:T,width:I,quickHit:!0},H=u==="svg"?new Cd(B):new _l(B),tt=this.get("group"),lt=tt.clone(),dt=(0,f.clone)(lt.getMatrix());dt||(dt=[1,0,0,0,1,0,0,0,1]);var gt=(a.maxX+a.minX)/2,_t=(a.maxY+a.minY)/2;dt=Jp(dt,[["t",-gt,-_t],["t",s/2+d[3],o/2+d[0]]]),lt.resetMatrix(),lt.setMatrix(dt),H.add(lt);var Ht=H.get("el"),oe="";r||(r="image/png"),setTimeout(function(){if(u==="svg"){var ie=Ht.cloneNode(!0),Ee=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Re=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Ee);Re.replaceChild(ie,Re.documentElement);var Ae=new XMLSerializer().serializeToString(Re);oe="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(Ae))}else{var Ve=void 0,sr=Ht.getContext("2d"),tn=void 0;if(c){var Tn=typeof window!="undefined"?window.devicePixelRatio:1;try{Ve=sr.getImageData(0,0,I*Tn,T*Tn),tn=sr.globalCompositeOperation,sr.globalCompositeOperation="destination-over",sr.fillStyle=c,sr.fillRect(0,0,I,T)}catch(pn){console.error("Download image failed. Out of memory at ImageData creation")}}oe=Ht.toDataURL(r),c&&(sr.clearRect(0,0,I,T),sr.putImageData(Ve,0,0),sr.globalCompositeOperation=tn)}t&&t(oe)},16)},e.prototype.downloadFullImage=function(t,r,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,u=o.width,l=this.get("renderer"),c=ho('<div id="virtual-image"></div>'),d=document.querySelector(".g6-graph-watermarker"),T=n?n.backgroundColor:void 0,I=n?n.padding:void 0;I?(0,f.isNumber)(I)&&(I=[I,I,I,I]):I=[0,0,0,0];var B=s+I[0]+I[2],H=u+I[1]+I[3];if(d){var tt=this.get("graphWaterMarker").cfg||{},lt=tt.width,dt=tt.height;B=Math.ceil(B/dt)*dt,H=Math.ceil(H/lt)*lt}var gt={container:c,height:B,width:H},_t=l==="svg"?new Cd(gt):new _l(gt),Ht=this.get("group"),oe=ob(Ht),ie=(0,f.clone)(oe.getMatrix());ie||(ie=[1,0,0,0,1,0,0,0,1]);var Ee=(o.maxX+o.minX)/2,Re=(o.maxY+o.minY)/2;ie=Jp(ie,[["t",-Ee,-Re],["t",u/2+I[3],s/2+I[0]]]),oe.resetMatrix(),oe.setMatrix(ie),_t.add(oe);var Ae=_t.get("el");r||(r="image/png"),this.asyncToDataUrl(r,T,function(Ve){var sr=document.createElement("a"),tn=(t||"graph")+(l==="svg"?".svg":".".concat(r.split("/")[1]));a.dataURLToImage(Ve,l,sr,tn);var Tn=document.createEvent("MouseEvents");Tn.initEvent("click",!1,!1),sr.dispatchEvent(Tn)},H,B,Ae)},e.prototype.downloadImage=function(t,r,n){var a=this,o=this;o.stopAnimate();var s=o.get("canvas"),u=s.getRenderer();r||(r="image/png");var l=(t||"graph")+(u==="svg"?".svg":r.split("/")[1]),c=document.createElement("a");o.asyncToDataUrl(r,n,function(d){a.dataURLToImage(d,u,c,l);var T=document.createEvent("MouseEvents");T.initEvent("click",!1,!1),c.dispatchEvent(T)})},e.prototype.dataURLToImage=function(t,r,n,a){if(!t||t==="data:"){console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items");return}if(typeof window!="undefined")if(window.Blob&&window.URL&&r!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var u=o[0].match(/:(.*?);/);u&&u.length>=2&&(s=u[1])}for(var l=atob(o[1]),c=l.length,d=new Uint8Array(c);c--;)d[c]=l.charCodeAt(c);var T=new Blob([d],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(T,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(T)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},e.prototype.addPlugin=function(t){var r=this;t.destroyed||(r.get("plugins").push(t),t.initPlugin(r))},e.prototype.removePlugin=function(t){var r=this.get("plugins"),n=r.indexOf(t);n>=0&&(t.destroyPlugin(),r.splice(n,1))},e.prototype.setImageWaterMarker=function(t,r){t===void 0&&(t=qc.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},qc.imageWaterMarkerConfig,r),s=o.width,u=o.height,l=o.compatible,c=o.image;if(!t){var d=l?n:document.querySelector(".g6-graph-watermarker");d&&(d.style.cssText=void 0),a&&a.clear();return}if(a)a.clear();else{var T={container:n,width:s,height:u,capture:!1},I=this.get("pixelRatio");I&&(T.pixelRatio=I,window.devicePixelRatio=I),a=new _l(T),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var B=a.get("context"),H=c.rotate,tt=c.x,lt=c.y;B.rotate(-H*Math.PI/180);var dt=new Image;dt.crossOrigin="anonymous",dt.src=t,dt.onload=function(){if(B.drawImage(dt,tt,lt,c.width,c.height),B.rotate(H*Math.PI/180),l)n.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var gt=document.querySelector(".g6-graph-watermarker");gt||(gt=document.createElement("div"),gt.className="g6-graph-watermarker"),gt.className="g6-graph-watermarker",a.destroyed||(gt.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(gt))}}},e.prototype.setTextWaterMarker=function(t,r){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},qc.textWaterMarkerConfig,r),s=o.width,u=o.height,l=o.compatible,c=o.text;if(!(t!=null&&t.length)){var d=l?n:document.querySelector(".g6-graph-watermarker");d&&(d.style.cssText=void 0),a&&a.clear();return}if(a)a.clear();else{var T={container:n,width:s,height:u,capture:!1},I=this.get("pixelRatio");I&&(T.pixelRatio=I,window.devicePixelRatio=I),a=new _l(T),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var B=a.get("context"),H=c.rotate,tt=c.fill,lt=c.fontFamily,dt=c.fontSize,gt=c.baseline,_t=c.x,Ht=c.y,oe=c.lineHeight;B.rotate(-H*Math.PI/180),B.font="".concat(dt,"px ").concat(lt),B.fillStyle=tt,B.textBaseline=gt;for(var ie=(0,f.isString)(t)?[t]:t,Ee=ie.length-1;Ee>=0;Ee--)B.fillText(ie[Ee],_t,Ht+Ee*oe);if(B.rotate(H*Math.PI/180),l)n.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var Re=document.querySelector(".g6-graph-watermarker");Re||(Re=document.createElement("div"),Re.className="g6-graph-watermarker"),Re.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(Re)}},e.prototype.destroy=function(){var t,r,n,a;(0,f.each)(this.get("plugins"),function(c){c.destroyPlugin()});var o=this.get("tooltips");if(o)for(var s=0;s<o.length;s++){var u=o[s];if(u){var l=u.parentElement;l&&l.removeChild(u)}}(t=this.get("eventController"))===null||t===void 0||t.destroy(),(r=this.get("layoutController"))===null||r===void 0||r.destroy(),(n=this.get("graphWaterMarker"))===null||n===void 0||n.destroy(),(a=document.querySelector(".g6-graph-watermarker"))===null||a===void 0||a.remove(),i.prototype.destroy.call(this)},e}(ep),tg=lb,cb=Cl.radialLayout,fb=Cl.traverseTree,db=function(i){(0,g.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.layoutAnimating=!1,r.set("removeList",[]),r.set("layoutMethod",r.getLayout()),r}return e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction=t.type==="indented"?"LR":"TB"),t.radial?function(r){var n=sh()[t.type](r,t);return cb(n),n}:function(r){return sh()[t.type](r,t)}):null},e.indexOfChild=function(t,r){var n=-1;return(0,f.each)(t,function(a,o){if(r===a.id)return n=o,!1}),n},e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,r,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(r){if(s.set("parent",r),n){var u=r.get("originAttrs");if(u)s.set("originAttrs",u);else{var l=r.getModel();s.set("originAttrs",{x:l.x,y:l.y})}}var c=r.get("children");c?c.push(s):r.set("children",[s]),a.addItem("edge",{source:r.get("id"),target:s.get("id"),id:"".concat(r.get("id"),":").concat(s.get("id"))},!1)}return(0,f.each)(t.children||[],function(d){a.innerAddChild(d,s,n)}),a.emit("afteraddchild",{item:s,parent:r}),s},e.prototype.innerUpdateChild=function(t,r,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,r,n);return}(0,f.each)(t.children||[],function(B){a.innerUpdateChild(B,o,n)});var s=o.get("children");if(s){var u=s.length;if(u>0)for(var l=s.length-1;l>=0;l--){var c=s[l].getModel();e.indexOfChild(t.children||[],c.id)===-1&&(a.innerRemoveChild(c.id,{x:t.x,y:t.y},n),s.splice(l,1))}}var d,T;o.get("originAttrs")&&(d=o.get("originAttrs").x,T=o.get("originAttrs").y);var I=o.getModel();n&&o.set("originAttrs",{x:I.x,y:I.y}),o.set("model",Object.assign(I,t.data)),(d!==t.x||T!==t.y)&&o.updatePosition({x:t.x,y:t.y})},e.prototype.innerRemoveChild=function(t,r,n){var a=this,o=a.findById(t);if(o)if((0,f.each)(o.get("children"),function(u){a.innerRemoveChild(u.getModel().id,r,n)}),n){var s=o.getModel();o.set("to",r),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o,!1)},e.prototype.changeData=function(t,r){r===void 0&&(r=!0);var n=this;this.getNodes().map(function(a){return n.clearItemStates(a)}),this.getEdges().map(function(a){return n.clearItemStates(a)}),r&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.get("originData"),after:t||n.get("data")}),t?(n.data(t),n.render(!1)):n.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var r=this;r.updateLayout(t)},e.prototype.updateLayout=function(t,r){r===void 0&&(r=!0);var n=this;if(!t){console.warn("layout cannot be null");return}r&&this.get("enabledStack")&&this.pushStack("layout",{before:n.get("layout"),after:t}),n.set("layout",t),n.set("layoutMethod",n.getLayout()),n.layout()},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var r=this;r.layout(t)},e.prototype.layout=function(t){var r=this,n=r.get("data"),a=r.get("layoutMethod"),o=a?a(n,r.get("layout")):n,s=r.get("animate");if(r.emit("beforerefreshlayout",{data:n,layoutData:o}),r.emit("beforelayout"),r.innerUpdateChild(o,void 0,s),t){var u=r.get("viewController");u.fitView()}s?r.layoutAnimate(o):(r.refresh(),r.paint()),r.emit("afterrefreshlayout",{data:n,layoutData:o}),r.emit("afterlayout")},e.prototype.addChild=function(t,r,n){n===void 0&&(n=!0);var a=this;a.emit("beforeaddchild",{model:t,parent:r}),(0,f.isString)(r)||(r=r.get("id"));var o=a.findDataById(r);if(o){o.children||(o.children=[]),o.children.push(t);var s=a.findById(r);s.refresh(),a.changeData(void 0,n)}},e.prototype.updateChildren=function(t,r,n){n===void 0&&(n=!0);var a=this,o=a.findById(r);if(!r||!o){console.warn("Update children failed! There is no node with id '".concat(r,"'"));return}var s=a.findDataById(r);s.children=t,o.refresh(),a.changeData(void 0,n)},e.prototype.updateChild=function(t,r,n){n===void 0&&(n=!0);var a=this;if(!r||!a.findById(r)){a.changeData(t,n);return}var o=a.findDataById(r),s=a.findById(t.id);if(o.children||(o.children=[]),!s)o.children.push(t);else{var u=e.indexOfChild(o.children,t.id);u>-1&&(o.children[u]=t)}var l=a.findById(r);l==null||l.refresh(),a.changeData(void 0,n)},e.prototype.removeChild=function(t,r){r===void 0&&(r=!0);var n=this,a=n.findById(t),o;if(a?o=a==null?void 0:a.get("parent"):o=n.getNodes().find(function(d){var T=d.getModel().children||[];return!!T.find(function(I){return I.id===t})}),o&&!o.destroyed){var s=o.get("id"),u=n.findDataById(s),l=u&&u.children||[],c=e.indexOfChild(l,t);l.splice(c,1),o.refresh()}n.changeData(void 0,r)},e.prototype.findDataById=function(t,r){var n=this;if(r||(r=n.get("data")),t===r.id)return r;var a=null;return(0,f.each)(r.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},e.prototype.layoutAnimate=function(t,r){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){fb(t,function(s){var u=n.findById(s.id);if(u){var l=u.get("originAttrs"),c=u.get("model");if(l||(l={x:c.x,y:c.y},u.set("originAttrs",l)),r){var d=r(u,o,l,t);u.set("model",Object.assign(c,d))}else c.x=l.x+(s.x-l.x)*o,c.y=l.y+(s.y-l.y)*o}return!0}),(0,f.each)(n.get("removeList"),function(s){var u=s.getModel(),l=s.get("originAttrs"),c=s.get("to");u.x=l.x+(c.x-l.x)*o,u.y=l.y+(c.y-l.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,f.each)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,f.each)(n.get("removeList"),function(s){n.removeItem(s,!1)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(t){t===void 0&&(t=!0);var r=this,n=r.get("data");if(!n||!(0,f.isObject)(n)||!Object.keys(n).length)throw new Error("data must be defined first");r.clear(),t&&this.get("enabledStack")&&this.clearStack(),r.emit("beforerender"),r.layout(this.get("fitView")),r.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e.prototype.data=function(t){i.prototype.data.call(this,t),this.set("originData",JSON.parse(JSON.stringify(t)))},e}(tg),hb=db;function Va(i,e){if(i)for(var t in e)e.hasOwnProperty(t)&&(i.style[t]=e[t]);return i}var vb=function(){function i(e){this._cfgs=(0,f.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var r=t.getEvents(),n={};(0,f.each)(r,function(a,o){var s=(0,f.wrapBehavior)(t,a);n[o]=s,e.on(o,s)}),this._events=n,this.init()},i.prototype.getEvents=function(){return{}},i.prototype.get=function(e){var t;return(t=this._cfgs)===null||t===void 0?void 0:t[e]},i.prototype.set=function(e,t){this._cfgs[e]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,f.each)(t,function(r,n){e.off(n,r)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Cs=vb,pb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eg="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",gb=function(i){pb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{img:eg,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),r=t.get("container"),n=t.get("canvas").get("el"),a=this.get("img")||eg;a.includes("url(")||(a='url("'.concat(a,'")'));var o=ho(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),s=ho(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `.concat(a,`;
        user-select: none
        '></div>`));this.set("container",o),this.set("gridContainer",s),this.positionInit(),o.appendChild(s),r.insertBefore(o,n)},e.prototype.positionInit=function(){var t=this.get("graph"),r=t.get("minZoom"),n=t.get("width"),a=t.get("height");Va(this.get("container"),{width:"".concat(n,"px"),height:"".concat(a,"px")});var o=n*80/r,s=a*80/r;Va(this.get("gridContainer"),{width:"".concat(o,"px"),height:"".concat(s,"px"),left:"-".concat(o/2,"px"),top:"-".concat(s/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var r=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a=this.get("follow"),o="matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(a?n[6]:"0",", ").concat(a?n[7]:"0",")");Va(r,{transform:o})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),r=t.get("container"),n=this.get("container");r.removeChild(n)},e}(Cs),mb=gb,yb=C(738186),lh=C.n(yb),bb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();typeof document!="undefined"&&lh()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var xb=function(i){bb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(r){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(r){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),r=ho("<div class=".concat(t||"g6-component-contextmenu","></div>"));Va(r,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,f.isString)(n)&&(n=document.getElementById(n)),n.appendChild(r),this.set("menu",r)},e.prototype.onMenuShow=function(t){var r=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1){r.onMenuHide();return}}else if(n.indexOf("canvas")===-1){r.onMenuHide();return}var a=this.get("shouldBegin");if(a(t)){var o=this.get("menu"),s=this.get("getContent"),u=this.get("graph"),l=s(t,u);(0,f.isString)(l)?o.innerHTML=l:o.innerHTML=l.outerHTML,this.removeMenuEventListener();var c=this.get("handleMenuClick");if(c){var d=function(Ee){c(Ee.target,t.item,u)};this.set("handleMenuClickWrapper",d),o.addEventListener("click",d)}var T=u.get("width"),I=u.get("height"),B=o.getBoundingClientRect(),H=this.get("offsetX")||0,tt=this.get("offsetY")||0,lt=u.getContainer().offsetTop,dt=u.getContainer().offsetLeft,gt=t.canvasX+dt+H,_t=t.canvasY+lt+tt;gt+B.width>T&&(gt=t.canvasX-B.width-H+dt),_t+B.height>I&&(_t=t.canvasY-B.height-tt+lt),Va(o,{top:"".concat(_t,"px"),left:"".concat(gt,"px"),visibility:"visible"});var Ht=this.get("trigger")==="click",oe=function(Ee){if(Ht){Ht=!1;return}r.onMenuHide()};document.body.addEventListener("click",oe),this.set("handler",oe)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),r=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}r&&document.body.removeEventListener("click",r)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&Va(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}},e}(Cs),Eb=xb,wb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iv=function(){return iv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},iv.apply(this,arguments)},rg=Math.max,Sb=ht,Mb="default",_b="keyShape",Cb="delegate",ng="svg",Tb=function(i){wb(e,i);function e(t){var r=i.call(this,t)||this;return r.handleUpdateCanvas=(0,f.debounce)(function(n){var a=r;a.destroyed||a.updateCanvas()},100,!1),r}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.size,a=r.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),u=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,l=navigator.userAgent.toLowerCase().indexOf("safari")>-1,c=ho(`
      <div
        class=`.concat(r.viewportClassName,`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff;
          cursor:move'
        draggable=`).concat(!(l||u),`
      </div>`)),d=0,T=0,I=!1,B=0,H=0,tt=0,lt=0,dt=0,gt=0,_t=l||u?"mousedown":"dragstart";c.addEventListener(_t,function(Ee){var Re,Ae;if(Ee.dataTransfer){var Ve=new Image;Ve.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(Ae=(Re=Ee.dataTransfer).setDragImage)===null||Ae===void 0||Ae.call(Re,Ve,0,0);try{Ee.dataTransfer.setData("text/html","view-port-minimap")}catch(tn){Ee.dataTransfer.setData("text","view-port-minimap")}}if(r.refresh=!1,Ee.target===c){var sr=c.style;B=parseInt(sr.left,10),H=parseInt(sr.top,10),tt=parseInt(sr.width,10),lt=parseInt(sr.height,10),!(tt>n[0]||lt>n[1])&&(gt=a.getZoom(),dt=t.get("ratio"),I=!0,d=Ee.clientX,T=Ee.clientY)}},!1);var Ht=function(Re){if(!(!I||(0,f.isNil)(Re.clientX)||(0,f.isNil)(Re.clientY))){var Ae=d-Re.clientX,Ve=T-Re.clientY;(B-Ae<0||B-Ae+tt>=n[0])&&(Ae=0),(H-Ve<0||H-Ve+lt>=n[1])&&(Ve=0),B-=Ae,H-=Ve,Va(c,{left:"".concat(B,"px"),top:"".concat(H,"px")}),a.translate(Ae*gt/dt,Ve*gt/dt),d=Re.clientX,T=Re.clientY}};!l&&!u&&c.addEventListener("drag",Ht,!1);var oe=function(){I=!1,r.refresh=!0},ie=l||u?"mouseup":"dragend";c.addEventListener(ie,oe,!1),s.addEventListener("mouseleave",oe),s.addEventListener("mouseup",oe),(l||u)&&s.addEventListener("mousemove",Ht,!1),this.set("viewport",c),s.appendChild(c)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("totaldx"),n=this.get("totaldy"),a=this.get("graph"),o=this.get("size"),s=a.get("canvas").get("el"),u=a.get("width")||s.scrollWidth||500,l=a.get("height")||s.scrollHeight||500,c=a.getPointByCanvas(0,0),d=a.getPointByCanvas(u,l),T=this.get("viewport");T||this.initViewport();var I=(d.x-c.x)*t,B=(d.y-c.y)*t,H=c.x*t+r,tt=c.y*t+n,lt=H+I,dt=tt+B;H<0&&(I+=H,H=0),lt>o[0]&&(I=I-(lt-o[0])),tt<0&&(B+=tt,tt=0),dt>o[1]&&(B=B-(dt-o[1])),this.set("ratio",t);var gt="".concat(H,"px"),_t="".concat(tt,"px");Va(T,{left:gt,top:_t,width:"".concat(I,"px"),height:"".concat(B,"px")})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,r=this.get("canvas"),n=t.get("group");if(!n.destroyed){r.clear();var a;this.get("hideEdge")?(a=r.addGroup(),n.get("children").forEach(function(s){s.get("id").includes("-edge")||a.add(s.clone())})):(a=n.clone(),a.resetMatrix(),r.add(a));var o=t.get("renderer");o===ng&&this.updateVisible(a)}},e.prototype.updateVisible=function(t){var r=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),r.updateVisible(a)})}},e.prototype.updateKeyShapes=function(){var t=this,r=this._cfgs.graph,n=this.get("canvas"),a=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,f.each)(r.getEdges(),function(u){t.updateOneEdgeKeyShape(u,a)}),(0,f.each)(r.getNodes(),function(u){t.updateOneNodeKeyShape(u,a)});var o=r.getCombos();if(o&&o.length){var s=a.find(function(u){return u.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,f.each)(o,function(u){t.updateOneComboKeyShape(u,s)}),s==null||s.sort(),s==null||s.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,r){if(!this.destroyed){var n=this.get("itemMap")||{},a=n[t.get("id")],o=t.getBBox(),s=t.get("keyShape").clone(),u=s.attr(),l={x:o.centerX,y:o.centerY};a?l=Object.assign(u,l):(a=s,r.add(a));var c=a.get("type");(c==="rect"||c==="image")&&(l.x=o.minX,l.y=o.minY),a.attr(l),t.isVisible()?a.show():a.hide(),a.exist=!0;var d=t.getModel().depth;isNaN(d)||a.set("zIndex",d),n[t.get("id")]=a,this.set("itemMap",n)}},e.prototype.updateOneNodeKeyShape=function(t,r){var n=this.get("itemMap")||{},a=n[t.get("id")],o=t.getBBox(),s=t.get("keyShape").clone(),u=s.attr(),l={x:o.centerX,y:o.centerY};a?(l=Object.assign(u,l),a.toFront()):(a=s,r.add(a));var c=a.get("type");(c==="rect"||c==="image")&&(l.x=o.minX,l.y=o.minY),a.attr(l),t.isVisible()?a.show():a.hide(),a.exist=!0;var d=t.getModel().depth;isNaN(d)||a.set("zIndex",d),n[t.get("id")]=a,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,r=this._cfgs.graph,n=this.get("canvas"),a=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,f.each)(r.getEdges(),function(u){t.updateOneEdgeKeyShape(u,a)}),(0,f.each)(r.getNodes(),function(u){t.updateOneNodeDelegateShape(u,a)});var o=r.getCombos();if(o&&o.length){var s=a.find(function(u){return u.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,f.each)(o,function(u){t.updateOneComboKeyShape(u,s)}),s==null||s.sort(),s==null||s.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},r=Object.keys(t);if(!(!r||r.length===0))for(var n=r.length-1;n>=0;n--){var a=t[r[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[r[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,r){var n=this.get("itemMap")||{},a=n[t.get("id")];if(a){var o=t.get("keyShape").attr("path");a.attr("path",o)}else a=t.get("keyShape").clone(),r.add(a);t.isVisible()?a.show():a.hide(),a.exist=!0,n[t.get("id")]=a,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,r){var n=this.get("delegateStyle"),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox();if(o){var u={x:s.minX,y:s.minY,width:s.width,height:s.height};o.attr(u),o.toFront()}else o=r.addShape("rect",{attrs:iv({x:s.minX,y:s.minY,width:s.width,height:s.height},n),name:"minimap-node-shape"});t.isVisible()?o.show():o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=ho("<div class='".concat(a,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,f.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):r.get("container").appendChild(s),t.set("container",s);var u=ho('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(u),u.addEventListener("dragenter",function(d){d.preventDefault()}),u.addEventListener("dragover",function(d){d.preventDefault()});var l,c=r.get("renderer");c===ng?l=new Cd({container:u,width:n[0],height:n[1]}):l=new _l({container:u,width:n[0],height:n[1]}),t.set("canvas",l),t.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed){var t=this.get("refresh");if(t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case Mb:this.updateGraphShapes();break;case _b:this.updateKeyShapes();break;case Cb:this.updateDelegateShapes();break;default:break}var u=a.get("children")[0];if(u){u.resetMatrix();var l=u.getCanvasBBox(),c=r.get("canvas").getCanvasBBox(),d=r.getZoom()||1,T=c.width/d,I=c.height/d;Number.isFinite(l.width)&&(T=rg(l.width,T),I=rg(l.height,I)),T+=2*s,I+=2*s;var B=Math.min(n[0]/T,n[1]/I),H=[1,0,0,0,1,0,0,0,1],tt=0,lt=0;Number.isFinite(l.minX)&&(tt=-l.minX),Number.isFinite(l.minY)&&(lt=-l.minY);var dt=(n[0]-(T-2*s)*B)/2,gt=(n[1]-(I-2*s)*B)/2;H=Sb(H,[["t",tt,lt],["s",B,B],["t",dt,gt]]),u.setMatrix(H),this.set("ratio",B),this.set("totaldx",dt+tt*B),this.set("totaldy",gt+lt*B),this.set("dx",dt),this.set("dy",gt),this.updateViewport()}}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t;(t=this.get("canvas"))===null||t===void 0||t.destroy();var r=this.get("container");r!=null&&r.parentNode&&r.parentNode.removeChild(r)},e}(Cs),Ab=Tb,Ob=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function Vu(i,e,t){var r=i.x-e.x,n=i.y-e.y;return!t||Math.abs(r)>t||Math.abs(n)>t?Math.sqrt(r*r+n*n):t}function Ib(i,e){return i.x*e.x+i.y*e.y}function ag(i,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(t*t*e.source.x+t*(i.y-e.source.y)+i.x)/(t*t+1),n=t*(r-e.source.x)+e.source.y;return{x:r,y:n}}var Db=function(i){Ob(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),r=this.get("onTick"),n=function(){r&&r(),t.refreshPositions()};this.set("tick",n)},e.prototype.bundling=function(t){var r=this;if(r.set("data",t),!r.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(_t){(_t.x===null||!_t.y===null||_t.x===void 0||!_t.y===void 0)&&(s=!0),o[_t.id]=_t}),s)throw new Error("please layout the graph or assign x and y for nodes first");r.set("nodeIdMap",o);var u=r.get("divisions"),l=r.get("divRate"),c=r.divideEdges(u);r.set("edgePoints",c);var d=r.getEdgeBundles();r.set("edgeBundles",d);for(var T=r.get("cycles"),I=r.get("iterations"),B=r.get("iterRate"),H=r.get("lambda"),tt=0;tt<T;tt++){for(var lt=function(Ht){var oe=[];n.forEach(function(ie,Ee){if(ie.source!==ie.target){var Re=o[ie.source],Ae=o[ie.target];oe[Ee]=r.getEdgeForces({source:Re,target:Ae},Ee,u,H);for(var Ve=0;Ve<u+1;Ve++)c[Ee][Ve].x+=oe[Ee][Ve].x,c[Ee][Ve].y+=oe[Ee][Ve].y}})},dt=0;dt<I;dt++)lt(dt);H=H/2,u*=l,I*=B,c=r.divideEdges(u),r.set("edgePoints",c)}n.forEach(function(_t,Ht){_t.source!==_t.target&&(_t.type="polyline",_t.controlPoints=c[Ht].slice(1,c[Ht].length-1))});var gt=r.get("graph");gt.refresh()}},e.prototype.updateBundling=function(t){var r=this,n=t.data;if(n&&r.set("data",n),r.get("ticking")&&r.set("ticking",!1),Object.keys(t).forEach(function(o){r.set(o,t[o])}),t.onTick){var a=this.get("graph");r.set("tick",function(){t.onTick(),a.refresh()})}r.bundling(n)},e.prototype.divideEdges=function(t){var r=this,n=r.get("data").edges,a=r.get("nodeIdMap"),o=r.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,u){var l;(!o[u]||o[u]===void 0)&&(o[u]=[]);var c=a[s.source],d=a[s.target];if(t===1)o[u].push({x:c.x,y:c.y}),o[u].push({x:.5*(c.x+d.x),y:.5*(c.y+d.y)}),o[u].push({x:d.x,y:d.y});else{var T=0;!((l=o[u])===null||l===void 0)&&l.length?T=r.getEdgeLength(o[u]):T=Vu({x:c.x,y:c.y},{x:d.x,y:d.y});var I=T/(t+1),B=I,H=[{x:c.x,y:c.y}];o[u].forEach(function(tt,lt){if(lt!==0){for(var dt=Vu(tt,o[u][lt-1]);dt>B;){var gt=B/dt,_t={x:o[u][lt-1].x,y:o[u][lt-1].y};_t.x+=gt*(tt.x-o[u][lt-1].x),_t.y+=gt*(tt.y-o[u][lt-1].y),H.push(_t),dt-=B,B=I}B-=dt}}),H.push({x:d.x,y:d.y}),o[u]=H}}),o},e.prototype.getEdgeLength=function(t){var r=0;return t.forEach(function(n,a){a!==0&&(r+=Vu(n,t[a-1]))}),r},e.prototype.getEdgeBundles=function(){var t=this,r=t.get("data"),n=r.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(u,l){(!s[l]||s[l]===void 0)&&(s[l]=[])}),n.forEach(function(u,l){var c=o[u.source],d=o[u.target];n.forEach(function(T,I){if(!(I<=l)){var B=o[T.source],H=o[T.target],tt=t.getBundleScore({source:c,target:d},{source:B,target:H});tt>=a&&(s[l].push(I),s[I].push(l))}})}),s},e.prototype.getBundleScore=function(t,r){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,r.vx=r.target.x-r.source.x,r.vy=r.target.y-r.source.y,t.length=Vu({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),r.length=Vu({x:r.source.x,y:r.source.y},{x:r.target.x,y:r.target.y});var a=n.getAngleScore(t,r),o=n.getScaleScore(t,r),s=n.getPositionScore(t,r),u=n.getVisibilityScore(t,r);return a*o*s*u},e.prototype.getAngleScore=function(t,r){var n=Ib({x:t.vx,y:t.vy},{x:r.vx,y:r.vy});return n/(t.length*r.length)},e.prototype.getScaleScore=function(t,r){var n=(t.length+r.length)/2,a=2/(n/Math.min(t.length,r.length)+Math.max(t.length,r.length)/n);return a},e.prototype.getPositionScore=function(t,r){var n=(t.length+r.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(r.source.x+r.target.x)/2,y:(r.source.y+r.target.y)/2},s=Vu(a,o);return n/(n+s)},e.prototype.getVisibilityScore=function(t,r){var n=this.getEdgeVisibility(t,r),a=this.getEdgeVisibility(r,t);return n<a?n:a},e.prototype.getEdgeVisibility=function(t,r){var n=ag(r.source,t),a=ag(r.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Vu(o,s)/Vu(n,a))},e.prototype.getEdgeForces=function(t,r,n,a){for(var o=this,s=o.get("edgePoints"),u=o.get("K"),l=u/(Vu(t.source,t.target)*(n+1)),c=[{x:0,y:0}],d=1;d<n;d++){var T={x:0,y:0},I=o.getSpringForce({pre:s[r][d-1],cur:s[r][d],next:s[r][d+1]},l),B=o.getElectrostaticForce(d,r);T.x=a*(I.x+B.x),T.y=a*(I.y+B.y),c.push(T)}return c.push({x:0,y:0}),c},e.prototype.getSpringForce=function(t,r){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=r,a*=r,{x:n,y:a}},e.prototype.getElectrostaticForce=function(t,r){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),u=o[r],l={x:0,y:0};return u.forEach(function(c){var d={x:s[c][t].x-s[r][t].x,y:s[c][t].y-s[r][t].y};if(Math.abs(d.x)>a||Math.abs(d.y)>a){var T=Vu(s[c][t],s[r][t]),I=1/T;l.x+=d.x*I,l.y+=d.y*I}}),l},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},e}(Cs),Pb=Db,Lb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ov=function(){return ov=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},ov.apply(this,arguments)},ch=.05,ig={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Nb=function(i){Lb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,f.clone)(ig),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,r=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",r*r);var n=t.get("d");t.set("molecularParam",(n+1)*r)},e.prototype.createDelegate=function(t){var r=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){r.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,u=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-ch:a=1/(1-ch);var l=r.get("maxR"),c=r.get("minR"),d=r.get("r");(d>(l||n.get("height"))&&a>1||d<(c||n.get("height")*.05)&&a<1)&&(a=1),d*=a,r.set("r",d),r.set("r2",d*d);var T=r.get("d");r.set("molecularParam",(T+1)*d),r.set("delegateCenterDiff",void 0),r.magnify(t,u)}},e.prototype.scaleRByDrag=function(t){var r=this;if(t){var n=r.get("dragPrePos"),a=r.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-ch:o=1/(1-ch);var u=r.get("maxR"),l=r.get("minR"),c=r.get("r");(c>(u||a.get("height"))&&o>1||c<(l||a.get("height")*.05)&&o<1)&&(o=1),c*=o,r.set("r",c),r.set("r2",c*c);var d=r.get("d");r.set("molecularParam",(d+1)*c),r.magnify(t,s),r.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var r=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=r.get("d"),o=a+n,s=r.get("maxD"),u=r.get("minD");if(o<s&&o>u){r.set("d",o);var l=r.get("r");r.set("molecularParam",(o+1)*l);var c=r.get("delegate"),d=c?{x:c.attr("x"),y:c.attr("y")}:void 0;r.set("delegateCenterDiff",void 0),r.magnify(t,d)}}},e.prototype.scaleDByDrag=function(t){var r=this,n=r.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=r.get("d"),s=o+a,u=r.get("maxD"),l=r.get("minD");if(s<u&&s>l){r.set("d",s);var c=r.get("r");r.set("molecularParam",(s+1)*c),r.magnify(t)}r.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,r){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),u=n.get("showLabel"),l=n.get("r"),c=n.get("r2"),d=n.get("d"),T=n.get("molecularParam"),I=a.getNodes(),B=I.length,H=r?{x:r.x,y:r.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(H=n.get("cacheCenter"));var tt=n.get("delegateCenterDiff");tt&&(H.x+=tt.x,H.y+=tt.y),n.updateDelegate(H,l);for(var lt=0;lt<B;lt++){var dt=I[lt].getModel(),gt=dt.x,_t=dt.y;if(!(isNaN(gt)||isNaN(_t))){var Ht=(gt-H.x)*(gt-H.x)+(_t-H.y)*(_t-H.y);if(!isNaN(Ht)&&Ht<c&&Ht!==0){var oe=Math.sqrt(Ht),ie=T*oe/(d*oe+l),Ee=(gt-H.x)/oe,Re=(_t-H.y)/oe;if(dt.x=Ee*ie+H.x,dt.y=Re*ie+H.y,s[dt.id]||(s[dt.id]={x:gt,y:_t,texts:[]}),o.push(dt),u&&2*oe<l)for(var Ae=I[lt],Ve=Ae.getContainer(),sr=Ve.getChildren(),tn=sr.length,Tn=0;Tn<tn;Tn++){var pn=sr[Tn];pn.get("type")==="text"&&(s[dt.id].texts.push({visible:pn.get("visible"),shape:pn}),pn.set("visible",!0))}}}}a.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,r=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=r.length,o=0;o<a;o++){var s=r[o],u=s.id,l=n[u];s.x=l.x,s.y=l.y;for(var c=l.texts.length,d=0;d<c;d++){var T=l.texts[d];T.shape.set("visible",T.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,u=t.maxD,l=t.minR,c=t.maxR,d=t.scaleDBy,T=t.scaleRBy;isNaN(t.r)||(r.set("r",n),r.set("r2",n*n)),isNaN(a)||r.set("d",a),isNaN(u)||r.set("maxD",u),isNaN(s)||r.set("minD",s),isNaN(c)||r.set("maxR",c),isNaN(l)||r.set("minR",l);var I=r.get("d"),B=r.get("r");if(r.set("molecularParam",(I+1)*B),(o==="mousemove"||o==="click"||o==="drag")&&r.set("trigger",o),d==="drag"||d==="wheel"||d==="unset"){r.set("scaleDBy",d),r.get("delegate").remove(),r.get("delegate").destroy();var H=r.get("dPercentText");H&&(H.remove(),H.destroy())}if(T==="drag"||T==="wheel"||T==="unset"){r.set("scaleRBy",T),r.get("delegate").remove(),r.get("delegate").destroy();var H=r.get("dPercentText");H&&(H.remove(),H.destroy())}},e.prototype.updateDelegate=function(t,r){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var u=o.get("group"),l=a.get("delegateStyle")||ig;s=u.addShape("circle",{attrs:ov({r:r/1.5,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(B){a.scaleRByWheel(B)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(B){a.set("dragging",!0),a.set("cacheCenter",{x:B.x,y:B.y}),a.set("dragPrePos",{x:B.x,y:B.y})}),s.on("drag",function(B){a.scaleRByDrag(B)}),s.on("dragend",function(B){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(B){n.scaleDByWheel(B)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(B){a.set("dragging",!0),a.set("cacheCenter",{x:B.x,y:B.y}),a.set("dragPrePos",{x:B.x,y:B.y})}),s.on("drag",function(B){n.scaleDByDrag(B)}),s.on("dragend",function(B){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:r/1.5});if(a.get("showDPercent")){var c=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),d=a.get("dPercentText"),T=t.y+r/1.5+16;if(!d||d.destroyed){var I=o.get("group");d=I.addShape("text",{attrs:{text:"".concat(c,"%"),x:t.x,y:T,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",d)}else d.attr({text:"".concat(c,"%"),x:t.x,y:T})}a.set("delegate",s)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var r=this.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Cs),Rb=Nb,kb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),og=.05;typeof document!="undefined"&&lh()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var Bb=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],r=e.target;r;){if(t.push(r),r.tagName==="HTML")return t.push(document,window),t;r=r.parentElement}return t},Fb=function(i){kb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(r){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},e.prototype.init=function(){var t=this,r=this.get("graph"),n=this.get("getContent"),a=n(r),o=a;(0,f.isString)(a)&&(o=ho(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var u=this.get("container");u||(u=this.get("graph").get("container")),(0,f.isString)(u)&&(u=document.getElementById(u)),u.appendChild(o),this.set("toolBar",o);var l=this.get("handleClick");o.addEventListener("click",function(d){var T=Bb(d).filter(function(B){return B.nodeName==="LI"});if(T.length!==0){var I=T[0].getAttribute("code");I&&(l?l(I,r):t.handleDefaultOperator(I))}});var c=this.get("position");c&&Va(o,{top:"".concat(c.y,"px"),left:"".concat(c.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),r=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!r||!n||!a||!o||(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4"),a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4"),t.on("stackchange",function(s){var u=s.undoStack,l=s.redoStack,c=u.length,d=l.length;c===0?(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),n.removeAttribute("style")),d===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))}))},e.prototype.undo=function(){var t=this.get("graph"),r=t.getUndoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action;t.pushStack(a,(0,f.clone)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(d){var T=o[d];T&&T.forEach(function(I){var B=t.findById(I.id);I.visible?t.showItem(B,!1):t.hideItem(B,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(d){var T=o[d];T&&T.forEach(function(I){var B=t.findById(I.id);delete I.id,t.updateItem(B,I,!1),B.getType()==="combo"&&t.updateCombo(B)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(d){var T=o[d];T&&T.forEach(function(I){var B=I.itemType;delete I.itemType,t.addItem(B,I,!1)})});break}case"add":Object.keys(o).forEach(function(d){var T=o[d];T&&T.forEach(function(I){t.removeItem(I.id,!1)})});break;case"updateComboTree":Object.keys(o).forEach(function(d){var T=o[d];T&&T.forEach(function(I){t.updateComboTree(I.id,I.parentId,!1)})});break;case"createCombo":var s=n.data.after.combos,u=s[s.length-1];Object.keys(o).forEach(function(d){var T=o[d];T&&T.forEach(function(I){t.updateComboTree(I.id,I.parentId,!1)})}),t.removeItem(u.id,!1);break;case"uncombo":var l=o.combos[o.combos.length-1],c=o.nodes.concat(o.combos).map(function(d){return d.id}).filter(function(d){return d!==l.id});t.createCombo(l,c,!1);break;case"layout":t.updateLayout(o,void 0,void 0,!1);break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),r=t.getRedoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,f.clone)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(T){var I=t.findById(T.id);T.visible?t.showItem(I,!1):t.hideItem(I,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(T){var I=t.findById(T.id);delete T.id,t.updateItem(I,T,!1),I.getType()==="combo"&&t.updateCombo(I)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(c){t.removeItem(c.id,!1)}),o.nodes&&o.nodes.forEach(function(c){t.removeItem(c.id,!1)}),o.combos&&o.combos.forEach(function(c){t.removeItem(c.id,!1)});break;case"add":{Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(T){var I=T.itemType;delete T.itemType,t.addItem(I,T,!1)})});break}case"updateComboTree":Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(T){t.updateComboTree(T.id,T.parentId,!1)})});break;case"createCombo":var s=o.combos[o.combos.length-1];t.createCombo(s,s.children.map(function(c){return c.id}),!1);break;case"uncombo":var u=n.data.before.combos,l=u[u.length-1];t.uncombo(l.id,!1);break;case"layout":t.updateLayout(o,void 0,void 0,!1);break;default:}}}},e.prototype.zoomOut=function(){var t=this.get("graph"),r=t.getZoom(),n=1/(1-og*this.get("zoomSensitivity")),a=this.get("maxZoom")||t.get("maxZoom");n*r>a||t.zoomTo(r*n)},e.prototype.zoomIn=function(){var t=this.get("graph"),r=t.getZoom(),n=1-og*this.get("zoomSensitivity"),a=this.get("minZoom")||t.get("minZoom");n*r<a||t.zoomTo(r*n)},e.prototype.realZoom=function(){var t=this.get("graph");t.zoomTo(1)},e.prototype.autoZoom=function(){var t=this.get("graph");t.fitView([20,20])},e.prototype.handleDefaultOperator=function(t){switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom();break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(Cs),zb=Fb,Gb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();typeof document!="undefined"&&lh()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var Ub=function(i){Gb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(r){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`.concat(r.item.getType(),`</h4>
          <span class='tooltip-id'>ID\uFF1A`).concat(r.item.getID(),`</span>
        `)},shouldBegin:function(r){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,r=t.get("className")||"g6-component-tooltip",n=ho("<div class='".concat(r,"'></div>")),a=t.get("container");a||(a=t.get("graph").get("container")),(0,f.isString)(a)&&(a=document.getElementById(a)),Va(n,{position:"absolute",visibility:"hidden",display:"none"}),a.appendChild(n),t.get("trigger")!=="click"&&(n.addEventListener("mouseenter",function(o){Va(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(o){t.hideTooltip()})),t.set("tooltip",n)},e.prototype.onClick=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),a.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var r=this.get("itemTypes");t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},e.prototype.showTooltip=function(t){if(t.item){var r=this.get("itemTypes");if(!(t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,f.isString)(o)?n.innerHTML=o:(this.clearContainer(),n.appendChild(o)),this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Va(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var r=this.get("shouldBegin"),n=this.get("tooltip");if(!r(t)){Va(n,{visibility:"hidden",display:"none"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),u=this.get("offsetX")||0,l=this.get("offsetY")||0,c=a.getPointByClient(t.clientX,t.clientY),d=this.get("fixToNode"),T=t.item;if(T.getType&&T.getType()==="node"&&d&&(0,f.isArray)(d)&&d.length>=2){var I=T.getBBox();c={x:I.minX+I.width*d[0],y:I.minY+I.height*d[1]}}var B=a.getCanvasByPoint(c.x,c.y),H=B.x,tt=B.y,lt=a.getContainer(),dt={x:H+lt.offsetLeft+u,y:tt+lt.offsetTop+l};Va(n,{visibility:"visible",display:"unset"});var gt=n.getBoundingClientRect();H+gt.width+u>o&&(dt.x-=gt.width+u),tt+gt.height+l>s&&(dt.y-=gt.height+l),Va(n,{left:"".concat(dt.x,"px"),top:"".concat(dt.y,"px")})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}},e}(Cs),Wb=Ub,sg={};function Yb(i){return sg[i]}function Hu(i,e){sg[i]=e}var Xb=function(){function i(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return i.prototype.translate=function(e){return e},i.prototype.change=function(e){(0,f.assign)(this.__cfg__,e),this.init()},i.prototype.clone=function(){return this.constructor(this.__cfg__)},i.prototype.getTicks=function(){var e=this;return(0,f.map)(this.ticks,function(t,r){return(0,f.isObject)(t)?t:{text:e.getText(t,r),tickValue:t,value:e.scale(t)}})},i.prototype.getText=function(e,t){var r=this.formatter,n=r?r(e,t):e;return(0,f.isNil)(n)||!(0,f.isFunction)(n.toString)?"":n.toString()},i.prototype.getConfig=function(e){return this.__cfg__[e]},i.prototype.init=function(){(0,f.assign)(this,this.__cfg__),this.setDomain(),(0,f.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},i.prototype.initCfg=function(){},i.prototype.setDomain=function(){},i.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,f.isString)(e)){var r=Yb(e);if(!r)throw new Error("There is no method to to calculate ticks!");t=r(this)}else(0,f.isFunction)(e)&&(t=e(this));return t},i.prototype.rangeMin=function(){return this.range[0]},i.prototype.rangeMax=function(){return this.range[1]},i.prototype.calcPercent=function(e,t,r){return(0,f.isNumber)(e)?(e-t)/(r-t):NaN},i.prototype.calcValue=function(e,t,r){return t+e*(r-t)},i}(),sv=Xb,jb=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var r=this.translateIndexMap.get(t);return r===void 0&&(r=(0,f.isNumber)(t)?t:NaN),r},e.prototype.scale=function(t){var r=this.translate(t),n=this.calcPercent(r,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var r=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(r*n)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},e.prototype.getText=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=t;return(0,f.isNumber)(t)&&!this.values.includes(t)&&(a=this.values[a]),i.prototype.getText.apply(this,(0,g.__spreadArrays)([a],r))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,f.isNil)(this.getConfig("min"))&&(this.min=0),(0,f.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(sv),Od=jb,ug=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,hc="\\d\\d?",vc="\\d\\d",Vb="\\d{3}",Hb="\\d{4}",Id="[^\\s]+",lg=/\[([^]*?)\]/gm;function cg(i,e){for(var t=[],r=0,n=i.length;r<n;r++)t.push(i[r].substr(0,e));return t}var fg=function(i){return function(e,t){var r=t[i].map(function(a){return a.toLowerCase()}),n=r.indexOf(e.toLowerCase());return n>-1?n:null}};function pc(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=0,n=e;r<n.length;r++){var a=n[r];for(var o in a)i[o]=a[o]}return i}var dg=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],hg=["January","February","March","April","May","June","July","August","September","October","November","December"],Zb=cg(hg,3),Kb=cg(dg,3),uv={dayNamesShort:Kb,dayNames:dg,monthNamesShort:Zb,monthNames:hg,amPm:["am","pm"],DoFn:function(i){return i+["th","st","nd","rd"][i%10>3?0:(i-i%10!==10?1:0)*i%10]}},fh=pc({},uv),vg=function(i){return fh=pc(fh,i)},pg=function(i){return i.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ts=function(i,e){for(e===void 0&&(e=2),i=String(i);i.length<e;)i="0"+i;return i},$b={D:function(i){return String(i.getDate())},DD:function(i){return Ts(i.getDate())},Do:function(i,e){return e.DoFn(i.getDate())},d:function(i){return String(i.getDay())},dd:function(i){return Ts(i.getDay())},ddd:function(i,e){return e.dayNamesShort[i.getDay()]},dddd:function(i,e){return e.dayNames[i.getDay()]},M:function(i){return String(i.getMonth()+1)},MM:function(i){return Ts(i.getMonth()+1)},MMM:function(i,e){return e.monthNamesShort[i.getMonth()]},MMMM:function(i,e){return e.monthNames[i.getMonth()]},YY:function(i){return Ts(String(i.getFullYear()),4).substr(2)},YYYY:function(i){return Ts(i.getFullYear(),4)},h:function(i){return String(i.getHours()%12||12)},hh:function(i){return Ts(i.getHours()%12||12)},H:function(i){return String(i.getHours())},HH:function(i){return Ts(i.getHours())},m:function(i){return String(i.getMinutes())},mm:function(i){return Ts(i.getMinutes())},s:function(i){return String(i.getSeconds())},ss:function(i){return Ts(i.getSeconds())},S:function(i){return String(Math.round(i.getMilliseconds()/100))},SS:function(i){return Ts(Math.round(i.getMilliseconds()/10),2)},SSS:function(i){return Ts(i.getMilliseconds(),3)},a:function(i,e){return i.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(i,e){return i.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(i){var e=i.getTimezoneOffset();return(e>0?"-":"+")+Ts(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(i){var e=i.getTimezoneOffset();return(e>0?"-":"+")+Ts(Math.floor(Math.abs(e)/60),2)+":"+Ts(Math.abs(e)%60,2)}},gg=function(i){return+i-1},mg=[null,hc],yg=[null,Id],bg=["isPm",Id,function(i,e){var t=i.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],xg=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(i){var e=(i+"").match(/([+-]|\d\d)/gi);if(e){var t=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],Qb={D:["day",hc],DD:["day",vc],Do:["day",hc+Id,function(i){return parseInt(i,10)}],M:["month",hc,gg],MM:["month",vc,gg],YY:["year",vc,function(i){var e=new Date,t=+(""+e.getFullYear()).substr(0,2);return+(""+(+i>68?t-1:t)+i)}],h:["hour",hc,void 0,"isPm"],hh:["hour",vc,void 0,"isPm"],H:["hour",hc],HH:["hour",vc],m:["minute",hc],mm:["minute",vc],s:["second",hc],ss:["second",vc],YYYY:["year",Hb],S:["millisecond","\\d",function(i){return+i*100}],SS:["millisecond",vc,function(i){return+i*10}],SSS:["millisecond",Vb],d:mg,dd:mg,ddd:yg,dddd:yg,MMM:["month",Id,fg("monthNamesShort")],MMMM:["month",Id,fg("monthNames")],a:bg,A:bg,ZZ:xg,Z:xg},dh={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Eg=function(i){return pc(dh,i)},wg=function(i,e,t){if(e===void 0&&(e=dh.default),t===void 0&&(t={}),typeof i=="number"&&(i=new Date(i)),Object.prototype.toString.call(i)!=="[object Date]"||isNaN(i.getTime()))throw new Error("Invalid Date pass to format");e=dh[e]||e;var r=[];e=e.replace(lg,function(a,o){return r.push(o),"@@@"});var n=pc(pc({},fh),t);return e=e.replace(ug,function(a){return $b[a](i,n)}),e.replace(/@@@/g,function(){return r.shift()})};function Sg(i,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=dh[e]||e,i.length>1e3)return null;var r=new Date,n={year:r.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(lg,function(_t,Ht){return o.push(pg(Ht)),"@@@"}),u={},l={};s=pg(s).replace(ug,function(_t){var Ht=Qb[_t],oe=Ht[0],ie=Ht[1],Ee=Ht[3];if(u[oe])throw new Error("Invalid format. "+oe+" specified twice in format");return u[oe]=!0,Ee&&(l[Ee]=!0),a.push(Ht),"("+ie+")"}),Object.keys(l).forEach(function(_t){if(!u[_t])throw new Error("Invalid format. "+_t+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var c=i.match(new RegExp(s,"i"));if(!c)return null;for(var d=pc(pc({},fh),t),T=1;T<c.length;T++){var I=a[T-1],B=I[0],H=I[2],tt=H?H(c[T],d):+c[T];if(tt==null)return null;n[B]=tt}n.isPm===1&&n.hour!=null&&+n.hour!=12?n.hour=+n.hour+12:n.isPm===0&&+n.hour==12&&(n.hour=0);var lt;if(n.timezoneOffset==null){lt=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond);for(var dt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],T=0,gt=dt.length;T<gt;T++)if(u[dt[T][0]]&&n[dt[T][0]]!==lt[dt[T][1]]())return null}else if(lt=new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond)),n.month>11||n.month<0||n.day>31||n.day<1||n.hour>23||n.hour<0||n.minute>59||n.minute<0||n.second>59||n.second<0)return null;return lt}var qb={format:wg,parse:Sg,defaultI18n:uv,setGlobalDateI18n:vg,setGlobalDateMasks:Eg},Mg=qb;function Jb(i){return function(e,t,r,n){for(var a=(0,f.isNil)(r)?0:r,o=(0,f.isNil)(n)?e.length:n;a<o;){var s=a+o>>>1;i(e[s])>t?o=s:a=s+1}return a}}var _g="format";function Cg(i,e){var t=k[_g]||Mg[_g];return t(i,e)}function hh(i){return(0,f.isString)(i)&&(i.indexOf("T")>0?i=new Date(i).getTime():i=new Date(i.replace(/-/gi,"/")).getTime()),(0,f.isDate)(i)&&(i=i.getTime()),i}var yu=1e3,Jc=60*yu,tf=60*Jc,Tl=24*tf,Dd=Tl*31,Tg=Tl*365,Pd=[["HH:mm:ss",yu],["HH:mm:ss",yu*10],["HH:mm:ss",yu*30],["HH:mm",Jc],["HH:mm",Jc*10],["HH:mm",Jc*30],["HH",tf],["HH",tf*6],["HH",tf*12],["YYYY-MM-DD",Tl],["YYYY-MM-DD",Tl*4],["YYYY-WW",Tl*7],["YYYY-MM",Dd],["YYYY-MM",Dd*4],["YYYY-MM",Dd*6],["YYYY",Tl*380]];function tx(i,e,t){var r=(e-i)/t,n=Jb(function(o){return o[1]})(Pd,r)-1,a=Pd[n];return n<0?a=Pd[0]:n>=Pd.length&&(a=(0,f.last)(Pd)),a}var ex=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="timeCat",t}return e.prototype.translate=function(t){t=hh(t);var r=this.values.indexOf(t);return r===-1&&((0,f.isNumber)(t)&&t<this.values.length?r=t:r=NaN),r},e.prototype.getText=function(t,r){var n=this.translate(t);if(n>-1){var a=this.values[n],o=this.formatter;return a=o?o(a,r):Cg(a,this.mask),a}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;(0,f.each)(t,function(r,n){t[n]=hh(r)}),t.sort(function(r,n){return r-n}),i.prototype.setDomain.call(this)},e}(Od),rx=ex,nx=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isContinuous=!0,t}return e.prototype.scale=function(t){if((0,f.isNil)(t))return NaN;var r=this.rangeMin(),n=this.rangeMax(),a=this.max,o=this.min;if(a===o)return r;var s=this.getScalePercent(t);return r+s*(n-r)},e.prototype.init=function(){i.prototype.init.call(this);var t=this.ticks,r=(0,f.head)(t),n=(0,f.last)(t);r<this.min&&(this.min=r),n>this.max&&(this.max=n),(0,f.isNil)(this.minLimit)||(this.min=r),(0,f.isNil)(this.maxLimit)||(this.max=n)},e.prototype.setDomain=function(){var t=(0,f.getRange)(this.values),r=t.min,n=t.max;(0,f.isNil)(this.min)&&(this.min=r),(0,f.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=r,this.max=n)},e.prototype.calculateTicks=function(){var t=this,r=i.prototype.calculateTicks.call(this);return this.nice||(r=(0,f.filter)(r,function(n){return n>=t.min&&n<=t.max})),r},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;return(t-n)/(r-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(sv),vh=nx,ax=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return e.prototype.invert=function(t){var r=this.getInvertPercent(t);return this.min+r*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(vh),Ld=ax;function gc(i,e){var t=Math.E,r;return e>=0?r=Math.pow(t,Math.log(e)/i):r=Math.pow(t,Math.log(-e)/i)*-1,r}function qs(i,e){return i===1?1:Math.log(e)/Math.log(i)}function Ag(i,e,t){(0,f.isNil)(t)&&(t=Math.max.apply(null,i));var r=t;return(0,f.each)(i,function(n){n>0&&n<r&&(r=n)}),r===t&&(r=t/e),r>1&&(r=1),r}function Og(i){var e=i.toString().split(/[eE]/),t=(e[0].split(".")[1]||"").length-+(e[1]||0);return t>0?t:0}function KS(i,e){var t=Og(i),r=Og(e),n=Math.pow(10,Math.max(t,r));return(i*n+e*n)/n}var ix=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="log",t}return e.prototype.invert=function(t){var r=this.base,n=qs(r,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,u=this.positiveMin;if(u){if(t===0)return 0;s=qs(r,u/r);var l=1/(n-s)*o;if(t<l)return t/l*u}else s=qs(r,this.min);var c=(t-a)/o,d=c*(n-s)+s;return Math.pow(r,d)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){i.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=Ag(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;if(r===n||t<=0)return 0;var a=this.base,o=this.positiveMin;o&&(n=o*1/a);var s;return t<o?s=t/o/(qs(a,r)-qs(a,n)):s=(qs(a,t)-qs(a,n))/(qs(a,r)-qs(a,n)),s},e}(vh),ox=ix,sx=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pow",t}return e.prototype.invert=function(t){var r=this.getInvertPercent(t),n=this.exponent,a=gc(n,this.max),o=gc(n,this.min),s=r*(a-o)+o,u=s>=0?1:-1;return Math.pow(s,n)*u},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;if(r===n)return 0;var a=this.exponent,o=(gc(a,t)-gc(a,n))/(gc(a,r)-gc(a,n));return o},e}(vh),ux=sx,lx=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="time",t}return e.prototype.getText=function(t,r){var n=this.translate(t),a=this.formatter;return a?a(n,r):Cg(n,this.mask)},e.prototype.scale=function(t){var r=t;return((0,f.isString)(r)||(0,f.isDate)(r))&&(r=this.translate(r)),i.prototype.scale.call(this,r)},e.prototype.translate=function(t){return hh(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,r=this.getConfig("min"),n=this.getConfig("max");if((!(0,f.isNil)(r)||!(0,f.isNumber)(r))&&(this.min=this.translate(this.min)),(!(0,f.isNil)(n)||!(0,f.isNumber)(n))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,u=0;(0,f.each)(t,function(l){var c=hh(l);if(isNaN(c))throw new TypeError("Invalid Time: "+l+" in time scale!");o>c?(s=o,o=c):s>c&&(s=c),u<c&&(u=c),a.push(c)}),t.length>1&&(this.minTickInterval=s-o),(0,f.isNil)(r)&&(this.min=o),(0,f.isNil)(n)&&(this.max=u)}},e}(Ld),cx=lx,fx=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="quantize",t}return e.prototype.invert=function(t){var r=this.ticks,n=r.length,a=this.getInvertPercent(t),o=Math.floor(a*(n-1));if(o>=n-1)return(0,f.last)(r);if(o<0)return(0,f.head)(r);var s=r[o],u=r[o+1],l=o/(n-1),c=(o+1)/(n-1);return s+(a-l)/(c-l)*(u-s)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=i.prototype.calculateTicks.call(this);return this.nice||((0,f.last)(t)!==this.max&&t.push(this.max),(0,f.head)(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var r=this.ticks;if(t<(0,f.head)(r))return 0;if(t>(0,f.last)(r))return 1;var n=0;return(0,f.each)(r,function(a,o){if(t>=a)n=o;else return!1}),n/(r.length-1)},e}(vh),Ig=fx,dx=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="quantile",t}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Ig),hx=dx,Dg={};function vx(i){return Dg[i]}function Zu(i,e){if(vx(i))throw new Error("type '"+i+"' existed.");Dg[i]=e}var px=function(i){(0,g.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,f.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var r=this.range;return t<r[0]||t>r[1]?NaN:this.values[0]},e}(sv),gx=px;function Pg(i){var e=i.values,t=i.tickInterval,r=i.tickCount,n=i.showLast;if((0,f.isNumber)(t)){var a=(0,f.filter)(e,function(B,H){return H%t===0}),o=(0,f.last)(e);return n&&(0,f.last)(a)!==o&&a.push(o),a}var s=e.length,u=i.min,l=i.max;if((0,f.isNil)(u)&&(u=0),(0,f.isNil)(l)&&(l=e.length-1),!(0,f.isNumber)(r)||r>=s)return e.slice(u,l+1);if(r<=0||l<=0)return[];for(var c=r===1?s:Math.floor(s/(r-1)),d=[],T=u,I=0;I<r&&!(T>=l);I++)T=Math.min(u+I*c,l),I===r-1&&n?d.push(e[l]):d.push(e[T]);return d}function mx(i){var e=i.min,t=i.max,r=i.nice,n=i.tickCount,a=new yx;return a.domain([e,t]),r&&a.nice(n),a.ticks(n)}var lv=5,Lg=Math.sqrt(50),Ng=Math.sqrt(10),Rg=Math.sqrt(2),yx=function(){function i(){this._domain=[0,1]}return i.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},i.prototype.nice=function(e){var t,r;e===void 0&&(e=lv);var n=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],u=this._domain[o],l;return u<s&&(t=[u,s],s=t[0],u=t[1],r=[o,a],a=r[0],o=r[1]),l=ph(s,u,e),l>0?(s=Math.floor(s/l)*l,u=Math.ceil(u/l)*l,l=ph(s,u,e)):l<0&&(s=Math.ceil(s*l)/l,u=Math.floor(u*l)/l,l=ph(s,u,e)),l>0?(n[a]=Math.floor(s/l)*l,n[o]=Math.ceil(u/l)*l,this.domain(n)):l<0&&(n[a]=Math.ceil(s*l)/l,n[o]=Math.floor(u*l)/l,this.domain(n)),this},i.prototype.ticks=function(e){return e===void 0&&(e=lv),bx(this._domain[0],this._domain[this._domain.length-1],e||lv)},i}();function bx(i,e,t){var r,n=-1,a,o,s;if(e=+e,i=+i,t=+t,i===e&&t>0)return[i];if((r=e<i)&&(a=i,i=e,e=a),(s=ph(i,e,t))===0||!isFinite(s))return[];if(s>0)for(i=Math.ceil(i/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-i+1));++n<a;)o[n]=(i+n)*s;else for(i=Math.floor(i*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(i-e+1));++n<a;)o[n]=(i-n)/s;return r&&o.reverse(),o}function ph(i,e,t){var r=(e-i)/Math.max(0,t),n=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,n);return n>=0?(a>=Lg?10:a>=Ng?5:a>=Rg?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(a>=Lg?10:a>=Ng?5:a>=Rg?2:1)}function kg(i,e,t){var r;return t==="ceil"?r=Math.ceil(i/e):t==="floor"?r=Math.floor(i/e):r=Math.round(i/e),r*e}function cv(i,e,t){var r=kg(i,t,"floor"),n=kg(e,t,"ceil");r=(0,f.fixedBase)(r,t),n=(0,f.fixedBase)(n,t);for(var a=[],o=Math.max((n-r)/(Math.pow(2,12)-1),t),s=r;s<=n;s=s+o){var u=(0,f.fixedBase)(s,o);a.push(u)}return{min:r,max:n,ticks:a}}function fv(i,e,t){var r,n=i.minLimit,a=i.maxLimit,o=i.min,s=i.max,u=i.tickCount,l=u===void 0?5:u,c=(0,f.isNil)(n)?(0,f.isNil)(e)?o:e:n,d=(0,f.isNil)(a)?(0,f.isNil)(t)?s:t:a;if(c>d&&(r=[c,d],d=r[0],c=r[1]),l<=2)return[c,d];for(var T=(d-c)/(l-1),I=[],B=0;B<l;B++)I.push(c+T*B);return I}function xx(i){var e=i.min,t=i.max,r=i.tickInterval,n=i.minLimit,a=i.maxLimit,o=mx(i);return!(0,f.isNil)(n)||!(0,f.isNil)(a)?fv(i,(0,f.head)(o),(0,f.last)(o)):r?cv(e,t,r).ticks:o}function ef(i){return Math.abs(i)<1e-15?i:parseFloat(i.toFixed(15))}var Ex=[1,5,2,2.5,4,3],$S=null,Bg=Number.EPSILON*100;function wx(i,e){return(i%e+e)%e}function Sx(i){return Math.round(i*1e12)/1e12}function Mx(i,e,t,r,n,a){var o=(0,f.size)(e),s=(0,f.indexOf)(e,i),u=0,l=wx(r,a);return(l<Bg||a-l<Bg)&&r<=0&&n>=0&&(u=1),1-s/(o-1)-t+u}function _x(i,e,t){var r=(0,f.size)(e),n=(0,f.indexOf)(e,i),a=1;return 1-n/(r-1)-t+a}function Cx(i,e,t,r,n,a){var o=(i-1)/(a-n),s=(e-1)/(Math.max(a,r)-Math.min(t,n));return 2-Math.max(o/s,s/o)}function Tx(i,e){return i>=e?2-(i-1)/(e-1):1}function Ax(i,e,t,r){var n=e-i;return 1-.5*(Math.pow(e-r,2)+Math.pow(i-t,2))/Math.pow(.1*n,2)}function Ox(i,e,t){var r=e-i;if(t>r){var n=(t-r)/2;return 1-Math.pow(n,2)/Math.pow(.1*r,2)}return 1}function Ix(){return 1}function Dx(i,e,t,r,n,a){t===void 0&&(t=5),r===void 0&&(r=!0),n===void 0&&(n=Ex),a===void 0&&(a=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(i)||Number.isNaN(e)||typeof i!="number"||typeof e!="number"||!o)return{min:0,max:0,ticks:[]};if(e-i<1e-15||o===1)return{min:i,max:e,ticks:[i]};if(e-i>1e148){var s=t||5,u=(e-i)/s;return{min:i,max:e,ticks:Array(s).fill(null).map(function(On,In){return ef(i+u*In)})}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var d=0;d<n.length;d+=1){var T=n[d],I=_x(T,n,c);if(a[0]*I+a[1]+a[2]+a[3]<l.score){c=1/0;break}for(var B=2;B<1/0;){var H=Tx(B,o);if(a[0]*I+a[1]+a[2]*H+a[3]<l.score)break;for(var tt=(e-i)/(B+1)/c/T,lt=Math.ceil(Math.log10(tt));lt<1/0;){var dt=c*T*Math.pow(10,lt),gt=Ox(i,e,dt*(B-1));if(a[0]*I+a[1]*gt+a[2]*H+a[3]<l.score)break;var _t=Math.floor(e/dt)*c-(B-1)*c,Ht=Math.ceil(i/dt)*c;if(_t<=Ht)for(var s=Ht-_t,oe=0;oe<=s;oe+=1){var ie=_t+oe,Ee=ie*(dt/c),Re=Ee+dt*(B-1),Ae=dt,Ve=Mx(T,n,c,Ee,Re,Ae),sr=Ax(i,e,Ee,Re),tn=Cx(B,o,i,e,Ee,Re),Tn=Ix(),pn=a[0]*Ve+a[1]*sr+a[2]*tn+a[3]*Tn;pn>l.score&&(!r||Ee<=i&&Re>=e)&&(l.lmin=Ee,l.lmax=Re,l.lstep=Ae,l.score=pn)}lt+=1}B+=1}}c+=1}var Vr=ef(l.lmax),Gn=ef(l.lmin),Rn=ef(l.lstep),Hr=Math.floor(Sx((Vr-Gn)/Rn))+1,hn=new Array(Hr);hn[0]=ef(Gn);for(var d=1;d<Hr;d++)hn[d]=ef(hn[d-1]+Rn);return{min:Math.min(i,(0,f.head)(hn)),max:Math.max(e,(0,f.last)(hn)),ticks:hn}}function Px(i){var e=i.min,t=i.max,r=i.tickCount,n=i.nice,a=i.tickInterval,o=i.minLimit,s=i.maxLimit,u=Dx(e,t,r,n).ticks;return!(0,f.isNil)(o)||!(0,f.isNil)(s)?fv(i,(0,f.head)(u),(0,f.last)(u)):a?cv(e,t,a).ticks:u}function Lx(i){var e=i.base,t=i.tickCount,r=i.min,n=i.max,a=i.values,o,s=qs(e,n);if(r>0)o=Math.floor(qs(e,r));else{var u=Ag(a,e,n);o=Math.floor(qs(e,u))}for(var l=s-o,c=Math.ceil(l/t),d=[],T=o;T<s+c;T=T+c)d.push(Math.pow(e,T));return r<=0&&d.unshift(0),d}function Fg(i,e,t){if(t===void 0&&(t=5),i===e)return{max:e,min:i,ticks:[i]};var r=t<0?0:Math.round(t);if(r===0)return{max:e,min:i,ticks:[]};var n=1.5,a=.5+1.5*n,o=e-i,s=o/r,u=Math.pow(10,Math.floor(Math.log10(s))),l=u;2*u-s<n*(s-l)&&(l=2*u,5*u-s<a*(s-l)&&(l=5*u,10*u-s<n*(s-l)&&(l=10*u)));for(var c=Math.ceil(e/l),d=Math.floor(i/l),T=Math.max(c*l,e),I=Math.min(d*l,i),B=Math.floor((T-I)/l)+1,H=new Array(B),tt=0;tt<B;tt++)H[tt]=ef(I+tt*l);return{min:I,max:T,ticks:H}}function Nx(i){var e=i.exponent,t=i.tickCount,r=Math.ceil(gc(e,i.max)),n=Math.floor(gc(e,i.min)),a=Fg(n,r,t).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,e)*s})}function Rx(i,e){var t=i.length*e;return e===1?i[i.length-1]:e===0?i[0]:t%1!==0?i[Math.ceil(t)-1]:i.length%2===0?(i[t-1]+i[t])/2:i[t]}function kx(i){var e=i.tickCount,t=i.values;if(!t||!t.length)return[];for(var r=t.slice().sort(function(s,u){return s-u}),n=[],a=0;a<e;a++){var o=a/(e-1);n.push(Rx(r,o))}return n}function Bx(i){var e=i.min,t=i.max,r=i.tickCount,n=i.tickInterval,a=i.minLimit,o=i.maxLimit,s=Fg(e,t,r).ticks;return!(0,f.isNil)(a)||!(0,f.isNil)(o)?fv(i,(0,f.head)(s),(0,f.last)(s)):n?cv(e,t,n).ticks:s}function Fx(i){var e=i.min,t=i.max,r=i.minTickInterval,n=i.tickInterval,a=i.tickCount;if(n)a=Math.ceil((t-e)/n);else{n=tx(e,t,a)[1];var o=(t-e)/n,s=o/a;s>1&&(n=n*Math.ceil(s)),r&&n<r&&(n=r)}n=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),n);for(var u=[],l=e;l<t+n;l+=n)u.push(l);return u}function zx(i){var e=Pg((0,g.__assign)({showLast:!0},i));return e}function gh(i){return new Date(i).getFullYear()}function Gx(i){return new Date(i,0,1).getTime()}function dv(i){return new Date(i).getMonth()}function Ux(i,e){var t=gh(i),r=gh(e),n=dv(i),a=dv(e);return(r-t)*12+(a-n)%12}function Wx(i,e){return new Date(i,e,1).getTime()}function Yx(i,e){return Math.ceil((e-i)/Tl)}function Xx(i,e){return Math.ceil((e-i)/tf)}function jx(i,e){return Math.ceil((e-i)/(60*1e3))}function Vx(i){var e=i.min,t=i.max,r=i.minTickInterval,n=i.tickCount,a=i.tickInterval,o=[];a||(a=(t-e)/n,r&&a<r&&(a=r)),a=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),a);var s=gh(e);if(a>Tg)for(var u=gh(t),l=Math.ceil(a/Tg),c=s;c<=u+l;c=c+l)o.push(Gx(c));else if(a>Dd)for(var d=Math.ceil(a/Dd),T=dv(e),I=Ux(e,t),c=0;c<=I+d;c=c+d)o.push(Wx(s,c+T));else if(a>Tl)for(var B=new Date(e),H=B.getFullYear(),tt=B.getMonth(),lt=B.getDate(),dt=Math.ceil(a/Tl),gt=Yx(e,t),c=0;c<gt+dt;c=c+dt)o.push(new Date(H,tt,lt+c).getTime());else if(a>tf)for(var B=new Date(e),H=B.getFullYear(),tt=B.getMonth(),dt=B.getDate(),_t=B.getHours(),Ht=Math.ceil(a/tf),oe=Xx(e,t),c=0;c<=oe+Ht;c=c+Ht)o.push(new Date(H,tt,dt,_t+c).getTime());else if(a>Jc)for(var ie=jx(e,t),Ee=Math.ceil(a/Jc),c=0;c<=ie+Ee;c=c+Ee)o.push(e+c*Jc);else{var Re=a;Re<yu&&(Re=yu);for(var Ae=Math.floor(e/yu)*yu,Ve=Math.ceil((t-e)/yu),sr=Math.ceil(Re/yu),c=0;c<Ve+sr;c=c+sr)o.push(Ae+c*yu)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}Hu("cat",Pg),Hu("time-cat",zx),Hu("wilkinson-extended",Px),Hu("r-pretty",Bx),Hu("time",Fx),Hu("time-pretty",Vx),Hu("log",Lx),Hu("pow",Nx),Hu("quantile",kx),Hu("d3-linear",xx),Zu("cat",Od),Zu("category",Od),Zu("identity",gx),Zu("linear",Ld),Zu("log",ox),Zu("pow",ux),Zu("time",cx),Zu("timeCat",rx),Zu("quantize",Ig),Zu("quantile",hx);var Hx=function(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,a;r<n;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return i.concat(a||Array.prototype.slice.call(e))};function Zx(i){return(0,f.map)(i,function(e,t){var r=t===0?"M":"L",n=e[0],a=e[1];return[r,n,a]})}function zg(i){return Zx(i)}function Kx(i){if(i.length<=2)return zg(i);var e=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=ya(e,!1),r=(0,f.head)(i),n=r[0],a=r[1];return t.unshift(["M",n,a]),t}function $x(i,e,t,r){r===void 0&&(r=!0);var n=new Ld({values:i}),a=new Od({values:(0,f.map)(i,function(s,u){return u})}),o=(0,f.map)(i,function(s,u){return[a.scale(u)*e,t-n.scale(s)*t]});return r?Kx(o):zg(o)}function Qx(i,e,t,r){r===void 0&&(r=5);for(var n=new Ld({values:i}),a=new Od({values:(0,f.map)(i,function(T,I){return I})}),o=(0,f.map)(i,function(T,I){return[a.scale(I)*e,t-n.scale(T)*t]}),s=[],u=0;u<o.length;u++){var l=o[u],c={x:l[0],y:l[1],y0:t,size:r},d=tE(c);s.push.apply(s,d)}return eE(s)}function qx(i,e){var t=new Ld({values:i}),r=Math.max(0,t.min);return e-t.scale(r)*e}function Jx(i,e,t,r){var n=Hx([],i,!0),a=qx(r,t);return n.push(["L",e,a]),n.push(["L",0,a]),n.push(["Z"]),n}function tE(i){var e=i.x,t=i.y,r=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=r,o=t);var s,u;(0,f.isArray)(e)?(s=e[0],u=e[1]):(s=e-n/2,u=e+n/2);var l=[{x:s,y:a},{x:s,y:o}];return l.push({x:u,y:o},{x:u,y:a}),l}function eE(i,e){e===void 0&&(e=!0);var t=[],r=i[0];t.push(["M",r.x,r.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return e&&(t.push(["L",r.x,r.y]),t.push(["z"])),t}var Nd=function(){return Nd=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Nd.apply(this,arguments)},rE={stroke:"#C5C5C5",strokeOpacity:.85},nE={fill:"#CACED4",opacity:.85},aE=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.width,s=o===void 0?200:o,u=e.height,l=u===void 0?26:u,c=e.smooth,d=c===void 0?!0:c,T=e.isArea,I=T===void 0?!1:T,B=e.data,H=B===void 0?[]:B,tt=e.lineStyle,lt=e.areaStyle,dt=e.group,gt=e.interval,_t=gt===void 0?null:gt;this.group=dt,this.x=r,this.y=a,this.width=s,this.height=l,this.data=H,this.smooth=d,this.isArea=I,this.lineStyle=Object.assign({},rE,tt),this.areaStyle=Object.assign({},nE,lt),this.intervalConfig=_t,this.renderLine()}return i.prototype.renderLine=function(){var e=this,t=e.x,r=e.y,n=e.width,a=e.height,o=e.barWidth,s=e.data,u=e.smooth,l=e.isArea,c=e.lineStyle,d=e.areaStyle,T=this.group.addGroup({name:"trend-group"});if(s){var I=$x(s,n,a,u);if(T.addShape("path",{attrs:Nd({path:I},c),name:"trend-line"}),l){var B=Jx(I,n,a,s);T.addShape("path",{attrs:Nd({path:B},d),name:"trend-area"})}}this.intervalConfig&&T.addShape("path",{attrs:Nd({path:Qx(this.intervalConfig.data,n,a,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),T.move(t,r)},i.prototype.destory=function(){this.group.destroy()},i}(),iE=aE,td=function(){return td=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},td.apply(this,arguments)},oE={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},sE={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},uE=function(){function i(e){var t=e.group,r=e.name,n=e.type,a=e.x,o=a===void 0?0:a,s=e.y,u=s===void 0?0:s,l=e.width,c=l===void 0?2:l,d=e.height,T=d===void 0?24:d,I=e.style,B=I===void 0?{}:I;this.group=t,this.name=r,this.handleType=n,this.x=o,this.y=u,this.width=c,this.height=T,n==="trend"?this.style=td(td({},oE),B):n==="simple"&&(this.style=td(td({},sE),B)),this.renderHandle()}return i.prototype.setX=function(e){this.setXY(e,void 0)},i.prototype.setY=function(e){this.setXY(void 0,e)},i.prototype.setXY=function(e,t){(0,f.isNumber)(e)&&(this.x=e),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var e=this,t=e.width,r=e.height,n=e.style,a=e.name,o=n.fill,s=n.stroke,u=n.radius,l=n.opacity,c=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:r,fill:o,stroke:s,radius:u,opacity:l,cursor:c},name:"".concat(a,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c,lineAppendWidth:12},name:"".concat(a,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c},name:"".concat(a,"-handler")})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r/2,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c,lineWidth:2},name:"".concat(a,"-handler")})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},i.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var r=e.style.highLightFill;e.topCircle.attr("fill",r)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var r=e.style.fill;e.topCircle.attr("fill",r)})},i.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var r=e.style.highLightFill;e.verticalLine.attr("fill",r),e.topCircle.attr("fill",r),e.bottomCircle.attr("fill",r)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var r=e.style.fill;e.verticalLine.attr("fill",r),e.topCircle.attr("fill",r),e.bottomCircle.attr("fill",r)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),Gg=uE,Ug="timebarstartplay",Wg="timebarendplay",Ku="valuechange",rf="timebarConfigChanged",mc="playPauseBtn",Rd="nextStepBtn",kd="preStepBtn",hv=function(){return hv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},hv.apply(this,arguments)},lE=function(){function i(e){this.config=(0,f.deepMix)({},e),this.init()}return i.prototype.update=function(e){this.config=(0,f.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var e=this.config,t=e.group,r=e.style,n=r.scale,a=n===void 0?1:n,o=r.offsetX,s=o===void 0?0:o,u=r.offsetY,l=u===void 0?0:u,c=this.config.x+s,d=this.config.y+l,T=t.addGroup({name:mc});this.startMarkerGroup=T.addGroup({name:mc}),this.circle=t.addShape("circle",{attrs:hv({x:c,y:d,r:this.config.r*a},r),name:mc}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(c,d,a),fill:r.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=T.addGroup({name:mc});var I=.25*this.config.r*a,B=.5*this.config.r*Math.sqrt(3)*a;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c-.375*this.config.r*a,y:d-B/2,width:I,height:B,fill:r.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c+1/8*this.config.r*a,y:d-B/2,width:I,height:B,fill:r.stroke||"#aaa",lineWidth:0}})},i.prototype.updateElement=function(){var e=this.config.style,t=e.scale,r=t===void 0?1:t,n=e.offsetX,a=n===void 0?0:n,o=e.offsetY,s=o===void 0?0:o,u=this.config.x+a,l=this.config.y+s;this.circle.attr("x",u),this.circle.attr("y",l),this.circle.attr("r",this.config.r*r),this.startMarker.attr("path",this.getStartMarkerPath(u,l,r));var c=.25*this.config.r*r,d=.5*this.config.r*Math.sqrt(3)*r;this.pauseLeftMarker.attr("x",u-(1/4+1/8)*this.config.r*r),this.pauseLeftMarker.attr("y",l-d/2),this.pauseLeftMarker.attr("width",c),this.pauseLeftMarker.attr("height",d),this.pauseRightMarker.attr("x",u+1/8*this.config.r*r),this.pauseRightMarker.attr("y",l-d/2),this.pauseRightMarker.attr("width",c),this.pauseRightMarker.attr("height",d)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},i.prototype.getStartMarkerPath=function(e,t,r){var n=.5*this.config.r*Math.sqrt(3)*r;return[["M",e-n/Math.sqrt(3)/2,t-n/2],["L",e+n/Math.sqrt(3),t],["L",e-n/Math.sqrt(3)/2,t+n/2]]},i}(),cE=lE,ko=function(){return ko=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},ko.apply(this,arguments)},Bd=ht,fE="#aaa",dE="green",hE={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},vE={fill:"#fff"},pE={fill:"green"},Yg={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},Xg={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},gE={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Yg,timeTypeControllerStyle:Xg},vv=110,yc=50,$u={SINGLE:"single",RANGE:"range"},mE=function(){function i(e){this.controllerCfg=(0,f.deepMix)({},gE,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||$u.RANGE,this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e+r,t],["L",e,t+r],["Z",e,t-r],["M",e,t],["L",e-r,t-r],["L",e-r,t+r],["Z"]]},i.prototype.getPreMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e-r,t],["L",e,t+r],["L",e,t-r],["M",e,t],["L",e+r,t-r],["L",e+r,t+r],["Z"]]},i.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,r=e.height,n=e.x,a=e.y,o=e.hideTimeTypeController,s=e.fill,u=s===void 0?fE:s,l=e.stroke,c=l===void 0?dE:l,d=e.containerStyle,T=d===void 0?{}:d,I=ko(ko({},hE),e.playBtnStyle||{}),B=ko(ko({},vE),e.preBtnStyle||{}),H=ko(ko({},pE),e.nextBtnStyle||{}),tt=r/2-5,lt=a+10,dt=this.controllerGroup.addShape("rect",{attrs:ko({x:n,y:lt,width:t,height:r,stroke:c,fill:u},T),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:lt,r:tt}):this.playButton=new cE({group:this.controllerGroup,x:t/2,y:lt+tt+5,r:tt,isPlay:this.isPlay,style:I});var gt=B.offsetX||0,_t=B.offsetY||0,Ht=(B.scale||1)*tt;this.controllerGroup.addShape("path",{attrs:ko({path:this.getPreMarkerPath(t/2-5*tt+gt,lt+tt+5+_t,Ht*.5)},B),name:kd});var oe=H.offsetX||0,ie=H.offsetY||0,Ee=(H.scale||1)*tt;this.controllerGroup.addShape("path",{attrs:ko({path:this.getNextMarkerPath(t/2+5*tt+oe,lt+tt+5+ie,Ee*.5)},H),name:Rd}),dt.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var Re=this.controllerCfg.scale,Ae=Re===void 0?1:Re,Ve=this.controllerGroup.getCanvasBBox(),sr=(Ve.maxX+Ve.minX)/2,tn=(Ve.maxY+Ve.minY)/2,Tn=Bd([1,0,0,0,1,0,0,0,1],[["t",-sr,-tn],["s",Ae,Ae],["t",sr,tn]]);this.controllerGroup.setMatrix(Tn)},i.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,r=e.width,n=e.hideTimeTypeController,a=ko(ko({},Yg),this.controllerCfg.speedControllerStyle||{}),o=a.scroller,s=o===void 0?{}:o,u=a.text,l=u===void 0?{}:u,c=a.pointer,d=c===void 0?{}:c,T=a.scale,I=T===void 0?1:T,B=a.offsetX,H=B===void 0?0:B,tt=a.offsetY,lt=tt===void 0?0:tt,dt=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=dt;var gt=[],_t=5;this.speedAxisY=[19,22,26,32,39];for(var Ht=0;Ht<5;Ht++){var oe=t+this.speedAxisY[Ht],ie=r-(n?yc:vv);dt.addShape("line",{attrs:ko({x1:ie,x2:ie+15,y1:oe,y2:oe},s),speed:_t,name:"speed-rect"}),this.speedAxisY[Ht]=oe,gt.push(_t),_t=_t-1}this.speedText=dt.addShape("text",{attrs:ko({x:r-(n?yc:vv)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},l),name:"speed-text"}),this.speedPoint=dt.addShape("path",{attrs:ko({path:this.getPointerPath(r-(n?yc:vv),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},d),name:"speed-pointer"});var Ee=this.speedGroup.getCanvasBBox(),Re=(Ee.maxX+Ee.minX)/2,Ae=(Ee.maxY+Ee.minY)/2,Ve=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Ve=Bd(Ve,[["t",-Re,-Ae],["s",I,I],["t",Re+H*I,Ae+lt*I]]),this.speedGroup.setMatrix(Ve)},i.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},i.prototype.renderToggleTime=function(){var e,t,r=this.controllerCfg,n=r.width,a=r.defaultTimeType,o=ko(ko({},Xg),this.controllerCfg.timeTypeControllerStyle||{}),s=o.scale,u=s===void 0?1:s,l=o.offsetX,c=l===void 0?0:l,d=o.offsetY,T=d===void 0?0:d,I=o.box,B=I===void 0?{}:I,H=o.check,tt=H===void 0?{}:H,lt=o.text,dt=lt===void 0?{}:lt;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var gt=a===$u.SINGLE;this.toggleGroup.addShape("rect",{attrs:ko({x:n-yc,y:this.speedAxisY[0]+3.5},B),isChecked:gt,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:ko({path:[["M",n-yc+3,this.speedAxisY[1]+6],["L",n-yc+7,this.speedAxisY[1]+10],["L",n-yc+12,this.speedAxisY[1]+4]]},tt),capture:!1,name:"check-icon"}),gt||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:ko({text:gt?((e=this.controllerCfg)===null||e===void 0?void 0:e.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4":((t=this.controllerCfg)===null||t===void 0?void 0:t.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:n-yc+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},dt),name:"checked-text"});var _t=this.toggleGroup.getCanvasBBox(),Ht=(_t.maxX+_t.minX)/2,oe=(_t.maxY+_t.minY)/2,ie=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];ie=Bd(ie,[["t",-Ht,-oe],["s",u,u],["t",Ht+c*u,oe+T*u]]),this.toggleGroup.setMatrix(ie)},i.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",function(t){var r=t.target.attr("y1"),n=e.speedPoint.attr("matrix"),a=e.speedAxisY.indexOf(n[7]||0),o=e.speedAxisY.indexOf(r),s=e.speedAxisY[o]-e.speedAxisY[a];n=Bd(n,[["t",0,s]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(rf,{speed:e.currentSpeed,type:e.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var r=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],n=r[7],a=e.speedAxisY.indexOf(n);if(a===-1){var o=1/0;e.speedAxisY.forEach(function(u,l){var c=Math.abs(u-n);o>c&&(o=c,a=l)})}t.originalEvent.deltaY>0?a=Math.max(0,a-1):a=Math.min(e.speedAxisY.length-1,a+1);var s=e.speedAxisY[a]-n;r=Bd(r,[["t",0,s]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-a,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(rf,{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var r,n,a=t.target.get("isChecked");a?(e.checkedIcon.hide(),e.checkedText.attr("text",((n=e.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),e.currentType=$u.RANGE):(e.checkedIcon.show(),e.checkedText.attr("text",((r=e.controllerCfg)===null||r===void 0?void 0:r.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),e.currentType=$u.SINGLE),t.target.set("isChecked",!a),e.group.emit(rf,{type:e.currentType,speed:e.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),jg=mE,ao=function(){return ao=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},ao.apply(this,arguments)},yE=ht,bE={fill:"#416180",opacity:.05},xE={fill:"#416180",opacity:.15,radius:5},EE={fill:"#5B8FF9",opacity:.3,cursor:"grab"},pv=2,wE={width:pv,height:24},SE={textBaseline:"middle",fill:"#000",opacity:.45},ME={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},_E={lineWidth:1,stroke:"#ccc"},CE=function(){function i(e){var t=this;this.prevX=0,this.onMouseDown=function(On){return function(In){t.currentHandler=On;var jn=In.originalEvent;jn.stopPropagation(),jn.preventDefault(),t.prevX=(0,f.get)(jn,"touches.0.pageX",jn.pageX);var ea=t.canvas.get("container");ea.addEventListener("mousemove",t.onMouseMove),ea.addEventListener("mouseup",t.onMouseUp),ea.addEventListener("mouseleave",t.onMouseUp),ea.addEventListener("touchmove",t.onMouseMove),ea.addEventListener("touchend",t.onMouseUp),ea.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(On){On.stopPropagation(),On.preventDefault();var In=(0,f.get)(On,"touches.0.pageX",On.pageX),jn=In-t.prevX,ea=t.adjustOffsetRange(jn/t.width);t.updateStartEnd(ea),t.updateUI(),t.prevX=In},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var On=t.canvas.get("container");On&&(On.removeEventListener("mousemove",t.onMouseMove),On.removeEventListener("mouseup",t.onMouseUp),On.removeEventListener("mouseleave",t.onMouseUp),On.removeEventListener("touchmove",t.onMouseMove),On.removeEventListener("touchend",t.onMouseUp),On.removeEventListener("touchcancel",t.onMouseUp))};var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.width,u=s===void 0?100:s,l=e.height,c=e.padding,d=c===void 0?10:c,T=e.trendCfg,I=e.controllerCfg,B=I===void 0?{speed:1}:I,H=e.backgroundStyle,tt=H===void 0?{}:H,lt=e.foregroundStyle,dt=lt===void 0?{}:lt,gt=e.handlerStyle,_t=gt===void 0?{}:gt,Ht=e.textStyle,oe=Ht===void 0?{}:Ht,ie=e.start,Ee=ie===void 0?0:ie,Re=e.end,Ae=Re===void 0?1:Re,Ve=e.minText,sr=Ve===void 0?"":Ve,tn=e.maxText,Tn=tn===void 0?"":tn,pn=e.group,Vr=e.graph,Gn=e.canvas,Rn=e.tick,Hr=Rn===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(In){return In},ticks:[]}:Rn,hn=e.type;this.graph=Vr,this.canvas=Gn,this.group=pn,this.timeBarType=hn,this.x=n,this.y=o,this.width=u,this.height=l,this.padding=d,this.ticks=Hr.ticks,this.trendCfg=T,this.controllerCfg=B,this.currentSpeed=B.speed||1,this.tickLabelFormatter=Hr.tickLabelFormatter,hn==="trend"?this.backgroundStyle=ao(ao({},bE),tt):hn==="simple"&&(this.backgroundStyle=ao(ao({},xE),tt)),this.foregroundStyle=ao(ao({},EE),dt),this.handlerStyle=ao(ao({},wE),_t),this.textStyle=ao(ao({},SE),oe),this.tickLabelStyle=ao(ao({},ME),Hr.tickLabelStyle),this.tickLineStyle=ao(ao({},_E),Hr.tickLineStyle),this.currentMode=B.defaultTimeType||$u.RANGE,this.start=Ee,this.end=Ae,this.minText=sr,this.maxText=Tn,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return i.prototype.update=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=e.minText,s=e.maxText,u=e.start,l=e.end;this.start=Math.min(1,Math.max(u,0)),this.end=Math.min(1,Math.max(l,0)),(0,f.assign)(this,{x:t,y:r,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var e=this,t=this,r=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new iE(ao(ao({x:this.x,y:this.y,width:r,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:ao({x:0,y:0,width:r,height:n},this.backgroundStyle),name:"background"});var u=this.group.addGroup();a==="trend"?(this.minTextShape=u.addShape("text",{attrs:ao({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=u.addShape("text",{attrs:ao({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=u.addShape("text",{attrs:ao({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=u.addShape("text",{attrs:ao({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:ao({x:0,y:this.y,height:n},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(lt){lt.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(lt){lt.target.attr("cursor",e.foregroundStyle.cursor||"grab")});var l=(0,f.get)(this.handlerStyle,"width",2),c=(0,f.get)(this.handlerStyle,"height",24),d=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Gg({name:"minHandlerShape",group:d,type:a,x:this.x,y:this.y,width:l,height:c,style:this.handlerStyle});var T=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Gg({name:"maxHandlerShape",group:T,type:a,x:this.x,y:this.y,width:l,height:c,style:this.handlerStyle});var I=this.ticks,B=r/(I.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(lt){lt.destroy()});var H=-1/0,tt=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=I.map(function(lt,dt){e.tickPosList.push(e.x+dt*B);var gt;e.tickLabelFormatter?(gt=e.tickLabelFormatter(lt),!(0,f.isString)(gt)&&gt&&(gt=lt.date)):gt=lt.date;var _t=e.x+dt*B,Ht=e.y+n+5,oe=e.group.addShape("text",{attrs:ao({x:_t,y:Ht,text:gt,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,f.isNumber)(tt)&&dt!==I.length-1){var ie=yE([1,0,0,0,1,0,0,0,1],[["t",-_t,-Ht],["r",tt],["t",_t-5,Ht+2]]);oe.attr({textAlign:"left",matrix:ie})}dt===0?oe.attr({textAlign:"left"}):dt!==I.length-1&&oe.attr({textAlign:"right"});var Ee=e.group.addShape("line",{attrs:ao({x1:e.x+dt*B,y1:e.y+n+2,x2:e.x+dt*B,y2:e.y+n+6},e.tickLineStyle),name:"tick-line"});Ee.toBack();var Re=oe.getBBox();return Re.minX>H?(oe.show(),Ee.show(),H=Re.minX+Re.width+10):(oe.hide(),Ee.hide()),oe}),this.controllerBtnGroup=new jg(ao({group:this.group,x:this.x,y:this.y+n+25,width:r,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),s.move(this.x,this.y),this.bindEvents(),this.currentMode===$u.SINGLE&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},i.prototype.bindEvents=function(){var e=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var r=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),r.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(mc,":click"),function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on("".concat(Rd,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on("".concat(kd,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on(rf,function(n){var a=n.type,o=n.speed;e.currentSpeed=o,e.currentMode=a,a===$u.SINGLE?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):a===$u.RANGE&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},i.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},i.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,r=1-this.start;return Math.min(r,Math.max(t,e))}case this.maxHandlerShape:{var t=0-this.end,r=1-this.end;return Math.min(r,Math.max(t,e))}case this.foregroundShape:{var t=0-this.start,r=1-this.end;return Math.min(r,Math.max(t,e))}default:return 0}},i.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],r=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t==null?void 0:t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r==null?void 0:r.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;default:break}},i.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,r=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",r-t);var n=(0,f.get)(this.handlerStyle,"width",pv);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,r]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(u,l){return e.minTextShape.attr(l,u)}),this.maxHandlerShape.setX(r-n/2),(0,f.each)(s,function(u,l){return e.maxTextShape.attr(l,u)}),this.currentMode===$u.RANGE?this.graph.emit(Ku,{value:[this.start,this.end].sort()}):this.currentMode===$u.SINGLE&&this.graph.emit(Ku,{value:[this.end,this.end]})},i.prototype.dodgeText=function(e){var t,r,n=2,a=(0,f.get)(this.handlerStyle,"width",pv),o=this.minTextShape,s=this.maxTextShape,u=e[0],l=e[1],c=!1;u>l&&(t=[l,u],u=t[0],l=t[1],r=[s,o],o=r[0],s=r[1],c=!0);var d=o.getBBox(),T=s.getBBox(),I=null,B=null;return this.timeBarType==="trend"?(I=u-d.width<this.x+n?{x:u+a/2+n,textAlign:"left"}:{x:u-a/2-n,textAlign:"right"},B=l+T.width>this.x+this.width?{x:l-a/2-n,textAlign:"right"}:{x:l+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(I=o.attr("x")>d.width?{x:u,textAlign:"center"}:{x:u,textAlign:"left"},B=s.attr("x")>this.width-T.width?{x:l,textAlign:"right"}:{x:l,textAlign:"center"}),c?[B,I]:[I,B]},i.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e,r=t.ticks,n=t.width,a=e.currentSpeed,o=n/r.length,s=o/((10-a)*1e3/60),u=e.adjustOffsetRange(s/e.width);e.updateStartEnd(u),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())}):void 0},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(Ug,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(Wg,null))},i.prototype.destory=function(){this.graph.off(Ku,function(){});var e=this.group,t=e.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var r=e.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.off("maxHandlerShape-handler:mousedown"),r.off("maxHandlerShape-handler:touchstart"),r.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(mc,":click")),e.off("".concat(Rd,":click")),e.off("".concat(kd,":click")),e.off(rf),e.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),TE=CE,QS={opacity:.5,fill:"#000"},qS={opacity:.5,fill:"#000",r:5},JS={fill:"#fff",fontSize:12},AE=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.container,s=e.text,u=e.padding,l=u===void 0?[4,4,4,4]:u,c=e.className,d=c===void 0?"g6-component-timebar-tooltip":c,T=e.backgroundColor,I=T===void 0?"#000":T,B=e.textColor,H=B===void 0?"#fff":B,tt=e.opacity,lt=tt===void 0?.8:tt,dt=e.fontSize,gt=dt===void 0?12:dt;this.container=o,this.className=d,this.backgroundColor=I,this.textColor=H,this.x=r,this.y=a,this.text=s,this.padding=l,this.opacity=lt,this.fontSize=gt,this.render()}return i.prototype.render=function(){var e=this,t=e.className,r=e.x,n=e.y,a=e.backgroundColor,o=e.textColor,s=e.text,u=e.padding,l=e.opacity,c=e.fontSize,d=e.container,T=ho("<div class='".concat(t,`' style="position: absolute; width: fit-content; height: fit-content; opacity: `).concat(l,'"></div>'));(0,f.isString)(d)&&(d=document.getElementById(d)),d.appendChild(T),e.parentHeight=d.offsetHeight,e.parentWidth=d.offsetWidth,Va(T,{visibility:"hidden",top:0,left:0});var I=ho(`
      <div style='position: absolute; white-space:nowrap; background-color: `.concat(a,"; font-size: ").concat(c,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(o,"; padding: ").concat(u[0],"px ").concat(u[1],"px ").concat(u[2],"px ").concat(u[3],"px'></div>"));I.innerHTML=s,T.appendChild(I),e.backgroundDOM=I;var B=ho("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(a,"'></div>"));T.appendChild(B),e.arrowDOM=B,e.container=T},i.prototype.show=function(e){var t=this,r=e.text,n=e.x,a=e.y,o=e.clientX,s=e.clientY;t.backgroundDOM.innerHTML=r;var u=t.backgroundDOM.offsetWidth,l=t.backgroundDOM.offsetHeight,c=t.arrowDOM.offsetWidth,d=t.arrowDOM.offsetHeight;Va(t.container,{top:"".concat(-l-d,"px"),left:"".concat(n,"px"),visibility:"visible"}),Va(t.backgroundDOM,{marginLeft:"".concat(-u/2,"px")}),Va(t.arrowDOM,{marginLeft:"".concat(-c/2,"px"),top:"".concat(l,"px")});var T=n-u/2,I=n+u/2;T<0?Va(t.backgroundDOM,{marginLeft:"".concat(-u/2-T,"px")}):I>t.parentWidth&&Va(t.backgroundDOM,{marginLeft:"".concat(-u/2-I+t.parentWidth+12,"px")})},i.prototype.hide=function(){Va(this.container,{top:0,left:0,visibility:"hidden"})},i}(),OE=AE,Fd=function(){return Fd=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Fd.apply(this,arguments)},IE=ht,DE={fill:"#5B8FF9"},PE={fill:"#e6e8e9"},LE=function(){function i(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,r=e.canvas,n=e.group,a=e.width,o=e.height,s=e.padding,u=e.data,l=e.start,c=e.end,d=e.x,T=d===void 0?0:d,I=e.y,B=I===void 0?0:I,H=e.tickLabelFormatter,tt=e.selectedTickStyle,lt=tt===void 0?DE:tt,dt=e.unselectedTickStyle,gt=dt===void 0?PE:dt,_t=e.tooltipBackgroundColor,Ht=e.tooltipFomatter,oe=e.tickLabelStyle,ie=e.controllerCfg,Ee=ie===void 0?{speed:1}:ie;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=r,this.width=a,this.height=o,this.padding=s,this.data=u,this.start=l,this.end=c,this.tickLabelFormatter=H,this.tickLabelStyle=oe||{},this.selectedTickStyle=lt,this.unselectedTickStyle=gt,this.controllerCfg=Ee,this.currentSpeed=Ee.speed||1,this.x=T,this.y=B,this.tooltipBackgroundColor=_t,this.tooltipFomatter=Ht,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var e=this,t=this,r=t.width,n=t.height,a=t.padding,o=t.data,s=t.start,u=t.end,l=t.tickLabelFormatter,c=t.selectedTickStyle,d=t.unselectedTickStyle,T=t.tickLabelStyle,I=r-2*a,B=10,H=4,tt=3*a+H+B,lt=n-tt-2*a,dt=2,gt=o.length,_t=(I-dt*(gt-1))/gt;this.tickWidth=_t;var Ht=this.sliceGroup,oe=[],ie=[],Ee=Math.round(gt*s),Re=Math.round(gt*u);this.startTickRectId=Ee,this.endTickRectId=Re;var Ae=T.rotate;delete T.rotate,o.forEach(function(sr,tn){var Tn=tn>=Ee&&tn<=Re,pn=Tn?c:d,Vr=Ht.addShape("rect",{attrs:Fd({x:a+tn*(_t+dt),y:a,width:_t,height:lt},pn),draggable:!0,name:"tick-rect-".concat(tn)}),Gn=Ht.addShape("rect",{attrs:{x:a+tn*_t+dt*(2*tn-1)/2,y:a,width:tn===0||tn===gt-1?_t+dt/2:_t+dt,height:lt,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(tn)});Gn.toFront();var Rn=Vr.getBBox(),Hr=(Rn.minX+Rn.maxX)/2;oe.push({rect:Vr,pickRect:Gn,value:sr.date,x:Hr,y:Rn.minY});var hn;if(l?(hn=l(sr),!(0,f.isString)(hn)&&hn&&(hn=sr.date)):tn%Math.round(gt/10)===0&&(hn=sr.date),hn){ie.push(hn);var On=Rn.maxY+a*2;Ht.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Hr,y1:On,x2:Hr,y2:On+H},name:"tick-line"});var In=On+H+a,jn=Ht.addShape("text",{attrs:Fd({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Hr,y:In,textAlign:"center",text:hn,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},T),capture:!1,name:"tick-label"}),ea=jn.getBBox();if(ea.maxX>r?jn.attr("textAlign","right"):ea.minX<0&&jn.attr("textAlign","left"),(0,f.isNumber)(Ae)&&ie.length!==10){var ba=IE([1,0,0,0,1,0,0,0,1],[["t",-Hr,-In],["r",Ae],["t",Hr-5,In+2]]);jn.attr({textAlign:"left",matrix:ba})}ie.length===1?jn.attr({textAlign:"left"}):ie.length===10&&jn.attr({textAlign:"right"})}}),this.tickRects=oe;var Ve=this.group;this.currentSpeed=1,this.controllerBtnGroup=new jg(Fd({group:Ve,x:this.x,y:this.y+n+5,width:r,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},i.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(c){var d=c.target;if(!(d.get("type")!=="rect"||!d.get("name"))){var T=parseInt(d.get("name").split("-")[2],10);if(!isNaN(T)){var I=e.tickRects,B=e.unselectedTickStyle;I.forEach(function(dt){dt.rect.attr(B)});var H=e.selectedTickStyle;I[T].rect.attr(H),e.startTickRectId=T,e.endTickRectId=T;var tt=I.length,lt=T/tt;e.graph.emit(Ku,{value:[lt,lt]})}}}),t.on("dragstart",function(c){var d=e.tickRects,T=e.unselectedTickStyle;d.forEach(function(dt){dt.rect.attr(T)});var I=c.target,B=parseInt(I.get("name").split("-")[2],10),H=e.selectedTickStyle;d[B].rect.attr(H),e.startTickRectId=B;var tt=d.length,lt=B/tt;e.graph.emit(Ku,{value:[lt,lt]}),e.dragging=!0}),t.on("dragover",function(c){if(e.dragging&&c.target.get("type")==="rect"){for(var d=parseInt(c.target.get("name").split("-")[2],10),T=e.startTickRectId,I=e.tickRects,B=e.selectedTickStyle,H=e.unselectedTickStyle,tt=0;tt<I.length;tt++){var lt=tt>=T&&tt<=d?B:H;I[tt].rect.attr(lt)}var dt=I.length;e.endTickRectId=d;var gt=T/dt,_t=d/dt;e.graph.emit(Ku,{value:[gt,_t]})}}),t.on("drop",function(c){if(e.dragging&&(e.dragging=!1,c.target.get("type")==="rect")){var d=e.startTickRectId,T=parseInt(c.target.get("name").split("-")[2],10);if(!(T<d)){var I=e.selectedTickStyle,B=e.tickRects;B[T].rect.attr(I),e.endTickRectId=T;var H=B.length,tt=d/H,lt=T/H;e.graph.emit(Ku,{value:[tt,lt]})}}});var r=this,n=r.tooltipBackgroundColor,a=r.tooltipFomatter,o=r.canvas,s=new OE({container:o.get("container"),backgroundColor:n}),u=this.tickRects;u.forEach(function(c){var d=c.pickRect;d.on("mouseenter",function(T){var I=T.target;if(I.get("type")==="rect"){var B=parseInt(I.get("name").split("-")[2],10),H=o.getClientByPoint(u[B].x,u[B].y);s.show({x:u[B].x,y:u[B].y,clientX:H.x,clientY:H.y,text:a?a(u[B].value):u[B].value})}}),d.on("mouseleave",function(T){s.hide()})});var l=this.group;l.on("".concat(mc,":click"),function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),l.on("".concat(Rd,":click"),function(){e.updateStartEnd(1)}),l.on("".concat(kd,":click"),function(){e.updateStartEnd(-1)}),l.on(rf,function(c){var d=c.type,T=c.speed;e.currentSpeed=T})},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(Ug,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(Wg,null))},i.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())}):void 0},i.prototype.updateStartEnd=function(e){var t=this,r=this.tickRects,n=r.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(e>0?t.endTickRectId++:(r[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var u=t.startTickRectId;u<=t.endTickRectId-1;u++)r[u].rect.attr(a);t.startTickRectId=t.endTickRectId}if(r[t.endTickRectId]){r[t.endTickRectId].rect.attr(o);var l=t.startTickRectId/n,c=t.endTickRectId/n;this.graph.emit(Ku,{value:[l,c]})}},i.prototype.destory=function(){var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var r=t.pickRect;r.off("mouseenter"),r.off("mouseleave")}),this.tickRects.length=0,e.off("".concat(mc,":click")),e.off("".concat(Rd,":click")),e.off("".concat(kd,":click")),e.off(rf),this.sliceGroup.destroy()},i}(),NE=LE,RE=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Al=function(){return Al=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Al.apply(this,arguments)},kE=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t},BE=4,FE=26,zE=function(i){RE(e,i);function e(t){var r=i.call(this,t)||this;return r.afterrenderListener=function(n){return r.filterData({})},r.valueChangeListener=(0,f.throttle)(function(n){return r.filterData(n)},200,{trailing:!0,leading:!0}),r.changeData=function(n){var a=r.get("graph");r.cacheGraphData=a.get("data"),r.filterData({})},r}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},e.prototype.initContainer=function(){var t=this.get("graph"),r=this._cfgs,n=r.width,a=r.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container"),l;s?((0,f.isString)(s)&&(s=document.getElementById(s)),l=s):(l=ho("<div class='".concat(o,"'></div>")),Va(l,{position:"relative"})),u.appendChild(l),this.set("timeBarContainer",l);var c,d=t.get("renderer");d==="SVG"?c=new Cd({container:l,width:n,height:a}):c=new _l({container:l,width:n,height:a}),this.get("containerCSS")&&Va(l,this.get("containerCSS")),this.set("canvas",c)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),r=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",r),this.renderTrend(),this.initEvent();var n=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",n)},e.prototype.play=function(){this.togglePlay(!0)},e.prototype.pause=function(){this.togglePlay(!1)},e.prototype.togglePlay=function(t){var r=this.get("timebar");r&&(r.isPlay=!!t,r.changePlayStatus())},e.prototype.renderTrend=function(){var t=this,r=this._cfgs,n=r.width,a=r.x,o=r.y,s=r.padding,u=r.type,l=r.trend,c=r.slider,d=r.controllerCfg,T=r.textStyle,I=r.tick,B=r.backgroundStyle,H=r.foregroundStyle,tt=l.data,lt=kE(l,["data"]),dt=n-2*s,gt=u==="trend"?FE:BE,_t=this.get("graph"),Ht=this.get("timeBarGroup"),oe=this.get("canvas"),ie=null;if(u==="trend"||u==="simple"){var Ee=this.get("getValue");ie=new TE(Al(Al({graph:_t,canvas:oe,group:Ht,type:u,x:a+s,y:u==="trend"?o+s:o+s+15,width:dt,height:gt,padding:s,backgroundStyle:B,foregroundStyle:H,trendCfg:Al(Al({},lt),{data:tt.map(function(Ae){return(Ee==null?void 0:Ee(Ae))||Ae.value})})},c),{tick:{ticks:tt,tickLabelFormatter:I.tickLabelFormatter,tickLabelStyle:I.tickLabelStyle,tickLineStyle:I.tickLineStyle},handlerStyle:Al(Al({},c.handlerStyle),{height:c.height||gt}),controllerCfg:d,textStyle:T}))}else u==="tick"&&(ie=new NE(Al({graph:_t,canvas:oe,group:Ht,x:a+s,y:o+s,width:n,height:42,padding:2,controllerCfg:d},I)));var Re=function Ae(){var Ve=t.get("timebar");Ve.draggingHandler=!1,Ve.isPlay&&(Ve.isPlay=!1,Ve.currentHandler=Ve.maxHandlerShape,Ve.changePlayStatus()),document.removeEventListener("mouseup",Ae)};oe.on("mousedown",function(Ae){(Ae.target.get("name")==="maxHandlerShape-handler"||Ae.target.get("name")==="minHandlerShape-handler"||Ae.target===ie.foregroundShape)&&document.addEventListener("mouseup",Re)}),this.set("timebar",ie)},e.prototype.filterData=function(t){var r,n=t.value;if(!n){n=[];var a=this._cfgs.type;!a||a==="trend"||a==="simple"?(n[0]=this._cfgs.slider.start,n[1]=this._cfgs.slider.end):a==="tick"&&(n[0]=this._cfgs.tick.start,n[1]=this._cfgs.tick.end)}var o=null,s=this._cfgs.type;if(s==="trend"||s==="simple"?o=this._cfgs.trend.data:s==="tick"&&(o=this._cfgs.tick.data),!o||o.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var u=this.get("rangeChange"),l=this.get("graph"),c=Math.round(o.length*n[0]),d=Math.round(o.length*n[1]);d=d>=o.length?o.length-1:d,c=c>=o.length?o.length-1:c;var T=(r=this._cfgs.tick)===null||r===void 0?void 0:r.tickLabelFormatter,I=T?T(o[c]):o[c].date,B=T?T(o[d]):o[d].date;if(s!=="tick"){var H=this.get("timebar");H.setText(I,B)}if(u)u(l,I,B);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=l.get("data"));var tt=this.get("filterItemTypes"),lt=this.get("changeData"),dt=this.get("getDate"),gt=this.get("shouldIgnore"),_t=o[c].date,Ht=o[d].date;if(lt||lt===void 0){var oe=this.cacheGraphData.nodes,ie=this.cacheGraphData.edges,Ee={},Re={};l.getNodes().forEach(function(Ae){return Ee[Ae.getID()]=!0}),l.getEdges().forEach(function(Ae){return Re[Ae.getID()]=!0}),tt.includes("node")&&(oe.forEach(function(Ae){var Ve=+((dt==null?void 0:dt(Ae))||Ae.date),sr=Ve>=_t&&Ve<=Ht||(gt==null?void 0:gt("node",Ae,{min:_t,max:Ht})),tn=Ee[Ae.id];tn&&!sr?(l.removeItem(Ae.id),Ee[Ae.id]=!1):!tn&&sr&&(l.addItem("node",Ae),Ee[Ae.id]=!0)}),ie==null||ie.forEach(function(Ae){var Ve=Ee[Ae.source]&&Ee[Ae.target]||(gt==null?void 0:gt("edge",Ae,{min:_t,max:Ht})),sr=!!l.findById(Ae.id);sr&&!Ve?(l.removeItem(Ae.id),Re[Ae.id]=!1):!sr&&Ve?(l.addItem("edge",Ae),Re[Ae.id]=!0):sr||(Re[Ae.id]=!1)})),(this.get("filterEdge")||tt.includes("edge"))&&(ie==null||ie.filter(function(Ae){var Ve=+((dt==null?void 0:dt(Ae))||Ae.date),sr=Ve>=_t&&Ve<=Ht||(gt==null?void 0:gt("edge",Ae,{min:_t,max:Ht})),tn=Ee[Ae.source]&&Ee[Ae.target],Tn=sr&&tn,pn=Re[Ae.id];pn&&!Tn?(Re[Ae.id]=!1,l.removeItem(Ae.id)):!pn&&Tn&&(Re[Ae.id]=!0,l.addItem("edge",Ae))}))}else tt.includes("node")&&l.getNodes().forEach(function(Ae){var Ve=Ae.getModel();if(!(gt!=null&&gt("node",Ve,{min:_t,max:Ht}))){var sr=+((dt==null?void 0:dt(Ve))||Ve.date);sr<_t||sr>Ht?l.hideItem(Ae):l.showItem(Ae)}}),(this.get("filterEdge")||tt.includes("edge"))&&l.getEdges().forEach(function(Ae){var Ve=Ae.getModel();if(!(gt!=null&&gt("edge",Ve,{min:o[c].date,max:o[d].date}))){var sr=+((dt==null?void 0:dt(Ve))||Ve.date);if(sr<o[c].date||sr>o[d].date)l.hideItem(Ae);else{var tn=Ae.getSource().isVisible(),Tn=Ae.getTarget().isVisible();tn&&Tn&&l.showItem(Ae)}}})}},e.prototype.initEvent=function(){var t=this.get("graph");t.on("afterchangedata",this.changeData),t.on("afterrender",this.afterrenderListener),t.on(Ku,this.valueChangeListener)},e.prototype.destroy=function(){var t=this.get("graph");t.off("afterchangedata",this.changeData),t.off("afterrender",this.afterrenderListener),t.off(Ku,this.valueChangeListener);var r=this.get("timebar");r&&r.destory&&r.destory(),i.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var a=this.get("container");a||(a=this.get("graph").get("container")),(0,f.isString)(a)&&(a=document.getElementById(a)),a.removeChild(n)}},e}(Cs),GE=zE,UE=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WE=ls.applyMatrix;function YE(i,e){var t,r;if(i.naturalWidth)t=i.naturalWidth,r=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){e&&e(n.width,n.height)}}return[t,r]}var XE=function(i){UE(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.graph;if(!this.destroyed){var a=this.get("container");(0,f.isString)(a)&&(a=document.getElementById(a));var o=ho("<div class=".concat(r.viewportClassName,`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff;
        cursor:move'
      </div>`)),s=0,u=0,l=!1,c=0,d=0,T=0,I=0,B=0,H=0;a.addEventListener("mousedown",function(tt){if(r.refresh=!1,tt.target===o){var lt=o.style;T=parseInt(lt.width,10),I=parseInt(lt.height,10);var dt=t.get("width"),gt=t.get("height");T>dt||I>gt||(H=n.getZoom(),B=t.get("ratio"),l=!0,s=tt.clientX,u=tt.clientY)}},!1),a.addEventListener("mousemove",function(tt){if(!(!l||(0,f.isNil)(tt.clientX)||(0,f.isNil)(tt.clientY))){var lt=t.get("width"),dt=t.get("height"),gt=o.style;c=parseInt(gt.left,10),d=parseInt(gt.top,10),T=parseInt(gt.width,10),I=parseInt(gt.height,10);var _t=s-tt.clientX,Ht=u-tt.clientY;c-_t<0?_t=c:c-_t+T>=lt&&(_t=0),d-Ht<0?Ht=d:d-Ht+I>=dt&&(Ht=0),c-=_t,d-=Ht,Va(o,{left:"".concat(c,"px"),top:"".concat(d,"px")}),n.translate(_t*H/B,Ht*H/B),s=tt.clientX,u=tt.clientY}},!1),a.addEventListener("mouseleave",function(){l=!1,r.refresh=!0},!1),a.addEventListener("mouseup",function(){l=!1,r.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),u=o/s,l=a.getGroup(),c=l.getCanvasBBox(),d=[(c.minX+c.maxX)/2,(c.minY+c.maxY)/2],T=[c.maxX-c.minX,c.maxY-c.minY],I={centerX:d[0],centerY:d[1],width:0,height:0,minX:0,minY:0};c[0]/c[1]>u?(I.width=T[0],I.height=I.width/u):(I.height=T[1],I.width=I.height*u),I.minX=d[0]-I.width/2,I.minY=d[1]-I.height/2;var B=l.getMatrix();B||(B=[1,0,0,0,1,0,0,0,1]);var H=q.invert([1,0,0,0,1,0,0,0,1],B),tt=WE({x:I.minX,y:I.minY},H),lt=a.getCanvasByPoint(tt.x,tt.y),dt=this.get("viewport");dt||this.initViewport();var gt=o/I.width,_t=gt*r,Ht=gt*n,oe=r*-lt.x/I.width,ie=n*-lt.y/I.height,Ee=oe+_t,Re=ie+Ht;oe<0&&(_t+=oe,oe=0),Ee>r&&(_t=_t-(Ee-r)),ie<0&&(Ht+=ie,ie=0),Re>n&&(Ht=Ht-(Re-n)),this.set("ratio",t);var Ae="".concat(oe,"px"),Ve="".concat(ie,"px");Va(dt,{left:Ae,top:Ve,width:"".concat(_t,"px"),height:"".concat(Ht,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=r.get("width"),a=r.get("height"),o=a/n,s=t.get("className"),u=t.get("container"),l=t.get("width"),c=t.get("height");!l&&!c&&(l=200),l?(c=o*l,t.set("height",c)):(l=1/o*c,t.set("width",l));var d=ho("<div class='".concat(s,"' style='width: ").concat(l,"px; height: ").concat(c,"px; overflow: hidden; position: relative;'></div>"));(0,f.isString)(u)&&(u=document.getElementById(u)),u?u.appendChild(d):r.get("container").appendChild(d),t.set("container",d);var T=ho('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');d.appendChild(T);var I=ho('<span style="display: table-cell; vertical-align: middle; "></span>');T.appendChild(I),t.set("containerDOM",T),t.set("containerSpan",I);var B=ho('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));t.set("imgDOM",B),t.updateImgSize(),I.appendChild(B),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,r=t.get("imgDOM"),n=t.get("width"),a=t.get("height");r.onload=function(){var o=YE(r);o[0]>o[1]?r.width=n:r.height=a}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=r.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var r=this,n=r.get("imgDOM");n.remove(),r.set("graphImg",t);var a=ho('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));r.set("imgDOM",a),a.src=t,r.updateImgSize();var o=r.get("containerSpan");o.appendChild(a),r.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(Cs),jE=XE,VE=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gv=function(){return gv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},gv.apply(this,arguments)},HE=ls.distance,Vg=.05,Hg={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},ZE=function(i){VE(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,f.clone)(Hg),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,r=t.get("showLabel"),n=r==="node"||r==="both",a=r==="edge"||r==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var r=this,n=r.get("delegate");(!n||n.destroyed)&&(r.filter(t),n=r.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){r.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){r.scaleRByWheel(a)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,u=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Vg:a=1/(1-Vg);var l=r.get("maxR"),c=r.get("minR"),d=r.get("r");(d>(l||n.get("height"))&&a>1||d<(c||n.get("height")*.05)&&a<1)&&(a=1),d*=a,r.set("r",d),r.filter(t)}},e.prototype.filter=function(t){var r=this,n=r.get("graph"),a=n.getNodes(),o={},s=r.get("r"),u=r.get("type"),l={x:t.x,y:t.y};r.updateDelegate(l,s);var c=r.get("shouldShow"),d=r.get("vShapes");d&&d.forEach(function(lt){lt.remove(),lt.destroy()}),d=[],a.forEach(function(lt){var dt=lt.getModel(),gt=dt.x,_t=dt.y;HE({x:gt,y:_t},l)<s&&(o[dt.id]=lt)});var T=n.getEdges(),I=[];T.forEach(function(lt){var dt=lt.getModel(),gt=dt.source,_t=dt.target;c(dt)&&(u==="only-source"||u==="one"?o[gt]&&!o[_t]&&I.push(lt):u==="only-target"||u==="one"?o[_t]&&!o[gt]&&I.push(lt):u==="both"&&o[gt]&&o[_t]&&I.push(lt))});var B=r.get("showNodeLabel"),H=r.get("showEdgelabel"),tt=n.get("group");I.forEach(function(lt){var dt=lt.get("group").get("children");dt.forEach(function(gt){var _t=gt.get("type"),Ht=tt.addShape(_t,{attrs:gt.attr()});d.push(Ht),B&&_t==="text"&&Ht.set("visible",!0)})}),Object.keys(o).forEach(function(lt){var dt=o[lt],gt=dt.get("group").clone();if(tt.add(gt),d.push(gt),H)for(var _t=gt.get("children"),Ht=0;Ht<_t.length;Ht++){var oe=_t[Ht];oe.get("type")==="text"&&oe.set("visible",!0)}}),r.set("vShapes",d)},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,u=t.scaleRBy,l=t.showLabel,c=t.shouldShow;if(isNaN(t.r)||r.set("r",n),isNaN(s)||r.set("maxR",s),isNaN(o)||r.set("minR",o),(a==="mousemove"||a==="click")&&r.set("trigger",a),u==="wheel"||u==="unset"){r.set("scaleRBy",u),r.get("delegate").remove(),r.get("delegate").destroy();var d=r.get("dPercentText");d&&(d.remove(),d.destroy())}(l==="node"||l==="both")&&r.set("showNodeLabel",!0),(l==="edge"||l==="both")&&r.set("showEdgeLabel",!0),c&&r.set("shouldShow",c)},e.prototype.updateDelegate=function(t,r){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),u=n.get("delegateStyle")||Hg;o=s.addShape("circle",{attrs:gv({r,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(l){n.scaleRByWheel(l)})}else o.attr({x:t.x,y:t.y,r});n.set("delegate",o)},e.prototype.clear=function(){var t=this,r=t.get("vShapes");r&&r.forEach(function(a){a.remove(),a.destroy()}),r=[],t.set("vShapes",r);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Cs),KE=ZE,$E=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QE=ls.pointLineDistance,qE={stroke:"#FA8C16",lineWidth:1},JE=function(i){$E(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{line:qE,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var r=t.item,n=r.get("delegateShape")||r,a=n.getBBox(),o=r.getModel(),s=o.x-a.x,u=o.y-a.y;this.show({x:a.minX+s,y:a.minY+u},{width:a.width,height:a.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,r=t.horizontalLines,n=t.verticalLines,a=t.itemAlignType,o=this.get("graph"),s=o.getNodes();s.forEach(function(u){var l=u.getBBox(),c=u.get("id");a===!0||a==="horizontal"?(r["".concat(c,"tltr")]=[l.minX,l.minY,l.maxX,l.minY,u],r["".concat(c,"lcrc")]=[l.minX,l.centerY,l.maxX,l.centerY,u],r["".concat(c,"blbr")]=[l.minX,l.maxY,l.maxX,l.maxY,u]):a==="center"&&(r["".concat(c,"lcrc")]=[l.minX,l.centerY,l.maxX,l.centerY,u]),a===!0||a==="vertical"?(n["".concat(c,"tlbl")]=[l.minX,l.minY,l.minX,l.maxY,u],n["".concat(c,"tcbc")]=[l.centerX,l.minY,l.centerX,l.maxY,u],n["".concat(c,"trbr")]=[l.maxX,l.minY,l.maxX,l.maxY,u]):a==="center"&&(n["".concat(c,"tcbc")]=[l.centerX,l.minY,l.centerX,l.maxY,u])})},e.prototype.show=function(t,r){var n=(0,f.mix)({},t);return this.itemAlign(t,r,n),t},e.prototype.itemAlign=function(t,r,n){var a=this,o=this._cfgs,s=o.horizontalLines,u=o.verticalLines,l=o.tolerance,c={x:n.x+r.width/2,y:n.y},d={x:n.x+r.width/2,y:n.y+r.height/2},T={x:n.x+r.width/2,y:n.y+r.height},I={x:n.x,y:n.y+r.height/2},B={x:n.x+r.width,y:n.y+r.height/2},H=[],tt=[],lt=null;if(this.clearAlignLine(),(0,f.each)(s,function(gt){gt[4].isVisible&&(H.push(a.getLineDisObject(gt,c)),H.push(a.getLineDisObject(gt,d)),H.push(a.getLineDisObject(gt,T)))}),(0,f.each)(u,function(gt){gt[4].isVisible&&(tt.push(a.getLineDisObject(gt,I)),tt.push(a.getLineDisObject(gt,d)),tt.push(a.getLineDisObject(gt,B)))}),H.sort(function(gt,_t){return gt.dis-_t.dis}),tt.sort(function(gt,_t){return gt.dis-_t.dis}),H.length!==0&&H[0].dis<l){t.y=H[0].line[1]-H[0].point.y+n.y,lt={type:"item",horizontals:[H[0]]};for(var dt=1;dt<3;dt++)H[0].dis===H[dt].dis&&lt.horizontals.push(H[dt])}if(tt.length!==0&&tt[0].dis<l){t.x=tt[0].line[0]-tt[0].point.x+n.x,lt?lt.verticals=[tt[0]]:lt={type:"item",verticals:[tt[0]]};for(var dt=1;dt<3;dt++)tt[0].dis===tt[dt].dis&&lt.verticals.push(tt[dt])}lt&&(lt.bbox=r,this.addAlignLine(lt))},e.prototype.addAlignLine=function(t){var r=t.bbox,n=t.type,a=t.horizontals,o=t.verticals,s=this._cfgs,u=s.line,l=s.alignLines,c=this.get("graph"),d=c.get("group");n==="item"&&(a&&(0,f.each)(a,function(T){var I=T.line,B=T.point,H=(I[0]+I[2])/2,tt,lt;B.x<H?(tt=B.x-r.width/2,lt=Math.max(I[0],I[2])):(tt=B.x+r.width/2,lt=Math.min(I[0],I[2]));var dt=(0,f.mix)({x1:tt,y1:I[1],x2:lt,y2:I[1]},u),gt=d.addShape("line",{attrs:dt,capture:!1});l.push(gt)}),o&&(0,f.each)(o,function(T){var I=T.line,B=T.point,H=(I[1]+I[3])/2,tt,lt;B.y<H?(tt=B.y-r.height/2,lt=Math.max(I[1],I[3])):(tt=B.y+r.height/2,lt=Math.min(I[1],I[3]));var dt=(0,f.mix)({x1:I[0],y1:tt,x2:I[0],y2:lt},u),gt=d.addShape("line",{attrs:dt,capture:!1});l.push(gt)}))},e.prototype.getLineDisObject=function(t,r){return{line:t,point:r,dis:QE(t,r)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;(0,f.each)(t,function(r){r.remove()}),t.length=0},e.prototype.destory=function(){var t=this._cfgs,r=t.horizontalLines,n=t.verticalLines,a=this.get("graph"),o=a.getNodes();o.forEach(function(s){var u=s.get("id");delete r["".concat(u,"tltr")],delete r["".concat(u,"lcrc")],delete r["".concat(u,"blbr")],delete n["".concat(u,"tlbl")],delete n["".concat(u,"tcbc")],delete n["".concat(u,"trbr")]}),this.clearAlignLine()},e}(Cs),tw=JE,ew=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mo=function(){return Mo=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Mo.apply(this,arguments)},rw=["click","mouseenter"],nw=function(i){ew(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},r=t.multiple;r&&t.trigger==="mouseenter"&&this.set("multiple",!1);var n=this.get("align");if(!n){var a=this.get("position").split("-");a.includes("left")&&(n="left"),a.includes("right")?n="right":n="center",this.set("align",n)}var o=this.get("graph"),s=o.get("container"),u=ho(`<div class='g6-legend-container' style="position: absolute;"></div>`);s.appendChild(u),this.set("container",u);var l=this.render();Va(u,this.getContainerPos(l)),this.bindEvents()},e.prototype.getContainerPos=function(t){t===void 0&&(t=[0,0]);var r=this,n=r.get("graph"),a=this.get("offsetX"),o=this.get("offsetY"),s=this.get("margin"),u=this.get("position").split("-"),l={top:0,right:1,bottom:2,left:3},c=0,d=0,T={left:(n.getWidth()-t[0])/2+c,top:(n.getHeight()-t[1])/2+d};return u.forEach(function(I){var B=s[l[I]],H=I;switch(I){case"top":B+=d;break;case"left":B+=c;break;case"bottom":B=n.getHeight()-t[1]-B+d,H="top";break;default:B=n.getWidth()-t[0]-B+c,H="left";break}T[H]=B}),T.top+=o+n.getContainer().offsetTop,T.left+=a+n.getContainer().offsetLeft,Object.keys(T).forEach(function(I){T[I]="".concat(T[I],"px")}),T},e.prototype.bindEvents=function(){var t=this,r=t.get("filter");if(!(!r||!r.enable)){var n=r.trigger||"click";rw.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var a=t.get("legendCanvas");n==="mouseenter"?(a.on("node-container:mouseenter",function(o){return t.filterData(o)}),a.on("node-container:mouseleave",function(o){t.clearFilter(),t.clearActiveLegend()})):(a.on("node-container:click",function(o){return t.filterData(o)}),a.on("click",function(o){o.target&&o.target.isCanvas&&o.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},e.prototype.changeData=function(t){this.set("data",t);var r=this.render();Va(this.get("container"),this.getContainerPos(r))},e.prototype.activateLegend=function(t){var r=this.get("filter"),n=r==null?void 0:r.multiple;n||this.clearActiveLegend();var a=t.get("parent");a.get("active")?(a.set("active",!1),this.findLegendItemsByState("active").length&&a.set("inactive",!0)):(a.set("inactive",!1),a.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(d){d.set("inactive",!0)}):this.clearActiveLegend();var o=(r==null?void 0:r.legendStateStyles)||{},s=(o==null?void 0:o.inactive)||{opacity:.5,"text-shape":{opacity:.5}},u=s["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(d){var T=d.get("children"),I=T[0],B=T[1];I.attr(Mo(Mo({},I.get("oriAttrs")),s)),B.attr(Mo(Mo({},B.get("oriAttrs")),u))});var l=(o==null?void 0:o.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},c=l["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(d){var T=d.get("children"),I=T[0],B=T[1];I.attr(Mo(Mo({},I.get("oriAttrs")),l)),B.attr(Mo(Mo({},B.get("oriAttrs")),c))})},e.prototype.findLegendItemsByState=function(t,r,n){r===void 0&&(r="all"),n===void 0&&(n=!0);var a=this.get("legendCanvas").find(function(u){return u.get("name")==="root"}),o=a.find(function(u){return u.get("name")==="node-group"}),s=a.find(function(u){return u.get("name")==="edge-group"});return r==="node"?o.get("children").filter(function(u){return!!u.get(t)===n}):r==="edge"?s.get("children").filter(function(u){return!!u.get(t)===n}):o.get("children").filter(function(u){return!!u.get(t)===n}).concat(s.get("children").filter(function(u){return!!u.get(t)===n}))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),r=t.find(function(a){return a.get("name")==="root"}),n=[r.find(function(a){return a.get("name")==="node-group"}),r.find(function(a){return a.get("name")==="edge-group"})];n.forEach(function(a){a.get("children").forEach(function(o){o.set("active",!1),o.set("inactive",!1);var s=o.get("children"),u=s[0],l=s[1];u.attr(u.get("oriAttrs")),l.attr(l.get("oriAttrs"))})})},e.prototype.filterData=function(t){var r=this.get("filter"),n=r==null?void 0:r.filterFunctions;if(!(!r||!n)){var a=this.get("legendCanvas"),o=this.get("graph"),s=r.graphActiveState||"active",u=r.graphInactiveState||"inactive",l=r.multiple;this.clearFilter(),l||this.clearActiveLegend(),this.activateLegend(t.target);var c=a.find(function(lt){return lt.get("name")==="root"}),d=c.find(function(lt){return lt.get("name")==="node-group"}),T=c.find(function(lt){return lt.get("name")==="edge-group"}),I=d.get("children").filter(function(lt){return lt.get("active")}),B=T.get("children").filter(function(lt){return lt.get("active")}),H=0,tt=["getNodes","getEdges"];tt.forEach(function(lt){o[lt]().forEach(function(dt){var gt=!1,_t=lt==="getNodes"?I:B;_t.forEach(function(Ht){var oe=n[Ht.get("id")];gt=gt||oe(dt.getModel())}),gt?(o.setItemState(dt,u,!1),o.setItemState(dt,s,!0),H++):(o.setItemState(dt,s,!1),o.setItemState(dt,u,!0))})}),H||tt.forEach(function(lt){o[lt]().forEach(function(dt){o.clearItemStates(dt,[u])})})}},e.prototype.clearFilter=function(){var t=this.get("graph"),r=this.get("filter");if(r){var n=r.graphActiveState||"active",a=r.graphInactiveState||"inactive";t.getNodes().forEach(function(o){t.clearItemStates(o,[n,a])}),t.getEdges().forEach(function(o){t.clearItemStates(o,[n,a])})}},e.prototype.render=function(){var t=this;this.processData();var r=this.get("legendCanvas");r?r.clear():r=new _l({container:this.get("container"),width:200,height:200});var n=r.addGroup({name:"root"}),a=n.addGroup({name:"node-group"}),o=n.addGroup({name:"edge-group"});this.set("legendCanvas",r);var s=this.get("itemsData"),u=["nodes","edges"],l=[a,o];u.forEach(function(Vr,Gn){s[Vr].forEach(function(Rn){var Hr,hn=l[Gn].addGroup({id:Rn.id,name:"node-container"}),On,In=Rn.type,jn=t.getShapeSize(Rn),ea=jn.width,ba=jn.height,Na=jn.r,wi=t.getStyle(Vr.substr(0,4),Rn);switch(Rn.type){case"circle":On={r:Na,x:0,y:0};break;case"rect":On={width:ea,height:ba,x:-ea/2,y:-ba/2};break;case"ellipse":On={rx:ea,ry:ba,x:0,y:0},In="ellipse";break;case"line":On={x1:-ea/2,y1:0,x2:ea/2,y2:0},In="line";break;case"quadratic":On={path:[["M",-ea/2,0],["Q",0,ea/2,ea/2,0]]},In="path";break;case"cubic":On={path:[["M",-ea/2,0],["C",-ea/6,ea/2,ea/6,-ea/2,ea/2,0]]},In="path";break;case"diamond":On={path:[["M",0,-ba],["L",ea,0],["L",0,ba],["L",-ea,0],["Z"]]},In="path";break;case"triangle":On={path:[["M",-ea,ba],["L",0,-ba],["L",ea,ba],["Z"]]},In="path";break;case"star":On={path:ls.getStarPath(Na*3,Na*1.2)},In="path";break;default:On={r:Na,x:0,y:0};break}var ii=hn.addShape(In,{attrs:Mo(Mo({},On),wi),name:"".concat(Rn.type,"-node-keyShape"),oriAttrs:Mo({opacity:1},wi)});if(Rn.label){var Si=ii.getBBox(),Pi=((Hr=Rn.labelCfg)===null||Hr===void 0?void 0:Hr.style)||{},io=Mo({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},Pi);hn.addShape("text",{attrs:Mo({x:Si.maxX+4,y:0,text:Rn.label},io),className:"legend-label",name:"".concat(Rn.type,"-node-text"),oriAttrs:io})}})});var c=this.get("padding"),d,T=n.find(function(Vr){return Vr.get("name")==="title-container"}),I={height:0,maxY:0,width:0};if(this.get("title")){T||(T=n.addGroup({name:"title-container"}));var B={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:c[0]},H=this.get("titleConfig")||{},tt=Object.assign(B,H.style||{});d=T.addShape("text",{attrs:Mo({text:this.get("title")},tt)}),I=T.getCanvasBBox(),T.setMatrix([1,0,0,0,1,0,H.offsetX,H.offsetY,1])}this.layoutItems();var lt=n.getCanvasBBox(),dt=a.getCanvasBBox(),gt=dt.minX<0?Math.abs(dt.minX)+c[3]:c[3],_t=I.maxY<dt.minY?Math.abs(I.maxY-dt.minY)+c[0]:I.maxY+c[0],Ht=[1,0,0,0,1,0,gt,_t,1];a.setMatrix(Ht),lt=n.getCanvasBBox();var oe=[lt.minX+lt.width+c[1],lt.minY+lt.height+c[2]];if(d){var H=Mo({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));I=T.getCanvasBBox();var ie=T.getMatrix()||[1,0,0,0,1,0,0,0,1];H.position==="center"?ie[6]=oe[0]/2+H.offsetX:H.position==="right"?(ie[6]=oe[0]-c[3]+H.offsetX,d.attr({textAlign:"right"})):(ie[6]=c[3]+H.offsetX,d.attr({textAlign:"left"})),T.setMatrix(ie),I=T.getCanvasBBox(),gt=dt.minX<0?Math.abs(dt.minX)+c[3]:c[3],_t=dt.minY<I.maxY?Math.abs(I.maxY-dt.minY)+c[0]:I.maxY+c[0],Ht=[1,0,0,0,1,0,gt,_t,1],a.setMatrix(Ht);var Ee=[1,0,0,0,1,0,gt,_t,1];this.get("layout")==="vertical"?Ee[6]+=dt.maxX+this.get("horiSep"):Ee[7]+=dt.maxY+this.get("vertiSep"),o.setMatrix(Ee)}else{dt=a.getCanvasBBox();var Re=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?Re[6]+=Ht[6]+dt.maxX+this.get("horiSep"):Re[7]+=Ht[7]+dt.maxY+this.get("vertiSep"),o.setMatrix(Re)}lt=n.getCanvasBBox(),dt=a.getCanvasBBox(),Ht=a.getMatrix()||[1,0,0,0,1,0,0,0,1];var Ae=o.getMatrix()||[1,0,0,0,1,0,0,0,1],Ve=o.getCanvasBBox();oe=[Math.max(dt.width+Ht[6],Ve.width+Ae[6])+c[1],Math.max(dt.height+Ht[7],Ve.height+Ae[7])+c[2]],r.changeSize(oe[0],oe[1]);var sr=this.get("containerStyle"),tn=n.getMatrix()||[1,0,0,0,1,0,0,0,1],Tn=ls.invertMatrix({x:0,y:0},tn),pn=n.addShape("rect",{attrs:Mo({x:Tn.x+(sr.lineWidth||1),y:Tn.y+(sr.lineWidth||1),width:oe[0]-2*(sr.lineWidth||1),height:oe[1]-2*(sr.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},sr),name:"legend-back-rect",capture:!1});return pn.toBack(),oe},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),r=this.get("horiSep"),n=this.get("vertiSep"),a=this.get("layout"),o=this.get("align"),s=[0,0],u=t.find(function(_t){return _t.get("name")==="root"}),l=u.find(function(_t){return _t.get("name")==="node-group"}),c=u.find(function(_t){return _t.get("name")==="edge-group"}),d={min:0,max:-1/0},T=-1/0;l.get("children").forEach(function(_t,Ht){Ht===0&&(d.min=s[0]);var oe=_t.get("children")[0],ie=_t.getCanvasBBox(),Ee=oe.getBBox(),Re=Ee.width,Ae=Ee.height,Ve=0,sr=0,tn=0;a==="vertical"?(sr=s[1],tn=s[0]+Re/2,s[0]=tn+ie.height+n,Ve=ie.maxX+sr+Re/2):(sr=s[0]+Re/2,tn=s[1],s[0]=sr+ie.width+r,Ve=ie.maxY+tn+Ae/2),s[0]>d.max&&(d.max=s[0]),Ve>T&&(T=Ve),_t.setMatrix([1,0,0,0,1,0,sr,tn,1])});var I=d.max-d.min,B={min:0,max:-1/0},H=l.getCanvasBBox();s[0]=0,s[1]=a==="vertical"?H.maxX+r:H.maxY+n,c.get("children").forEach(function(_t,Ht){Ht===0&&(B.min=s[0]);var oe=_t.get("children")[0],ie=_t.getCanvasBBox(),Ee=oe.getBBox(),Re=Ee.width,Ae=Ee.height,Ve=0,sr=0;a==="vertical"?(Ve=s[1],sr=s[0],s[0]=sr+ie.height+n,_t.setMatrix([1,0,0,0,1,0,0,sr+Ae/2,1])):(Ve=s[0],sr=s[1],s[0]=Ve+ie.width+r,_t.setMatrix([1,0,0,0,1,0,Ve+Re/2,0,1])),s[0]>B.max&&(B.max=s[0])});var tt=B.max-B.min;if(o&&o!==""&&o!=="left"){var lt=I-tt,dt=o==="center"?Math.abs(lt)/2:Math.abs(lt),gt=lt<0?l:c;gt.get("children").forEach(function(_t){var Ht=_t.getMatrix()||[1,0,0,0,1,0,0,0,1];a==="vertical"?Ht[7]+=dt:Ht[6]+=dt,_t.setMatrix(Ht)})}},e.prototype.processData=function(){var t=this.get("data"),r={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(n,a){return n.order-a.order}),t.nodes.forEach(function(n){var a,o,s,u,l,c=n.size||[((a=n.style)===null||a===void 0?void 0:a.width)||((o=n.style)===null||o===void 0?void 0:o.r)||8,((s=n.style)===null||s===void 0?void 0:s.height)||((u=n.style)===null||u===void 0?void 0:u.r)||8],d=((l=n.labelCfg)===null||l===void 0?void 0:l.style)||{};r.nodes.push({id:n.id||(0,f.uniqueId)(),type:n.type||"circle",style:Mo({},n.style),order:n.order,label:n.label,itemType:"node",size:c,labelCfg:{position:"right",style:Mo({fontFamily:"Arial"},d)}})})),t.edges&&(t.edges.sort(function(n,a){return n.order-a.order}),t.edges.forEach(function(n){var a,o,s=n.type||"line";n.type==="cubic-horizontal"&&(s="cubic");var u=((a=n.labelCfg)===null||a===void 0?void 0:a.style)||{},l=n.size||[((o=n.style)===null||o===void 0?void 0:o.width)||8,1];r.edges.push({id:n.id||(0,f.uniqueId)(),type:s,size:l,style:Mo({lineWidth:(0,f.isArray)(l)?l[1]:1},n.style),order:n.order,label:n.label,itemType:"edge",labelCfg:{position:"right",style:Mo({fontFamily:"Arial"},u)}})})),this.set("itemsData",r)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var r=this.get(t);if((0,f.isNumber)(r))this.set(t,[r,r,r,r]);else if((0,f.isArray)(r))switch(r.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[r[0],r[0],r[0],r[0]]);break;case 2:this.set(t,[r[0],r[1],r[0],r[1]]);break;case 3:this.set(t,[r[0],r[1],r[2],r[1]]);break;default:break}return this.get(t)},e.prototype.getShapeSize=function(t){var r,n,a;return t.size&&((0,f.isArray)(t.size)?(r=t.size[0],n=t.size[1]||t.size[0],a=t.size[0]/2):(0,f.isNumber)(t.size)&&(r=t.size,n=t.size,a=t.size/2)),t.style&&(t.style.width&&(r=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(a=t.style.r)),a||(a=5),r||(r=a),n||(n=a),{width:r,height:n,r:a}},e.prototype.getStyle=function(t,r){var n=t==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return Mo(Mo({},n),r.style||{})},e.prototype.destroy=function(){var t=this.get("legendCanvas");t==null||t.destroy();var r=this.get("graph"),n=r.get("container"),a=this.get("container");n.removeChild(a)},e}(Cs),aw=nw,iw=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Js=function(){return Js=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Js.apply(this,arguments)},Zg=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};typeof document!="undefined"&&lh()(`
  .g6-annotation-container {
    background-color: rgba(255, 255, 255, 0.3);
    padding: 8px;
  }
  .g6-annotation-wrapper {
    background-color: #fff;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);
  }
  .g6-annotation-header-wapper {
    height: fit-content;
    width: 100%;
    background-color: #5B8FF9;
    display: inline-flex;
    cursor: move;
  }
  .g6-annotation-title {
    margin: 4px 40px 4px 8px;
    cursor: text;
    min-width: 32px;
  }
  .g6-annotation-collapse {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-expand {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-close {
    margin: 4px 8px 4px 0;
    cursor: pointer;
  }
  .g6-annotation-content {
    padding: 8px;
    width: fit-content;
    cursor: text;
    word-break: break-all;
    min-width: 32px;
  }
  .g6-annotation-title-input-wrapper {
    margin: 4px 40px 4px 8px;
  }
  .g6-annotation-content-input {
    height: 100%;
    word-break: break-all;
  }
  .g6-annotation-content-input-wrapper {
    margin: 8px;
    height: 100%;
  }
`);var Kg="canvas-annotation",ow=function(i){iw(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},e.prototype.getEvents=function(){var t={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};switch(this.get("trigger")){case"click":t=Js(Js({},t),{"node:click":"showAnnotation","edge:click":"showAnnotation"})}return t},e.prototype.getDOMContent=function(t){if(!this.destroyed){var r=t.collapsed,n=t.maxWidth,a=t.title,o=a===void 0?"":a,s=t.content,u=s===void 0?"":s,l=t.borderRadius,c=l===void 0?5:l,d=r?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",T=r?"":" <p class='g6-annotation-content'>".concat(u,"</p>"),I="<p class='g6-annotation-close'>x</p>",B=r?"".concat(c,"px"):"".concat(c,"px ").concat(c,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(c,"px; max-width: ").concat(n,`px">
        <div
          class="g6-annotation-header-wapper"
          style="border-radius: `).concat(B,`;"
        >
          <h4 class='g6-annotation-title'>`).concat(o,`</h4>
          `).concat(d,`
          `).concat(I,`
        </div>
        `).concat(T,`
      </div>`)}},e.prototype.init=function(){var t=this;if(!t.destroyed){var r=t.get("graph"),n=r.getContainer(),a=t.get("container"),o=this.get("containerCfg");o?(a=this.createContainer(),n.appendChild(a)):a=n,this.set("container",a);var s=n.getBoundingClientRect(),u=new _l({container:n,width:s.right-s.left,height:s.bottom-s.top});Va(u.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",(0,f.debounce)(function(){return t.resizeCanvas(t)},100));var l=u.addGroup({id:"annotation-link-group"});t.set("linkGroup",l),t.set("canvas",u),t.get("getTitle")||t.set("getTitle",function(d){var T,I=((T=d==null?void 0:d.getModel)===null||T===void 0?void 0:T.call(d))||{},B=I.label,H=I.id;return B||H||"-"}),t.get("getContent")||t.set("getContent",function(d){var T,I;if(!d)return"-";var B=((T=d.getModel)===null||T===void 0?void 0:T.call(d))||{},H=B.label,tt=B.id,lt=(I=d.getType)===null||I===void 0?void 0:I.call(d),dt=lt?"".concat(lt,": "):"";return"".concat(dt).concat(H||tt||"")});var c=t.get("defaultData");c&&this.readData(c)}},e.prototype.createContainer=function(){var t=this;if(!this.destroyed){var r=this.get("containerCfg"),n=this.get("graph"),a=n.getContainer(),o=a.getBoundingClientRect(),s=o.left,u=o.right,l=o.top,c=o.bottom,d=c-l,T=u-s,I=r.position,B=I===void 0?"top":I,H=r.offsetX,tt=H===void 0?0:H,lt=r.offsetY,dt=lt===void 0?0:lt,gt=Zg(r,["position","offsetX","offsetY"]),_t=r.height,Ht=_t===void 0?"fit-content":_t,oe=r.width,ie=oe===void 0?n.getWidth():oe;Ht==="100%"&&(Ht=d),ie==="100%"&&(ie=T);var Ee="unset",Re="unset",Ae={};switch(B){case"right":Ee="".concat(d,"px"),Ae={top:0,right:0},Ae.right+=s+tt,Ae.top+=l+dt;break;case"bottom":Re="".concat(T,"px"),Ae={bottom:0,left:0},Ae.left+=s+tt,Ae.bottom+=l+dt;break;case"top":Re="".concat(T,"px");case"left":Ee="".concat(d,"px");default:Ae={top:0,left:0},Ae.left+=s+tt,Ae.top+=l+dt;break}Object.keys(Ae).forEach(function(sr){Ae[sr]="".concat(Ae[sr],"px")});var Ve=ho("<div class='".concat(r.className," g6-annotation-container'></div>"));return Va(Ve,Js(Js({position:"absolute",display:B==="top"||B==="bottom"?"inline-flex":"unset",width:(0,f.isNumber)(ie)?"".concat(ie,"px"):ie,height:(0,f.isNumber)(Ht)?"".concat(Ht,"px"):Ht,maxHeight:Ee,maxWidth:Re,overflow:"scroll"},Ae),gt)),a.appendChild(Ve),Ve.addEventListener("scroll",function(sr){t.updateLinks()}),Ve}},e.prototype.resizeCanvas=function(t){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){if(!(!t||t.destroyed)){var r=t.get("container").getBoundingClientRect(),n=r.right-r.left,a=r.bottom-r.top;t.get("canvas").changeSize(n,a),t.updateOutsideCards(t)}},250)},e.prototype.updateOutsideCards=function(t){var r=t||this,n=r.get("cardInfoMap")||{},a=r.get("graph"),o=a.getPointByCanvas(0,0),s=a.getPointByCanvas(a.getWidth(),a.getHeight()),u=a.getClientByPoint(o.x,o.y),l=u.x,c=u.y,d=a.getClientByPoint(s.x,s.y),T=d.x,I=d.y;Object.values(n).forEach(function(B){var H=B.card;if(H){var tt=H.style,lt=nf(tt.left),dt=nf(tt.top),gt=H.getBoundingClientRect(),_t=gt.width,Ht=gt.height,oe=lt,ie=dt;lt+_t>T-l&&(oe=T-l-_t),lt<0&&(oe=0),dt+Ht>I-c&&(ie=I-c-Ht),dt<0&&(ie=0),Va(H,{left:"".concat(oe,"px"),top:"".concat(ie,"px")})}}),r.updateLinks()},e.prototype.showAnnotation=function(t){if(!this.destroyed){var r=t.item;this.toggleAnnotation(r)}},e.prototype.hideCards=function(){var t=this;if(!t.destroyed){var r=t.get("cardInfoMap")||{};Object.keys(r).forEach(function(n){t.hideCard(n)})}},e.prototype.toggleAnnotation=function(t,r){var n,a;r===void 0&&(r={});var o=this;if(!o.destroyed){var s=o.get("cardInfoMap")||{},u=o.get("graph"),l=o.get("container"),c=o.get("containerCfg"),d=Object.assign({},o.get("cardCfg")||{},r),T=d.minHeight,I=d.minWidth,B=d.width,H=d.height,tt=d.collapsed,lt=tt===void 0?!1:tt,dt=d.x,gt=d.y,_t=d.title,Ht=d.content,oe=d.maxTitleLength,ie=d.defaultBegin,Ee=Zg(d,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),Re=o.get("linkGroup"),Ae=this.get("rows")||[[]],Ve=(n=t.isCanvas)===null||n===void 0?void 0:n.call(t),sr=Ve?Kg:t.getID(),tn=s[sr]||{},Tn=tn.card,pn=tn.link,Vr=tn.x,Gn=tn.y,Rn=tn.title,Hr=tn.content,hn=this.get("getTitle"),On=this.get("getContent"),In=this.get("getContentPlaceholder")||function(){return""},jn=this.get("getTitlePlaceHolder")||function(){return""},ea=In(t),ba=jn(t),Na=ho(this.getDOMContent(Js({itemId:sr,collapsed:lt,title:((a=Rn||_t||(hn==null?void 0:hn(t)))===null||a===void 0?void 0:a.substr(0,oe))||ba,content:Hr||Ht||(On==null?void 0:On(t))||ea},Ee))),wi=(0,f.isNumber)(T)?"".concat(T,"px"):T;Va(Na,{minHeight:lt?"unset":wi,minWidth:(0,f.isNumber)(I)?"".concat(I,"px"):I,height:H,width:B});var ii=!!Tn;ii?(pn==null||pn.remove(!0),l.replaceChild(Na,Tn)):l.appendChild(Na);var Si;if(!c){if(Si=l.getBoundingClientRect()||{},dt!==void 0&&gt!==void 0)Vr=dt,Gn=gt;else if(!ii&&!Ve){var Pi=Si.top,io=ie||{},Hi=io.left,tu=io.right,jo=tu===void 0?16:tu,eu=io.top,Vo=eu===void 0?8:eu,Ho=io.bottom,zs=jo,as=Vo;isNaN(Hi)||(zs=l.scrollWidth-Hi),isNaN(Ho)||(as=l.scrollHeight-Ho);var ys=(0,f.isNumber)(I)?I:100;Vr=l.scrollWidth-Na.scrollWidth-(Ae.length-1)*ys-zs;var Ha=Ae[Ae.length-1],bi=(Ha[Ha.length-1]||{}).bbox;Gn=(bi==null?void 0:bi.bottom)-Pi||as}Va(Na,{position:"absolute",left:"".concat(Vr,"px"),top:"".concat(Gn,"px"),cusor:c?"unset":"move"})}this.bindListener(Na,sr);var Wa=Na.getBoundingClientRect();if(!Ve){var xi=mv(t,Wa,u,this.get("canvas")),Fi=this.get("linkStyle");pn=Re.addShape("path",{attrs:Js({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:xi},Fi)})}if(s[sr]=Js(Js({},s[sr]||{}),{id:sr,collapsed:lt,card:Na,link:pn,x:Vr,y:Gn,cardBBox:Wa,content:Hr||Ht,title:Rn||_t,contentPlaceholder:ea,titlePlaceholder:ba,isCanvas:Ve}),o.set("cardInfoMap",s),c)this.updateCardPositionsInConatainer(),this.updateLinks();else{var fa=!isNaN(dt)&&!isNaN(gt);if(!ii&&!Ve&&!fa){var Qa=Si.bottom,ti=Qa===void 0?0:Qa,Pi=Si.top;Ae[Ae.length-1].push({id:sr,bbox:Wa}),Wa.top>ti-Pi-Wa.height-16&&Ae.push([]),this.set("rows",Ae)}}this.updateCardSize(sr);var zi=this.get("onAnnotationChange");zi==null||zi(s[sr],ii?"update":"create")}},e.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var t=this.get("cardInfoMap");if(t){var r=this.get("container"),n=this.get("containerCfg").position,a=r.getBoundingClientRect().width,o=getComputedStyle(r),s=nf(o.paddingLeft)+nf(o.paddingRight);a-=s,Object.values(t).forEach(function(u){var l=u.card,c=l.getBoundingClientRect().width;switch(n){case"right":Va(l,{marginLeft:a?"".concat(a-c,"px"):"0px"});break;case"top":case"bottom":Va(l,{marginLeft:"8px"});default:break}})}}},e.prototype.handleExpandCollapseCard=function(t){if(!this.destroyed){var r=this.get("graph"),n=this.get("cardInfoMap");if(n){var a=n[t].collapsed,o=r.findById(t);if(o){var s=this.get("cardCfg").collapseType;s==="hide"&&!a?this.hideCard(t):this.toggleAnnotation(o,{collapsed:!a}),n[t]=Js(Js({},n[t]),{collapsed:!a})}}}},e.prototype.hideCard=function(t){if(!this.destroyed){var r=this.get("cardInfoMap");if(!(!r||!r[t])){var n=r[t],a=n.card,o=n.link;Va(a,{display:"none"}),o==null||o.hide();var s=this.get("onAnnotationChange");s(r[t],"hide")}}},e.prototype.removeCard=function(t){if(!this.destroyed){var r=this.get("cardInfoMap");if(r){var n=r[t],a=n.card,o=n.link,s=this.get("container");s.removeChild(a),o==null||o.remove(!0),delete r[t];var u=this.get("onAnnotationChange");u(n,"remove")}}},e.prototype.bindListener=function(t,r){var n=this;if(!this.destroyed){t.addEventListener("mousemove",function(u){var l;if(u.target.className==="g6-annotation-collapse"?l="collapse":u.target.className==="g6-annotation-expand"?l="expand":u.target.className==="g6-annotation-close"&&(l="close"),l){var c=n.get("cardCfg").onMouseEnterIcon,d=c===void 0?function(){}:c;d(u,r,l)}}),t.addEventListener("mouseout",function(u){var l;if(u.target.className==="g6-annotation-collapse"?l="collapse":u.target.className==="g6-annotation-expand"?l="expand":u.target.className==="g6-annotation-close"&&(l="close"),l){var c=n.get("cardCfg").onMouseLeaveIcon,d=c===void 0?function(){}:c;d(u,r,l)}}),t.addEventListener("mouseenter",function(u){var l=n.get("cardInfoMap");if(l){var c=n.get("graph"),d=c.findById(r);if(d){var T=n.get("itemHighlightState");c.setItemState(d,T,!0)}var I=l[r].link;if(I){var B=n.get("linkHighlightStyle")||{};I.attr(B)}}}),t.addEventListener("mouseleave",function(u){var l=n.get("cardInfoMap");if(l){var c=n.get("graph"),d=c.findById(r);if(d){var T=n.get("itemHighlightState");c.setItemState(d,T,!1)}var I=l[r].link;if(I){var B=n.get("linkHighlightStyle")||{};Object.keys(B).forEach(function(tt){I.attr(tt,void 0),I.attr(tt,void 0)});var H=n.get("linkStyle");I.attr(H)}}}),t.addEventListener("click",function(u){var l=(n.get("cardCfg")||{}).onClickIcon;if(u.target.className==="g6-annotation-collapse"||u.target.className==="g6-annotation-expand"){var c=n.get("cardCfg").collapseType;c==="hide"?n.hideCard(r):n.handleExpandCollapseCard(r),l==null||l(u,r,u.target.className==="g6-annotation-collapse"?"collapse":"expand")}else if(u.target.className==="g6-annotation-close"){var d=n.get("cardCfg").closeType;d==="remove"?n.removeCard(r):n.hideCard(r),l==null||l(u,r,"close")}});var a=this.get("editable");a&&t.addEventListener("dblclick",function(u){var l=n.get("cardInfoMap"),c=(n.get("cardCfg")||{}).maxTitleLength,d=c===void 0?20:c;if(l){var T=u.target,I=T.className;if(!(I!=="g6-annotation-title"&&I!=="g6-annotation-content")){var B=I==="g6-annotation-title"?T.getBoundingClientRect():T.parentNode.getBoundingClientRect(),H=B.width,tt=B.height,lt=getComputedStyle(T),dt=I==="g6-annotation-title"?"input":"textarea",gt=ho("<".concat(dt,' class="').concat(I,'-input" type="textarea" style="width:').concat(H,"px; height: ").concat(tt,'px; min-width: 16px;"/>')),_t=ho('<div class="'.concat(I,'-input-wrapper" style="width: ').concat(H,"px; height: ").concat(tt,"px; min-width: 16px; margin-right: ").concat(lt.marginRight,'" />'));_t.appendChild(gt),T.parentNode.replaceChild(_t,T);var Ht=l[r],oe=Ht.contentPlaceholder,ie=Ht.titlePlaceholder,Ee=Ht.content,Re=Ht.title,Ae=Ee;I==="g6-annotation-title"?(gt.name="title",gt.maxLength=d,Ae=Re):gt.name="content",Ae?(gt.innerHTML=T.innerHTML,gt.value=T.innerHTML):gt.placeholder=I==="g6-annotation-title"?ie:oe,gt.focus(),gt.addEventListener("blur",function(Ve){gt.value&&(T.innerHTML=gt.value,Ht[gt.name||"title"]=gt.value),_t.parentNode.replaceChild(T,_t),n.updateCardSize(r);var sr=n.get("onAnnotationChange");sr==null||sr(Ht,"update")})}}});var o=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];t.draggable=!0,t.addEventListener("dragstart",function(u){var l=u.target.className;if(!o.includes(l)){var c=t.style;n.set("dragging",{card:t,x:u.clientX,y:u.clientY,left:nf(c.left),top:nf(c.top)})}}),t.addEventListener("drag",function(u){u.preventDefault();var l=n.get("cardInfoMap");if(l){var c=u.clientX,d=u.clientY,T=n.get("dragging");if(!(isNaN(c)||isNaN(d)||!T)){var I=T.x,B=T.y,H=T.left,tt=T.top,lt=T.card,dt=c-I,gt=d-B;H+=dt,tt+=gt;var _t=n.get("graph"),Ht=_t.getPointByCanvas(0,0),oe=_t.getPointByCanvas(_t.getWidth(),_t.getHeight()),ie=_t.getClientByPoint(Ht.x,Ht.y),Ee=ie.x,Re=ie.y,Ae=_t.getClientByPoint(oe.x,oe.y),Ve=Ae.x,sr=Ae.y,tn=lt.getBoundingClientRect(),Tn=tn.right-tn.left,pn=tn.bottom-tn.top;(H>Ve-Ee-Tn&&dt>0||H<0&&dt<0)&&(H-=dt),(tt>sr-Re-pn&&gt>0||tt<0&&gt<0)&&(tt-=gt),Va(lt,{left:"".concat(H,"px"),top:"".concat(tt,"px"),visibility:"hidden"}),I=c,B=d;var Vr=(l[r]||{}).link;if(Vr){var Gn=_t.findById(r);Vr.attr("path",mv(Gn,tn,_t,n.get("canvas")))}n.set("dragging",{x:I,y:B,left:H,top:tt,card:lt})}}});var s=function(l){var c=n.get("cardInfoMap");if(c){var d=n.get("dragging");if(d){var T=d.left,I=d.top,B=d.card;c[r].x=T,c[r].y=I,Va(B,{visibility:"visible"}),n.set("dragging",!1);var H=n.get("rows");H==null||H.forEach(function(lt){for(var dt=lt.length-1;dt>=0;dt--)lt[dt].id===r&&lt.splice(dt,1)});var tt=n.get("onAnnotationChange");tt==null||tt(c[r],"update")}}};t.addEventListener("dragend",s)}},e.prototype.updateCardSize=function(t){var r=this.get("cardInfoMap");if(r){var n=r[t].card,a=n.getBoundingClientRect().width,o=n.getElementsByClassName("g6-annotation-title")[0];if(o){var s=getComputedStyle(o),u=nf(s.marginLeft),l=o.getBoundingClientRect().width;Va(o,{marginRight:"".concat(a-u-24-16-l,"px")})}}},e.prototype.updateLink=function(t){var r=t.item;if(r){var n=this.get("cardInfoMap");if(n){var a=this.get("canvas"),o=this.get("graph"),s=r.getID(),u=n[s]||{},l=u.link,c=u.card;if(l){var d=mv(r,c.getBoundingClientRect(),o,a);l.attr("path",d)}}}},e.prototype.updateLinks=function(){var t=this;if(!this.destroyed){var r=this.get("cardInfoMap");if(r){var n=this.get("graph");Object.values(r).forEach(function(a){var o=a.id,s=n.findById(o);t.updateLink({item:s})})}}},e.prototype.onGraphDataChange=function(){var t=this,r=this.get("cardInfoMap");if(r){var n=this.get("graph");Object.values(r).forEach(function(a){var o=a.id,s=a.card,u=a.isCanvas;if(!(!s||u||s.style.display==="none")){var l=n.findById(o);l&&l.isVisible()?t.toggleAnnotation(l):t.hideCard(o)}})}},e.prototype.onGraphItemVisibilityChange=function(t){var r=t.item,n=t.visible;if(!(!r||r.destroyed)){var a=this.get("cardInfoMap");if(a){var o=r.getID();a[o]&&(n||this.hideCard(o))}}},e.prototype.saveData=function(t){t===void 0&&(t=!1);var r=this.get("cardInfoMap");if(r){var n=this.get("graph"),a=this.get("getTitle"),o=this.get("getContent"),s=[];return Object.values(r).forEach(function(u){var l=u.title,c=u.content,d=u.x,T=u.y,I=u.id,B=u.collapsed,H=u.card;if(!(H&&H.style.display==="none"&&!t)){var tt=n.findById(I)||n.get("canvas");s.push({id:I,x:d,y:T,collapsed:B,title:l||(a==null?void 0:a(tt)),content:c||(o==null?void 0:o(tt)),visible:H&&H.style.display!=="none"})}}),s}},e.prototype.readData=function(t){var r=this,n=this.get("graph");t.forEach(function(a){var o=a.id,s=a.x,u=a.y,l=a.title,c=a.content,d=a.collapsed,T=a.visible,I=n.findById(o);if(!I&&o===Kg&&(I=n.get("canvas")),!I){var B=r.get("cardInfoMap")||{};B[o]=a,r.set("cardInfoMap",B);return}r.toggleAnnotation(I,{x:s,y:u,title:l,content:c,collapsed:d}),T||r.hideCard(o)})},e.prototype.clear=function(){var t=this.get("cardInfoMap");if(t){var r=this.get("container");Object.values(t).forEach(function(n){var a=n.card,o=n.link;r.removeChild(a),o==null||o.remove(!0)}),this.set("cardInfoMap",{})}},e.prototype.destroy=function(){var t;this.clear(),(t=this.get("canvas"))===null||t===void 0||t.destroy();var r=this.get("graph");!r||r.destroyed||(this.get("containerCfg")&&r.getContainer().removeChild(this.get("container")),this.destroyed=!0)},e}(Cs),sw=ow,uw=function(e,t){var r,n,a,o=1/0;Object.keys(e).forEach(function(l){var c=e[l];Object.keys(t).forEach(function(d){var T=t[d],I=c.x-T.x,B=c.y-T.y,H=I*I+B*B;o>H&&(o=H,r=c,n=T,a=[l,d])})});var s=20,u=ls.getControlPoint(r,n,.5,s);return[["M",r.x,r.y],["Q",u.x,u.y,n.x,n.y]]},mv=function(e,t,r,n){var a,o,s=e.getType();if(s==="edge")o=[e.getKeyShape().getPoint(.5)];else{var u=(a=e.getKeyShape)===null||a===void 0?void 0:a.call(e).getBBox(),l=u.minX,c=u.minY,d=u.maxX,T=u.maxY,I=e.getModel(),B=I.x,H=I.y;l+=B,c+=H,d+=B,T+=H,o={left:{x:l,y:(c+T)/2},right:{x:d,y:(c+T)/2},top:{x:(l+d)/2,y:c},bottom:{x:(l+d)/2,y:T}}}Object.keys(o).forEach(function(Re){var Ae=o[Re],Ve=Ae.x,sr=Ae.y,tn=r.getClientByPoint(Ve,sr);o[Re]=n.getPointByClient(tn.x,tn.y)});var tt=t.top,lt=tt===void 0?0:tt,dt=t.left,gt=dt===void 0?0:dt,_t=t.right,Ht=_t===void 0?0:_t,oe=t.bottom,ie=oe===void 0?0:oe,Ee={left:n.getPointByClient(gt,(lt+ie)/2),right:n.getPointByClient(Ht,(lt+ie)/2),top:n.getPointByClient((gt+Ht)/2,lt),bottom:n.getPointByClient((gt+Ht)/2,ie)};return uw(o,Ee)},nf=function(e){return Number(e.replace(/\s+|px/gi,""))||0},lw={PluginBase:Cs,Menu:Eb,Grid:mb,Minimap:Ab,Bundling:Pb,ToolBar:zb,Tooltip:Wb,Fisheye:Rb,TimeBar:GE,ImageMinimap:jE,EdgeFilterLens:KE,SnapLine:tw,Legend:aw,Annotation:sw},cw=lw,Xo=cw;Ml("circle",{options:{size:zn.defaultNode.size,style:{x:0,y:0,stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize,fontFamily:zn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:zn.defaultNode.linkPoints.size,lineWidth:zn.defaultNode.linkPoints.lineWidth,fill:zn.defaultNode.linkPoints.fill,stroke:zn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,g.__assign)({},zn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=(0,f.deepMix)({},n,e.icon),s="".concat(this.type,"-keyShape"),u=t.addShape("circle",{attrs:a,className:s,name:s,draggable:!0});t.shapeMap[s]=u;var l=o.width,c=o.height,d=o.show,T=o.text;if(d){var I="".concat(this.type,"-icon");T?t.shapeMap[I]=t.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:I,name:I,draggable:!0}):t.shapeMap[I]=t.addShape("image",{attrs:(0,g.__assign)({x:-l/2,y:-c/2},o),className:I,name:I,draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints;if(r){var n=r||{},a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,g.__rest)(n,["top","left","right","bottom","size","r"]),T=this.getSize(e),I=T[0]/2;if(o){var B="link-point-left";t.shapeMap[B]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:-I,y:0,r:l/2||c||5}),className:B,name:B,isAnchorPoint:!0})}if(s){var H="link-point-right";t.shapeMap[H]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:I,y:0,r:l/2||c||5}),className:H,name:H,isAnchorPoint:!0})}if(a){var tt="link-point-top";t.shapeMap[tt]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:-I,r:l/2||c||5}),className:tt,name:tt,isAnchorPoint:!0})}if(u){var lt="link-point-bottom";t.shapeMap[lt]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:I,r:l/2||c||5}),className:lt,name:lt,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.deepMix)({},t,r),a=this.getSize(e),o=a[0]/2,s=(0,g.__assign)({x:0,y:0,r:o},n);return s},update:function(e,t,r){var n=t.getContainer(),a=this.getSize(e),o=(0,g.__assign)({},e.style);e.style.stroke===void 0&&e.color&&(o.stroke=e.color),e.style.r===void 0&&!isNaN(a[0])&&(o.r=a[0]/2),this.updateShape(e,t,o,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Ml("rect",{options:{size:[100,30],style:{radius:0,stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize,fontFamily:zn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:zn.defaultNode.linkPoints.size,lineWidth:zn.defaultNode.linkPoints.lineWidth,fill:zn.defaultNode.linkPoints.fill,stroke:zn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,g.__assign)({},zn.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=n,this.drawLinkPoints(e,t),n},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,g.__rest)(n,["top","left","right","bottom","size","r"]),T=this.getSize(e),I=T[0],B=T[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:-B/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:B/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,g.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getSize(e),s=t.get("keyShape");e.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var u={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},l=(0,f.mix)({},a,s.attr(),u);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!1,r),this.updateLinkPoints(e,n)}},"single-node"),Ml("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize,fontFamily:zn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:zn.defaultNode.linkPoints.size,lineWidth:zn.defaultNode.linkPoints.lineWidth,fill:zn.defaultNode.linkPoints.fill,stroke:zn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,g.__assign)({},zn.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,g.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,g.__rest)(n,["top","left","right","bottom","size","r"]),T=this.getSize(e),I=T[0]/2,B=T[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:-I,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:I,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:-B,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:B,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=a[0]/2,s=a[1]/2,u=(0,g.__assign)({x:0,y:0,rx:o,ry:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getSize(e),s={stroke:e.color,rx:o[0]/2,ry:o[1]/2},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Ml("diamond",{options:{size:[80,80],style:{stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize,fontFamily:zn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:zn.defaultNode.linkPoints.size,lineWidth:zn.defaultNode.linkPoints.lineWidth,fill:zn.defaultNode.linkPoints.fill,stroke:zn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,g.__assign)({},zn.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,g.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,g.__rest)(n,["top","left","right","bottom","size","r"]),T=this.getSize(e),I=T[0],B=T[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:-B/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:B/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),r=t[0],n=t[1],a=[["M",0,-n/2],["L",r/2,0],["L",0,n/2],["L",-r/2,0],["Z"]];return a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,g.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Ml("triangle",{options:{size:40,direction:"up",style:{stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:zn.defaultNode.linkPoints.size,lineWidth:zn.defaultNode.linkPoints.lineWidth,fill:zn.defaultNode.linkPoints.fill,stroke:zn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,g.__assign)({},zn.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.icon,a=n===void 0?{}:n,o=r.direction,s=this.getShapeStyle(e),u=e.direction||o,l=t.addShape("path",{attrs:s,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=l;var c=a.width,d=a.height,T=a.show,I=a.offset,B=a.text;if(T)if(B)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var H=-c/2,tt=-d/2;(u==="up"||u==="down")&&(tt+=I),(u==="left"||u==="right")&&(H+=I),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,g.__assign)({x:H,y:tt},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),l},drawLinkPoints:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.linkPoints,a=n===void 0?{}:n,o=r.direction,s=e.direction||o,u=a.top,l=a.left,c=a.right,d=a.bottom,T=a.size,I=a.r,B=(0,g.__rest)(a,["top","left","right","bottom","size","r"]),H=this.getSize(e),tt=H[0];if(l){var lt=null,dt=tt*Math.sin(1/3*Math.PI),gt=tt*Math.sin(1/3*Math.PI);s==="up"?lt=[-gt,dt]:s==="down"?lt=[-gt,-dt]:s==="left"&&(lt=[-gt,gt-dt]),lt&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},B),{x:lt[0],y:lt[1],r:T/2||I||5}),className:"link-point-left",name:"link-point-left"}))}if(c){var _t=null,dt=tt*Math.sin(1/3*Math.PI),gt=tt*Math.sin(1/3*Math.PI);s==="up"?_t=[gt,dt]:s==="down"?_t=[gt,-dt]:s==="right"&&(_t=[gt,gt-dt]),_t&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},B),{x:_t[0],y:_t[1],r:T/2||I||5}),className:"link-point-right",name:"link-point-right"}))}if(u){var Ht=null,dt=tt*Math.sin(1/3*Math.PI),gt=tt*Math.sin(1/3*Math.PI);s==="up"?Ht=[gt-dt,-dt]:s==="left"?Ht=[gt,-dt]:s==="right"&&(Ht=[-gt,-dt]),Ht&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},B),{x:Ht[0],y:Ht[1],r:T/2||I||5}),className:"link-point-top",name:"link-point-top"}))}if(d){var oe=null,dt=tt*Math.sin(1/3*Math.PI),gt=tt*Math.sin(1/3*Math.PI);s==="down"?oe=[-gt+dt,dt]:s==="left"?oe=[gt,dt]:s==="right"&&(oe=[-gt,dt]),oe&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},B),{x:oe[0],y:oe[1],r:T/2||I||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,r=e.direction||t,n=this.getSize(e),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),u=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return r==="down"?u=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:r==="left"?u=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:r==="right"&&(u=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),u},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,g.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)},updateLinkPoints:function(e,t){var r=this.getOptions({}),n=r.linkPoints,a=r.direction,o=e.direction||a,s=t.shapeMap["link-point-left"]||t.find(function(Vr){return Vr.get("className")==="link-point-left"}),u=t.shapeMap["link-point-right"]||t.find(function(Vr){return Vr.get("className")==="link-point-right"}),l=t.shapeMap["link-point-top"]||t.find(function(Vr){return Vr.get("className")==="link-point-top"}),c=t.shapeMap["link-point-bottom"]||t.find(function(Vr){return Vr.get("className")==="link-point-bottom"}),d=n,T=s||u||l||c;T&&(d=T.attr());var I=(0,f.mix)({},d,e.linkPoints),B=I.fill,H=I.stroke,tt=I.lineWidth,lt=I.size/2;lt||(lt=I.r);var dt=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},gt=dt.left,_t=dt.right,Ht=dt.top,oe=dt.bottom,ie=this.getSize(e),Ee=ie[0],Re={r:lt,fill:B,stroke:H,lineWidth:tt},Ae=null,Ve=Ee*Math.sin(1/3*Math.PI),sr=Ee*Math.sin(1/3*Math.PI);o==="up"?Ae=[-sr,Ve]:o==="down"?Ae=[-sr,-Ve]:o==="left"&&(Ae=[-sr,sr-Ve]),Ae&&(s?!gt&&gt!==void 0?(s.remove(),delete t.shapeMap["link-point-left"]):s.attr((0,g.__assign)((0,g.__assign)({},Re),{x:Ae[0],y:Ae[1]})):gt&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Re),{x:Ae[0],y:Ae[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var tn=null;o==="up"?tn=[sr,Ve]:o==="down"?tn=[sr,-Ve]:o==="right"&&(tn=[sr,sr-Ve]),tn&&(u?!_t&&_t!==void 0?(u.remove(),delete t.shapeMap["link-point-right"]):u.attr((0,g.__assign)((0,g.__assign)({},Re),{x:tn[0],y:tn[1]})):_t&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Re),{x:tn[0],y:tn[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var Tn=null;o==="up"?Tn=[sr-Ve,-Ve]:o==="left"?Tn=[sr,-Ve]:o==="right"&&(Tn=[-sr,-Ve]),Tn&&(l?!Ht&&Ht!==void 0?(l.remove(),delete t.shapeMap["link-point-top"]):l.attr((0,g.__assign)((0,g.__assign)({},Re),{x:Tn[0],y:Tn[1]})):Ht&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Re),{x:Tn[0],y:Tn[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var pn=null;o==="down"?pn=[-sr+Ve,Ve]:o==="left"?pn=[sr,Ve]:o==="right"&&(pn=[-sr,Ve]),pn&&(c?!oe&&oe!==void 0?(c.remove(),delete t.shapeMap["link-point-bottom"]):c.attr((0,g.__assign)((0,g.__assign)({},Re),{x:pn[0],y:pn[1]})):oe&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Re),{x:pn[0],y:pn[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Ml("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:zn.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:zn.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:zn.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).preRect,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=this.getSize(e),s=o[0],u=o[1],l=t.addShape("rect",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=l;var c=n.show,d=(0,g.__rest)(n,["show"]);return c&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,g.__assign)({x:-s/2,y:-u/2,height:u},d),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),l},drawLogoIcon:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).logoIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,u=n.height,l=n.x,c=n.y,d=n.offset,T=n.text,I=(0,g.__rest)(n,["width","height","x","y","offset","text"]);T?t.shapeMap["rect-logo-icon"]=t.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},I),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.shapeMap["rect-logo-icon"]=t.addShape("image",{attrs:(0,g.__assign)((0,g.__assign)({},I),{x:l||-o/2+s+d,y:c||-u/2,width:s,height:u}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).stateIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,u=n.height,l=n.x,c=n.y,d=n.offset,T=n.text,I=(0,g.__rest)(n,["width","height","x","y","offset","text"]);T?t.shapeMap["rect-state-icon"]=t.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},I),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.shapeMap["rect-state-icon"]=t.addShape("image",{attrs:(0,g.__assign)((0,g.__assign)({},I),{x:l||o/2-s+d,y:c||-u/2,width:s,height:u}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,g.__rest)(n,["top","left","right","bottom","size","r"]),T=this.getSize(e),I=T[0],B=T[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:-B/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},d),{x:0,y:B/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var r=this.getOptions(e),n=r.labelCfg,a=n===void 0?{}:n,o=r.logoIcon,s=o===void 0?{}:o,u=r.descriptionCfg,l=u===void 0?{}:u,c=this.getSize(e),d=c[0],T=null,I=s.show,B=s.width,H=-d/2+a.offset;I&&(H=-d/2+B+a.offset);var tt=a.style,lt=l.style,dt=l.paddingTop;return(0,f.isString)(e.description)?(T=t.addShape("text",{attrs:(0,g.__assign)((0,g.__assign)({},tt),{x:H,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=T,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,g.__assign)((0,g.__assign)({},lt),{x:H,y:17+(dt||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(T=t.addShape("text",{attrs:(0,g.__assign)((0,g.__assign)({},tt),{x:H,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=T),T},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,g.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.style,a=n===void 0?{}:n,o=r.labelCfg,s=o===void 0?{}:o,u=r.descriptionCfg,l=u===void 0?{}:u,c=this.getSize(e),d=c[0],T=c[1],I=t.get("keyShape");I.attr((0,g.__assign)((0,g.__assign)({},a),{x:-d/2,y:-T/2,width:d,height:T}));var B=t.getContainer(),H=B.shapeMap["rect-logo-icon"]||B.find(function(Na){return Na.get("className")==="rect-logo-icon"}),tt=H?H.attr():{},lt=(0,f.mix)({},tt,e.logoIcon),dt=lt.width;dt===void 0&&(dt=this.options.logoIcon.width);var gt=e.logoIcon?e.logoIcon.show:void 0,_t=s.offset,Ht=-d/2+dt+_t;!gt&&gt!==void 0&&(Ht=-d/2+_t);var oe=B.shapeMap["node-label"]||B.find(function(Na){return Na.get("className")==="node-label"}),ie=B.shapeMap["rect-description"]||B.find(function(Na){return Na.get("className")==="rect-description"});if(e.label)if(!oe)B.shapeMap["node-label"]=B.addShape("text",{attrs:(0,g.__assign)((0,g.__assign)({},s.style),{x:Ht,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});else{var Ee=e.labelCfg?e.labelCfg.style:{},Re=(0,f.mix)({},oe.attr(),Ee);e.label&&(Re.text=e.label),Re.x=Ht,(0,f.isString)(e.description)&&(Re.y=-5),ie&&(ie.resetMatrix(),ie.attr({x:Ht})),oe.resetMatrix(),oe.attr(Re)}if((0,f.isString)(e.description)){var Ae=l.paddingTop;if(!ie)B.shapeMap["rect-description"]=B.addShape("text",{attrs:(0,g.__assign)((0,g.__assign)({},l.style),{x:Ht,y:17+(Ae||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0});else{var Ee=e.descriptionCfg?e.descriptionCfg.style:{},Ve=(0,f.mix)({},ie.attr(),Ee);(0,f.isString)(e.description)&&(Ve.text=e.description),Ve.x=Ht,ie.resetMatrix(),ie.attr((0,g.__assign)((0,g.__assign)({},Ve),{y:17+(Ae||0)}))}}var sr=B.shapeMap["pre-rect"]||B.find(function(Na){return Na.get("className")==="pre-rect"});if(sr&&!sr.destroyed){var tn=(0,f.mix)({},sr.attr(),e.preRect);sr.attr((0,g.__assign)((0,g.__assign)({},tn),{x:-d/2,y:-T/2,height:T}))}if(H&&!H.destroyed)if(!gt&&gt!==void 0)H.remove(),delete B.shapeMap["pre-rect"];else{var Tn=lt.width,pn=lt.height,Vr=lt.x,Gn=lt.y,Rn=lt.offset,Hr=(0,g.__rest)(lt,["width","height","x","y","offset"]);H.attr((0,g.__assign)((0,g.__assign)({},Hr),{x:Vr||-d/2+Tn+Rn,y:Gn||-pn/2,width:Tn,height:pn}))}else gt&&this.drawLogoIcon(e,B);var hn=B.shapeMap["rect-state-icon"]||B.find(function(Na){return Na.get("className")==="rect-state-icon"}),On=hn?hn.attr():{},In=(0,f.mix)({},On,e.stateIcon);if(hn){!In.show&&In.show!==void 0&&(hn.remove(),delete B.shapeMap["rect-state-icon"]);var jn=In.width,pn=In.height,Vr=In.x,Gn=In.y,ea=In.offset,ba=(0,g.__rest)(In,["width","height","x","y","offset"]);hn.attr((0,g.__assign)((0,g.__assign)({},ba),{x:Vr||d/2-jn+ea,y:Gn||-pn/2,width:jn,height:pn}))}else In.show&&this.drawStateIcon(e,B);this.updateLinkPoints(e,B)},getOptions:function(e,t){return t==="move"?e:(0,f.deepMix)({},this.options,this.getCustomConfig(e)||{},e)}},"single-node"),Ml("star",{options:{size:60,style:{stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize,fontFamily:zn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:zn.defaultNode.linkPoints.size,lineWidth:zn.defaultNode.linkPoints.lineWidth,fill:zn.defaultNode.linkPoints.fill,stroke:zn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,g.__assign)({},zn.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,g.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.leftBottom,l=n.rightBottom,c=n.size,d=n.r,T=(0,g.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),I=this.getSize(e),B=I[0];if(s){var H=Math.cos(.1*Math.PI)*B,tt=Math.sin((18+72*0)/180*Math.PI)*B;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},T),{x:H,y:-tt,r:c/2||d||5}),className:"link-point-right",name:"link-point-right"})}if(a){var H=Math.cos(.5*Math.PI)*B,tt=Math.sin((18+72*1)/180*Math.PI)*B;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},T),{x:H,y:-tt,r:c/2||d||5}),className:"link-point-top",name:"link-point-top"})}if(o){var H=Math.cos(.9*Math.PI)*B,tt=Math.sin((18+72*2)/180*Math.PI)*B;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},T),{x:H,y:-tt,r:c/2||d||5}),className:"link-point-left",name:"link-point-left"})}if(u){var H=Math.cos(1.3*Math.PI)*B,tt=Math.sin((18+72*3)/180*Math.PI)*B;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},T),{x:H,y:-tt,r:c/2||d||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(l){var H=Math.cos(1.7*Math.PI)*B,tt=Math.sin((18+72*4)/180*Math.PI)*B;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},T),{x:H,y:-tt,r:c/2||d||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){var t=this.getSize(e),r=t[0],n=r*3/8,a=e.innerR||n;return ls.getStarPath(r,a)},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,g.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)},updateLinkPoints:function(e,t){var r=this.getOptions({}).linkPoints,n=t.shapeMap["link-point-left"]||t.find(function(Ve){return Ve.get("className")==="link-point-left"}),a=t.shapeMap["link-point-right"]||t.find(function(Ve){return Ve.get("className")==="link-point-right"}),o=t.shapeMap["link-point-top"]||t.find(function(Ve){return Ve.get("className")==="link-point-top"}),s=t.shapeMap["link-point-left-bottom"]||t.find(function(Ve){return Ve.get("className")==="link-point-left-bottom"}),u=t.shapeMap["link-point-left-bottom"]||t.find(function(Ve){return Ve.get("className")==="link-point-right-bottom"}),l=r,c=n||a||o||s||u;c&&(l=c.attr());var d=(0,f.mix)({},l,e.linkPoints),T=d.fill,I=d.stroke,B=d.lineWidth,H=d.size/2;H||(H=d.r);var tt=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},lt=tt.left,dt=tt.right,gt=tt.top,_t=tt.leftBottom,Ht=tt.rightBottom,oe=this.getSize(e),ie=oe[0],Ee={r:H,fill:T,stroke:I,lineWidth:B},Re=Math.cos((18+72*0)/180*Math.PI)*ie,Ae=Math.sin((18+72*0)/180*Math.PI)*ie;a?!dt&&dt!==void 0?(a.remove(),delete t.shapeMap["link-point-right"]):a.attr((0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae})):dt&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),Re=Math.cos((18+72*1)/180*Math.PI)*ie,Ae=Math.sin((18+72*1)/180*Math.PI)*ie,o?!gt&&gt!==void 0?(o.remove(),delete t.shapeMap["link-point-top"]):o.attr((0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae})):gt&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),Re=Math.cos((18+72*2)/180*Math.PI)*ie,Ae=Math.sin((18+72*2)/180*Math.PI)*ie,n?!lt&&lt!==void 0?(n.remove(),delete t.shapeMap["link-point-left"]):n.attr((0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae})):lt&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),Re=Math.cos((18+72*3)/180*Math.PI)*ie,Ae=Math.sin((18+72*3)/180*Math.PI)*ie,s?!_t&&_t!==void 0?(s.remove(),delete t.shapeMap["link-point-left-bottom"]):s.attr((0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae})):_t&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),Re=Math.cos((18+72*4)/180*Math.PI)*ie,Ae=Math.sin((18+72*4)/180*Math.PI)*ie,u?!Ht&&Ht!==void 0?(u.remove(),delete t.shapeMap["link-point-right-bottom"]):u.attr((0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae})):Ht&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,g.__assign)((0,g.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var $g=ls.defaultSubjectColors,zd="fan-shape-";Ml("donut",{options:{size:zn.defaultNode.size,style:{x:0,y:0,stroke:zn.defaultNode.style.stroke,fill:zn.defaultNode.style.fill,lineWidth:zn.defaultNode.style.lineWidth},labelCfg:{style:{fill:zn.nodeLabel.style.fill,fontSize:zn.nodeLabel.style.fontSize,fontFamily:zn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:zn.defaultNode.linkPoints.size,lineWidth:zn.defaultNode.linkPoints.lineWidth,fill:zn.defaultNode.linkPoints.fill,stroke:zn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,g.__assign)({},zn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=(0,f.deepMix)({},n,e.icon),s=t.addShape("circle",{attrs:a,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=s;var u=o.width,l=o.height,c=o.show,d=o.text;return c&&(d?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,g.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,g.__assign)({x:-u/2,y:-l/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),fw(e,t,s),this.drawLinkPoints(e,t),s},updateShape:function(e,t,r,n,a){var o=t.get("keyShape");o.attr((0,g.__assign)({},r)),dw(e,t,o),this.updateLabel(e,t,a),n&&this.updateIcon(e,t)}},"circle");var fw=function(e,t,r){var n=e.donutAttrs,a=n===void 0?{}:n,o=e.donutColorMap,s=o===void 0?{}:o,u=Object.keys(a).length;if(a&&u>1){var l=Qg(a,s),c=l.configs,d=l.totalValue;if(d){var T=qg(r),I=T.lineWidth,B=T.arcR,H=[B,0],tt=0;if(u===1){yv(t,{arcR:B,arcBegin:H,beginAngle:tt,config:c[0],fanIndex:0,lineWidth:I,totalValue:d,drawWhole:!0});return}for(var lt=0;lt<c.length;lt++){var dt=yv(t,{arcR:B,arcBegin:H,beginAngle:tt,config:c[lt],fanIndex:lt,lineWidth:I,totalValue:d});if(dt.shouldEnd)return;H=dt.arcBegin,tt=dt.beginAngle}}}},yv=function(e,t){var r=t.arcR,n=t.arcBegin,a=t.beginAngle,o=t.config,s=t.fanIndex,u=t.lineWidth,l=t.totalValue,c=t.drawWhole,d=c===void 0?!1:c,T=t.updateShape,I=T===void 0?void 0:T,B=o.value/l;if(B<.001)return{beginAngle:a,arcBegin:n,shape:void 0,shouldEnd:!1};var H,tt,lt;if(d||B>.999)H=[r,1e-4],lt=!0;else{var dt=B*Math.PI*2;tt=a+dt,H=[r*Math.cos(tt),-r*Math.sin(tt)],lt=dt>Math.PI?1:0}var gt={path:[["M",n[0],n[1]],["A",r,r,0,lt,0,H[0],H[1]],["L",H[0],H[1]]],stroke:o.color||(I==null?void 0:I.attr("stroke"))||$g[s%$g.length],lineWidth:u};return I?I.attr(gt):e.shapeMap["".concat(zd).concat(s)]=e.addShape("path",{attrs:gt,name:"".concat(zd).concat(s),draggable:!0}),{beginAngle:tt,arcBegin:H,shape:e.shapeMap["".concat(zd).concat(s)],shouldEnd:d||B>.999}},dw=function(e,t,r){var n=e.donutAttrs,a=e.donutColorMap,o=a===void 0?{}:a,s={},u=t.getContainer();if(n){var l=Qg(n,o),c=l.configs,d=l.totalValue;if(d)for(var T=qg(r),I=T.lineWidth,B=T.arcR,H=[B,0],tt=0,lt=0;lt<c.length;lt++){var dt="".concat(zd).concat(lt),gt=yv(u,{arcR:B,arcBegin:H,beginAngle:tt,config:c[lt],fanIndex:lt,lineWidth:I,totalValue:d,drawWhole:c.length===1,updateShape:u.shapeMap[dt]});if(gt.shape&&(s[dt]=!0),gt.shouldEnd)break;H=gt.arcBegin,tt=gt.beginAngle}}var _t=Object.keys(u.shapeMap).filter(function(Ht){return Ht.includes(zd)});_t.forEach(function(Ht){s[Ht]||(u.shapeMap[Ht].remove(!0),delete u.shapeMap[Ht])})},Qg=function(e,t){var r=0,n=[];return Object.keys(e).forEach(function(a){var o=+e[a];isNaN(o)||(n.push({key:a,value:o,color:t[a]}),r+=o)}),{totalValue:r,configs:n}},qg=function(e){var t=e.attr("r"),r=.6*t,n=(t+r)/2,a=t-r;return{lineWidth:a,arcR:n}},mh=function(e){var t=e.x,r=e.y;return{x:t,y:r,centerX:t,centerY:r,minX:t,minY:r,maxX:t,maxY:r,height:0,width:0}},hw=function(e){e===void 0&&(e=[]);var t=[],r=[];e.forEach(function(u){t.push(u.x),r.push(u.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,r),s=Math.max.apply(Math,r);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},tM=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},bv=function(e){for(var t=[],r={},n=e.length,a=n-1;a>=0;a--){var o=e[a];o.id="".concat(o.x,"|||").concat(o.y),r[o.id]||(r[o.id]=o,t.push(o))}return t},Jg=function(e){return bv(e)},eM=function(e,t){return[e,{x:e.x,y:t.y},t]},yh=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},vw=function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r===0&&n===0?0:r/t.width>n/t.height},xv=function(e,t,r){var n=vw(t,e);if(n===0){var a=e.centerX,o=e.centerY;return r.y<t.y?o=e.minY:r.x>t.x?a=e.maxX:r.x<t.x?a=e.minX:r.x===t.x&&(o=e.maxY),{x:a,y:o}}return n?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},t0=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(r+a)/2,centerY:(n+o)/2,minX:r,minY:n,maxX:a,maxY:o,height:o-n,width:a-r}},Ev=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},bh=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},pw=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},gw=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},mw=function(e,t){return pw(e,t.x).concat(gw(e,t.y))},Gd=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},yw=function(e,t){var r=-2,n=0;return t.forEach(function(a){a&&(e.x===a.x&&(n+=r),e.y===a.y&&(n+=r))}),n},e0=function(e,t,r,n,a){return Gd(e,t)+Gd(e,r)+yw(e,[t,r,n,a])},bw=function i(e,t,r,n,a){a===void 0&&(a=0),e.unshift(t[n]),r[n]&&r[n]!==n&&a<=100&&i(e,t,r,r[n],a+1)},rM=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},xh=function(e,t,r,n){var a=r.x-e.x,o=r.y-e.y,s=n.x-e.x,u=n.y-e.y,l=r.x-t.x,c=r.y-t.y,d=n.x-t.x,T=n.y-t.y,I=a*u-o*s,B=l*T-c*d,H=a*c-o*l,tt=s*T-u*d;return I*B<=0&&H*tt<=0},wv=function(e,t,r){if(r.width||r.height){var n=Ev(r),a=n[0],o=n[1],s=n[2],u=n[3];return xh(e,t,a,o)||xh(e,t,a,u)||xh(e,t,o,s)||xh(e,t,s,u)}return!1},xw=function(e,t,r,n){var a=[];return e.forEach(function(o){if(o!==t&&(o.x===t.x||o.y===t.y)){if(wv(o,t,r)||wv(o,t,n))return;a.push(o)}}),bv(a)},Ew=function(e,t,r,n,a,o,s){var u,l=[],c=(u={},u[t.id]=t,u),d={},T={},I={};T[t.id]=0,I[t.id]=e0(t,r,t);var B=new a0;B.add({id:t.id,value:I[t.id]});var H={};e.forEach(function(Ht){H[Ht.id]=Ht});for(var tt;Object.keys(c).length;){var lt=B.minId(!1);if(lt)tt=c[lt];else break;if(tt===r){var dt=[];return bw(dt,H,d,r.id),dt}delete c[tt.id],B.remove(tt.id),l.push(tt);var gt=xw(e,tt,n,a),_t=function(oe){oe.forEach(function(ie){if(l.indexOf(ie)===-1){var Ee=ie.id;c[Ee]||(c[Ee]=ie);var Re=I[tt.id]+Gd(tt,ie);if(T[Ee]&&Re>=T[Ee]){B.add({id:Ee,value:I[Ee]});return}d[Ee]=tt.id,T[Ee]=Re,I[Ee]=T[Ee]+e0(ie,r,t,o,s),B.add({id:Ee,value:I[Ee]})}})};_t(gt)}return[t,r]},ww=function(e,t,r){return!(e.x===t.x&&t.x===r.x||e.y===t.y&&t.y===r.y)},Sw=function(e,t,r,n){var a=Gd(e,t),o=Gd(r,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-e.x),y:t.y-n/a*(t.y-e.y)},u={x:t.x-n/o*(t.x-r.x),y:t.y-n/o*(t.y-r.y)};return[s,u]},r0=function(e,t){var r=[],n=e[0];return r.push("M".concat(n.x," ").concat(n.y)),e.forEach(function(a,o){var s=e[o+1],u=e[o+2];if(s&&u)if(ww(a,s,u)){var l=Sw(a,s,u,t),c=l[0],d=l[1];r.push("L".concat(c.x," ").concat(c.y)),r.push("Q".concat(s.x," ").concat(s.y," ").concat(d.x," ").concat(d.y)),r.push("L".concat(d.x," ").concat(d.y))}else r.push("L".concat(s.x," ").concat(s.y));else s&&r.push("L".concat(s.x," ").concat(s.y))}),r.join("")},n0=function(e,t,r,n,a){var o,s;if(!r||!r.getType())o=mh(e);else if(r.getType()==="combo"){var u=r.getKeyShape().getBBox();if(u){var l=r.getModel(),c=l.x,d=l.y;o={x:c,y:d,width:u.width,height:u.height,minX:u.minX+c,maxX:u.maxX+c,minY:u.minY+d,maxY:u.maxY+d},o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=mh(e)}else o=r&&r.getBBox();if(!n||!n.getType())s=mh(t);else if(n.getType()==="combo"){var T=n.getKeyShape().getBBox();if(T){var I=n.getModel(),B=I.x,H=I.y;s={x:B,y:H,width:T.width,height:T.height,minX:T.minX+B,maxX:T.maxX+B,minY:T.minY+H,maxY:T.maxY+H},s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=mh(t)}else s=n&&n.getBBox();var tt=yh(o,a),lt=yh(s,a),dt=xv(tt,e,t),gt=xv(lt,t,e),_t=hw([dt,gt]),Ht=t0(tt,_t),oe=t0(lt,_t),ie=[];ie=ie.concat(Ev(Ht)).concat(Ev(oe));var Ee={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[_t,Ht,oe].forEach(function(Ae){ie=ie.concat(mw(Ae,Ee).filter(function(Ve){return bh(Ve,tt)&&bh(Ve,lt)}))}),[{x:dt.x,y:gt.y},{x:gt.x,y:dt.y}].forEach(function(Ae){bh(Ae,tt)&&bh(Ae,lt)&&ie.push(Ae)}),ie.unshift(dt),ie.push(gt),ie=bv(ie);var Re=Ew(ie,dt,gt,o,s,e,t);return Re.unshift(e),Re.push(t),Jg(Re)},Mw=function(e){if(!(e!=null&&e.length))return e;for(var t=e[e.length-1],r={x:t.x,y:t.y},n=[t],a=[t],o=e.length-2;o>=0;o--){var s=e[o];if(s.x===r.x?n.push(s):(n=[s],r.x=s.x),s.y===r.y?a.push(s):(a=[s],r.y=s.y),n.length>2){var u=e.indexOf(n[1]);u>-1&&e.splice(u,1);continue}if(a.length>2){var u=e.indexOf(a[1]);u>-1&&e.splice(u,1)}}return e},a0=function(){function i(){this.arr=[],this.map={},this.arr=[],this.map={}}return i.prototype._innerAdd=function(e,t){for(var r=[0,t-1];r[1]-r[0]>1;){var n=Math.floor((r[0]+r[1])/2);if(this.arr[n].value>e.value)r[1]=n;else if(this.arr[n].value<e.value)r[0]=n;else{this.arr.splice(n,0,e),this.map[e.id]=!0;return}}this.arr.splice(r[1],0,e),this.map[e.id]=!0},i.prototype.add=function(e){delete this.map[e.id];var t=this.arr.length;if(!t){this.arr.push(e),this.map[e.id]=!0;return}if(this.arr[t-1].value<e.value){this.arr.push(e),this.map[e.id]=!0;return}this._innerAdd(e,t)},i.prototype.remove=function(e){this.map[e]&&delete this.map[e]},i.prototype._clearAndGetMinId=function(){for(var e,t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e},i.prototype._findFirstId=function(){for(;this.arr.length;){var e=this.arr.shift();if(this.map[e.id])return e.id}},i.prototype.minId=function(e){return e?this._clearAndGetMinId():this._findFirstId()},i}(),_w=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Cw=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Tw=function(e,t){return[e,t]},Aw=function(e,t,r,n,a){return Jg(n0(e,t,r,n,a.offset))},Ow={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:_w,fallbackRoute:Aw},nM={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:Cw,fallbackRoute:Tw},Ol=function(e,t){var r=Math.round(Math.abs(e/t)),n=e<0?-1:1;return r<0?0:n*r},Iw=function(e,t,r){var n={};return e.forEach(function(a){if(a)for(var o=yh(a.getBBox(),r),s=Ol(o.minX,t);s<=Ol(o.maxX,t);s+=1)for(var u=Ol(o.minY,t);u<=Ol(o.maxY,t);u+=1)n["".concat(s,"|||").concat(u)]=!0}),n},Sv=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r||n?Math.atan2(n,r):0},i0=function(e,t){var r=Math.abs(e-t);return r>Math.PI?2*Math.PI-r:r},o0=function(e,t,r){for(var n=1/0,a=0,o=t.length;a<o;a++){var s=r(e,t[a]);s<n&&(n=s)}return n},s0=function(e,t,r,n,a){var o=[];if(!r)return[e];var s=a.directions,u=a.offset,l=r.getBBox(),c=t.x>l.minX&&t.x<l.maxX&&t.y>l.minY&&t.y<l.maxY,d=yh(l,u);for(var T in d)d[T]=Ol(d[T],a.gridSize);if(c){for(var I=0,B=s;I<B.length;I++)for(var H=B[I],tt=[[{x:d.minX,y:d.minY},{x:d.maxX,y:d.minY}],[{x:d.minX,y:d.minY},{x:d.minX,y:d.maxY}],[{x:d.maxX,y:d.minY},{x:d.maxX,y:d.maxY}],[{x:d.minX,y:d.maxY},{x:d.maxX,y:d.maxY}]],T=0;T<4;T++){var lt=tt[T],dt=ls.getLineIntersect(e,{x:e.x+H.stepX*d.width,y:e.y+H.stepY*d.height},lt[0],lt[1]);dt&&!wv(e,dt,l)&&(dt.id="".concat(dt.x,"|||").concat(dt.y),o.push(dt))}return o}var gt=xv(d,e,n);return gt.id="".concat(gt.x,"|||").concat(gt.y),[gt]},Mv=function(e,t,r,n){var a=Sv(e,t),o=r[e.id];if(!o){var s=Sv(n,e);return i0(s,a)}var u=Sv({x:o.x,y:o.y},e);return i0(u,a)},Dw=function(e,t,r,n,a,o,s){var u=[n],l=n,c=e.id,d=e.x,T=e.y,I={x:d,y:T,id:c};Mv(I,o,t,r)&&(l={x:o.x===n.x?n.x:I.x*s,y:o.y===n.y?n.y:I.y*s},u.unshift(l));for(var B=t[c];B&&B.id!==c;){var H={x:d,y:T,id:c},tt={x:B.x,y:B.y,id:B.id},lt=Mv(tt,H,t,r);lt&&(l={x:tt.x===H.x?l.x:tt.x*s,y:tt.y===H.y?l.y:tt.y*s},u.unshift(l)),c=tt.id,d=tt.x,T=tt.y,B=t[c]}return u[0].x=d===r.x?a.x:l.x,u[0].y=T===r.y?a.y:l.y,u.unshift(a),u},Pw=function(e,t,r,n,a){if(isNaN(e.x)||isNaN(t.x))return[];var o=(0,f.deepMix)(Ow,a);o.obstacles=o.obstacles||[];var s=o.penalties,u=o.gridSize,l=Iw(o.obstacles.concat([r,n]),u,o.offset),c={x:Ol(e.x,u),y:Ol(e.y,u)},d={x:Ol(t.x,u),y:Ol(t.y,u)};e.id="".concat(c.x,"|||").concat(c.y),t.id="".concat(d.x,"|||").concat(d.y);var T=s0(c,e,r,d,o),I=s0(d,t,n,c,o);T.forEach(function(Hr){delete l[Hr.id]}),I.forEach(function(Hr){delete l[Hr.id]});for(var B={},H={},tt={},lt={},dt={},gt=new a0,_t=0;_t<T.length;_t++){var Ht=T[_t];B[Ht.id]=Ht,lt[Ht.id]=0,dt[Ht.id]=o0(Ht,I,o.distFunc),gt.add({id:Ht.id,value:dt[Ht.id]})}var oe=o.maximumLoops,ie,Ee,Re,Ae,Ve,sr,tn=1/0,Tn={};for(I.forEach(function(Hr){Tn["".concat(Hr.x,"|||").concat(Hr.y)]=!0}),Object.keys(B).forEach(function(Hr){var hn=B[Hr].id;dt[hn]<=tn&&(tn=dt[hn],ie=B[hn])});Object.keys(B).length>0&&oe>0;){var pn=gt.minId((oe+1)%30===0);if(pn)ie=B[pn];else break;if(Tn["".concat(ie.x,"|||").concat(ie.y)])return Dw(ie,tt,c,t,e,d,u);delete B[ie.id],gt.remove(ie.id),H[ie.id]=!0;for(var _t=0;_t<o.directions.length;_t++){Ee=o.directions[_t];var Vr="".concat(Math.round(ie.x)+Ee.stepX,"|||").concat(Math.round(ie.y)+Ee.stepY);if(Re={x:ie.x+Ee.stepX,y:ie.y+Ee.stepY,id:Vr},!H[Vr]&&(sr=Mv(ie,Re,tt,c),!(sr>o.maxAllowedDirectionChange)&&!l[Vr])){B[Vr]||(B[Vr]=Re);var Gn=s[sr];Ae=o.distFunc(ie,Re)+(isNaN(Gn)?u:Gn),Ve=lt[ie.id]+Ae;var Rn=lt[Vr];Rn&&Ve>=Rn||(tt[Vr]=ie,lt[Vr]=Ve,dt[Vr]=Ve+o0(Re,I,o.distFunc),gt.add({id:Vr,value:dt[Vr]}))}}oe-=1}return o.fallbackRoute(e,t,r,n,o)};lp("polyline",{options:{color:zn.defaultEdge.color,size:zn.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:zn.defaultEdge.style.stroke,lineAppendWidth:zn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:zn.edgeLabel.style.fill,fontSize:zn.edgeLabel.style.fontSize,fontFamily:zn.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,g.__assign)({},zn.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e);r.radius===0&&delete r.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:r});return t.shapeMap["edge-shape"]=n,n},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,f.mix)({},t,r,e.style);e=this.getPathPoints(e),this.radius=n.radius,this.offset=n.offset;var a=e.startPoint,o=e.endPoint,s=this.getControlPoints(e),u=[a];s&&(u=u.concat(s)),u.push(o);var l=e.sourceNode,c=e.targetNode,d=n.radius,T=this.options.routeCfg,I=(0,f.mix)({},T,e.routeCfg);I.offset=n.offset;var B=this.getPath(u,l,c,d,I,!Boolean(s));((0,f.isArray)(B)&&B.length<=1||(0,f.isString)(B)&&B.indexOf("L")===-1)&&(B="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(B="M0 0, L0 0");var H=(0,f.mix)({},zn.defaultEdge.style,n,{lineWidth:e.size,path:B});return H},updateShapeStyle:function(e,t){var r=t.getContainer();if(t.isVisible()){var n={stroke:e.color},a=r.shapeMap["edge-shape"]||r.find(function(_t){return _t.get("className")==="edge-shape"})||t.getKeyShape(),o=e.size;e=this.getPathPoints(e);var s=e.startPoint,u=e.endPoint,l=this.getControlPoints(e),c=[s];l&&(c=c.concat(l)),c.push(u);var d=a.attr(),T=(0,f.mix)({},n,d,e.style),I=e.sourceNode,B=e.targetNode,H=T.radius,tt=this.options.routeCfg,lt=(0,f.mix)({},tt,e.routeCfg);lt.offset=T.offset;var dt=this.getPath(c,I,B,H,lt,!Boolean(l));((0,f.isArray)(dt)&&dt.length<=1||(0,f.isString)(dt)&&dt.indexOf("L")===-1)&&(dt="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(u.x)||isNaN(u.y))&&(dt="M0 0, L0 0"),d.endArrow&&T.endArrow===!1&&(e.style.endArrow={path:""}),d.startArrow&&T.startArrow===!1&&(e.style.startArrow={path:""});var gt=(0,f.mix)(n,a.attr(),{lineWidth:o,path:dt},e.style);a&&a.attr(gt)}},getPath:function(e,t,r,n,a,o){var s=a.offset,u=a.obstacles,l=a.simple;if(!s||e.length>2||o===!1){if(n)return r0(e,n);var c=[];return(0,f.each)(e,function(B,H){H===0?c.push(["M",B.x,B.y]):c.push(["L",B.x,B.y])}),c}l!==!1&&!(u!=null&&u.length)&&(l=!0);var d=l?n0(e[e.length-1],e[0],r,t,s):Pw(e[0],e[e.length-1],t,r,a);if(!d||!d.length)return"M0 0, L0 0";if(n){var T=r0(d,n);return T}d=Mw(d);var I=ls.pointsToPolygon(d);return I}},"single-edge");var u0=Cl.cloneEvent,l0=Cl.isNaN,c0=Math.abs,Lw=10,Nw=["shift","ctrl","alt","control"],Rw={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,r=+e.clientX,n=+e.clientY;if(!(l0(r)||l0(n))){var a=r-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:r,y:n};var s=this.graph.get("width"),u=this.graph.get("height"),l=this.graph.get("canvas").getCanvasBBox(),c=this.scalableRange,d=this.scalableRange;c<1&&c>-1&&(c=s*c,d=u*d),(l.minX<=s+c&&l.minX+a>s+c||l.maxX+c>=0&&l.maxX+c+a<0)&&(a=0),(l.minY<=u+d&&l.minY+o>u+d||l.maxY+d>=0&&l.maxY+d+o<0)&&(o=0),this.graph.translate(a,o)}},onTouchStart:function(e){var t=this,r=e.originalEvent.touches,n=r[0],a=r[1];n&&a||(e.preventDefault(),this.mousedown=!0,t.onDragStart(e))},onMouseDown:function(e){this.mousedown=!0},onDragMove:function(e){this.mousedown&&(this.dragstart?this.onDrag(e):(this.dragstart=!0,this.onDragStart(e)))},onDragStart:function(e){var t=this,r=e.originalEvent;if(!(r&&e.name!=="touchstart"&&r.button!==0)&&!(e.name!=="touchstart"&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&this.shouldBegin(e,this)&&!t.keydown&&this.allowDrag(e)){if(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var u=a[o].get("group").get("children");u&&u.forEach(function(gt){gt.set("ori-visibility",gt.get("ori-visibility")||gt.get("visible")),gt.hide()})}for(var l=n.getNodes(),c=0,d=l.length;c<d;c++)for(var T=l[c].getContainer(),I=T.get("children"),B=0,H=I;B<H.length;B++){var tt=H[B],lt=tt.get("isKeyShape");lt||(tt.set("ori-visibility",tt.get("ori-visibility")||tt.get("visible")),tt.hide())}}if(typeof window!="undefined"){var dt=this;this.handleDOMContextMenu=function(gt){return dt.onMouseUp(gt)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(e){var t=this,r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a){this.onMouseUp(e);return}e.preventDefault(),t.onDrag(e)},onDrag:function(e){if(this.mousedown){var t=this.graph;if(!this.keydown&&this.allowDrag(e)&&(e=u0(e),!!this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(c0(this.origin.x-e.clientX)+c0(this.origin.y-e.clientY)<Lw)return;this.shouldBegin(e,this)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate(e,this)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,r;this.mousedown=!1,this.dragstart=!1;var n=this.graph;if(!this.keydown){var a=n.getZoom(),o=n.get("modeController"),s=(r=(t=o==null?void 0:o.modes[o.mode])===null||t===void 0?void 0:t.filter(function(ie){return ie.type==="zoom-canvas"}))===null||r===void 0?void 0:r[0],u=s?s.optimizeZoom||.1:0;if(this.enableOptimize){for(var l=n.getEdges(),c=0,d=l.length;c<d;c++){var T=l[c].get("group").get("children");T&&T.forEach(function(ie){var Ee=ie.get("ori-visibility");ie.set("ori-visibility",void 0),Ee&&ie.show()})}if(a>u)for(var I=n.getNodes(),B=0,H=I.length;B<H;B++)for(var tt=I[B].getContainer(),lt=tt.get("children"),dt=0,gt=lt;dt<gt.length;dt++){var _t=gt[dt],Ht=_t.get("isKeyShape");if(!Ht){var oe=_t.get("ori-visibility");_t.set("ori-visibility",void 0),oe&&_t.show()}}}if(!this.dragging){this.origin=null;return}e=u0(e),this.shouldEnd(e,this)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,n.emit("canvas:dragend",e),this.endDrag(),typeof window!="undefined"&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(e){var t=this,r=e.key;r&&(Nw.indexOf(r.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(e){var t,r,n=e.target,a=n&&n.isCanvas&&n.isCanvas();if((0,f.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,f.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,u=o.edge,l=o.combo,c=(r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t);if(!s&&c==="node"||!u&&c==="edge"||!l&&c==="combo")return!1}return!0}},kw={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(e){if(!this.origin||!e||e.destroyed)return!1;var t=e.getType();return t==="combo"},onTouchStart:function(e){if(e.item){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}this.mousedown={item:e.item,target:e.target},this.dragstart=!0,t.onDragStart(e)}},onTouchMove:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a){t.onDragEnd(e);return}e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.onDrag(e)},onMouseDown:function(e){this.mousedown={item:e.item,target:e.target},typeof window!="undefined"&&!this.windowEventBinded&&(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(e){var t,r;if(((r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t))!=="node"){this.onDragEnd();return}this.mousedown&&(this.dragstart?this.onDrag((0,g.__assign)((0,g.__assign)({},e),this.mousedown)):(this.dragstart=!0,this.onDragStart(e)))},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,!!this.shouldBegin((0,g.__assign)((0,g.__assign)({},e),this.mousedown),this)){var r=this.mousedown,n=r.item,a=r.target;if(!(!n||n.destroyed||n.hasLocked())){var o=n.getContainer();if(o.set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n),a){var s=a.get("isAnchorPoint");if(s)return}var u=this.graph;this.targets=[],this.targetCombo=null;var l=u.findAllByState("node",this.selectedState),c=n.get("id"),d=l.filter(function(I){var B=I.get("id");return c===B});if(d.length===0?this.targets.push(n):l.length>1?l.forEach(function(I){var B=I.hasLocked();B||t.targets.push(I)}):this.targets.push(n),this.graph.get("enabledStack")&&this.enableStack){var T=[];this.targets.forEach(function(I){var B=I.getModel(),H=B.x,tt=B.y,lt=B.id;T.push({x:H,y:tt,id:lt})}),this.set("beforeDragNodes",T)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(I){var B=I.getEdges();B.forEach(function(H){H.isVisible()&&(t.hidenEdge[H.getID()]=!0,H.hide())})}),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;if(!(!this.mousedown||!this.origin)&&this.shouldUpdate(e,this))if(this.get("enableDelegate"))this.updateDelegate(e);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var r={};this.targets.map(function(n){t.update(n,e);var a=n.getModel().comboId;a&&(r[a]=t.graph.findById(a))}),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(e){var t=this,r;if(this.mousedown=!1,this.dragstart=!1,typeof window!="undefined"&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),!!this.origin){(r=this.cachedCaptureItems)===null||r===void 0||r.forEach(function(o){var s=o.getContainer();s.set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(o){var s=o.getEdges();s.forEach(function(u){t.hidenEdge[u.getID()]&&u.show(),u.refresh()})}),this.hidenEdge={};var n=this.graph;if(n.get("enabledStack")&&this.enableStack){var a={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(o){a.before.nodes.push(o)}),this.targets.forEach(function(o){var s=o.getModel(),u=s.x,l=s.y,c=s.id;a.after.nodes.push({x:u,y:l,id:c})}),n.pushStack("update",(0,f.clone)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd(e,t,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!this.validationCombo(t))){var r=this.graph;if(this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)r.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&r.updateComboTree(a,n.id)}),r.updateCombo(t)}r.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd(e,void 0,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.targets||this.targets.length===0||!this.currentShouldEnd)&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map(function(r){var n=r.getModel();n.comboId&&t.updateComboTree(r)}))},onDropNode:function(e){if(!(!this.targets||this.targets.length===0)){var t=this,r=e.item,n=t.graph,a=r.getModel().comboId,o=a?n.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(e,o,this),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(a){var s=n.findById(a);t.comboActiveState&&n.setItemState(s,t.comboActiveState,!1),this.targets.map(function(u){var l=u.getModel();a!==l.comboId&&n.updateComboTree(u,a)}),n.updateCombo(s)}else this.targets.map(function(u){var l=u.getModel();l.comboId&&n.updateComboTree(u)});n.emit("dragnodeend",{items:this.targets,targetItem:r})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var r=this;!this.targets||this.targets.length===0||(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):t||this.targets.map(function(n){return r.update(n,e)}):this.targets.map(function(n){return r.update(n,e,t)}))},update:function(e,t,r){var n=this.origin,a=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:a.x||0,y:a.y||0});var s=t.x-n.x+this.point[o].x,u=t.y-n.y+this.point[o].y;r&&(s+=n.x-t.x,u+=n.y-t.y);var l={x:s,y:u};this.get("updateEdge")?this.graph.updateItem(e,l,!1):e.updatePosition(l)},debounceUpdate:(0,f.debounce)(function(i){var e=i.targets,t=i.graph,r=i.point,n=i.origin,a=i.evt,o=i.updateEdge,s=i.onlyChangeComboSize,u=i.updateParentCombos;e.map(function(l){var c=l.get("model"),d=l.get("id");r[d]||(r[d]={x:c.x||0,y:c.y||0});var T=a.x-n.x+r[d].x,I=a.y-n.y+r[d].y,B={x:T,y:I};o?t.updateItem(l,B,!1):l.updatePosition(B)}),s&&u(t,e)},50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var T=e.x-this.origin.x+this.originPoint.minX,I=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:T,y:I})}else{var r=t.get("group"),n=(0,f.deepMix)({},qc.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),o=a.x,s=a.y,u=a.width,l=a.height,c=a.minX,d=a.minY;this.originPoint={x:o,y:s,width:u,height:l,minX:c,minY:d},this.delegateRect=r.addShape("rect",{attrs:(0,g.__assign)({width:u,height:l,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;t.length===0&&t.push(e.item);for(var r=1/0,n=-1/0,a=1/0,o=-1/0,s=0;s<t.length;s++){var u=t[s],l=u.getBBox(),c=l.minX,d=l.minY,T=l.maxX,I=l.maxY;c<r&&(r=c),d<a&&(a=d),T>n&&(n=T),I>o&&(o=I)}var B=Math.floor(r),H=Math.floor(a),tt=Math.ceil(n)-Math.floor(r),lt=Math.ceil(o)-Math.floor(a);return{x:B,y:H,width:tt,height:lt,minX:r,minY:a}},updateParentCombos:function(e,t){var r=e||this.graph,n=t||this.targets,a={};n==null||n.forEach(function(o){var s=o.getModel().comboId;s&&(a[s]=r.findById(s))}),Object.values(a).forEach(function(o){o&&r.updateCombo(o)})}},Bw={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.setAllItemStates(e)},clearOnTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.clearActiveState(e)},setAllItemStates:function(e){clearTimeout(this.timer),this.throttleSetAllItemStates(e,this)},clearActiveState:function(e){var t=this;this.timer=setTimeout(function(){t.throttleClearActiveState(e,t)},50)},throttleSetAllItemStates:(0,f.throttle)(function(i,e){var t=i.item,r=e.graph;if(!(!r||r.destroyed)&&(e.item=t,!!e.shouldUpdate(i.item,{event:i,action:"activate"},e))){for(var n=e.activeState,a=e.inactiveState,o=r.getNodes(),s=r.getCombos(),u=r.getEdges(),l=r.get("vedges"),c=o.length,d=s.length,T=u.length,I=l.length,B=e.inactiveItems||{},H=e.activeItems||{},tt=0;tt<c;tt++){var lt=o[tt],dt=lt.getID(),gt=lt.hasState("selected");e.resetSelected&&gt&&r.setItemState(lt,"selected",!1),H[dt]&&(r.setItemState(lt,n,!1),delete H[dt]),a&&!B[dt]&&(r.setItemState(lt,a,!0),B[dt]=lt)}for(var tt=0;tt<d;tt++){var _t=s[tt],Ht=_t.getID(),gt=_t.hasState("selected");e.resetSelected&&gt&&r.setItemState(_t,"selected",!1),H[Ht]&&(r.setItemState(_t,n,!1),delete H[Ht]),a&&!B[Ht]&&(r.setItemState(_t,a,!0),B[Ht]=_t)}for(var tt=0;tt<T;tt++){var oe=u[tt],ie=oe.getID();H[ie]&&(r.setItemState(oe,n,!1),delete H[ie]),a&&!B[ie]&&(r.setItemState(oe,a,!0),B[ie]=oe)}for(var tt=0;tt<I;tt++){var Ee=l[tt],Re=Ee.getID();H[Re]&&(r.setItemState(Ee,n,!1),delete H[Re]),a&&!B[Re]&&(r.setItemState(Ee,a,!0),B[Re]=Ee)}if(t&&!t.destroyed){a&&(r.setItemState(t,a,!1),delete B[t.getID()]),H[t.getID()]||(r.setItemState(t,n,!0),H[t.getID()]=t);for(var Ae=t.getEdges(),Ve=Ae.length,tt=0;tt<Ve;tt++){var oe=Ae[tt],ie=oe.getID(),sr=void 0;oe.getSource()===t?sr=oe.getTarget():sr=oe.getSource();var tn=sr.getID();a&&B[tn]&&(r.setItemState(sr,a,!1),delete B[tn]),H[tn]||(r.setItemState(sr,n,!0),H[tn]=sr),B[ie]&&(r.setItemState(oe,a,!1),delete B[ie]),H[ie]||(r.setItemState(oe,n,!0),H[ie]=oe),oe.toFront()}}e.activeItems=H,e.inactiveItems=B,r.emit("afteractivaterelations",{item:i.item,action:"activate"})}},50,{trailing:!0,leading:!0}),throttleClearActiveState:(0,f.throttle)(function(i,e){var t=e.get("graph");if(!(!t||t.destroyed)&&e.shouldUpdate(i.item,{event:i,action:"deactivate"},e)){var r=e.activeState,n=e.inactiveState,a=e.activeItems||{},o=e.inactiveItems||{};Object.values(a).filter(function(s){return!s.destroyed}).forEach(function(s){t.clearItemStates(s,r)}),Object.values(o).filter(function(s){return!s.destroyed}).forEach(function(s){t.clearItemStates(s,n)}),e.activeItems={},e.inactiveItems={},t.emit("afteractivaterelations",{item:i.item||e.get("item"),action:"deactivate"})}},50,{trailing:!0,leading:!0})},Eh=Math.min,f0=Math.max,d0=Math.abs,h0="shift",Fw=["drag","shift","ctrl","alt","control"],zw={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:h0,includeEdges:!0,includeCombos:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return Fw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=h0,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,r=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),r||(r=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},r.attr({width:0,height:0}),r.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&(this.trigger!=="drag"&&!this.keydown||this.updateBrush(e))},onMouseUp:function(e){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),a=t.findAllByState("edge",r),o=t.findAllByState("combo",r);n.forEach(function(s){return t.setItemState(s,r,!1)}),a.forEach(function(s){return t.setItemState(s,r,!1)}),o.forEach(function(s){return t.setItemState(s,r,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(e,t,r,n,a){var o=e.getBBox();return o.centerX>=t&&o.centerX<=r&&o.centerY>=n&&o.centerY<=a},getSelectedNodes:function(e){var t=this,r=this,n=r.graph,a=r.originPoint,o=r.shouldUpdate,s=r.isBBoxCenterInRect,u=this.selectedState,l={x:e.x,y:e.y},c=n.getPointByCanvas(a.x,a.y),d=Eh(l.x,c.x),T=f0(l.x,c.x),I=Eh(l.y,c.y),B=f0(l.y,c.y),H=[],tt=[];n.getNodes().forEach(function(gt){if(gt.isVisible()&&s(gt,d,T,I,B)&&o(gt,"select",t)){H.push(gt);var _t=gt.getModel();tt.push(_t.id),n.setItemState(gt,u,!0)}});var lt=[];this.includeEdges&&H.forEach(function(gt){var _t=gt.getOutEdges();_t.forEach(function(Ht){if(Ht.isVisible()){var oe=Ht.getModel(),ie=oe.source,Ee=oe.target;tt.includes(ie)&&tt.includes(Ee)&&o(Ht,"select",t)&&(lt.push(Ht),n.setItemState(Ht,t.selectedState,!0))}})});var dt=[];this.includeCombos&&n.getCombos().forEach(function(gt){if(gt.isVisible()&&s(gt,d,T,I,B)&&o(gt,"select",t)){dt.push(gt);var _t=gt.getModel();tt.push(_t.id),n.setItemState(gt,u,!0)}}),this.selectedEdges=lt,this.selectedNodes=H,this.selectedCombos=dt,this.onSelect&&this.onSelect(H,lt,dt),n.emit("nodeselectchange",{selectedItems:{nodes:H,edges:lt,combos:dt},select:!0})},createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:d0(e.canvasX-t.x),height:d0(e.canvasY-t.y),x:Eh(e.canvasX,t.x),y:Eh(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},v0="shift",Gw=["shift","ctrl","alt","control"],Uw={getDefaultCfg:function(){return{multiple:!0,trigger:v0,selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){var e=this;return Gw.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=v0,console.warn("Behavior click-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,r=e.item;if(!(!r||r.destroyed)){var n=r.getType(),a=t.graph,o=t.keydown,s=t.multiple,u=t.shouldUpdate,l=t.shouldBegin;if(l(e,t)){if(!o||!s){var c=a.findAllByState("node",t.selectedState).concat(a.findAllByState("edge",t.selectedState)).concat(a.findAllByState("combo",t.selectedState));(0,f.each)(c,function(H){H!==r&&a.setItemState(H,t.selectedState,!1)})}var d=function(){switch(n){case"node":return t.selectNode;case"edge":return t.selectEdge;case"combo":return t.selectCombo;default:return!1}}();if(!d){var T=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),B=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{selectedItems:{nodes:T,edges:I,combos:B},select:!1});return}if(r.hasState(t.selectedState)){u(e,t)&&a.setItemState(r,t.selectedState,!1);var T=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),B=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:r,selectedItems:{nodes:T,edges:I,combos:B},select:!1})}else{u(e,t)&&a.setItemState(r,t.selectedState,!0);var T=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),B=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:r,selectedItems:{nodes:T,edges:I,combos:B},select:!0})}}}},onCanvasClick:function(e){var t=this,r=this,n=r.graph,a=r.shouldBegin;if(a(e,this)){var o=n.findAllByState("node",this.selectedState);(0,f.each)(o,function(l){n.setItemState(l,t.selectedState,!1)});var s=n.findAllByState("edge",this.selectedState);(0,f.each)(s,function(l){n.setItemState(l,t.selectedState,!1)});var u=n.findAllByState("combo",this.selectedState);(0,f.each)(u,function(l){n.setItemState(l,t.selectedState,!1)}),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=this,r=e.key;r&&(r.toLowerCase()===this.trigger.toLowerCase()||r.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.keydown=!1}},Ww=ht,p0=.05,Yw={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,r=t[0],n=t[1];e.preventDefault(),n&&(this.shouldBegin&&!this.shouldBegin(e,this)||(this.startPoint={pageX:r.pageX,pageY:r.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,r=t[0],n=t[1];if(n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(H,tt){return Math.hypot(tt.x-H.x,tt.y-H.y)},o=a({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var u=this.get("minZoom")||this.graph.get("minZoom"),l=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>l||s<u)){var c=this.get("animate"),d=this.get("animateCfg"),T=this.graph.get("canvas"),I=T.getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(s,{x:I.x,y:I.y},c,d),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,r=this,n=r.graph,a=r.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin(e,this))&&this.shouldUpdate(e,this)){e.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),u=this.get("sensitivity"),l=n.getZoom(),c=l,d=l;e.wheelDelta<0?c=1-p0*u:c=1/(1-p0*u),d=l*c;var T=this.get("minZoom")||n.get("minZoom"),I=this.get("maxZoom")||n.get("maxZoom");d>I?d=I:d<T&&(d=T);var B=this.get("enableOptimize");if(B){var H=this.get("optimizeZoom"),tt=this.get("optimized"),lt=n.getNodes(),dt=n.getEdges(),gt=lt.length,_t=dt.length;if(!tt){for(var Ht=0;Ht<gt;Ht++){var oe=lt[Ht];if(!oe.destroyed)for(var ie=oe.get("group").get("children"),Ee=ie.length,Re=0;Re<Ee;Re++){var Ae=ie[Re];!Ae.destoryed&&!Ae.get("isKeyShape")&&(Ae.set("ori-visibility",Ae.get("ori-visibility")||Ae.get("visible")),Ae.hide())}}for(var Ve=0;Ve<_t;Ve++)for(var sr=dt[Ve],ie=sr.get("group").get("children"),Ee=ie.length,Re=0;Re<Ee;Re++){var Ae=ie[Re];Ae.set("ori-visibility",Ae.get("ori-visibility")||Ae.get("visible")),Ae.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var tn=setTimeout(function(){var Ha=n.getZoom(),bi=t.get("optimized");if(bi){t.set("optimized",!1);for(var Wa=0;Wa<gt;Wa++){var xi=lt[Wa],Fi=xi.get("group").get("children"),fa=Fi.length;if(Ha<H){var Qa=xi.getKeyShape(),ti=Qa.get("ori-visibility");Qa.set("ori-visibility",void 0),ti&&Qa.show()}else for(var zi=0;zi<fa;zi++){var ri=Fi[zi],ti=ri.get("ori-visibility");ri.set("ori-visibility",void 0),!ri.get("visible")&&ti&&ti&&ri.show()}}for(var ci=0;ci<_t;ci++){var yo=dt[ci],Fi=yo.get("group").get("children"),fa=Fi.length;if(Ha<H){var Qa=yo.getKeyShape(),ti=Qa.get("ori-visibility");Qa.set("ori-visibility",void 0),ti&&Qa.show()}else for(var zi=0;zi<fa;zi++){var ri=Fi[zi];if(!ri.get("visible")){var ti=ri.get("ori-visibility");ri.set("ori-visibility",void 0),ti&&ri.show()}}}}},100);this.set("timeout",tn)}if(l<=1){var Tn=void 0,pn=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Tn=n.findAllByState("node",a.fixState),pn=n.findAllByState("edge",a.fixState);for(var Vr=l/d,Gn=Tn.length,Rn=0;Rn<Gn;Rn++){var oe=Tn[Rn],Hr=oe.getContainer(),hn=oe.getModel(),On=oe.getOriginStyle(),In=oe.getStateStyle(a.fixState),jn=oe.get("shapeFactory").getShape(hn.type).getStateStyle(a.fixState,oe)[a.fixState];if(a.fixAll){if(d<=1){var ea=(0,f.clone)(Hr.getMatrix());ea||(ea=[1,0,0,0,1,0,0,0,1]);var ba=oe.getModel(),Na=ba.x,wi=ba.y;ea=Ww(ea,[["t",-Na,-wi],["s",Vr,Vr],["t",Na,wi]]),Hr.setMatrix(ea)}}else for(var ie=Hr.get("children"),Ee=ie.length,Re=0;Re<Ee;Re++){var Ae=ie[Re],ii=void 0,Si=void 0;if(a.fixLabel){var Pi=Ae.get("type");if(Pi==="text"){ii=Ae.attr("fontSize")||12;var io=In[Ae.get("name")],Hi=jn[Ae.get("name")],tu=io?io.fontSize:12,jo=Hi?Hi.fontSize:12,eu=tu||jo||12;if(d<=1&&Ae.attr("fontSize",eu/d),Si)break}}if(a.fixLineWidth&&Ae.get("isKeyShape")){Si=Ae.attr("lineWidth")||0;var Vo=In.lineWidth||jn.lineWidth||On.lineWidth||0;if(d<=1&&Ae.attr("lineWidth",Vo/d),ii)break}}}for(var Ho=pn.length,zs=0;zs<Ho;zs++)for(var sr=pn[zs],Hr=sr.getContainer(),ie=Hr.get("children"),hn=sr.getModel(),In=sr.getStateStyle(a.fixState),jn=sr.get("shapeFactory").getShape(hn.type).getStateStyle(a.fixState,sr)[a.fixState],Ee=ie.length,Re=0;Re<Ee;Re++){var Ae=ie[Re],ii=void 0,Si=void 0;if(a.fixLabel||a.fixAll){var Pi=Ae.get("type");if(Pi==="text"){ii=Ae.attr("fontSize")||12;var io=In[Ae.get("name")],Hi=jn[Ae.get("name")],tu=io?io.fontSize:12,jo=Hi?Hi.fontSize:12,eu=tu||jo||12;if(d<=1&&Ae.attr("fontSize",eu/d),Si)break}}if((a.fixLineWidth||a.fixAll)&&Ae.get("isKeyShape")){Si=Ae.attr("lineWidth")||0;var Vo=In.lineWidth||jn.lineWidth||1;if(d<=1&&Ae.attr("lineWidth",Vo/d),ii)break}}}}var as=this.get("animate"),ys=this.get("animateCfg");n.zoomTo(d,{x:s.x,y:s.y},as,ys),n.emit("wheelzoom",e)}}},g0={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){if(!this.shouldUpdate(e,this)){this.hideTooltip();return}!this.currentTarget||e.item!==this.currentTarget||this.updatePosition(e)},onMouseLeave:function(e){this.shouldEnd(e,this)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(!(!e.item||e.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var r=this.formatText(e.item.get("model"),e);t.innerHTML=r,Va(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){Va(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),r=this,n=r.width,a=r.height,o=r.container,s=r.graph;if(!t(e,this)){Va(o,{visibility:"hidden"});return}var u=s.getPointByClient(e.clientX,e.clientY),l=s.getCanvasByPoint(u.x,u.y),c=l.x,d=l.y,T=o.getBoundingClientRect();c>n/2?c-=T.width:c+=this.offset,d>a/2?d-=T.height:d+=this.offset;var I="".concat(c,"px"),B="".concat(d,"px");Va(this.container,{left:I,top:B,visibility:"visible"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var r=ho('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(r),Va(r,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=r,this.graph.get("tooltips").push(r),r}},Xw=(0,g.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},g0),jw=(0,g.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},g0),m0="click",Vw=["click","dblclick"],Hw={getDefaultCfg:function(){return{trigger:m0,onChange:function(){}}},getEvents:function(){var e,t;return Vw.includes(this.trigger)?t=this.trigger:(t=m0,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=this;if(this.trigger==="click"){if(this.timer){clearTimeout(this.timer),this.timer=0;return}this.timer=setTimeout(function(){t.toggle(e),clearTimeout(t.timer),t.timer=0},200)}else this.toggle(e)},toggle:function(e){var t=e.item;if(t){var r=this.graph.findDataById(t.get("id"));if(r){var n=r.children;if(!(!n||n.length===0)){var a=!r.collapsed;this.shouldBegin(e,a,this)&&(r.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:e.item,collapsed:a}),this.shouldUpdate(e,a,this)&&(this.onChange(t,a,this),this.graph.layout()))}}}}},Zw=Cl.calculationItemsBBox,Kw=function i(e,t){if(t(e)!==!1&&e){var r=e.get("combos");if(r.length===0)return!1;(0,f.each)(r,function(n){i(n,t)})}},$w={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;if(!t||t.destroyed||!this.shouldUpdate(e,this))return!1;var r=t.getType();return r==="combo"},onDragStart:function(e){var t=this,r=this.graph,n=e.item;if(this.currentShouldEnd=!0,!!this.validationCombo(e)){this.targets=[];var a=r.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var c=l.get("id");return o===c});s.length===0?this.targets.push(n):this.targets=a;var u=[];this.targets.forEach(function(l){var c=l.getModel(),d=c.x,T=c.y,I=c.id;u.push({x:d,y:T,id:I})}),this.set("beforeDragItems",u),this.activeState&&this.targets.map(function(l){var c=l.getModel();if(c.parentId){var d=r.findById(c.parentId);d&&r.setItemState(d,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],Kw(n,function(l){if(l.destroyed)return!1;var c=l.getModel();return t.currentItemChildCombos.push(c.id),!0})}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var r=this.graph,n=e.item,a=n.getModel(),o=r.getCombos(),s=n.getBBox(),u=s.centerX,l=s.centerY,c=s.width,d=o.filter(function(T){var I=T.getModel();return a.parentId,I.id!==a.id&&!t.currentItemChildCombos.includes(I.id)});d.map(function(T){var I=T.getBBox(),B=I.centerX,H=I.centerY,tt=I.width,lt=u-B,dt=l-H,gt=2*Math.sqrt(lt*lt+dt*dt);c+tt-gt>.8*c?r.setItemState(T,t.activeState,!0):r.setItemState(T,t.activeState,!1)})}(0,f.each)(this.targets,function(T){t.updateCombo(T,e)}),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(e,t){var r=this;(this.enableDelegate||t)&&(0,f.each)(this.targets,function(n){r.updateCombo(n,e,t)})},onDrop:function(e){var t=this,r=e.item;if(this.currentShouldEnd=this.shouldEnd(e,r,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!r||!this.targets||r.destroyed)){var n=this.graph,a=r.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(r,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id,!1)):n.updateCombo(r)}),this.end(r,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(!(!this.targets||this.targets.length===0)){var r=this.graph,n=e.item,a=n.getModel().comboId,o=a?r.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(e,o,this),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){var s;if(a){if(this.activeState){var u=r.findById(a);r.setItemState(u,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?r.updateCombo(l):a!==l.getID()&&(s=r.findById(a),a!==l.getModel().parentId&&r.updateComboTree(l,a,!1))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)r.updateCombo(l);else{var c=l.getModel();c.comboId&&r.updateComboTree(l,void 0,!1)}});this.endComparison=!0,this.end(s,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(!(!this.targets||this.targets.length===0)){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var r=this.getParentCombo(t.getModel().parentId),n=this.graph;r&&this.activeState&&n.setItemState(r,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var r=this;if(this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}if(e&&this.activeState&&n.setItemState(e,this.activeState,!1),!e){var o=n.get("enabledStack")&&this.enableStack,s={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map(function(u){if(!r.onlyChangeComboSize)n.updateComboTree(u,void 0,o);else{n.updateCombo(u);var l=u.getModel(),c=l.x,d=l.y,T=l.id;s.after.combos.push({x:c,y:d,id:T}),n.pushStack("update",s)}})}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t,r){var n=this;if(r===void 0&&(r={}),t(e,r)!==!1&&e){var a=e.get("combos");(0,f.each)(a,function(s){n.traverse(s,t,r)});var o=e.get("nodes");(0,f.each)(o,function(s){n.traverse(s,t,r)})}},updateCombo:function(e,t,r){this.updateSingleItem(e,t,r);var n={};this.traverse(e,function(a,o){return a.destroyed?!1:(a.getEdges().forEach(function(s){return o[s.getID()]=s}),!0)},n),Object.values(n).forEach(function(a){return a.refresh()})},updateSingleItem:function(e,t,r){var n=this.origin,a=this.graph,o=e.getModel(),s=e.get("id");this.point[s]||(this.point[s]={x:o.x,y:o.y});var u=t.x-n.x+this.point[s].x,l=t.y-n.y+this.point[s].y;r&&(u+=n.x-t.x,l+=n.y-t.y),a.updateItem(e,{x:u,y:l},!1)},getParentCombo:function(e){var t=this.graph;if(e){var r=t.findById(e);if(r)return r}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var T=e.x-this.origin.x+this.originPoint.minX,I=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:T,y:I})}else{var r=t.get("delegateGroup"),n=null;this.targets.length>1?n=Zw(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,u=n.height,l=n.minX,c=n.minY;this.originPoint={x:a,y:o,width:s,height:u,minX:l,minY:c};var d=(0,g.__assign)((0,g.__assign)({},qc.delegateStyle),this.delegateStyle);this.delegateShape=r.addShape("rect",{attrs:(0,g.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var e=this,t=e.graph,r=e.targets,n={};r==null||r.forEach(function(a){var o=a.getModel().parentId;o&&(n[o]=t.findById(o))}),Object.values(n).forEach(function(a){a&&t.updateCombo(a)})}},y0="dblclick",Qw=["click","dblclick"],qw={getDefaultCfg:function(){return{trigger:y0,relayout:!0}},getEvents:function(){var e,t;return Qw.includes(this.trigger)?t=this.trigger:(t=y0,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,r=this,n=r.graph,a=r.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;s&&(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},Jw=Cl.isPolygonsIntersect,tS=Cl.pathToPoints,b0="shift",eS=["drag","shift","ctrl","alt","control"],rS=function(e,t){var r,n=e.getKeyShape();if(e.get("type")==="path")r=tS(n.attr("path"));else{var a=n.getCanvasBBox();r=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Jw(t,r)},nS={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:b0,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return eS.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=b0,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso,r=e.item;r||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&(this.trigger!=="drag"&&!this.keydown||(this.points.push({x:e.x,y:e.y}),this.updateLasso(e)))},onDragEnd:function(e){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){e===void 0&&(e="canvas:click");var t=this,r=t.graph,n=t.selectedState,a=t.shouldDeselect,o=r.findAllByState("node",n),s=r.findAllByState("edge",n);(!a||a({action:e,nodes:o,edges:s}))&&(o.forEach(function(u){return r.setItemState(u,n,!1)}),s.forEach(function(u){return r.setItemState(u,n,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],r.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this,r=t.graph,n=t.shouldUpdate,a=this.points.map(function(c){return[r.getCanvasByPoint(c.x,c.y).x,r.getCanvasByPoint(c.x,c.y).y]}),o=this.selectedState,s=[],u=[];r.getNodes().forEach(function(c){if(c.isVisible()&&rS(c,a)&&n(c,"select",e)){s.push(c);var d=c.getModel();u.push(d.id),r.setItemState(c,o,!0)}});var l=[];this.includeEdges&&s.forEach(function(c){var d=c.getOutEdges();d.forEach(function(T){if(T.isVisible()){var I=T.getModel(),B=I.source,H=I.target;u.includes(B)&&u.includes(H)&&n(T,"select",e)&&(l.push(T),r.setItemState(T,e.selectedState,!0))}})}),this.selectedEdges=l,this.selectedNodes=s,this.onSelect&&this.onSelect(s,l),r.emit("nodeselectchange",{selectedItems:{nodes:s,edges:l},select:!0})},createLasso:function(){var e=this,t=e.graph.get("delegateGroup").addShape("path",{attrs:(0,g.__assign)({path:[]},e.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(e){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},x0="click",aS=["click","drag"],E0=void 0,iS=["shift","ctrl","control","alt","meta",void 0],oS={getDefaultCfg:function(){return{trigger:x0,key:E0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e=this;aS.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=x0,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),e.key&&iS.indexOf(e.key.toLowerCase())===-1&&(e.trigger=E0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return e.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:e.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item;(!r||r.getID()===t.source||r.getType()!=="node")&&t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item,n=t.graph,a=r.getModel(),o=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd(e,t))return;var s=void 0;o&&(0,f.isFunction)(o)?s=o({source:t.source,target:a.id},t):s=t.edgeConfig;var u=(0,g.__assign)({target:a.id},s);if(t.source===a.id&&(u.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,u,!1),n.get("enabledStack")){var l=(0,g.__assign)((0,g.__assign)({},t.edge.getModel()),{itemType:"edge"}),c={};c.edges=[l],n.pushStack("add",{before:{},after:c})}n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin(e,t))return;var s=void 0;o&&(0,f.isFunction)(o)?s=o({source:a.id,target:a.id},t):s=t.edgeConfig,t.edge=n.addItem("edge",(0,g.__assign)({source:a.id,target:a.id},s),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!(t.key&&!t.keydown)){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var r={x:e.x,y:e.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:r},!1)}},cancelCreating:function(e){var t,r,n=this;if(!(n.key&&!n.keydown)){var a=n.graph,o=e.item;if(n.addingEdge&&(n.edge===o||!((r=(t=e.target)===null||t===void 0?void 0:t.isCanvas)===null||r===void 0)&&r.call(t))){n.edge&&!n.edge.destroyed&&a.removeItem(n.edge,!1),n.edge=null,n.addingEdge=!1;return}}},onKeyDown:function(e){var t=this,r=e.key;r&&(r.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},w0="ctrl",sS=["shift","ctrl","alt","control"],uS="1",lS={getDefaultCfg:function(){return{trigger:w0,combinedKey:uS,functionName:"fitView",functionParams:[]}},getEvents:function(){return sS.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=w0,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '".concat(this.trigger,"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '".concat(this.functionName,"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D")),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},cS=["shift","ctrl","alt","control","meta"],fS={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return(!this.zoomKey||cS.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this;if(this.allowDrag(e)){var r=this.graph,n=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];n.includes("control")&&n.push("ctrl");var a=n.some(function(hn){return e["".concat(hn,"Key")]});if(a){var o=r.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),u=r.getZoom();e.wheelDelta>0?u=u+u*.05:u=u-u*.05,r.zoomTo(u,{x:s.x,y:s.y})}else{var l=e.deltaX||e.movementX,c=e.deltaY||e.movementY;!c&&navigator.userAgent.indexOf("Firefox")>-1&&(c=-e.wheelDelta*125/3);var d=this.graph.get("width"),T=this.graph.get("height"),I=this.graph.get("canvas").getCanvasBBox(),B=this.scalableRange,H=this.scalableRange;B<1&&B>-1&&(B=d*B,H=T*H);var tt=I.minX,lt=I.maxX,dt=I.minY,gt=I.maxY;l>0?lt<-B?l=0:lt-l<-B&&(l=lt+B):l<0&&(tt>d+B?l=0:tt-l>d+B&&(l=tt-(d+B))),c>0?gt<-H?c=0:gt-c<-H&&(c=gt+H):c<0&&(dt>T+H?c=0:dt-c>T+H&&(c=dt-(T+H))),this.get("direction")==="x"?c=0:this.get("direction")==="y"&&(l=0),r.translate(-l,-c)}e.preventDefault();var _t=this.get("enableOptimize");if(_t){var Ht=this.get("optimizeZoom"),oe=this.get("optimized"),ie=r.getNodes(),Ee=r.getEdges(),Re=ie.length,Ae=Ee.length;if(!oe){for(var Ve=0;Ve<Re;Ve++){var sr=ie[Ve];if(!sr.destroyed)for(var tn=sr.get("group").get("children"),Tn=tn.length,pn=0;pn<Tn;pn++){var Vr=tn[pn];!Vr.destoryed&&!Vr.get("isKeyShape")&&(Vr.set("ori-visibility",Vr.get("ori-visibility")||Vr.get("visible")),Vr.hide())}}for(var Gn=0;Gn<Ae;Gn++)for(var Rn=Ee[Gn],tn=Rn.get("group").get("children"),Tn=tn.length,pn=0;pn<Tn;pn++){var Vr=tn[pn];Vr.set("ori-visibility",Vr.get("ori-visibility")||Vr.get("visible")),Vr.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Hr=setTimeout(function(){var hn=r.getZoom(),On=t.get("optimized");if(On){t.set("optimized",!1);for(var In=0;In<Re;In++){var jn=ie[In],ea=jn.get("group").get("children"),ba=ea.length;if(hn<Ht){var Na=jn.getKeyShape(),wi=Na.get("ori-visibility");wi&&Na.show()}else for(var ii=0;ii<ba;ii++){var Si=ea[ii],wi=Si.get("ori-visibility");!Si.get("visible")&&wi&&wi&&Si.show()}}for(var Pi=0;Pi<Ae;Pi++){var io=Ee[Pi],ea=io.get("group").get("children"),ba=ea.length;if(hn<Ht){var Na=io.getKeyShape(),wi=Na.get("ori-visibility");wi&&Na.show()}else for(var ii=0;ii<ba;ii++){var Si=ea[ii];if(!Si.get("visible")){var wi=Si.get("ori-visibility");wi&&Si.show()}}}}},100);this.set("timeout",Hr)}}},allowDrag:function(e){var t,r,n=e.target,a=n&&n.isCanvas&&n.isCanvas();if((0,f.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,f.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,u=o.edge,l=o.combo,c=(r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t);if(!s&&c==="node"||!u&&c==="edge"||!l&&c==="combo")return!1}return!0}},dS={"drag-canvas":Rw,"zoom-canvas":Yw,"drag-node":kw,"activate-relations":Bw,"brush-select":zw,"click-select":Uw,"lasso-select":nS,tooltip:Xw,"edge-tooltip":jw,"collapse-expand":Hw,"drag-combo":$w,"collapse-expand-combo":qw,"create-edge":oS,"shortcuts-call":lS,"scroll-canvas":fS};(0,f.each)(dS,function(i,e){cp(e,i)});var hS=(0,g.__assign)((0,g.__assign)({},y),Im),aM=Xo.Grid,iM=Xo.Minimap,oM=Xo.Bundling,sM=Xo.Menu,vS=Xo.Fisheye,uM=Xo.ToolBar,lM=Xo.Tooltip,pS=Xo.TimeBar,gS=Xo.ImageMinimap,mS=Xo.EdgeFilterLens,yS=Xo.SnapLine,cM=Xo.Legend,bS=Xo.Annotation,S0={version:qc.version,Graph:tg,TreeGraph:hb,Util:Cl,Layout:Ja.Layouts,TreeLayout:H1,registerLayout:Z1,Global:qc,registerBehavior:cp,registerCombo:Om,registerEdge:lp,registerNode:Ml,Minimap:Xo.Minimap,Grid:Xo.Grid,Bundling:Xo.Bundling,Menu:Xo.Menu,ToolBar:Xo.ToolBar,Tooltip:Xo.Tooltip,Legend:Xo.Legend,TimeBar:pS,SnapLine:yS,Fisheye:vS,ImageMinimap:gS,EdgeFilterLens:mS,Annotation:bS,Algorithm:hS,Arrow:ap,Marker:ip,Shape:fc};S0.version="4.8.7";var xS=S0,fM="4.8.7"},199905:function(Ge,W,C){"use strict";C.r(W),C.d(W,{Graph:function(){return K},GraphWithEvent:function(){return Ct},algorithm:function(){return y},comparision:function(){return w},essence:function(){return R},generate:function(){return _}});var y={};C.r(y),C.d(y,{components:function(){return ue},dfs:function(){return ne},dijkstra:function(){return vr},dijkstraAll:function(){return _r},findCycles:function(){return tr},floydWarshall:function(){return ae},isAcyclic:function(){return Xe},postorder:function(){return te},preorder:function(){return Ft},prim:function(){return Dt},tarjan:function(){return nn},topsort:function(){return Nn}});var R={};C.r(R),C.d(R,{hasSelfLoop:function(){return ur},isGraph:function(){return Pr},isNullGraph:function(){return Ue},isSimpleGraph:function(){return un}});var w={};C.r(w),C.d(w,{containAllSameEdges:function(){return mt},containAllSameNodes:function(){return $},containSameEdges:function(){return ct},containSameNodes:function(){return at},getSameEdges:function(){return M},getSameNodes:function(){return F},isGraphComplement:function(){return Lr},isGraphContainsAnother:function(){return Rt},isGraphOptionSame:function(){return O},isGraphSame:function(){return zt}});var _={};C.r(_),C.d(_,{getGraphComplement:function(){return Or}});var L;(function(ce){ce.DEFAULT_EDGE_NAME="\0",ce.GRAPH_NODE="\0",ce.EDGE_KEY_DELIM=""})(L||(L={}));function P(ce,Yt){var he=ce.get(Yt)||0;ce.set(Yt,he+1)}function p(ce,Yt){var he=ce.get(Yt);he!==void 0&&(he=he-1,he>0?ce.set(Yt,he):ce.delete(Yt))}function m(ce,Yt,he,Me){var ye=String(Yt),Ne=String(he);if(!ce&&ye>Ne){var nr=ye;ye=Ne,Ne=nr}return ye+L.EDGE_KEY_DELIM+Ne+L.EDGE_KEY_DELIM+(Me===void 0?L.DEFAULT_EDGE_NAME:Me)}function S(ce,Yt,he,Me){var ye=String(Yt),Ne=String(he),nr={v:Yt,w:he};if(!ce&&ye>Ne){var cr=nr.v;nr.v=nr.w,nr.w=cr}return Me!==void 0&&(nr.name=Me),nr}function E(ce,Yt){return m(ce,Yt.v,Yt.w,Yt.name)}function b(ce){return typeof ce=="function"}var A=function(Yt){return Yt.nodes().map(function(he){var Me=Yt.node(he),ye=Yt.parent(he),Ne={id:he,value:Me,parent:ye};return Ne.value===void 0&&delete Ne.value,Ne.parent===void 0&&delete Ne.parent,Ne})},x=function(Yt){return Yt.edges().map(function(he){var Me=Yt.edge(he),ye={v:he.v,w:he.w,value:Me,name:he.name};return ye.name===void 0&&delete ye.name,ye.value===void 0&&delete ye.value,ye})},D=function(Yt){var he={options:{directed:Yt.isDirected(),multigraph:Yt.isMultigraph(),compound:Yt.isCompound()},nodes:A(Yt),edges:x(Yt),value:Yt.graph()};return he.value===void 0&&delete he.value,he},k=function(Yt){var he=new K(Yt.options);return Yt.value!==void 0&&he.setGraph(Yt.value),Yt.nodes.forEach(function(Me){he.setNode(Me.id,Me.value),Me.parent&&he.setParent(Me.id,Me.parent)}),Yt.edges.forEach(function(Me){he.setEdge(Me.v,Me.w,Me.value,Me.name)}),he};function g(ce,Yt){var he=Object.keys(ce);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(ce);Yt&&(Me=Me.filter(function(ye){return Object.getOwnPropertyDescriptor(ce,ye).enumerable})),he.push.apply(he,Me)}return he}function f(ce){for(var Yt=1;Yt<arguments.length;Yt++){var he=arguments[Yt]!=null?arguments[Yt]:{};Yt%2?g(Object(he),!0).forEach(function(Me){z(ce,Me,he[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(he)):g(Object(he)).forEach(function(Me){Object.defineProperty(ce,Me,Object.getOwnPropertyDescriptor(he,Me))})}return ce}function z(ce,Yt,he){return Yt in ce?Object.defineProperty(ce,Yt,{value:he,enumerable:!0,configurable:!0,writable:!0}):ce[Yt]=he,ce}function Y(ce,Yt){if(!(ce instanceof Yt))throw new TypeError("Cannot call a class as a function")}function U(ce,Yt){for(var he=0;he<Yt.length;he++){var Me=Yt[he];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(ce,Me.key,Me)}}function G(ce,Yt,he){return Yt&&U(ce.prototype,Yt),he&&U(ce,he),Object.defineProperty(ce,"prototype",{writable:!1}),ce}var j={compound:!1,multigraph:!1,directed:!0},K=function(){function ce(){var Yt=this,he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Y(this,ce),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=L.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return Yt.directed},this.isMultigraph=function(){return Yt.multigraph},this.isCompound=function(){return Yt.compound},this.setGraph=function(ye){return Yt.label=ye,Yt},this.graph=function(){return Yt.label},this.setDefaultNodeLabel=function(ye){return b(ye)?Yt.defaultNodeLabelFn=ye:Yt.defaultNodeLabelFn=function(){return ye},Yt},this.nodeCount=function(){return Yt.nodeCountNum},this.node=function(ye){return Yt.nodesLabelMap.get(ye)},this.nodes=function(){return Array.from(Yt.nodesLabelMap.keys())},this.sources=function(){return Yt.nodes().filter(function(ye){var Ne;return!(!((Ne=Yt.inEdgesMap.get(ye))===null||Ne===void 0)&&Ne.size)})},this.sinks=function(){return Yt.nodes().filter(function(ye){var Ne;return!(!((Ne=Yt.outEdgesMap.get(ye))===null||Ne===void 0)&&Ne.size)})},this.setNodes=function(ye,Ne){return ye.map(function(nr){return Yt.setNode(nr,Ne)}),Yt},this.hasNode=function(ye){return Yt.nodesLabelMap.has(ye)},this.checkCompound=function(){if(!Yt.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(ye){if(Yt.isCompound()){var Ne,nr=(Ne=Yt.parentMap)===null||Ne===void 0?void 0:Ne.get(ye);if(nr!==Yt.GRAPH_NODE)return nr}},this.removeFromParentsChildList=function(ye){var Ne=Yt.parentMap.get(ye);Yt.childrenMap.get(Ne).delete(ye)},this.setParent=function(ye,Ne){var nr,cr;Yt.checkCompound();for(var rn=Ne===void 0?Yt.GRAPH_NODE:Ne,An=Yt.parent(rn);An;){if(ye===An)throw new Error("Setting "+Ne+" as parent of "+ye+" would create a cycle");An=Yt.parent(An)}Ne&&Yt.setNode(Ne),Yt.setNode(ye),Yt.removeFromParentsChildList(ye),(nr=Yt.parentMap)===null||nr===void 0||nr.set(ye,rn);var ln=Yt.childrenMap.get(rn);return ln.set(ye,!0),(cr=Yt.childrenMap)===null||cr===void 0||cr.set(rn,ln),Yt},this.children=function(ye){var Ne=ye===void 0?Yt.GRAPH_NODE:ye;if(Yt.isCompound()){var nr,cr=(nr=Yt.childrenMap)===null||nr===void 0?void 0:nr.get(Ne);return cr?Array.from(cr.keys()):void 0}if(Ne===Yt.GRAPH_NODE)return Yt.nodes();if(ye&&Yt.hasNode(ye))return[]},this.predecessors=function(ye){var Ne=Yt.predecessorsMap.get(ye);return Ne?Array.from(Ne.keys()):void 0},this.successors=function(ye){var Ne=Yt.successorsMap.get(ye);return Ne?Array.from(Ne.keys()):void 0},this.neighbors=function(ye){var Ne;if(Yt.hasNode(ye))return Array.from(new Set((Ne=Yt.predecessors(ye))===null||Ne===void 0?void 0:Ne.concat(Yt.successors(ye))))},this.isLeaf=function(ye){var Ne;if(Yt.isDirected()){var nr;return!(!((nr=Yt.successors(ye))===null||nr===void 0)&&nr.length)}return!(!((Ne=Yt.neighbors(ye))===null||Ne===void 0)&&Ne.length)},this.filterNodes=function(ye){var Ne=Yt.directed,nr=Yt.multigraph,cr=Yt.compound,rn=new ce({directed:Ne,multigraph:nr,compound:cr});if(rn.setGraph(Yt.graph()),Yt.nodes().forEach(function(ln){ye(ln)&&rn.setNode(ln,Yt.node(ln))}),Yt.edges().forEach(function(ln){rn.hasNode(ln.v)&&rn.hasNode(ln.w)&&rn.setEdgeObj(ln,Yt.edge(ln))}),cr){var An=function(Yn){for(var sn=Yt.parent(Yn);sn!==void 0&&!rn.hasNode(sn);)sn=Yt.parent(sn);return sn};rn.nodes().forEach(function(ln){rn.setParent(ln,An(ln))})}return rn},this.setDefaultEdgeLabel=function(ye){return b(ye)?Yt.defaultEdgeLabelFn=ye:Yt.defaultEdgeLabelFn=function(){return ye},Yt},this.edgeCount=function(){return Yt.edgeCountNum},this.setEdgeObj=function(ye,Ne){return Yt.setEdge(ye.v,ye.w,Ne,ye.name)},this.setPath=function(ye,Ne){return ye.reduce(function(nr,cr){return Yt.setEdge(nr,cr,Ne),cr}),Yt},this.edgeFromArgs=function(ye,Ne,nr){return Yt.edge({v:ye,w:Ne,name:nr})},this.edge=function(ye){return Yt.edgesLabelsMap.get(E(Yt.isDirected(),ye))},this.hasEdge=function(ye,Ne,nr){return Yt.edgesLabelsMap.has(E(Yt.isDirected(),{v:ye,w:Ne,name:nr}))},this.removeEdgeObj=function(ye){var Ne=ye.v,nr=ye.w,cr=ye.name;return Yt.removeEdge(Ne,nr,cr)},this.edges=function(){return Array.from(Yt.edgesMap.values())},this.inEdges=function(ye,Ne){var nr=Yt.inEdgesMap.get(ye);if(nr)return Array.from(nr.values()).filter(function(cr){return!Ne||cr.v===Ne})},this.outEdges=function(ye,Ne){var nr=Yt.outEdgesMap.get(ye);if(nr)return Array.from(nr.values()).filter(function(cr){return!Ne||cr.w===Ne})},this.nodeEdges=function(ye,Ne){var nr;if(Yt.hasNode(ye))return(nr=Yt.inEdges(ye,Ne))===null||nr===void 0?void 0:nr.concat(Yt.outEdges(ye,Ne))},this.toJSON=function(){return D(Yt)},this.nodeInDegree=function(ye){var Ne=Yt.inEdgesMap.get(ye);return Ne?Ne.size:0},this.nodeOutDegree=function(ye){var Ne=Yt.outEdgesMap.get(ye);return Ne?Ne.size:0},this.nodeDegree=function(ye){return Yt.nodeInDegree(ye)+Yt.nodeOutDegree(ye)},this.source=function(ye){return ye.v},this.target=function(ye){return ye.w};var Me=f(f({},j),he);this.compound=Me.compound,this.directed=Me.directed,this.multigraph=Me.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return G(ce,[{key:"setNode",value:function(he,Me){var ye=this.nodesLabelMap,Ne=this.defaultNodeLabelFn,nr=this.isCompound,cr=this.parentMap,rn=this.childrenMap,An=this.inEdgesMap,ln=this.outEdgesMap,Yn=this.predecessorsMap,sn=this.successorsMap;if(ye.has(he))return Me!==void 0&&ye.set(he,Me),this;if(ye.set(he,Me||Ne(he)),nr()){var Bn;cr==null||cr.set(he,this.GRAPH_NODE),rn==null||rn.set(he,new Map),rn!=null&&rn.has(this.GRAPH_NODE)||rn==null||rn.set(this.GRAPH_NODE,new Map),rn==null||(Bn=rn.get(this.GRAPH_NODE))===null||Bn===void 0||Bn.set(he,!0)}return[An,ln,Yn,sn].forEach(function(Jn){return Jn.set(he,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(he){var Me=this;if(this.hasNode(he)){var ye=function(qn){Me.removeEdge(qn.v,qn.w,qn.name)},Ne=this.inEdgesMap,nr=this.outEdgesMap,cr=this.predecessorsMap,rn=this.successorsMap,An=this.nodesLabelMap;if(this.isCompound()){var ln,Yn,sn;this.removeFromParentsChildList(he),(ln=this.parentMap)===null||ln===void 0||ln.delete(he),(Yn=this.children(he))===null||Yn===void 0||Yn.forEach(function(sa){return Me.setParent(sa)}),(sn=this.childrenMap)===null||sn===void 0||sn.delete(he)}var Bn=Ne.get(he),Jn=nr.get(he);Array.from(Bn.values()).forEach(function(sa){return ye(sa)}),Array.from(Jn.values()).forEach(function(sa){return ye(sa)}),An.delete(he),Ne.delete(he),nr.delete(he),cr.delete(he),rn.delete(he),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(he,Me,ye,Ne){var nr,cr,rn=S(this.isDirected(),he,Me,Ne),An=E(this.isDirected(),rn),ln=rn.v,Yn=rn.w;if(this.edgesLabelsMap.has(An))return this.edgesLabelsMap.set(An,ye),this;if(Ne!==void 0&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(ln),this.setNode(Yn),this.edgesLabelsMap.set(An,ye||this.defaultEdgeLabelFn(ln,Yn,Ne)),Object.freeze(rn),this.edgesMap.set(An,rn);var sn=this.predecessorsMap.get(Yn),Bn=this.successorsMap.get(ln);return P(sn,ln),P(Bn,Yn),(nr=this.inEdgesMap.get(Yn))===null||nr===void 0||nr.set(An,rn),(cr=this.outEdgesMap.get(ln))===null||cr===void 0||cr.set(An,rn),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(he,Me,ye){var Ne=m(this.isDirected(),he,Me,ye),nr=this.edgesMap.get(Ne);if(nr){var cr=S(this.isDirected(),he,Me,ye),rn=cr.v,An=cr.w;this.edgesLabelsMap.delete(Ne),this.edgesMap.delete(Ne);var ln=this.predecessorsMap.get(An),Yn=this.successorsMap.get(rn);p(ln,rn),p(Yn,An),this.inEdgesMap.get(An).delete(Ne),this.outEdgesMap.get(rn).delete(Ne),this.edgeCountNum-=1}return this}}]),ce}();K.fromJSON=k;function nt(ce){return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Yt){return typeof Yt}:function(Yt){return Yt&&typeof Symbol=="function"&&Yt.constructor===Symbol&&Yt!==Symbol.prototype?"symbol":typeof Yt},nt(ce)}function q(ce,Yt){if(!(ce instanceof Yt))throw new TypeError("Cannot call a class as a function")}function J(ce,Yt){for(var he=0;he<Yt.length;he++){var Me=Yt[he];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(ce,Me.key,Me)}}function ut(ce,Yt,he){return Yt&&J(ce.prototype,Yt),he&&J(ce,he),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function st(){return typeof Reflect!="undefined"&&Reflect.get?st=Reflect.get:st=function(Yt,he,Me){var ye=bt(Yt,he);if(ye){var Ne=Object.getOwnPropertyDescriptor(ye,he);return Ne.get?Ne.get.call(arguments.length<3?Yt:Me):Ne.value}},st.apply(this,arguments)}function bt(ce,Yt){for(;!Object.prototype.hasOwnProperty.call(ce,Yt)&&(ce=xt(ce),ce!==null););return ce}function ht(ce,Yt){if(typeof Yt!="function"&&Yt!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Yt&&Yt.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Yt&&kt(ce,Yt)}function kt(ce,Yt){return kt=Object.setPrototypeOf||function(Me,ye){return Me.__proto__=ye,Me},kt(ce,Yt)}function Mt(ce){var Yt=Q();return function(){var Me=xt(ce),ye;if(Yt){var Ne=xt(this).constructor;ye=Reflect.construct(Me,arguments,Ne)}else ye=Me.apply(this,arguments);return St(this,ye)}}function St(ce,Yt){if(Yt&&(nt(Yt)==="object"||typeof Yt=="function"))return Yt;if(Yt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(ce)}function V(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function Q(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ce){return!1}}function xt(ce){return xt=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)},xt(ce)}var Ct=function(ce){ht(he,ce);var Yt=Mt(he);function he(){var Me;q(this,he);for(var ye=arguments.length,Ne=new Array(ye),nr=0;nr<ye;nr++)Ne[nr]=arguments[nr];return Me=Yt.call.apply(Yt,[this].concat(Ne)),Me.eventPool={},Me}return ut(he,[{key:"appendEvent",value:function(ye,Ne){this.eventPool[ye]||(this.eventPool[ye]=[]),this.eventPool[ye].push(Ne)}},{key:"removeEvent",value:function(ye,Ne){if(this.eventPool[ye]){var nr=this.eventPool[ye].indexOf(Ne);nr>-1&&this.eventPool[ye].splice(nr,1)}}},{key:"emitEvent",value:function(ye){for(var Ne=arguments.length,nr=new Array(Ne>1?Ne-1:0),cr=1;cr<Ne;cr++)nr[cr-1]=arguments[cr];this.eventPool[ye]&&this.eventPool[ye].forEach(function(rn){rn.apply(void 0,nr)})}},{key:"setNode",value:function(ye,Ne){return st(xt(he.prototype),"setNode",this).call(this,ye,Ne),this.emitEvent("nodeAdd",ye,Ne),this}},{key:"removeNode",value:function(ye){return st(xt(he.prototype),"removeNode",this).call(this,ye),this.emitEvent("nodeRemove",ye),this}},{key:"setEdge",value:function(ye,Ne,nr,cr){return st(xt(he.prototype),"setEdge",this).call(this,ye,Ne,nr,cr),this.emitEvent("edgeAdd",ye,Ne,nr,cr),this}},{key:"removeEdge",value:function(ye,Ne,nr){return st(xt(he.prototype),"removeEdge",this).call(this,ye,Ne,nr),this.emitEvent("edgeRemove",ye,Ne,nr),this}}]),he}(K);function et(ce,Yt){for(var he=0;he<Yt.length;he++){var Me=Yt[he];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(ce,Me.key,Me)}}function vt(ce,Yt,he){return Yt&&et(ce.prototype,Yt),he&&et(ce,he),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function Tt(ce,Yt){if(!(ce instanceof Yt))throw new TypeError("Cannot call a class as a function")}var Ot=vt(function ce(){var Yt=this;Tt(this,ce),this.arr=[],this.keyIndice=new Map,this.size=function(){return Yt.arr.length},this.keys=function(){return Yt.arr.map(function(he){return he.key})},this.has=function(he){return Yt.keyIndice.has(he)},this.priority=function(he){var Me=Yt.keyIndice.get(he);if(Me!==void 0)return Yt.arr[Me].priority},this.swap=function(he,Me){var ye=Yt.arr,Ne=Yt.keyIndice,nr=[ye[he],ye[Me]],cr=nr[0],rn=nr[1];ye[he]=rn,ye[Me]=cr,Ne.set(cr.key,Me),Ne.set(rn.key,he)},this.innerDecrease=function(he){for(var Me=Yt.arr,ye=Me[he].priority,Ne,nr=he;nr!==0;){var cr;if(Ne=nr>>1,((cr=Me[Ne])===null||cr===void 0?void 0:cr.priority)<ye)break;Yt.swap(nr,Ne),nr=Ne}},this.heapify=function(he){var Me=Yt.arr,ye=he<<1,Ne=ye+1,nr=he;ye<Me.length&&(nr=Me[ye].priority<Me[nr].priority?ye:nr,Ne<Me.length&&(nr=Me[Ne].priority<Me[nr].priority?Ne:nr),nr!==he&&(Yt.swap(he,nr),Yt.heapify(nr)))},this.min=function(){if(Yt.size()===0)throw new Error("Queue underflow");return Yt.arr[0].key},this.add=function(he,Me){var ye=Yt.keyIndice,Ne=Yt.arr;if(!ye.has(he)){var nr=Ne.length;return ye.set(he,nr),Ne.push({key:he,priority:Me}),Yt.innerDecrease(nr),!0}return!1},this.removeMin=function(){Yt.swap(0,Yt.arr.length-1);var he=Yt.arr.pop();return Yt.keyIndice.delete(he.key),Yt.heapify(0),he.key},this.decrease=function(he,Me){if(!Yt.has(he))throw new Error("There's no key named ".concat(he));var ye=Yt.keyIndice.get(he);if(Me>Yt.arr[ye].priority)throw new Error("New priority is greater than current priority.Key: ".concat(he," Old: + ").concat(Yt.arr[ye].priority," New: ").concat(Me));Yt.arr[ye].priority=Me,Yt.innerDecrease(ye)}}),Et=function(Yt,he){var Me=new K,ye=new Map,Ne=new Ot,nr;function cr(ln){var Yn=ln.v===nr?ln.w:ln.v,sn=Ne.priority(Yn);if(sn!==void 0){var Bn=he(ln);Bn<sn&&(ye.set(Yn,nr),Ne.decrease(Yn,Bn))}}if(Yt.nodeCount()===0)return Me;Yt.nodes().forEach(function(ln){Ne.add(ln,Number.POSITIVE_INFINITY),Me.setNode(ln)}),Ne.decrease(Yt.nodes()[0],0);for(var rn=!1;Ne.size()>0;){var An;if(nr=Ne.removeMin(),ye.has(nr))Me.setEdge(nr,ye.get(nr));else{if(rn)throw new Error("Input graph is not connected: "+Yt.graph());rn=!0}(An=Yt.nodeEdges(nr))===null||An===void 0||An.forEach(cr)}return Me},Dt=Et,Vt=function(Yt){var he=new Set,Me=[],ye=Yt.nodes();return ye.forEach(function(Ne){for(var nr=[],cr=[Ne];cr.length>0;){var rn=cr.pop();if(!he.has(rn)){var An,ln;he.add(rn),nr.push(rn),(An=Yt.successors(rn))===null||An===void 0||An.forEach(function(Yn){return cr.push(Yn)}),(ln=Yt.predecessors(rn))===null||ln===void 0||ln.forEach(function(Yn){return cr.push(Yn)})}}nr.length&&Me.push(nr)}),Me},ue=Vt,ee=function ce(Yt,he,Me,ye,Ne,nr){ye.includes(he)||(ye.push(he),Me||nr.push(he),Ne(he).forEach(function(cr){return ce(Yt,cr,Me,ye,Ne,nr)}),Me&&nr.push(he))},It=function(Yt,he,Me){var ye=Array.isArray(he)?he:[he],Ne=function(An){return Yt.isDirected()?Yt.successors(An):Yt.neighbors(An)},nr=[],cr=[];return ye.forEach(function(rn){if(Yt.hasNode(rn))ee(Yt,rn,Me==="post",cr,Ne,nr);else throw new Error("Graph does not have node: "+rn)}),nr},ne=It;function pe(ce,Yt){return se(ce)||Zt(ce,Yt)||qt(ce,Yt)||Gt()}function Gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qt(ce,Yt){if(ce){if(typeof ce=="string")return $t(ce,Yt);var he=Object.prototype.toString.call(ce).slice(8,-1);if(he==="Object"&&ce.constructor&&(he=ce.constructor.name),he==="Map"||he==="Set")return Array.from(ce);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return $t(ce,Yt)}}function $t(ce,Yt){(Yt==null||Yt>ce.length)&&(Yt=ce.length);for(var he=0,Me=new Array(Yt);he<Yt;he++)Me[he]=ce[he];return Me}function Zt(ce,Yt){var he=ce==null?null:typeof Symbol!="undefined"&&ce[Symbol.iterator]||ce["@@iterator"];if(he!=null){var Me=[],ye=!0,Ne=!1,nr,cr;try{for(he=he.call(ce);!(ye=(nr=he.next()).done)&&(Me.push(nr.value),!(Yt&&Me.length===Yt));ye=!0);}catch(rn){Ne=!0,cr=rn}finally{try{!ye&&he.return!=null&&he.return()}finally{if(Ne)throw cr}}return Me}}function se(ce){if(Array.isArray(ce))return ce}var Se=function(){return 1},Pt=function(Yt,he,Me,ye){return Fe(Yt,he,Me||Se,ye||function(Ne){return Yt.outEdges(Ne)})},Fe=function(Yt,he,Me,ye){var Ne=new Map,nr=new Ot,cr,rn,An=function(sn){var Bn=sn.v!==cr?sn.v:sn.w,Jn=Ne.get(Bn),sa=Me(sn),qn=rn.distance+sa;if(sa<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+sn+" Weight: "+sa);qn<Jn.distance&&(Jn.distance=qn,Jn.predecessor=cr,nr.decrease(Bn,qn))};for(Yt.nodes().forEach(function(Yn){var sn=Yn===he?0:Number.POSITIVE_INFINITY;Ne.set(Yn,{distance:sn}),nr.add(Yn,sn)});nr.size()>0&&(cr=nr.removeMin(),rn=Ne.get(cr),!(rn&&rn.distance===Number.POSITIVE_INFINITY));)ye(cr).forEach(An);var ln={};return Array.from(Ne.entries()).forEach(function(Yn){var sn=pe(Yn,2),Bn=sn[0],Jn=sn[1];return ln[String(Bn)]=Jn,ln}),ln},vr=Pt,Cr=function(Yt,he,Me){var ye={};return Yt.nodes().forEach(function(Ne){return ye[String(Ne)]=vr(Yt,Ne,he,Me),ye}),ye},_r=Cr,Ur=function(Yt){var he=0,Me=[],ye=new Map,Ne=[];function nr(cr){var rn,An={onStack:!0,lowlink:he,index:he};if(ye.set(cr,An),he+=1,Me.push(cr),(rn=Yt.successors(cr))===null||rn===void 0||rn.forEach(function(Bn){var Jn;if(ye.has(Bn)){if(!((Jn=ye.get(Bn))===null||Jn===void 0)&&Jn.onStack){var qn=ye.get(Bn);An.lowlink=Math.min(An.lowlink,qn.index)}}else{nr(Bn);var sa=ye.get(Bn);An.lowlink=Math.min(An.lowlink,sa.lowlink)}}),An.lowlink===An.index){var ln=[],Yn;do{Yn=Me.pop();var sn=ye.get(Yn);sn.onStack=!1,ln.push(Yn)}while(cr!==Yn);Ne.push(ln)}}return Yt.nodes().forEach(function(cr){ye.has(cr)||nr(cr)}),Ne},nn=Ur,on=function(Yt){return nn(Yt).filter(function(he){return he.length>1||he.length===1&&Yt.hasEdge(he[0],he[0])})},tr=on;function Rr(ce){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Yt){return typeof Yt}:function(Yt){return Yt&&typeof Symbol=="function"&&Yt.constructor===Symbol&&Yt!==Symbol.prototype?"symbol":typeof Yt},Rr(ce)}function qr(ce,Yt){for(var he=0;he<Yt.length;he++){var Me=Yt[he];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(ce,Me.key,Me)}}function br(ce,Yt,he){return Yt&&qr(ce.prototype,Yt),he&&qr(ce,he),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function zr(ce,Yt){if(!(ce instanceof Yt))throw new TypeError("Cannot call a class as a function")}function Ir(ce,Yt){if(typeof Yt!="function"&&Yt!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Yt&&Yt.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Yt&&an(ce,Yt)}function je(ce){var Yt=Nr();return function(){var Me=dn(ce),ye;if(Yt){var Ne=dn(this).constructor;ye=Reflect.construct(Me,arguments,Ne)}else ye=Me.apply(this,arguments);return qe(this,ye)}}function qe(ce,Yt){if(Yt&&(Rr(Yt)==="object"||typeof Yt=="function"))return Yt;if(Yt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xn(ce)}function xn(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function rr(ce){var Yt=typeof Map=="function"?new Map:void 0;return rr=function(Me){if(Me===null||!kn(Me))return Me;if(typeof Me!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Yt!="undefined"){if(Yt.has(Me))return Yt.get(Me);Yt.set(Me,ye)}function ye(){return jr(Me,arguments,dn(this).constructor)}return ye.prototype=Object.create(Me.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),an(ye,Me)},rr(ce)}function jr(ce,Yt,he){return Nr()?jr=Reflect.construct:jr=function(ye,Ne,nr){var cr=[null];cr.push.apply(cr,Ne);var rn=Function.bind.apply(ye,cr),An=new rn;return nr&&an(An,nr.prototype),An},jr.apply(null,arguments)}function Nr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ce){return!1}}function kn(ce){return Function.toString.call(ce).indexOf("[native code]")!==-1}function an(ce,Yt){return an=Object.setPrototypeOf||function(Me,ye){return Me.__proto__=ye,Me},an(ce,Yt)}function dn(ce){return dn=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)},dn(ce)}var Sn=function(ce){Ir(he,ce);var Yt=je(he);function he(){return zr(this,he),Yt.apply(this,arguments)}return br(he)}(rr(Error));function Dn(ce){var Yt=new Set,he=new Set,Me=[];function ye(Ne){if(he.has(Ne))throw new Sn;if(!Yt.has(Ne)){var nr;he.add(Ne),Yt.add(Ne),(nr=ce.predecessors(Ne))===null||nr===void 0||nr.forEach(ye),he.delete(Ne),Me.push(Ne)}}if(ce.sinks().forEach(ye),Yt.size!==ce.nodeCount())throw new Sn;return Me}var Nn=Dn,rt=function(Yt){try{Nn(Yt)}catch(he){if(he instanceof Sn)return!1;throw he}return!0},Xe=rt,Xt=function(Yt,he){return ne(Yt,he,"post")},te=Xt,ot=function(Yt,he){return ne(Yt,he,"pre")},Ft=ot,ft=function(){return 1};function Ut(ce,Yt,he){return re(ce,Yt||ft,he||function(Me){return ce.outEdges(Me)})}function re(ce,Yt,he){var Me={},ye=ce.nodes();return ye.forEach(function(Ne){var nr=String(Ne);Me[nr]={},Me[nr][nr]={distance:0},ye.forEach(function(cr){Ne!==cr&&(Me[nr][String(cr)]={distance:Number.POSITIVE_INFINITY})}),he(Ne).forEach(function(cr){var rn=cr.v===Ne?cr.w:cr.v,An=Yt(cr);Me[nr][String(rn)]={distance:An,predecessor:Ne}})}),ye.forEach(function(Ne){var nr=String(Ne),cr=Me[nr];ye.forEach(function(rn){var An=String(rn),ln=Me[An];ye.forEach(function(Yn){var sn=String(Yn),Bn=ln[nr],Jn=cr[sn],sa=ln[sn],qn=Bn.distance+Jn.distance;qn<sa.distance&&(sa.distance=qn,sa.predecessor=Jn.predecessor)})})}),Me}var ae=Ut,at=function(Yt,he){for(var Me=Yt.nodes(),ye=0;ye<Me.length;ye++){var Ne=Me[ye];if(he.hasNode(Ne))return!0}return!1},ct=function(Yt,he){for(var Me=Yt.edges(),ye=0;ye<Me.length;ye++){var Ne=Me[ye];if(he.hasEdge(Ne.v,Ne.w,Ne.name))return!0}return!1},F=function(Yt,he){var Me=Yt.nodes(),ye=Me.filter(function(Ne){return he.hasNode(Ne)});return ye},M=function(Yt,he){var Me=Yt.edges(),ye=Me.filter(function(Ne){return he.hasEdge(Ne.v,Ne.w,Ne.name)});return ye},O=function(Yt,he){return Yt.isCompound()===he.isCompound()&&Yt.isDirected()===he.isDirected()&&Yt.isMultigraph()===he.isMultigraph()},$=function(Yt,he){var Me=F(Yt,he);return Me.length===Yt.nodes().length},mt=function(Yt,he){var Me=M(Yt,he);return Me.length===Yt.edges().length},zt=function(Yt,he){return O(Yt,he)&&Yt.nodeCount()===he.nodeCount()&&$(Yt,he)&&Yt.edgeCount()===he.edgeCount()&&mt(Yt,he)},Rt=function(Yt,he){return $(Yt,he)&&mt(Yt,he)};function Kt(ce,Yt){return He(ce)||fr(ce,Yt)||be(ce,Yt)||Te()}function Te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(ce,Yt){if(ce){if(typeof ce=="string")return We(ce,Yt);var he=Object.prototype.toString.call(ce).slice(8,-1);if(he==="Object"&&ce.constructor&&(he=ce.constructor.name),he==="Map"||he==="Set")return Array.from(ce);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return We(ce,Yt)}}function We(ce,Yt){(Yt==null||Yt>ce.length)&&(Yt=ce.length);for(var he=0,Me=new Array(Yt);he<Yt;he++)Me[he]=ce[he];return Me}function fr(ce,Yt){var he=ce==null?null:typeof Symbol!="undefined"&&ce[Symbol.iterator]||ce["@@iterator"];if(he!=null){var Me=[],ye=!0,Ne=!1,nr,cr;try{for(he=he.call(ce);!(ye=(nr=he.next()).done)&&(Me.push(nr.value),!(Yt&&Me.length===Yt));ye=!0);}catch(rn){Ne=!0,cr=rn}finally{try{!ye&&he.return!=null&&he.return()}finally{if(Ne)throw cr}}return Me}}function He(ce){if(Array.isArray(ce))return ce}function Pr(ce){return ce instanceof K}function un(ce){if(ce.isMultigraph())return!1;for(var Yt=ce.edges(),he=new Map,Me=0;Me<Yt.length;Me++){var ye=Yt[Me];if(ye.v===ye.w)return!1;var Ne=[ye.v,ye.w].sort(),nr=Kt(Ne,2),cr=nr[0],rn=nr[1],An="".concat(cr,"-").concat(rn);if(he.has(An))return!1;he.set(An,!0)}return!0}function Ue(ce){return ce.nodes().length===0}function ur(ce){for(var Yt=ce.edges(),he=0;he<Yt.length;he++){var Me=Yt[he];if(Me.v===Me.w)return!0}return!1}var Lr=function(Yt,he){if(!un(Yt)||!un(he)||!$(Yt,he)||ct(Yt,he))return!1;var Me=Yt.nodeCount();return Yt.edgeCount()+he.edgeCount()===Me*(Me-1)/2},Or=function(Yt){if(!un(Yt))return null;for(var he=Yt.nodeCount(),Me=new K({compound:Yt.isCompound(),directed:Yt.isDirected(),multigraph:Yt.isMultigraph()}),ye=Yt.nodes(),Ne=0;Ne<he;Ne++){var nr=ye[Ne];Me.setNode(nr,Yt.node(nr));for(var cr=Ne+1;cr<he;cr++){var rn=ye[cr];Yt.hasEdge(nr,rn)||Me.setEdge(nr,rn)}}return Me}},981746:function(Ge){(function(C,y){Ge.exports=y()})(typeof self!="undefined"?self:this,function(){return function(W){var C={};function y(R){if(C[R])return C[R].exports;var w=C[R]={i:R,l:!1,exports:{}};return W[R].call(w.exports,w,w.exports,y),w.l=!0,w.exports}return y.m=W,y.c=C,y.d=function(R,w,_){y.o(R,w)||Object.defineProperty(R,w,{configurable:!1,enumerable:!0,get:_})},y.n=function(R){var w=R&&R.__esModule?function(){return R.default}:function(){return R};return y.d(w,"a",w),w},y.o=function(R,w){return Object.prototype.hasOwnProperty.call(R,w)},y.p="",y(y.s=36)}([function(W,C,y){"use strict";var R=y(3);C.a=function(w){return Array.isArray?Array.isArray(w):Object(R.a)(w,"Array")}},function(W,C,y){"use strict";var R=function(w){return w!==null&&typeof w!="function"&&isFinite(w.length)};C.a=R},function(W,C,y){"use strict";var R=y(3);C.a=function(w){return Object(R.a)(w,"Function")}},function(W,C,y){"use strict";var R={}.toString,w=function(_,L){return R.call(_)==="[object "+L+"]"};C.a=w},function(W,C,y){"use strict";var R=y(3);C.a=function(w){return Object(R.a)(w,"String")}},function(W,C,y){"use strict";var R=y(3),w=function(_){return Object(R.a)(_,"Number")};C.a=w},function(W,C,y){var R=y(38),w=R.mix;function _(L,P,p,m){return m===void 0&&(m="height"),p==="center"?(L[m]+P[m])/2:L.height}W.exports={assign:w,getHeight:_}},function(W,C,y){"use strict";var R=function(w){return w==null};C.a=R},function(W,C,y){"use strict";var R=y(0),w=y(12);function _(L,P){if(L){var p;if(Object(R.a)(L))for(var m=0,S=L.length;m<S&&(p=P(L[m],m),p!==!1);m++);else if(Object(w.a)(L)){for(var E in L)if(L.hasOwnProperty(E)&&(p=P(L[E],E),p===!1))break}}}C.a=_},function(W,C,y){"use strict";var R=y(7);C.a=function(w){return Object(R.a)(w)?"":w.toString()}},function(W,C,y){"use strict";var R=y(14),w=y(3),_=function(L){if(!Object(R.a)(L)||!Object(w.a)(L,"Object"))return!1;if(Object.getPrototypeOf(L)===null)return!0;for(var P=L;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(L)===P};C.a=_},function(W,C,y){var R=y(18),w=function(){function _(P,p){p===void 0&&(p={});var m=this;m.options=p,m.rootNode=R(P,p)}var L=_.prototype;return L.execute=function(){throw new Error("please override this method")},_}();W.exports=w},function(W,C,y){"use strict";C.a=function(R){var w=typeof R;return R!==null&&w==="object"||w==="function"}},function(W,C,y){"use strict";var R=y(1),w=function(_,L){return Object(R.a)(_)?_.indexOf(L)>-1:!1};C.a=w},function(W,C,y){"use strict";var R=function(w){return typeof w=="object"&&w!==null};C.a=R},function(W,C,y){"use strict";var R=y(8),w=y(2),_=Object.values?function(L){return Object.values(L)}:function(L){var P=[];return Object(R.a)(L,function(p,m){Object(w.a)(L)&&m==="prototype"||P.push(p)}),P};C.a=_},function(W,C,y){"use strict";C.a=w;function R(_,L){for(var P in L)L.hasOwnProperty(P)&&P!=="constructor"&&L[P]!==void 0&&(_[P]=L[P])}function w(_,L,P,p){return L&&R(_,L),P&&R(_,P),p&&R(_,p),_}},function(W,C,y){var R=y(35),w=["LR","RL","TB","BT","H","V"],_=["LR","RL","H"],L=function(m){return _.indexOf(m)>-1},P=w[0];W.exports=function(p,m,S){var E=m.direction||P;if(m.isHorizontal=L(E),E&&w.indexOf(E)===-1)throw new TypeError("Invalid direction: "+E);if(E===w[0])S(p,m);else if(E===w[1])S(p,m),p.right2left();else if(E===w[2])S(p,m);else if(E===w[3])S(p,m),p.bottom2top();else if(E===w[4]||E===w[5]){var b=R(p,m),A=b.left,x=b.right;S(A,m),S(x,m),m.isHorizontal?A.right2left():A.bottom2top(),x.translate(A.x-x.x,A.y-x.y),p.x=A.x,p.y=x.y;var D=p.getBoundingBox();m.isHorizontal?D.top<0&&p.translate(0,-D.top):D.left<0&&p.translate(-D.left,0)}var k=m.fixedRoot;return k===void 0&&(k=!0),k&&p.translate(-(p.x+p.width/2+p.hgap),-(p.y+p.height/2+p.vgap)),p}},function(W,C,y){var R=y(6),w=18,_=w*2,L=w,P={getId:function(E){return E.id||E.name},getPreH:function(E){return E.preH||0},getPreV:function(E){return E.preV||0},getHGap:function(E){return E.hgap||L},getVGap:function(E){return E.vgap||L},getChildren:function(E){return E.children},getHeight:function(E){return E.height||_},getWidth:function(E){var b=E.label||" ";return E.width||b.split("").length*w}};function p(S,E){var b=this;if(b.vgap=b.hgap=0,S instanceof p)return S;b.data=S;var A=E.getHGap(S),x=E.getVGap(S);return b.preH=E.getPreH(S),b.preV=E.getPreV(S),b.width=E.getWidth(S),b.height=E.getHeight(S),b.width+=b.preH,b.height+=b.preV,b.id=E.getId(S),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(A,x),b}R.assign(p.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(E,b){var A=this;A.hgap+=E,A.vgap+=b,A.width+=2*E,A.height+=2*b},eachNode:function(E){for(var b=this,A=[b],x;x=A.shift();)E(x),A=x.children.concat(A)},DFTraverse:function(E){this.eachNode(E)},BFTraverse:function(E){for(var b=this,A=[b],x;x=A.shift();)E(x),A=A.concat(x.children)},getBoundingBox:function(){var E={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){E.left=Math.min(E.left,b.x),E.top=Math.min(E.top,b.y),E.width=Math.max(E.width,b.x+b.width),E.height=Math.max(E.height,b.y+b.height)}),E},translate:function(E,b){E===void 0&&(E=0),b===void 0&&(b=0),this.eachNode(function(A){A.x+=E,A.y+=b,A.x+=A.preH,A.y+=A.preV})},right2left:function(){var E=this,b=E.getBoundingBox();E.eachNode(function(A){A.x=A.x-(A.x-b.left)*2-A.width}),E.translate(b.width,0)},bottom2top:function(){var E=this,b=E.getBoundingBox();E.eachNode(function(A){A.y=A.y-(A.y-b.top)*2-A.height}),E.translate(0,b.height)}});function m(S,E,b){E===void 0&&(E={}),E=R.assign({},P,E);var A=new p(S,E),x=[A],D;if(!b&&!S.collapsed){for(;D=x.shift();)if(!D.data.collapsed){var k=E.getChildren(D.data),g=k?k.length:0;if(D.children=new Array(g),k&&g)for(var f=0;f<g;f++){var z=new p(k[f],E);D.children[f]=z,x.push(z),z.parent=D,z.depth=D.depth+1}}}return A}W.exports=m},function(W,C,y){"use strict";var R=y(1),w=function(_,L){if(!Object(R.a)(_))return _;for(var P=[],p=0;p<_.length;p++){var m=_[p];L(m,p)&&P.push(m)}return P};C.a=w},function(W,C,y){"use strict";var R=y(7),w=y(21);function _(L,P){var p=Object(w.a)(P),m=p.length;if(Object(R.a)(L))return!m;for(var S=0;S<m;S+=1){var E=p[S];if(P[E]!==L[E]||!(E in L))return!1}return!0}C.a=_},function(W,C,y){"use strict";var R=y(8),w=y(2),_=Object.keys?function(L){return Object.keys(L)}:function(L){var P=[];return Object(R.a)(L,function(p,m){Object(w.a)(L)&&m==="prototype"||P.push(m)}),P};C.a=_},function(W,C,y){"use strict";var R=y(0);C.a=function(w){if(Object(R.a)(w))return w.reduce(function(_,L){return Math.max(_,L)},w[0])}},function(W,C,y){"use strict";var R=y(0);C.a=function(w){if(Object(R.a)(w))return w.reduce(function(_,L){return Math.min(_,L)},w[0])}},function(W,C,y){"use strict";var R=y(1),w=Array.prototype.splice,_=function(P,p){if(!Object(R.a)(P))return[];for(var m=P?p.length:0,S=m-1;m--;){var E=void 0,b=p[m];(m===S||b!==E)&&(E=b,w.call(P,b,1))}return P};C.a=_},function(W,C,y){"use strict";var R=y(8),w=y(0),_=y(10),L=function(P,p,m){if(!Object(w.a)(P)&&!Object(_.a)(P))return P;var S=m;return Object(R.a)(P,function(E,b){S=p(S,E,b)}),S};C.a=L},function(W,C,y){"use strict";C.a=R;function R(w,_){_===void 0&&(_=new Map);var L=[];if(Array.isArray(w))for(var P=0,p=w.length;P<p;P++){var m=w[P];_.has(m)||(L.push(m),_.set(m,!0))}return L}},function(W,C,y){"use strict";C.a=L;var R=y(0),w=y(2),_=y(28);function L(P,p){if(!p)return{0:P};if(!Object(w.a)(p)){var m=Object(R.a)(p)?p:p.replace(/\s+/g,"").split("*");p=function(S){for(var E="_",b=0,A=m.length;b<A;b++)E+=S[m[b]]&&S[m[b]].toString();return E}}return Object(_.a)(P,p)}},function(W,C,y){"use strict";var R=y(0),w=y(2),_=Object.prototype.hasOwnProperty;function L(P,p){if(!p||!Object(R.a)(P))return{};for(var m={},S=Object(w.a)(p)?p:function(x){return x[p]},E,b=0;b<P.length;b++){var A=P[b];E=S(A),_.call(m,E)?m[E].push(A):m[E]=[A]}return m}C.a=L},function(W,C,y){"use strict";C.a=function(R,w){return R.hasOwnProperty(w)}},function(W,C,y){"use strict";var R={}.toString,w=function(_){return R.call(_).replace(/^\[object /,"").replace(/]$/,"")};C.a=w},function(W,C,y){"use strict";var R=Object.prototype,w=function(_){var L=_&&_.constructor,P=typeof L=="function"&&L.prototype||R;return _===P};C.a=w},function(W,C,y){"use strict";var R=y(2);C.a=function(w,_){if(!Object(R.a)(w))throw new TypeError("Expected a function");var L=function(){for(var P=[],p=0;p<arguments.length;p++)P[p]=arguments[p];var m=_?_.apply(this,P):P[0],S=L.cache;if(S.has(m))return S.get(m);var E=w.apply(this,P);return S.set(m,E),E};return L.cache=new Map,L}},function(W,C,y){"use strict";var R=y(14),w=y(1),_=y(4),L=function(P,p){if(P===p)return!0;if(!P||!p||Object(_.a)(P)||Object(_.a)(p))return!1;if(Object(w.a)(P)||Object(w.a)(p)){if(P.length!==p.length)return!1;for(var m=!0,S=0;S<P.length&&(m=L(P[S],p[S]),!!m);S++);return m}if(Object(R.a)(P)||Object(R.a)(p)){var E=Object.keys(P),b=Object.keys(p);if(E.length!==b.length)return!1;for(var m=!0,S=0;S<E.length&&(m=L(P[E[S]],p[E[S]]),!!m);S++);return m}return!1};C.a=L},function(W,C,y){"use strict";var R=y(116),w=y(15),_=y(32),L=y(4),P;C.a=Object(_.a)(function(p,m){m===void 0&&(m={});var S=m.fontSize,E=m.fontFamily,b=m.fontWeight,A=m.fontStyle,x=m.fontVariant;return P||(P=document.createElement("canvas").getContext("2d")),P.font=[A,x,b,S+"px",E].join(" "),P.measureText(Object(L.a)(p)?p:"").width},function(p,m){return m===void 0&&(m={}),Object(R.a)([p],Object(w.a)(m)).join("")})},function(W,C,y){var R=y(18);W.exports=function(w,_){for(var L=R(w.data,_,!0),P=R(w.data,_,!0),p=w.children.length,m=Math.round(p/2),S=_.getSide||function(x,D){return D<m?"right":"left"},E=0;E<p;E++){var b=w.children[E],A=S(b,E);A==="right"?P.children.push(b):L.children.push(b)}return L.eachNode(function(x){x.isRoot()||(x.side="left")}),P.eachNode(function(x){x.isRoot()||(x.side="right")}),{left:L,right:P}}},function(W,C,y){var R={compactBox:y(37),dendrogram:y(120),indented:y(122),mindmap:y(124)};W.exports=R},function(W,C,y){function R(b,A){b.prototype=Object.create(A.prototype),b.prototype.constructor=b,w(b,A)}function w(b,A){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},w(b,A)}var _=y(11),L=y(119),P=y(17),p=y(6),m=function(b){R(A,b);function A(){return b.apply(this,arguments)||this}var x=A.prototype;return x.execute=function(){var k=this;return P(k.rootNode,k.options,L)},A}(_),S={};function E(b,A){return A=p.assign({},S,A),new m(b,A).execute()}W.exports=E},function(W,C,y){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var R=y(13);y.d(C,"contains",function(){return R.a}),y.d(C,"includes",function(){return R.a});var w=y(39);y.d(C,"difference",function(){return w.a});var _=y(40);y.d(C,"find",function(){return _.a});var L=y(41);y.d(C,"findIndex",function(){return L.a});var P=y(42);y.d(C,"firstValue",function(){return P.a});var p=y(43);y.d(C,"flatten",function(){return p.a});var m=y(44);y.d(C,"flattenDeep",function(){return m.a});var S=y(45);y.d(C,"getRange",function(){return S.a});var E=y(46);y.d(C,"pull",function(){return E.a});var b=y(24);y.d(C,"pullAt",function(){return b.a});var A=y(25);y.d(C,"reduce",function(){return A.a});var x=y(47);y.d(C,"remove",function(){return x.a});var D=y(48);y.d(C,"sortBy",function(){return D.a});var k=y(49);y.d(C,"union",function(){return k.a});var g=y(26);y.d(C,"uniq",function(){return g.a});var f=y(50);y.d(C,"valuesOfKey",function(){return f.a});var z=y(51);y.d(C,"head",function(){return z.a});var Y=y(52);y.d(C,"last",function(){return Y.a});var U=y(53);y.d(C,"startsWith",function(){return U.a});var G=y(54);y.d(C,"endsWith",function(){return G.a});var j=y(19);y.d(C,"filter",function(){return j.a});var K=y(55);y.d(C,"every",function(){return K.a});var nt=y(56);y.d(C,"some",function(){return nt.a});var q=y(57);y.d(C,"group",function(){return q.a});var J=y(28);y.d(C,"groupBy",function(){return J.a});var ut=y(27);y.d(C,"groupToMap",function(){return ut.a});var st=y(58);y.d(C,"getWrapBehavior",function(){return st.a});var bt=y(59);y.d(C,"wrapBehavior",function(){return bt.a});var ht=y(60);y.d(C,"number2color",function(){return ht.a});var kt=y(61);y.d(C,"parseRadius",function(){return kt.a});var Mt=y(62);y.d(C,"clamp",function(){return Mt.a});var St=y(63);y.d(C,"fixedBase",function(){return St.a});var V=y(64);y.d(C,"isDecimal",function(){return V.a});var Q=y(65);y.d(C,"isEven",function(){return Q.a});var xt=y(66);y.d(C,"isInteger",function(){return xt.a});var Ct=y(67);y.d(C,"isNegative",function(){return Ct.a});var et=y(68);y.d(C,"isNumberEqual",function(){return et.a});var vt=y(69);y.d(C,"isOdd",function(){return vt.a});var Tt=y(70);y.d(C,"isPositive",function(){return Tt.a});var Ot=y(22);y.d(C,"max",function(){return Ot.a});var Et=y(71);y.d(C,"maxBy",function(){return Et.a});var Dt=y(23);y.d(C,"min",function(){return Dt.a});var Vt=y(72);y.d(C,"minBy",function(){return Vt.a});var ue=y(73);y.d(C,"mod",function(){return ue.a});var ee=y(74);y.d(C,"toDegree",function(){return ee.a});var It=y(75);y.d(C,"toInteger",function(){return It.a});var ne=y(76);y.d(C,"toRadian",function(){return ne.a});var pe=y(77);y.d(C,"forIn",function(){return pe.a});var Gt=y(29);y.d(C,"has",function(){return Gt.a});var qt=y(78);y.d(C,"hasKey",function(){return qt.a});var $t=y(79);y.d(C,"hasValue",function(){return $t.a});var Zt=y(21);y.d(C,"keys",function(){return Zt.a});var se=y(20);y.d(C,"isMatch",function(){return se.a});var Se=y(15);y.d(C,"values",function(){return Se.a});var Pt=y(80);y.d(C,"lowerCase",function(){return Pt.a});var Fe=y(81);y.d(C,"lowerFirst",function(){return Fe.a});var vr=y(82);y.d(C,"substitute",function(){return vr.a});var Cr=y(83);y.d(C,"upperCase",function(){return Cr.a});var _r=y(84);y.d(C,"upperFirst",function(){return _r.a});var Ur=y(30);y.d(C,"getType",function(){return Ur.a});var nn=y(85);y.d(C,"isArguments",function(){return nn.a});var on=y(0);y.d(C,"isArray",function(){return on.a});var tr=y(1);y.d(C,"isArrayLike",function(){return tr.a});var Rr=y(86);y.d(C,"isBoolean",function(){return Rr.a});var qr=y(87);y.d(C,"isDate",function(){return qr.a});var br=y(88);y.d(C,"isError",function(){return br.a});var zr=y(2);y.d(C,"isFunction",function(){return zr.a});var Ir=y(89);y.d(C,"isFinite",function(){return Ir.a});var je=y(7);y.d(C,"isNil",function(){return je.a});var qe=y(90);y.d(C,"isNull",function(){return qe.a});var xn=y(5);y.d(C,"isNumber",function(){return xn.a});var rr=y(12);y.d(C,"isObject",function(){return rr.a});var jr=y(14);y.d(C,"isObjectLike",function(){return jr.a});var Nr=y(10);y.d(C,"isPlainObject",function(){return Nr.a});var kn=y(31);y.d(C,"isPrototype",function(){return kn.a});var an=y(91);y.d(C,"isRegExp",function(){return an.a});var dn=y(4);y.d(C,"isString",function(){return dn.a});var Sn=y(3);y.d(C,"isType",function(){return Sn.a});var Dn=y(92);y.d(C,"isUndefined",function(){return Dn.a});var Nn=y(93);y.d(C,"isElement",function(){return Nn.a});var rt=y(94);y.d(C,"requestAnimationFrame",function(){return rt.a});var Xe=y(95);y.d(C,"clearAnimationFrame",function(){return Xe.a});var Xt=y(96);y.d(C,"augment",function(){return Xt.a});var te=y(97);y.d(C,"clone",function(){return te.a});var ot=y(98);y.d(C,"debounce",function(){return ot.a});var Ft=y(32);y.d(C,"memoize",function(){return Ft.a});var ft=y(99);y.d(C,"deepMix",function(){return ft.a});var Ut=y(8);y.d(C,"each",function(){return Ut.a});var re=y(100);y.d(C,"extend",function(){return re.a});var ae=y(101);y.d(C,"indexOf",function(){return ae.a});var at=y(102);y.d(C,"isEmpty",function(){return at.a});var ct=y(33);y.d(C,"isEqual",function(){return ct.a});var F=y(103);y.d(C,"isEqualWith",function(){return F.a});var M=y(104);y.d(C,"map",function(){return M.a});var O=y(105);y.d(C,"mapValues",function(){return O.a});var $=y(16);y.d(C,"mix",function(){return $.a}),y.d(C,"assign",function(){return $.a});var mt=y(106);y.d(C,"get",function(){return mt.a});var zt=y(107);y.d(C,"set",function(){return zt.a});var Rt=y(108);y.d(C,"pick",function(){return Rt.a});var Kt=y(109);y.d(C,"omit",function(){return Kt.a});var Te=y(110);y.d(C,"throttle",function(){return Te.a});var be=y(111);y.d(C,"toArray",function(){return be.a});var We=y(9);y.d(C,"toString",function(){return We.a});var fr=y(112);y.d(C,"uniqueId",function(){return fr.a});var He=y(113);y.d(C,"noop",function(){return He.a});var Pr=y(114);y.d(C,"identity",function(){return Pr.a});var un=y(115);y.d(C,"size",function(){return un.a});var Ue=y(34);y.d(C,"measureTextWidth",function(){return Ue.a});var ur=y(117);y.d(C,"getEllipsisText",function(){return ur.a});var Lr=y(118);y.d(C,"Cache",function(){return Lr.a})},function(W,C,y){"use strict";var R=y(19),w=y(13),_=function(L,P){return P===void 0&&(P=[]),Object(R.a)(L,function(p){return!Object(w.a)(P,p)})};C.a=_},function(W,C,y){"use strict";var R=y(2),w=y(20),_=y(0),L=y(10);function P(p,m){if(!Object(_.a)(p))return null;var S;if(Object(R.a)(m)&&(S=m),Object(L.a)(m)&&(S=function(b){return Object(w.a)(b,m)}),S){for(var E=0;E<p.length;E+=1)if(S(p[E]))return p[E]}return null}C.a=P},function(W,C,y){"use strict";function R(w,_,L){L===void 0&&(L=0);for(var P=L;P<w.length;P++)if(_(w[P],P))return P;return-1}C.a=R},function(W,C,y){"use strict";var R=y(7),w=y(0),_=function(L,P){for(var p=null,m=0;m<L.length;m++){var S=L[m],E=S[P];if(!Object(R.a)(E)){Object(w.a)(E)?p=E[0]:p=E;break}}return p};C.a=_},function(W,C,y){"use strict";var R=y(0),w=function(_){if(!Object(R.a)(_))return[];for(var L=[],P=0;P<_.length;P++)L=L.concat(_[P]);return L};C.a=w},function(W,C,y){"use strict";var R=y(0),w=function(_,L){if(L===void 0&&(L=[]),!Object(R.a)(_))L.push(_);else for(var P=0;P<_.length;P+=1)w(_[P],L);return L};C.a=w},function(W,C,y){"use strict";var R=y(0),w=y(22),_=y(23),L=function(P){var p=P.filter(function(A){return!isNaN(A)});if(!p.length)return{min:0,max:0};if(Object(R.a)(P[0])){for(var m=[],S=0;S<P.length;S++)m=m.concat(P[S]);p=m}var E=Object(w.a)(p),b=Object(_.a)(p);return{min:b,max:E}};C.a=L},function(W,C,y){"use strict";var R=Array.prototype,w=R.splice,_=R.indexOf,L=function(P){for(var p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];for(var S=0;S<p.length;S++)for(var E=p[S],b=-1;(b=_.call(P,E))>-1;)w.call(P,b,1);return P};C.a=L},function(W,C,y){"use strict";var R=y(1),w=y(24),_=function(L,P){var p=[];if(!Object(R.a)(L))return p;for(var m=-1,S=[],E=L.length;++m<E;){var b=L[m];P(b,m,L)&&(p.push(b),S.push(m))}return Object(w.a)(L,S),p};C.a=_},function(W,C,y){"use strict";var R=y(0),w=y(4),_=y(2);function L(P,p){var m;if(Object(_.a)(p))m=function(E,b){return p(E)-p(b)};else{var S=[];Object(w.a)(p)?S.push(p):Object(R.a)(p)&&(S=p),m=function(E,b){for(var A=0;A<S.length;A+=1){var x=S[A];if(E[x]>b[x])return 1;if(E[x]<b[x])return-1}return 0}}return P.sort(m),P}C.a=L},function(W,C,y){"use strict";var R=y(26),w=function(){for(var _=[],L=0;L<arguments.length;L++)_[L]=arguments[L];return Object(R.a)([].concat.apply([],_))};C.a=w},function(W,C,y){"use strict";var R=y(0),w=y(7);C.a=function(_,L){for(var P=[],p={},m=0;m<_.length;m++){var S=_[m],E=S[L];if(!Object(w.a)(E)){Object(R.a)(E)||(E=[E]);for(var b=0;b<E.length;b++){var A=E[b];p[A]||(P.push(A),p[A]=!0)}}}return P}},function(W,C,y){"use strict";C.a=w;var R=y(1);function w(_){if(Object(R.a)(_))return _[0]}},function(W,C,y){"use strict";C.a=w;var R=y(1);function w(_){if(Object(R.a)(_)){var L=_;return L[L.length-1]}}},function(W,C,y){"use strict";var R=y(0),w=y(4);function _(L,P){return Object(R.a)(L)||Object(w.a)(L)?L[0]===P:!1}C.a=_},function(W,C,y){"use strict";var R=y(0),w=y(4);function _(L,P){return Object(R.a)(L)||Object(w.a)(L)?L[L.length-1]===P:!1}C.a=_},function(W,C,y){"use strict";var R=function(w,_){for(var L=0;L<w.length;L++)if(!_(w[L],L))return!1;return!0};C.a=R},function(W,C,y){"use strict";var R=function(w,_){for(var L=0;L<w.length;L++)if(_(w[L],L))return!0;return!1};C.a=R},function(W,C,y){"use strict";var R=y(27);C.a=function(w,_){if(!_)return[w];var L=Object(R.a)(w,_),P=[];for(var p in L)P.push(L[p]);return P}},function(W,C,y){"use strict";function R(w,_){return w["_wrap_"+_]}C.a=R},function(W,C,y){"use strict";function R(w,_){if(w["_wrap_"+_])return w["_wrap_"+_];var L=function(P){w[_](P)};return w["_wrap_"+_]=L,L}C.a=R},function(W,C,y){"use strict";var R={};function w(_){var L=R[_];if(!L){for(var P=_.toString(16),p=P.length;p<6;p++)P="0"+P;L="#"+P,R[_]=L}return L}C.a=w},function(W,C,y){"use strict";var R=y(0);function w(_){var L=0,P=0,p=0,m=0;return Object(R.a)(_)?_.length===1?L=P=p=m=_[0]:_.length===2?(L=p=_[0],P=m=_[1]):_.length===3?(L=_[0],P=m=_[1],p=_[2]):(L=_[0],P=_[1],p=_[2],m=_[3]):L=P=p=m=_,{r1:L,r2:P,r3:p,r4:m}}C.a=w},function(W,C,y){"use strict";var R=function(w,_,L){return w<_?_:w>L?L:w};C.a=R},function(W,C,y){"use strict";var R=function(w,_){var L=_.toString(),P=L.indexOf(".");if(P===-1)return Math.round(w);var p=L.substr(P+1).length;return p>20&&(p=20),parseFloat(w.toFixed(p))};C.a=R},function(W,C,y){"use strict";var R=y(5),w=function(_){return Object(R.a)(_)&&_%1!==0};C.a=w},function(W,C,y){"use strict";var R=y(5),w=function(_){return Object(R.a)(_)&&_%2===0};C.a=w},function(W,C,y){"use strict";var R=y(5),w=Number.isInteger?Number.isInteger:function(_){return Object(R.a)(_)&&_%1===0};C.a=w},function(W,C,y){"use strict";var R=y(5),w=function(_){return Object(R.a)(_)&&_<0};C.a=w},function(W,C,y){"use strict";C.a=w;var R=1e-5;function w(_,L,P){return P===void 0&&(P=R),Math.abs(_-L)<P}},function(W,C,y){"use strict";var R=y(5),w=function(_){return Object(R.a)(_)&&_%2!==0};C.a=w},function(W,C,y){"use strict";var R=y(5),w=function(_){return Object(R.a)(_)&&_>0};C.a=w},function(W,C,y){"use strict";var R=y(0),w=y(2);C.a=function(_,L){if(Object(R.a)(_)){for(var P,p=-1/0,m=0;m<_.length;m++){var S=_[m],E=Object(w.a)(L)?L(S):S[L];E>p&&(P=S,p=E)}return P}}},function(W,C,y){"use strict";var R=y(0),w=y(2);C.a=function(_,L){if(Object(R.a)(_)){for(var P,p=1/0,m=0;m<_.length;m++){var S=_[m],E=Object(w.a)(L)?L(S):S[L];E<p&&(P=S,p=E)}return P}}},function(W,C,y){"use strict";var R=function(w,_){return(w%_+_)%_};C.a=R},function(W,C,y){"use strict";var R=180/Math.PI,w=function(_){return R*_};C.a=w},function(W,C,y){"use strict";C.a=parseInt},function(W,C,y){"use strict";var R=Math.PI/180,w=function(_){return R*_};C.a=w},function(W,C,y){"use strict";var R=y(8);C.a=R.a},function(W,C,y){"use strict";var R=y(29);C.a=R.a},function(W,C,y){"use strict";var R=y(13),w=y(15);C.a=function(_,L){return Object(R.a)(Object(w.a)(_),L)}},function(W,C,y){"use strict";var R=y(9),w=function(_){return Object(R.a)(_).toLowerCase()};C.a=w},function(W,C,y){"use strict";var R=y(9),w=function(_){var L=Object(R.a)(_);return L.charAt(0).toLowerCase()+L.substring(1)};C.a=w},function(W,C,y){"use strict";function R(w,_){return!w||!_?w:w.replace(/\\?\{([^{}]+)\}/g,function(L,P){return L.charAt(0)==="\\"?L.slice(1):_[P]===void 0?"":_[P]})}C.a=R},function(W,C,y){"use strict";var R=y(9),w=function(_){return Object(R.a)(_).toUpperCase()};C.a=w},function(W,C,y){"use strict";var R=y(9),w=function(_){var L=Object(R.a)(_);return L.charAt(0).toUpperCase()+L.substring(1)};C.a=w},function(W,C,y){"use strict";var R=y(3),w=function(_){return Object(R.a)(_,"Arguments")};C.a=w},function(W,C,y){"use strict";var R=y(3),w=function(_){return Object(R.a)(_,"Boolean")};C.a=w},function(W,C,y){"use strict";var R=y(3),w=function(_){return Object(R.a)(_,"Date")};C.a=w},function(W,C,y){"use strict";var R=y(3),w=function(_){return Object(R.a)(_,"Error")};C.a=w},function(W,C,y){"use strict";var R=y(5);C.a=function(w){return Object(R.a)(w)&&isFinite(w)}},function(W,C,y){"use strict";var R=function(w){return w===null};C.a=R},function(W,C,y){"use strict";var R=y(3),w=function(_){return Object(R.a)(_,"RegExp")};C.a=w},function(W,C,y){"use strict";var R=function(w){return w===void 0};C.a=R},function(W,C,y){"use strict";var R=function(w){return w instanceof Element||w instanceof HTMLDocument};C.a=R},function(W,C,y){"use strict";C.a=R;function R(w){var _=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(L){return setTimeout(L,16)};return _(w)}},function(W,C,y){"use strict";C.a=R;function R(w){var _=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;_(w)}},function(W,C,y){"use strict";var R=y(16),w=y(2),_=function(){for(var L=[],P=0;P<arguments.length;P++)L[P]=arguments[P];for(var p=L[0],m=1;m<L.length;m++){var S=L[m];Object(w.a)(S)&&(S=S.prototype),Object(R.a)(p.prototype,S)}};C.a=_},function(W,C,y){"use strict";var R=y(0),w=function(_){if(typeof _!="object"||_===null)return _;var L;if(Object(R.a)(_)){L=[];for(var P=0,p=_.length;P<p;P++)typeof _[P]=="object"&&_[P]!=null?L[P]=w(_[P]):L[P]=_[P]}else{L={};for(var m in _)typeof _[m]=="object"&&_[m]!=null?L[m]=w(_[m]):L[m]=_[m]}return L};C.a=w},function(W,C,y){"use strict";function R(w,_,L){var P;return function(){var p=this,m=arguments,S=function(){P=null,L||w.apply(p,m)},E=L&&!P;clearTimeout(P),P=setTimeout(S,_),E&&w.apply(p,m)}}C.a=R},function(W,C,y){"use strict";var R=y(0),w=y(10),_=5;function L(p,m,S,E){S=S||0,E=E||_;for(var b in m)if(m.hasOwnProperty(b)){var A=m[b];A!==null&&Object(w.a)(A)?(Object(w.a)(p[b])||(p[b]={}),S<E?L(p[b],A,S+1,E):p[b]=m[b]):Object(R.a)(A)?(p[b]=[],p[b]=p[b].concat(A)):A!==void 0&&(p[b]=A)}}var P=function(p){for(var m=[],S=1;S<arguments.length;S++)m[S-1]=arguments[S];for(var E=0;E<m.length;E+=1)L(p,m[E]);return p};C.a=P},function(W,C,y){"use strict";var R=y(16),w=y(2),_=function(L,P,p,m){Object(w.a)(P)||(p=P,P=L,L=function(){});var S=Object.create?function(b,A){return Object.create(b,{constructor:{value:A}})}:function(b,A){function x(){}x.prototype=b;var D=new x;return D.constructor=A,D},E=S(P.prototype,L);return L.prototype=Object(R.a)(E,L.prototype),L.superclass=S(P.prototype,P),Object(R.a)(E,p),Object(R.a)(L,m),L};C.a=_},function(W,C,y){"use strict";var R=y(1),w=function(_,L){if(!Object(R.a)(_))return-1;var P=Array.prototype.indexOf;if(P)return P.call(_,L);for(var p=-1,m=0;m<_.length;m++)if(_[m]===L){p=m;break}return p};C.a=w},function(W,C,y){"use strict";var R=y(7),w=y(1),_=y(30),L=y(31),P=Object.prototype.hasOwnProperty;function p(m){if(Object(R.a)(m))return!0;if(Object(w.a)(m))return!m.length;var S=Object(_.a)(m);if(S==="Map"||S==="Set")return!m.size;if(Object(L.a)(m))return!Object.keys(m).length;for(var E in m)if(P.call(m,E))return!1;return!0}C.a=p},function(W,C,y){"use strict";var R=y(2),w=y(33);C.a=function(_,L,P){return Object(R.a)(P)?!!P(_,L):Object(w.a)(_,L)}},function(W,C,y){"use strict";var R=y(1),w=function(_,L){if(!Object(R.a)(_))return _;for(var P=[],p=0;p<_.length;p++){var m=_[p];P.push(L(m,p))}return P};C.a=w},function(W,C,y){"use strict";var R=y(7),w=y(12),_=function(L){return L};C.a=function(L,P){P===void 0&&(P=_);var p={};return Object(w.a)(L)&&!Object(R.a)(L)&&Object.keys(L).forEach(function(m){p[m]=P(L[m],m)}),p}},function(W,C,y){"use strict";var R=y(4);C.a=function(w,_,L){for(var P=0,p=Object(R.a)(_)?_.split("."):_;w&&P<p.length;)w=w[p[P++]];return w===void 0||P<p.length?L:w}},function(W,C,y){"use strict";var R=y(12),w=y(4),_=y(5);C.a=function(L,P,p){var m=L,S=Object(w.a)(P)?P.split("."):P;return S.forEach(function(E,b){b<S.length-1?(Object(R.a)(m[E])||(m[E]=Object(_.a)(S[b+1])?[]:{}),m=m[E]):m[E]=p}),L}},function(W,C,y){"use strict";var R=y(8),w=y(10),_=Object.prototype.hasOwnProperty;C.a=function(L,P){if(L===null||!Object(w.a)(L))return{};var p={};return Object(R.a)(P,function(m){_.call(L,m)&&(p[m]=L[m])}),p}},function(W,C,y){"use strict";var R=y(25);C.a=function(w,_){return Object(R.a)(w,function(L,P,p){return _.includes(p)||(L[p]=P),L},{})}},function(W,C,y){"use strict";C.a=function(R,w,_){var L,P,p,m,S=0;_||(_={});var E=function(){S=_.leading===!1?0:Date.now(),L=null,m=R.apply(P,p),L||(P=p=null)},b=function(){var A=Date.now();!S&&_.leading===!1&&(S=A);var x=w-(A-S);return P=this,p=arguments,x<=0||x>w?(L&&(clearTimeout(L),L=null),S=A,m=R.apply(P,p),L||(P=p=null)):!L&&_.trailing!==!1&&(L=setTimeout(E,x)),m};return b.cancel=function(){clearTimeout(L),S=0,L=P=p=null},b}},function(W,C,y){"use strict";var R=y(1);C.a=function(w){return Object(R.a)(w)?Array.prototype.slice.call(w):[]}},function(W,C,y){"use strict";var R={};C.a=function(w){return w=w||"g",R[w]?R[w]+=1:R[w]=1,w+R[w]}},function(W,C,y){"use strict";C.a=function(){}},function(W,C,y){"use strict";C.a=function(R){return R}},function(W,C,y){"use strict";C.a=_;var R=y(7),w=y(1);function _(L){return Object(R.a)(L)?0:Object(w.a)(L)?L.length:Object.keys(L).length}},function(W,C,y){"use strict";C.a=U;var R=function(St,V){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,xt){Q.__proto__=xt}||function(Q,xt){for(var Ct in xt)Object.prototype.hasOwnProperty.call(xt,Ct)&&(Q[Ct]=xt[Ct])},R(St,V)};function w(St,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");R(St,V);function Q(){this.constructor=St}St.prototype=V===null?Object.create(V):(Q.prototype=V.prototype,new Q)}var _=function(){return _=Object.assign||function(V){for(var Q,xt=1,Ct=arguments.length;xt<Ct;xt++){Q=arguments[xt];for(var et in Q)Object.prototype.hasOwnProperty.call(Q,et)&&(V[et]=Q[et])}return V},_.apply(this,arguments)};function L(St,V){var Q={};for(var xt in St)Object.prototype.hasOwnProperty.call(St,xt)&&V.indexOf(xt)<0&&(Q[xt]=St[xt]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ct=0,xt=Object.getOwnPropertySymbols(St);Ct<xt.length;Ct++)V.indexOf(xt[Ct])<0&&Object.prototype.propertyIsEnumerable.call(St,xt[Ct])&&(Q[xt[Ct]]=St[xt[Ct]]);return Q}function P(St,V,Q,xt){var Ct=arguments.length,et=Ct<3?V:xt===null?xt=Object.getOwnPropertyDescriptor(V,Q):xt,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(St,V,Q,xt);else for(var Tt=St.length-1;Tt>=0;Tt--)(vt=St[Tt])&&(et=(Ct<3?vt(et):Ct>3?vt(V,Q,et):vt(V,Q))||et);return Ct>3&&et&&Object.defineProperty(V,Q,et),et}function p(St,V){return function(Q,xt){V(Q,xt,St)}}function m(St,V,Q,xt,Ct,et){function vt(Gt){if(Gt!==void 0&&typeof Gt!="function")throw new TypeError("Function expected");return Gt}for(var Tt=xt.kind,Ot=Tt==="getter"?"get":Tt==="setter"?"set":"value",Et=!V&&St?xt.static?St:St.prototype:null,Dt=V||(Et?Object.getOwnPropertyDescriptor(Et,xt.name):{}),Vt,ue=!1,ee=Q.length-1;ee>=0;ee--){var It={};for(var ne in xt)It[ne]=ne==="access"?{}:xt[ne];for(var ne in xt.access)It.access[ne]=xt.access[ne];It.addInitializer=function(Gt){if(ue)throw new TypeError("Cannot add initializers after decoration has completed");et.push(vt(Gt||null))};var pe=(0,Q[ee])(Tt==="accessor"?{get:Dt.get,set:Dt.set}:Dt[Ot],It);if(Tt==="accessor"){if(pe===void 0)continue;if(pe===null||typeof pe!="object")throw new TypeError("Object expected");(Vt=vt(pe.get))&&(Dt.get=Vt),(Vt=vt(pe.set))&&(Dt.set=Vt),(Vt=vt(pe.init))&&Ct.push(Vt)}else(Vt=vt(pe))&&(Tt==="field"?Ct.push(Vt):Dt[Ot]=Vt)}Et&&Object.defineProperty(Et,xt.name,Dt),ue=!0}function S(St,V,Q){for(var xt=arguments.length>2,Ct=0;Ct<V.length;Ct++)Q=xt?V[Ct].call(St,Q):V[Ct].call(St);return xt?Q:void 0}function E(St){return typeof St=="symbol"?St:"".concat(St)}function b(St,V,Q){return typeof V=="symbol"&&(V=V.description?"[".concat(V.description,"]"):""),Object.defineProperty(St,"name",{configurable:!0,value:Q?"".concat(Q," ",V):V})}function A(St,V){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(St,V)}function x(St,V,Q,xt){function Ct(et){return et instanceof Q?et:new Q(function(vt){vt(et)})}return new(Q||(Q=Promise))(function(et,vt){function Tt(Dt){try{Et(xt.next(Dt))}catch(Vt){vt(Vt)}}function Ot(Dt){try{Et(xt.throw(Dt))}catch(Vt){vt(Vt)}}function Et(Dt){Dt.done?et(Dt.value):Ct(Dt.value).then(Tt,Ot)}Et((xt=xt.apply(St,V||[])).next())})}function D(St,V){var Q={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},xt,Ct,et,vt;return vt={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(vt[Symbol.iterator]=function(){return this}),vt;function Tt(Et){return function(Dt){return Ot([Et,Dt])}}function Ot(Et){if(xt)throw new TypeError("Generator is already executing.");for(;vt&&(vt=0,Et[0]&&(Q=0)),Q;)try{if(xt=1,Ct&&(et=Et[0]&2?Ct.return:Et[0]?Ct.throw||((et=Ct.return)&&et.call(Ct),0):Ct.next)&&!(et=et.call(Ct,Et[1])).done)return et;switch(Ct=0,et&&(Et=[Et[0]&2,et.value]),Et[0]){case 0:case 1:et=Et;break;case 4:return Q.label++,{value:Et[1],done:!1};case 5:Q.label++,Ct=Et[1],Et=[0];continue;case 7:Et=Q.ops.pop(),Q.trys.pop();continue;default:if(et=Q.trys,!(et=et.length>0&&et[et.length-1])&&(Et[0]===6||Et[0]===2)){Q=0;continue}if(Et[0]===3&&(!et||Et[1]>et[0]&&Et[1]<et[3])){Q.label=Et[1];break}if(Et[0]===6&&Q.label<et[1]){Q.label=et[1],et=Et;break}if(et&&Q.label<et[2]){Q.label=et[2],Q.ops.push(Et);break}et[2]&&Q.ops.pop(),Q.trys.pop();continue}Et=V.call(St,Q)}catch(Dt){Et=[6,Dt],Ct=0}finally{xt=et=0}if(Et[0]&5)throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}}var k=Object.create?function(St,V,Q,xt){xt===void 0&&(xt=Q);var Ct=Object.getOwnPropertyDescriptor(V,Q);(!Ct||("get"in Ct?!V.__esModule:Ct.writable||Ct.configurable))&&(Ct={enumerable:!0,get:function(){return V[Q]}}),Object.defineProperty(St,xt,Ct)}:function(St,V,Q,xt){xt===void 0&&(xt=Q),St[xt]=V[Q]};function g(St,V){for(var Q in St)Q!=="default"&&!Object.prototype.hasOwnProperty.call(V,Q)&&k(V,St,Q)}function f(St){var V=typeof Symbol=="function"&&Symbol.iterator,Q=V&&St[V],xt=0;if(Q)return Q.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&xt>=St.length&&(St=void 0),{value:St&&St[xt++],done:!St}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(St,V){var Q=typeof Symbol=="function"&&St[Symbol.iterator];if(!Q)return St;var xt=Q.call(St),Ct,et=[],vt;try{for(;(V===void 0||V-- >0)&&!(Ct=xt.next()).done;)et.push(Ct.value)}catch(Tt){vt={error:Tt}}finally{try{Ct&&!Ct.done&&(Q=xt.return)&&Q.call(xt)}finally{if(vt)throw vt.error}}return et}function Y(){for(var St=[],V=0;V<arguments.length;V++)St=St.concat(z(arguments[V]));return St}function U(){for(var St=0,V=0,Q=arguments.length;V<Q;V++)St+=arguments[V].length;for(var xt=Array(St),Ct=0,V=0;V<Q;V++)for(var et=arguments[V],vt=0,Tt=et.length;vt<Tt;vt++,Ct++)xt[Ct]=et[vt];return xt}function G(St,V,Q){if(Q||arguments.length===2)for(var xt=0,Ct=V.length,et;xt<Ct;xt++)(et||!(xt in V))&&(et||(et=Array.prototype.slice.call(V,0,xt)),et[xt]=V[xt]);return St.concat(et||Array.prototype.slice.call(V))}function j(St){return this instanceof j?(this.v=St,this):new j(St)}function K(St,V,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xt=Q.apply(St,V||[]),Ct,et=[];return Ct={},vt("next"),vt("throw"),vt("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function vt(ue){xt[ue]&&(Ct[ue]=function(ee){return new Promise(function(It,ne){et.push([ue,ee,It,ne])>1||Tt(ue,ee)})})}function Tt(ue,ee){try{Ot(xt[ue](ee))}catch(It){Vt(et[0][3],It)}}function Ot(ue){ue.value instanceof j?Promise.resolve(ue.value.v).then(Et,Dt):Vt(et[0][2],ue)}function Et(ue){Tt("next",ue)}function Dt(ue){Tt("throw",ue)}function Vt(ue,ee){ue(ee),et.shift(),et.length&&Tt(et[0][0],et[0][1])}}function nt(St){var V,Q;return V={},xt("next"),xt("throw",function(Ct){throw Ct}),xt("return"),V[Symbol.iterator]=function(){return this},V;function xt(Ct,et){V[Ct]=St[Ct]?function(vt){return(Q=!Q)?{value:j(St[Ct](vt)),done:!1}:et?et(vt):vt}:et}}function q(St){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=St[Symbol.asyncIterator],Q;return V?V.call(St):(St=typeof f=="function"?f(St):St[Symbol.iterator](),Q={},xt("next"),xt("throw"),xt("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function xt(et){Q[et]=St[et]&&function(vt){return new Promise(function(Tt,Ot){vt=St[et](vt),Ct(Tt,Ot,vt.done,vt.value)})}}function Ct(et,vt,Tt,Ot){Promise.resolve(Ot).then(function(Et){et({value:Et,done:Tt})},vt)}}function J(St,V){return Object.defineProperty?Object.defineProperty(St,"raw",{value:V}):St.raw=V,St}var ut=Object.create?function(St,V){Object.defineProperty(St,"default",{enumerable:!0,value:V})}:function(St,V){St.default=V};function st(St){if(St&&St.__esModule)return St;var V={};if(St!=null)for(var Q in St)Q!=="default"&&Object.prototype.hasOwnProperty.call(St,Q)&&k(V,St,Q);return ut(V,St),V}function bt(St){return St&&St.__esModule?St:{default:St}}function ht(St,V,Q,xt){if(Q==="a"&&!xt)throw new TypeError("Private accessor was defined without a getter");if(typeof V=="function"?St!==V||!xt:!V.has(St))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?xt:Q==="a"?xt.call(St):xt?xt.value:V.get(St)}function kt(St,V,Q,xt,Ct){if(xt==="m")throw new TypeError("Private method is not writable");if(xt==="a"&&!Ct)throw new TypeError("Private accessor was defined without a setter");if(typeof V=="function"?St!==V||!Ct:!V.has(St))throw new TypeError("Cannot write private member to an object whose class did not declare it");return xt==="a"?Ct.call(St,Q):Ct?Ct.value=Q:V.set(St,Q),Q}function Mt(St,V){if(V===null||typeof V!="object"&&typeof V!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof St=="function"?V===St:St.has(V)}},function(W,C,y){"use strict";var R=y(4),w=y(9),_=y(34);C.a=function(L,P,p,m){m===void 0&&(m="...");var S=16,E=Object(_.a)(m,p),b=Object(R.a)(L)?L:Object(w.a)(L),A=P,x=[],D,k;if(Object(_.a)(L,p)<=P)return L;for(;D=b.substr(0,S),k=Object(_.a)(D,p),!(k+E>A&&k>A);)if(x.push(D),A-=k,b=b.substr(S),!b)return x.join("");for(;D=b.substr(0,1),k=Object(_.a)(D,p),!(k+E>A);)if(x.push(D),A-=k,b=b.substr(1),!b)return x.join("");return""+x.join("")+m}},function(W,C,y){"use strict";var R=function(){function w(){this.map={}}return w.prototype.has=function(_){return this.map[_]!==void 0},w.prototype.get=function(_,L){var P=this.map[_];return P===void 0?L:P},w.prototype.set=function(_,L){this.map[_]=L},w.prototype.clear=function(){this.map={}},w.prototype.delete=function(_){delete this.map[_]},w.prototype.size=function(){return Object.keys(this.map).length},w}();C.a=R},function(W,C){function y(p,m,S,E){E===void 0&&(E=[]);var b=this;b.w=p||0,b.h=m||0,b.y=S||0,b.x=0,b.c=E||[],b.cs=E.length,b.prelim=0,b.mod=0,b.shift=0,b.change=0,b.tl=null,b.tr=null,b.el=null,b.er=null,b.msel=0,b.mser=0}y.fromNode=function(p,m){if(!p)return null;var S=[];return p.children.forEach(function(E){S.push(y.fromNode(E,m))}),m?new y(p.height,p.width,p.x,S):new y(p.width,p.height,p.y,S)};function R(p,m,S){S?p.y+=m:p.x+=m,p.children.forEach(function(E){R(E,m,S)})}function w(p,m){var S=m?p.y:p.x;return p.children.forEach(function(E){S=Math.min(w(E,m),S)}),S}function _(p,m){var S=w(p,m);R(p,-S,m)}function L(p,m,S){S?m.y=p.x:m.x=p.x,p.c.forEach(function(E,b){L(E,m.children[b],S)})}function P(p,m,S){S===void 0&&(S=0),m?(p.x=S,S+=p.width):(p.y=S,S+=p.height),p.children.forEach(function(E){P(E,m,S)})}W.exports=function(p,m){m===void 0&&(m={});var S=m.isHorizontal;function E(q){if(q.cs===0){b(q);return}E(q.c[0]);for(var J=K(g(q.c[0].el),0,null),ut=1;ut<q.cs;++ut){E(q.c[ut]);var st=g(q.c[ut].er);A(q,ut,J),J=K(st,ut,J)}Y(q),b(q)}function b(q){q.cs===0?(q.el=q,q.er=q,q.msel=q.mser=0):(q.el=q.c[0].el,q.msel=q.c[0].msel,q.er=q.c[q.cs-1].er,q.mser=q.c[q.cs-1].mser)}function A(q,J,ut){for(var st=q.c[J-1],bt=st.mod,ht=q.c[J],kt=ht.mod;st!==null&&ht!==null;){g(st)>ut.low&&(ut=ut.nxt);var Mt=bt+st.prelim+st.w-(kt+ht.prelim);Mt>0&&(kt+=Mt,x(q,J,ut.index,Mt));var St=g(st),V=g(ht);St<=V&&(st=k(st),st!==null&&(bt+=st.mod)),St>=V&&(ht=D(ht),ht!==null&&(kt+=ht.mod))}!st&&ht?f(q,J,ht,kt):st&&!ht&&z(q,J,st,bt)}function x(q,J,ut,st){q.c[J].mod+=st,q.c[J].msel+=st,q.c[J].mser+=st,G(q,J,ut,st)}function D(q){return q.cs===0?q.tl:q.c[0]}function k(q){return q.cs===0?q.tr:q.c[q.cs-1]}function g(q){return q.y+q.h}function f(q,J,ut,st){var bt=q.c[0].el;bt.tl=ut;var ht=st-ut.mod-q.c[0].msel;bt.mod+=ht,bt.prelim-=ht,q.c[0].el=q.c[J].el,q.c[0].msel=q.c[J].msel}function z(q,J,ut,st){var bt=q.c[J].er;bt.tr=ut;var ht=st-ut.mod-q.c[J].mser;bt.mod+=ht,bt.prelim-=ht,q.c[J].er=q.c[J-1].er,q.c[J].mser=q.c[J-1].mser}function Y(q){q.prelim=(q.c[0].prelim+q.c[0].mod+q.c[q.cs-1].mod+q.c[q.cs-1].prelim+q.c[q.cs-1].w)/2-q.w/2}function U(q,J){J+=q.mod,q.x=q.prelim+J,j(q);for(var ut=0;ut<q.cs;ut++)U(q.c[ut],J)}function G(q,J,ut,st){if(ut!==J-1){var bt=J-ut;q.c[ut+1].shift+=st/bt,q.c[J].shift-=st/bt,q.c[J].change-=st-st/bt}}function j(q){for(var J=0,ut=0,st=0;st<q.cs;st++)J+=q.c[st].shift,ut+=J+q.c[st].change,q.c[st].mod+=ut}function K(q,J,ut){for(;ut!==null&&q>=ut.low;)ut=ut.nxt;return{low:q,index:J,nxt:ut}}P(p,S);var nt=y.fromNode(p,S);return E(nt),U(nt,0),L(nt,p,S),_(p,S),p}},function(W,C,y){function R(b,A){b.prototype=Object.create(A.prototype),b.prototype.constructor=b,w(b,A)}function w(b,A){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},w(b,A)}var _=y(11),L=y(121),P=y(17),p=y(6),m=function(b){R(A,b);function A(){return b.apply(this,arguments)||this}var x=A.prototype;return x.execute=function(){var k=this;return k.rootNode.width=0,P(k.rootNode,k.options,L)},A}(_),S={};function E(b,A){return A=p.assign({},S,A),new m(b,A).execute()}W.exports=E},function(W,C,y){var R=y(6);function w(P,p){P===void 0&&(P=0),p===void 0&&(p=[]);var m=this;m.x=m.y=0,m.leftChild=m.rightChild=null,m.height=0,m.children=p}var _={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function L(P,p,m){m?(p.x=P.x,p.y=P.y):(p.x=P.y,p.y=P.x),P.children.forEach(function(S,E){L(S,p.children[E],m)})}W.exports=function(P,p){p===void 0&&(p={}),p=R.assign({},_,p);var m=0;function S(D){if(!D)return null;D.width=0,D.depth&&D.depth>m&&(m=D.depth);var k=D.children,g=k.length,f=new w(D.height,[]);return k.forEach(function(z,Y){var U=S(z);f.children.push(U),Y===0&&(f.leftChild=U),Y===g-1&&(f.rightChild=U)}),f.originNode=D,f.isLeaf=D.isLeaf(),f}function E(D){if(D.isLeaf||D.children.length===0)D.drawingDepth=m;else{var k=D.children.map(function(f){return E(f)}),g=Math.min.apply(null,k);D.drawingDepth=g-1}return D.drawingDepth}var b;function A(D){D.x=D.drawingDepth*p.rankSep,D.isLeaf?(D.y=0,b&&(D.y=b.y+b.height+p.nodeSep,D.originNode.parent!==b.originNode.parent&&(D.y+=p.subTreeSep)),b=D):(D.children.forEach(function(k){A(k)}),D.y=(D.leftChild.y+D.rightChild.y)/2)}var x=S(P);return E(x),A(x),L(x,P,p.isHorizontal),P}},function(W,C,y){function R(x,D){x.prototype=Object.create(D.prototype),x.prototype.constructor=x,w(x,D)}function w(x,D){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,f){return g.__proto__=f,g},w(x,D)}var _=y(11),L=y(123),P=y(35),p=y(6),m=["LR","RL","H"],S=m[0],E=function(x){R(D,x);function D(){return x.apply(this,arguments)||this}var k=D.prototype;return k.execute=function(){var f=this,z=f.options,Y=f.rootNode;z.isHorizontal=!0;var U=z.indent,G=U===void 0?20:U,j=z.dropCap,K=j===void 0?!0:j,nt=z.direction,q=nt===void 0?S:nt,J=z.align;if(q&&m.indexOf(q)===-1)throw new TypeError("Invalid direction: "+q);if(q===m[0])L(Y,G,K,J);else if(q===m[1])L(Y,G,K,J),Y.right2left();else if(q===m[2]){var ut=P(Y,z),st=ut.left,bt=ut.right;L(st,G,K,J),st.right2left(),L(bt,G,K,J);var ht=st.getBoundingBox();bt.translate(ht.width,0),Y.x=bt.x-Y.width/2}return Y},D}(_),b={};function A(x,D){return D=p.assign({},b,D),new E(x,D).execute()}W.exports=A},function(W,C,y){var R=y(6);function w(_,L,P,p,m){var S=typeof P=="function"?P(_):P*_.depth;if(!p)try{if(_.id===_.parent.children[0].id){_.x+=S,_.y=L?L.y:0;return}}catch(A){}if(_.x+=S,L){if(_.y=L.y+R.getHeight(L,_,m),L.parent&&_.parent.id!==L.parent.id){var E=L.parent,b=E.y+R.getHeight(E,_,m);_.y=b>_.y?b:_.y}}else _.y=0}W.exports=function(_,L,P,p){var m=null;_.eachNode(function(S){w(S,m,L,P,p),m=S})}},function(W,C,y){function R(b,A){b.prototype=Object.create(A.prototype),b.prototype.constructor=b,w(b,A)}function w(b,A){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},w(b,A)}var _=y(11),L=y(125),P=y(17),p=y(6),m=function(b){R(A,b);function A(){return b.apply(this,arguments)||this}var x=A.prototype;return x.execute=function(){var k=this;return P(k.rootNode,k.options,L)},A}(_),S={};function E(b,A){return A=p.assign({},S,A),new m(b,A).execute()}W.exports=E},function(W,C,y){var R=y(6);function w(P,p){var m=0;return P.children.length?P.children.forEach(function(S){m+=w(S,p)}):m=P.height,P._subTreeSep=p.getSubTreeSep(P.data),P.totalHeight=Math.max(P.height,m)+2*P._subTreeSep,P.totalHeight}function _(P){var p=P.children,m=p.length;if(m){p.forEach(function(D){_(D)});var S=p[0],E=p[m-1],b=E.y-S.y+E.height,A=0;if(p.forEach(function(D){A+=D.totalHeight}),b>P.height)P.y=S.y+b/2-P.height/2;else if(p.length!==1||P.height>A){var x=P.y+(P.height-b)/2-S.y;p.forEach(function(D){D.translate(0,x)})}else P.y=(S.y+S.height/2+E.y+E.height/2)/2-P.height/2}}var L={getSubTreeSep:function(){return 0}};W.exports=function(P,p){p===void 0&&(p={}),p=R.assign({},L,p),P.parent={x:0,width:0,height:0,y:0},P.BFTraverse(function(m){m.x=m.parent.x+m.parent.width}),P.parent=null,w(P,p),P.startY=0,P.y=P.totalHeight/2-P.height/2,P.eachNode(function(m){var S=m.children,E=S.length;if(E){var b=S[0];if(b.startY=m.startY+m._subTreeSep,E===1)b.y=m.y+m.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var A=1;A<E;A++){var x=S[A];x.startY=S[A-1].startY+S[A-1].totalHeight,x.y=x.startY+x.totalHeight/2-x.height/2}}}}),_(P)}}])})},483360:function(Ge,W,C){"use strict";var y=this&&this.__createBinding||(Object.create?function(_,L,P,p){p===void 0&&(p=P);var m=Object.getOwnPropertyDescriptor(L,P);(!m||("get"in m?!L.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return L[P]}}),Object.defineProperty(_,p,m)}:function(_,L,P,p){p===void 0&&(p=P),_[p]=L[P]}),R=this&&this.__exportStar||function(_,L){for(var P in _)P!=="default"&&!Object.prototype.hasOwnProperty.call(L,P)&&y(L,_,P)};Object.defineProperty(W,"__esModule",{value:!0}),W.getLayoutByName=W.unRegisterLayout=W.registerLayout=void 0;var w=C(695326);Object.defineProperty(W,"registerLayout",{enumerable:!0,get:function(){return w.registerLayout}}),Object.defineProperty(W,"unRegisterLayout",{enumerable:!0,get:function(){return w.unRegisterLayout}}),Object.defineProperty(W,"getLayoutByName",{enumerable:!0,get:function(){return w.getLayoutByName}}),R(C(702584),W)},762329:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.Base=void 0;var C=function(){function y(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return y.prototype.layout=function(R){return this.init(R),this.execute(!0)},y.prototype.init=function(R){this.nodes=R.nodes||[],this.edges=R.edges||[],this.combos=R.combos||[],this.comboEdges=R.comboEdges||[],this.hiddenNodes=R.hiddenNodes||[],this.hiddenEdges=R.hiddenEdges||[],this.hiddenCombos=R.hiddenCombos||[],this.vedges=R.vedges||[]},y.prototype.execute=function(R){},y.prototype.executeWithWorker=function(){},y.prototype.getDefaultCfg=function(){return{}},y.prototype.updateCfg=function(R){R&&Object.assign(this,R)},y.prototype.getType=function(){return"base"},y.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},y}();W.Base=C},964885:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var m=function(S,E){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},m(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");m(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.CircularLayout=void 0;var R=C(762329),w=C(449784);function _(m,S,E,b){m.forEach(function(A,x){m[x].children=[],m[x].parent=[]}),b?S.forEach(function(A){var x=(0,w.getEdgeTerminal)(A,"source"),D=(0,w.getEdgeTerminal)(A,"target"),k=0;x&&(k=E[x]);var g=0;D&&(g=E[D]);var f=m[k].children,z=m[g].parent;f.push(m[g].id),z.push(m[k].id)}):S.forEach(function(A){var x=(0,w.getEdgeTerminal)(A,"source"),D=(0,w.getEdgeTerminal)(A,"target"),k=0;x&&(k=E[x]);var g=0;D&&(g=E[D]);var f=m[k].children,z=m[g].children;f.push(m[g].id),z.push(m[k].id)})}function L(m,S,E){for(var b=E.length,A=0;A<b;A++){var x=(0,w.getEdgeTerminal)(E[A],"source"),D=(0,w.getEdgeTerminal)(E[A],"target");if(m.id===x&&S.id===D||S.id===x&&m.id===D)return!0}return!1}function P(m,S){var E=m.degree,b=S.degree;return E<b?-1:E>b?1:0}var p=function(m){y(S,m);function S(E){var b=m.call(this)||this;return b.radius=null,b.nodeSize=void 0,b.startRadius=null,b.endRadius=null,b.startAngle=0,b.endAngle=2*Math.PI,b.clockwise=!0,b.divisions=1,b.ordering=null,b.angleRatio=1,b.nodes=[],b.edges=[],b.nodeMap={},b.degrees=[],b.width=300,b.height=300,b.updateCfg(E),b}return S.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},S.prototype.execute=function(){var E,b=this,A=b.nodes,x=b.edges,D=A.length;if(D===0){b.onLayoutEnd&&b.onLayoutEnd();return}!b.width&&typeof window!="undefined"&&(b.width=window.innerWidth),!b.height&&typeof window!="undefined"&&(b.height=window.innerHeight),b.center||(b.center=[b.width/2,b.height/2]);var k=b.center;if(D===1){A[0].x=k[0],A[0].y=k[1],b.onLayoutEnd&&b.onLayoutEnd();return}var g=b.radius,f=b.startRadius,z=b.endRadius,Y=b.divisions,U=b.startAngle,G=b.endAngle,j=b.angleRatio,K=b.ordering,nt=b.clockwise,q=b.nodeSpacing,J=b.nodeSize,ut=(G-U)/D,st={};A.forEach(function(Tt,Ot){st[Tt.id]=Ot}),b.nodeMap=st;var bt=(0,w.getDegree)(A.length,st,x);if(b.degrees=bt,q){var ht=(0,w.getFuncByUnknownType)(10,q),kt=(0,w.getFuncByUnknownType)(10,J),Mt=-1/0;A.forEach(function(Tt){var Ot=kt(Tt);Mt<Ot&&(Mt=Ot)});var St=0;A.forEach(function(Tt,Ot){Ot===0?St+=Mt||10:St+=(ht(Tt)||0)+(Mt||10)}),g=St/(2*Math.PI)}else!g&&!f&&!z?g=b.height>b.width?b.width/2:b.height/2:!f&&z?f=z:f&&!z&&(z=f);var V=ut*j,Q=[];K==="topology"?Q=b.topologyOrdering():K==="topology-directed"?Q=b.topologyOrdering(!0):K==="degree"?Q=b.degreeOrdering():Q=A;for(var xt=Math.ceil(D/Y),Ct=0;Ct<D;++Ct){var et=g;!et&&f!==null&&z!==null&&(et=f+Ct*(z-f)/(D-1)),et||(et=10+Ct*100/(D-1));var vt=U+Ct%xt*V+2*Math.PI/Y*Math.floor(Ct/xt);nt||(vt=G-Ct%xt*V-2*Math.PI/Y*Math.floor(Ct/xt)),Q[Ct].x=k[0]+Math.cos(vt)*et,Q[Ct].y=k[1]+Math.sin(vt)*et,Q[Ct].weight=bt[Ct].all}return(E=b.onLayoutEnd)===null||E===void 0||E.call(b),{nodes:Q,edges:this.edges}},S.prototype.topologyOrdering=function(E){E===void 0&&(E=!1);var b=this,A=b.degrees,x=b.edges,D=b.nodes,k=(0,w.clone)(D),g=b.nodeMap,f=[k[0]],z=[D[0]],Y=[],U=D.length;Y[0]=!0,_(k,x,g,E);var G=0;return k.forEach(function(j,K){if(K!==0)if((K===U-1||A[K].all!==A[K+1].all||L(f[G],j,x))&&!Y[K])f.push(j),z.push(D[g[j.id]]),Y[K]=!0,G++;else{for(var nt=f[G].children,q=!1,J=0;J<nt.length;J++){var ut=g[nt[J]];if(A[ut].all===A[K].all&&!Y[ut]){f.push(k[ut]),z.push(D[g[k[ut].id]]),Y[ut]=!0,q=!0;break}}for(var st=0;!q&&(Y[st]||(f.push(k[st]),z.push(D[g[k[st].id]]),Y[st]=!0,q=!0),st++,st!==U););}}),z},S.prototype.degreeOrdering=function(){var E=this,b=E.nodes,A=[],x=E.degrees;return b.forEach(function(D,k){D.degree=x[k].all,A.push(D)}),A.sort(P),A},S.prototype.getType=function(){return"circular"},S}(R.Base);W.CircularLayout=p},263861:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var m=function(S,E){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},m(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");m(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(m){for(var S,E=1,b=arguments.length;E<b;E++){S=arguments[E];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(m[A]=S[A])}return m},R.apply(this,arguments)};Object.defineProperty(W,"__esModule",{value:!0}),W.ComboCombinedLayout=void 0;var w=C(416470),_=C(762329),L=C(449784),P=C(702584),p=function(m){y(S,m);function S(E){var b=m.call(this)||this;return b.center=[0,0],b.nodes=[],b.edges=[],b.combos=[],b.comboEdges=[],b.comboPadding=10,b.comboTrees=[],b.updateCfg(E),b}return S.prototype.getDefaultCfg=function(){return{}},S.prototype.execute=function(){var E=this,b=E.nodes,A=E.center;if(!b||b.length===0){E.onLayoutEnd&&E.onLayoutEnd();return}if(b.length===1){b[0].x=A[0],b[0].y=A[1],E.onLayoutEnd&&E.onLayoutEnd();return}E.initVals(),E.run(),E.onLayoutEnd&&E.onLayoutEnd()},S.prototype.run=function(){var E,b=this,A=b.nodes,x=b.edges,D=b.combos,k=b.comboEdges,g=b.center,f={};A.forEach(function(Mt){f[Mt.id]=Mt});var z={};D.forEach(function(Mt){z[Mt.id]=Mt});var Y=b.getInnerGraphs(f),U=[],G=[],j={},K=!0;this.comboTrees.forEach(function(Mt){var St=Y[Mt.id],V=R(R({},Mt),{x:St.x||z[Mt.id].x,y:St.y||z[Mt.id].y,fx:St.fx||z[Mt.id].fx,fy:St.fy||z[Mt.id].fy,mass:St.mass||z[Mt.id].mass,size:St.size});G.push(V),!isNaN(V.x)&&V.x!==0&&!isNaN(V.y)&&V.y!==0?K=!1:(V.x=Math.random()*100,V.y=Math.random()*100),U.push(Mt.id),(0,L.traverseTreeUp)(Mt,function(Q){return Q.id!==Mt.id&&(j[Q.id]=Mt.id),!0})}),A.forEach(function(Mt){if(!(Mt.comboId&&z[Mt.comboId])){var St=R({},Mt);G.push(St),!isNaN(St.x)&&St.x!==0&&!isNaN(St.y)&&St.y!==0?K=!1:(St.x=Math.random()*100,St.y=Math.random()*100),U.push(Mt.id)}});var nt=[];if(x.concat(k).forEach(function(Mt){var St=j[Mt.source]||Mt.source,V=j[Mt.target]||Mt.target;St!==V&&U.includes(St)&&U.includes(V)&&nt.push({source:St,target:V})}),G!=null&&G.length){if(G.length===1)G[0].x=g[0],G[0].y=g[1];else{var q={nodes:G,edges:nt},J=this.outerLayout||new P.GForceLayout({gravity:1,factor:4,linkDistance:function(Mt,St,V){var Q,xt,Ct=((((Q=St.size)===null||Q===void 0?void 0:Q[0])||30)+(((xt=V.size)===null||xt===void 0?void 0:xt[0])||30))/2;return Math.min(Ct*1.5,700)}}),ut=(E=J.getType)===null||E===void 0?void 0:E.call(J);if(J.updateCfg({center:g,kg:5,preventOverlap:!0,animate:!1}),K&&w.FORCE_LAYOUT_TYPE_MAP[ut]){var st=G.length<100?new P.MDSLayout:new P.GridLayout;st.layout(q)}J.layout(q)}G.forEach(function(Mt){var St=Y[Mt.id];if(!St){var V=f[Mt.id];V&&(V.x=Mt.x,V.y=Mt.y);return}St.visited=!0,St.x=Mt.x,St.y=Mt.y,St.nodes.forEach(function(Q){Q.x+=Mt.x,Q.y+=Mt.y})})}for(var bt=Object.keys(Y),ht=function(Mt){var St=bt[Mt],V=Y[St];if(!V)return"continue";V.nodes.forEach(function(Q){V.visited||(Q.x+=V.x||0,Q.y+=V.y||0),f[Q.id]&&(f[Q.id].x=Q.x,f[Q.id].y=Q.y)}),z[St]&&(z[St].x=V.x,z[St].y=V.y)},kt=bt.length-1;kt>=0;kt--)ht(kt);return{nodes:A,edges:x,combos:D,comboEdges:k}},S.prototype.getInnerGraphs=function(E){var b=this,A=b.comboTrees,x=b.nodeSize,D=b.edges,k=b.comboPadding,g=b.spacing,f={},z=this.innerLayout||new P.ConcentricLayout({sortBy:"id"});return z.center=[0,0],z.preventOverlap=!0,z.nodeSpacing=g,(A||[]).forEach(function(Y){(0,L.traverseTreeUp)(Y,function(U){var G,j=(k==null?void 0:k(U))||10;if((0,L.isArray)(j)&&(j=Math.max.apply(Math,j)),!((G=U.children)===null||G===void 0)&&G.length){var nt=U.children.map(function(Q){if(Q.itemType==="combo")return f[Q.id];var xt=E[Q.id]||{};return R(R({},xt),Q)}),q=nt.map(function(Q){return Q.id}),J={nodes:nt,edges:D.filter(function(Q){return q.includes(Q.source)&&q.includes(Q.target)})},ut=1/0;nt.forEach(function(Q){var xt;Q.size||(Q.size=((xt=f[Q.id])===null||xt===void 0?void 0:xt.size)||(x==null?void 0:x(Q))||[30,30]),(0,L.isNumber)(Q.size)&&(Q.size=[Q.size,Q.size]),ut>Q.size[0]&&(ut=Q.size[0]),ut>Q.size[1]&&(ut=Q.size[1])}),z.layout(J);var st=(0,L.getLayoutBBox)(nt),bt=st.minX,ht=st.minY,kt=st.maxX,Mt=st.maxY,St={x:(kt+bt)/2,y:(Mt+ht)/2};J.nodes.forEach(function(Q){Q.x-=St.x,Q.y-=St.y});var V=Math.max(kt-bt,Mt-ht,ut)+j*2;f[U.id]={id:U.id,nodes:nt,size:[V,V]}}else if(U.itemType==="combo"){var K=j?[j*2,j*2]:[30,30];f[U.id]={id:U.id,nodes:[],size:K}}return!0})}),f},S.prototype.initVals=function(){var E=this,b=E.nodeSize,A=E.spacing,x,D;if((0,L.isNumber)(A)?D=function(){return A}:(0,L.isFunction)(A)?D=A:D=function(){return 0},this.spacing=D,!b)x=function(U){var G=D(U);if(U.size){if((0,L.isArray)(U.size)){var j=U.size[0]>U.size[1]?U.size[0]:U.size[1];return(j+G)/2}if((0,L.isObject)(U.size)){var j=U.size.width>U.size.height?U.size.width:U.size.height;return(j+G)/2}return(U.size+G)/2}return 10+G/2};else if((0,L.isFunction)(b))x=function(U){var G=b(U),j=D(U);if((0,L.isArray)(U.size)){var K=U.size[0]>U.size[1]?U.size[0]:U.size[1];return(K+j)/2}return((G||10)+j)/2};else if((0,L.isArray)(b)){var k=b[0]>b[1]?b[0]:b[1],g=k/2;x=function(U){return g+D(U)/2}}else{var f=b/2;x=function(U){return f+D(U)/2}}this.nodeSize=x;var z=E.comboPadding,Y;(0,L.isNumber)(z)?Y=function(){return z}:(0,L.isArray)(z)?Y=function(){return Math.max.apply(null,z)}:(0,L.isFunction)(z)?Y=z:Y=function(){return 0},this.comboPadding=Y},S.prototype.getType=function(){return"comboCombined"},S}(_.Base);W.ComboCombinedLayout=p},366590:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var L=function(P,p){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(m[E]=S[E])},L(P,p)};return function(P,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");L(P,p);function m(){this.constructor=P}P.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.ComboForceLayout=void 0;var R=C(762329),w=C(449784),_=function(L){y(P,L);function P(p){var m=L.call(this)||this;return m.center=[0,0],m.maxIteration=100,m.gravity=10,m.comboGravity=10,m.linkDistance=10,m.alpha=1,m.alphaMin=.001,m.alphaDecay=1-Math.pow(m.alphaMin,1/300),m.alphaTarget=0,m.velocityDecay=.6,m.edgeStrength=.6,m.nodeStrength=30,m.preventOverlap=!1,m.preventNodeOverlap=!1,m.preventComboOverlap=!1,m.collideStrength=void 0,m.nodeCollideStrength=.5,m.comboCollideStrength=.5,m.comboSpacing=20,m.comboPadding=10,m.optimizeRangeFactor=1,m.onTick=function(){},m.onLayoutEnd=function(){},m.depthAttractiveForceScale=1,m.depthRepulsiveForceScale=2,m.nodes=[],m.edges=[],m.combos=[],m.comboTrees=[],m.width=300,m.height=300,m.bias=[],m.nodeMap={},m.oriComboMap={},m.indexMap={},m.comboMap={},m.previousLayouted=!1,m.updateCfg(p),m}return P.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},P.prototype.execute=function(){var p=this,m=p.nodes,S=p.center;if(p.comboTree={id:"comboTreeRoot",depth:-1,children:p.comboTrees},!m||m.length===0){p.onLayoutEnd&&p.onLayoutEnd();return}if(m.length===1){m[0].x=S[0],m[0].y=S[1],p.onLayoutEnd&&p.onLayoutEnd();return}p.initVals(),p.run(),p.onLayoutEnd&&p.onLayoutEnd()},P.prototype.run=function(){var p=this,m=p.nodes,S=p.previousLayouted?p.maxIteration/5:p.maxIteration;!p.width&&typeof window!="undefined"&&(p.width=window.innerWidth),!p.height&&typeof window!="undefined"&&(p.height=window.innerHeight);var E=p.center,b=p.velocityDecay,A=p.comboMap;p.previousLayouted||p.initPos(A);for(var x=function(f){var z=[];m.forEach(function(Y,U){z[U]={x:0,y:0}}),p.applyCalculate(z),p.applyComboCenterForce(z),m.forEach(function(Y,U){!(0,w.isNumber)(Y.x)||!(0,w.isNumber)(Y.y)||(Y.x+=z[U].x*b,Y.y+=z[U].y*b)}),p.alpha+=(p.alphaTarget-p.alpha)*p.alphaDecay,p.onTick()},D=0;D<S;D++)x(D);var k=[0,0];m.forEach(function(f){!(0,w.isNumber)(f.x)||!(0,w.isNumber)(f.y)||(k[0]+=f.x,k[1]+=f.y)}),k[0]/=m.length,k[1]/=m.length;var g=[E[0]-k[0],E[1]-k[1]];m.forEach(function(f,z){!(0,w.isNumber)(f.x)||!(0,w.isNumber)(f.y)||(f.x+=g[0],f.y+=g[1])}),p.combos.forEach(function(f){var z=A[f.id];z&&z.empty&&(f.x=z.cx||f.x,f.y=z.cy||f.y)}),p.previousLayouted=!0},P.prototype.initVals=function(){var p=this,m=p.edges,S=p.nodes,E=p.combos,b={},A={},x={};S.forEach(function(et,vt){A[et.id]=et,x[et.id]=vt}),p.nodeMap=A,p.indexMap=x;var D={};E.forEach(function(et){D[et.id]=et}),p.oriComboMap=D,p.comboMap=p.getComboMap();var k=p.preventOverlap;p.preventComboOverlap=p.preventComboOverlap||k,p.preventNodeOverlap=p.preventNodeOverlap||k;var g=p.collideStrength;g&&(p.comboCollideStrength=g,p.nodeCollideStrength=g),p.comboCollideStrength=p.comboCollideStrength?p.comboCollideStrength:0,p.nodeCollideStrength=p.nodeCollideStrength?p.nodeCollideStrength:0;for(var f=0;f<m.length;++f){var z=(0,w.getEdgeTerminal)(m[f],"source"),Y=(0,w.getEdgeTerminal)(m[f],"target");b[z]?b[z]++:b[z]=1,b[Y]?b[Y]++:b[Y]=1}for(var U=[],f=0;f<m.length;++f){var z=(0,w.getEdgeTerminal)(m[f],"source"),Y=(0,w.getEdgeTerminal)(m[f],"target");U[f]=b[z]/(b[z]+b[Y])}this.bias=U;var G=p.nodeSize,j=p.nodeSpacing,K,nt;if((0,w.isNumber)(j)?nt=function(){return j}:(0,w.isFunction)(j)?nt=j:nt=function(){return 0},this.nodeSpacing=nt,!G)K=function(et){if(et.size){if((0,w.isArray)(et.size)){var vt=et.size[0]>et.size[1]?et.size[0]:et.size[1];return vt/2}if((0,w.isObject)(et.size)){var vt=et.size.width>et.size.height?et.size.width:et.size.height;return vt/2}return et.size/2}return 10};else if((0,w.isFunction)(G))K=function(et){return G(et)};else if((0,w.isArray)(G)){var q=G[0]>G[1]?G[0]:G[1],J=q/2;K=function(et){return J}}else{var ut=G/2;K=function(et){return ut}}this.nodeSize=K;var st=p.comboSpacing,bt;(0,w.isNumber)(st)?bt=function(){return st}:(0,w.isFunction)(st)?bt=st:bt=function(){return 0},this.comboSpacing=bt;var ht=p.comboPadding,kt;(0,w.isNumber)(ht)?kt=function(){return ht}:(0,w.isArray)(ht)?kt=function(){return Math.max.apply(null,ht)}:(0,w.isFunction)(ht)?kt=ht:kt=function(){return 0},this.comboPadding=kt;var Mt=this.linkDistance,St;Mt||(Mt=10),(0,w.isNumber)(Mt)?St=function(et){return Mt}:St=Mt,this.linkDistance=St;var V=this.edgeStrength,Q;V||(V=1),(0,w.isNumber)(V)?Q=function(et){return V}:Q=V,this.edgeStrength=Q;var xt=this.nodeStrength,Ct;xt||(xt=30),(0,w.isNumber)(xt)?Ct=function(et){return xt}:Ct=xt,this.nodeStrength=Ct},P.prototype.initPos=function(p){var m=this,S=m.nodes;S.forEach(function(E,b){var A=E.comboId,x=p[A];A&&x?(E.x=x.cx+100/(b+1),E.y=x.cy+100/(b+1)):(E.x=100/(b+1),E.y=100/(b+1))})},P.prototype.getComboMap=function(){var p=this,m=p.nodeMap,S=p.comboTrees,E=p.oriComboMap,b={};return(S||[]).forEach(function(A){var x=[];(0,w.traverseTreeUp)(A,function(D){if(D.itemType==="node"||!E[D.id])return!0;if(b[D.id]===void 0){var k={id:D.id,name:D.id,cx:0,cy:0,count:0,depth:p.oriComboMap[D.id].depth||0,children:[]};b[D.id]=k}var g=D.children;g&&g.forEach(function(Y){if(!b[Y.id]&&!m[Y.id])return!0;x.push(Y)});var f=b[D.id];if(f.cx=0,f.cy=0,x.length===0){f.empty=!0;var z=E[D.id];f.cx=z.x,f.cy=z.y}return x.forEach(function(Y){if(f.count++,Y.itemType!=="node"){var U=b[Y.id];(0,w.isNumber)(U.cx)&&(f.cx+=U.cx),(0,w.isNumber)(U.cy)&&(f.cy+=U.cy);return}var G=m[Y.id];G&&((0,w.isNumber)(G.x)&&(f.cx+=G.x),(0,w.isNumber)(G.y)&&(f.cy+=G.y))}),f.cx/=f.count||1,f.cy/=f.count||1,f.children=x,!0})}),b},P.prototype.applyComboCenterForce=function(p){var m=this,S=m.gravity,E=m.comboGravity||S,b=this.alpha,A=m.comboTrees,x=m.indexMap,D=m.nodeMap,k=m.comboMap;(A||[]).forEach(function(g){(0,w.traverseTreeUp)(g,function(f){if(f.itemType==="node")return!0;var z=k[f.id];if(!z)return!0;var Y=k[f.id],U=(Y.depth+1)/10*.5,G=Y.cx,j=Y.cy;return Y.cx=0,Y.cy=0,Y.children.forEach(function(K){if(K.itemType!=="node"){var nt=k[K.id];nt&&(0,w.isNumber)(nt.cx)&&(Y.cx+=nt.cx),nt&&(0,w.isNumber)(nt.cy)&&(Y.cy+=nt.cy);return}var q=D[K.id],J=q.x-G||.005,ut=q.y-j||.005,st=Math.sqrt(J*J+ut*ut),bt=x[q.id],ht=E*b/st*U;p[bt].x-=J*ht,p[bt].y-=ut*ht,(0,w.isNumber)(q.x)&&(Y.cx+=q.x),(0,w.isNumber)(q.y)&&(Y.cy+=q.y)}),Y.cx/=Y.count||1,Y.cy/=Y.count||1,!0})})},P.prototype.applyCalculate=function(p){var m=this,S=m.comboMap,E=m.nodes,b={};E.forEach(function(x,D){E.forEach(function(k,g){if(!(D<g)){var f=x.x-k.x||.005,z=x.y-k.y||.005,Y=f*f+z*z,U=Math.sqrt(Y);Y<1&&(Y=U),b["".concat(x.id,"-").concat(k.id)]={vx:f,vy:z,vl2:Y,vl:U},b["".concat(k.id,"-").concat(x.id)]={vl2:Y,vl:U,vx:-f,vy:-z}}})}),m.updateComboSizes(S),m.calRepulsive(p,b),m.calAttractive(p,b);var A=m.preventComboOverlap;A&&m.comboNonOverlapping(p,S)},P.prototype.updateComboSizes=function(p){var m=this,S=m.comboTrees,E=m.nodeMap,b=m.nodeSize,A=m.comboSpacing,x=m.comboPadding;(S||[]).forEach(function(D){var k=[];(0,w.traverseTreeUp)(D,function(g){if(g.itemType==="node")return!0;var f=p[g.id];if(!f)return!1;var z=g.children;z&&z.forEach(function(G){!p[G.id]&&!E[G.id]||k.push(G)}),f.minX=1/0,f.minY=1/0,f.maxX=-1/0,f.maxY=-1/0,k.forEach(function(G){if(G.itemType!=="node")return!0;var j=E[G.id];if(!j)return!0;var K=b(j),nt=j.x-K,q=j.y-K,J=j.x+K,ut=j.y+K;f.minX>nt&&(f.minX=nt),f.minY>q&&(f.minY=q),f.maxX<J&&(f.maxX=J),f.maxY<ut&&(f.maxY=ut)});var Y=m.oriComboMap[g.id].size||10;(0,w.isArray)(Y)&&(Y=Y[0]);var U=Math.max(f.maxX-f.minX,f.maxY-f.minY,Y);return f.r=U/2+A(f)/2+x(f),!0})})},P.prototype.comboNonOverlapping=function(p,m){var S=this,E=S.comboTree,b=S.comboCollideStrength,A=S.indexMap,x=S.nodeMap;(0,w.traverseTreeUp)(E,function(D){if(!m[D.id]&&!x[D.id]&&D.id!=="comboTreeRoot")return!1;var k=D.children;return k&&k.length>1&&k.forEach(function(g,f){if(g.itemType==="node")return!1;var z=m[g.id];z&&k.forEach(function(Y,U){if(f<=U||Y.itemType==="node")return!1;var G=m[Y.id];if(!G)return!1;var j=z.cx-G.cx||.005,K=z.cy-G.cy||.005,nt=j*j+K*K,q=z.r||1,J=G.r||1,ut=q+J,st=J*J,bt=q*q;if(nt<ut*ut){var ht=g.children;if(!ht||ht.length===0)return!1;var kt=Y.children;if(!kt||kt.length===0)return!1;var Mt=Math.sqrt(nt),St=(ut-Mt)/Mt*b,V=j*St,Q=K*St,xt=st/(bt+st),Ct=1-xt;ht.forEach(function(et){if(et.itemType!=="node")return!1;if(x[et.id]){var vt=A[et.id];kt.forEach(function(Tt){if(Tt.itemType!=="node"||!x[Tt.id])return!1;var Ot=A[Tt.id];p[vt].x+=V*xt,p[vt].y+=Q*xt,p[Ot].x-=V*Ct,p[Ot].y-=Q*Ct})}})}})}),!0})},P.prototype.calRepulsive=function(p,m){var S=this,E=S.nodes,b=S.width*S.optimizeRangeFactor,A=S.nodeStrength,x=S.alpha,D=S.nodeCollideStrength,k=S.preventNodeOverlap,g=S.nodeSize,f=S.nodeSpacing,z=S.depthRepulsiveForceScale,Y=S.center;E.forEach(function(U,G){if(!(!U.x||!U.y)){if(Y){var j=S.gravity,K=U.x-Y[0]||.005,nt=U.y-Y[1]||.005,q=Math.sqrt(K*K+nt*nt);p[G].x-=K*j*x/q,p[G].y-=nt*j*x/q}E.forEach(function(J,ut){if(G!==ut&&!(!J.x||!J.y)){var st=m["".concat(U.id,"-").concat(J.id)],bt=st.vl2,ht=st.vl;if(!(ht>b)){var kt=m["".concat(U.id,"-").concat(J.id)],Mt=kt.vx,St=kt.vy,V=Math.log(Math.abs(J.depth-U.depth)/10)+1||1;V=V<1?1:V,J.comboId!==U.comboId&&(V+=1);var Q=V?Math.pow(z,V):1,xt=A(J)*x/bt*Q;if(p[G].x+=Mt*xt,p[G].y+=St*xt,G<ut&&k){var Ct=g(U)+f(U)||1,et=g(J)+f(J)||1,vt=Ct+et;if(bt<vt*vt){var Tt=(vt-ht)/ht*D,Ot=et*et,Et=Ot/(Ct*Ct+Ot),Dt=Mt*Tt,Vt=St*Tt;p[G].x+=Dt*Et,p[G].y+=Vt*Et,Et=1-Et,p[ut].x-=Dt*Et,p[ut].y-=Vt*Et}}}}})}})},P.prototype.calAttractive=function(p,m){var S=this,E=S.edges,b=S.linkDistance,A=S.alpha,x=S.edgeStrength,D=S.bias,k=S.depthAttractiveForceScale;E.forEach(function(g,f){var z=(0,w.getEdgeTerminal)(g,"source"),Y=(0,w.getEdgeTerminal)(g,"target");if(!(!z||!Y||z===Y)){var U=S.indexMap[z],G=S.indexMap[Y],j=S.nodeMap[z],K=S.nodeMap[Y];if(!(!j||!K)){var nt=j.depth===K.depth?0:Math.log(Math.abs(j.depth-K.depth)/10);j.comboId===K.comboId&&(nt=nt/2);var q=nt?Math.pow(k,nt):1;if(j.comboId!==K.comboId&&q===1?q=k/2:j.comboId===K.comboId&&(q=2),!(!(0,w.isNumber)(K.x)||!(0,w.isNumber)(j.x)||!(0,w.isNumber)(K.y)||!(0,w.isNumber)(j.y))){var J=m["".concat(Y,"-").concat(z)],ut=J.vl,st=J.vx,bt=J.vy,ht=(ut-b(g))/ut*A*x(g)*q,kt=st*ht,Mt=bt*ht,St=D[f];p[G].x-=kt*St,p[G].y-=Mt*St,p[U].x+=kt*(1-St),p[U].y+=Mt*(1-St)}}}})},P.prototype.getType=function(){return"comboForce"},P}(R.Base);W.ComboForceLayout=_},843281:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var L=function(P,p){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(m[E]=S[E])},L(P,p)};return function(P,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");L(P,p);function m(){this.constructor=P}P.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.ConcentricLayout=void 0;var R=C(449784),w=C(762329),_=function(L){y(P,L);function P(p){var m=L.call(this)||this;return m.nodeSize=30,m.minNodeSpacing=10,m.nodeSpacing=10,m.preventOverlap=!1,m.equidistant=!1,m.startAngle=3/2*Math.PI,m.clockwise=!0,m.sortBy="degree",m.nodes=[],m.edges=[],m.width=300,m.height=300,m.onLayoutEnd=function(){},m.updateCfg(p),m}return P.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},P.prototype.execute=function(){var p,m,S=this,E=S.nodes,b=S.edges,A=E.length;if(A===0){(p=S.onLayoutEnd)===null||p===void 0||p.call(S);return}!S.width&&typeof window!="undefined"&&(S.width=window.innerWidth),!S.height&&typeof window!="undefined"&&(S.height=window.innerHeight),S.center||(S.center=[S.width/2,S.height/2]);var x=S.center;if(A===1){E[0].x=x[0],E[0].y=x[1],(m=S.onLayoutEnd)===null||m===void 0||m.call(S);return}var D=S.nodeSize,k=S.nodeSpacing,g=[],f,z=0;(0,R.isArray)(D)?f=Math.max(D[0],D[1]):f=D,(0,R.isArray)(k)?z=Math.max(k[0],k[1]):(0,R.isNumber)(k)&&(z=k),E.forEach(function(V){g.push(V);var Q=f;(0,R.isArray)(V.size)?Q=Math.max(V.size[0],V.size[1]):(0,R.isNumber)(V.size)?Q=V.size:(0,R.isObject)(V.size)&&(Q=Math.max(V.size.width,V.size.height)),f=Math.max(f,Q),(0,R.isFunction)(k)&&(z=Math.max(k(V),z))}),S.clockwise=S.counterclockwise!==void 0?!S.counterclockwise:S.clockwise;var Y={},U={};if(g.forEach(function(V,Q){Y[V.id]=V,U[V.id]=Q}),(S.sortBy==="degree"||!(0,R.isString)(S.sortBy)||g[0][S.sortBy]===void 0)&&(S.sortBy="degree",!(0,R.isNumber)(E[0].degree))){var G=(0,R.getDegree)(E.length,U,b);g.forEach(function(V,Q){V.degree=G[Q].all})}g.sort(function(V,Q){return Q[S.sortBy]-V[S.sortBy]}),S.maxValueNode=g[0],S.maxLevelDiff=S.maxLevelDiff||S.maxValueNode[S.sortBy]/4;var j=[[]],K=j[0];g.forEach(function(V){if(K.length>0){var Q=Math.abs(K[0][S.sortBy]-V[S.sortBy]);S.maxLevelDiff&&Q>=S.maxLevelDiff&&(K=[],j.push(K))}K.push(V)});var nt=f+(z||S.minNodeSpacing);if(!S.preventOverlap){var q=j.length>0&&j[0].length>1,J=Math.min(S.width,S.height)/2-nt,ut=J/(j.length+(q?1:0));nt=Math.min(nt,ut)}var st=0;if(j.forEach(function(V){var Q=S.sweep;Q===void 0&&(Q=2*Math.PI-2*Math.PI/V.length);var xt=V.dTheta=Q/Math.max(1,V.length-1);if(V.length>1&&S.preventOverlap){var Ct=Math.cos(xt)-Math.cos(0),et=Math.sin(xt)-Math.sin(0),vt=Math.sqrt(nt*nt/(Ct*Ct+et*et));st=Math.max(vt,st)}V.r=st,st+=nt}),S.equidistant){for(var bt=0,ht=0,kt=0;kt<j.length;kt++){var Mt=j[kt],St=Mt.r-ht;bt=Math.max(bt,St)}ht=0,j.forEach(function(V,Q){Q===0&&(ht=V.r),V.r=ht,ht+=bt})}return j.forEach(function(V){var Q=V.dTheta,xt=V.r;V.forEach(function(Ct,et){var vt=S.startAngle+(S.clockwise?1:-1)*Q*et;Ct.x=x[0]+xt*Math.cos(vt),Ct.y=x[1]+xt*Math.sin(vt)})}),S.onLayoutEnd&&S.onLayoutEnd(),{nodes:E,edges:b}},P.prototype.getType=function(){return"concentric"},P}(w.Base);W.ConcentricLayout=_},416470:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.FORCE_LAYOUT_TYPE_MAP=W.LAYOUT_MESSAGE=void 0,W.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},W.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},920171:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var S=function(E,b){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,x){A.__proto__=x}||function(A,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(A[D]=x[D])},S(E,b)};return function(E,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");S(E,b);function A(){this.constructor=E}E.prototype=b===null?Object.create(b):(A.prototype=b.prototype,new A)}}(),R=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(W,"__esModule",{value:!0}),W.DagreLayout=void 0;var w=R(C(441106)),_=C(449784),L=C(762329),P=C(627652),p=function(S){y(E,S);function E(b){var A=S.call(this)||this;return A.rankdir="TB",A.nodesep=50,A.ranksep=50,A.controlPoints=!1,A.sortByCombo=!1,A.edgeLabelSpace=!0,A.radial=!1,A.nodes=[],A.edges=[],A.onLayoutEnd=function(){},A.layoutNode=function(x){var D=A,k=D.nodes,g=k.find(function(z){return z.id===x});if(g){var f=g.layout!==!1;return f}return!0},A.updateCfg(b),A}return E.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},E.prototype.execute=function(){var b=this,A,x,D,k=this,g=k.nodes,f=k.nodeSize,z=k.rankdir,Y=k.combos,U=k.begin,G=k.radial,j=k.comboEdges,K=j===void 0?[]:j,nt=k.vedges,q=nt===void 0?[]:nt;if(g){var J=k.edges||[],ut=new P.Graph({multigraph:!0,compound:!0});k.nodeMap={};var st={};g.forEach(function(tr){k.nodeMap[tr.id]=tr,tr.comboId&&(st[tr.comboId]=st[tr.comboId]||[],st[tr.comboId].push(tr.id))});var bt;f?(0,_.isArray)(f)?bt=function(){return f}:bt=function(){return[f,f]}:bt=function(tr){return tr.size?(0,_.isArray)(tr.size)?tr.size:(0,_.isObject)(tr.size)?[tr.size.width||40,tr.size.height||40]:[tr.size,tr.size]:[40,40]};var ht=(0,_.getFunc)(k.ranksep,50,k.ranksepFunc),kt=(0,_.getFunc)(k.nodesep,50,k.nodesepFunc),Mt=kt,St=ht;(z==="LR"||z==="RL")&&(Mt=ht,St=kt),ut.setDefaultEdgeLabel(function(){return{}}),ut.setGraph(k);var V={};this.sortByCombo&&Y&&Y.forEach(function(tr){if(V[tr.id]=tr,tr.collapsed){var Rr=bt(tr),qr=St(tr),br=Mt(tr),zr=Rr[0]+2*br,Ir=Rr[1]+2*qr;ut.setNode(tr.id,{width:zr,height:Ir})}tr.parentId&&(V[tr.parentId]||ut.setNode(tr.parentId,{}),ut.setParent(tr.id,tr.parentId))}),g.filter(function(tr){return tr.layout!==!1}).forEach(function(tr){var Rr=bt(tr),qr=St(tr),br=Mt(tr),zr=Rr[0]+2*br,Ir=Rr[1]+2*qr,je=tr.layer;(0,_.isNumber)(je)?ut.setNode(tr.id,{width:zr,height:Ir,layer:je}):ut.setNode(tr.id,{width:zr,height:Ir}),b.sortByCombo&&tr.comboId&&(V[tr.comboId]||(V[tr.comboId]={id:tr.comboId},ut.setNode(tr.comboId,{})),ut.setParent(tr.id,tr.comboId))}),J.forEach(function(tr){var Rr=(0,_.getEdgeTerminal)(tr,"source"),qr=(0,_.getEdgeTerminal)(tr,"target");b.layoutNode(Rr)&&b.layoutNode(qr)&&ut.setEdge(Rr,qr,{weight:tr.weight||1})}),(A=K==null?void 0:K.concat(q||[]))===null||A===void 0||A.forEach(function(tr){var Rr,qr,br=tr.source,zr=tr.target,Ir=!((Rr=V[br])===null||Rr===void 0)&&Rr.collapsed?[br]:st[br]||[br],je=!((qr=V[zr])===null||qr===void 0)&&qr.collapsed?[zr]:st[zr]||[zr];Ir.forEach(function(qe){je.forEach(function(xn){ut.setEdge(qe,xn,{weight:tr.weight||1})})})});var Q=void 0;!((x=k.preset)===null||x===void 0)&&x.nodes&&(Q=new P.Graph({multigraph:!0,compound:!0}),k.preset.nodes.forEach(function(tr){Q==null||Q.setNode(tr.id,tr)})),w.default.layout(ut,{prevGraph:Q,edgeLabelSpace:k.edgeLabelSpace,keepNodeOrder:Boolean(!!k.nodeOrder),nodeOrder:k.nodeOrder});var xt=[0,0];if(U){var Ct=1/0,et=1/0;ut.nodes().forEach(function(tr){var Rr=ut.node(tr);Ct>Rr.x&&(Ct=Rr.x),et>Rr.y&&(et=Rr.y)}),ut.edges().forEach(function(tr){var Rr,qr=ut.edge(tr);(Rr=qr.points)===null||Rr===void 0||Rr.forEach(function(br){Ct>br.x&&(Ct=br.x),et>br.y&&(et=br.y)})}),xt[0]=U[0]-Ct,xt[1]=U[1]-et}var vt=z==="LR"||z==="RL";if(G){var Tt=this,Ot=Tt.focusNode,Et=Tt.ranksep,Dt=Tt.getRadialPos,Vt=(0,_.isString)(Ot)?Ot:Ot==null?void 0:Ot.id,ue=Vt?(D=ut.node(Vt))===null||D===void 0?void 0:D._rank:0,ee=[],It=vt?"y":"x",ne=vt?"height":"width",pe=1/0,Gt=-1/0;ut.nodes().forEach(function(tr){var Rr=ut.node(tr),qr=g.findIndex(function(xn){return xn.id===tr});if(g[qr]){var br=kt(g[qr]);if(ue===0)ee[Rr._rank]||(ee[Rr._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),ee[Rr._rank].nodes.push(tr),ee[Rr._rank].totalWidth+=br*2+Rr[ne],ee[Rr._rank].maxSize<Math.max(Rr.width,Rr.height)&&(ee[Rr._rank].maxSize=Math.max(Rr.width,Rr.height));else{var zr=Rr._rank-ue;if(zr===0)ee[zr]||(ee[zr]={nodes:[],totalWidth:0,maxSize:-1/0}),ee[zr].nodes.push(tr),ee[zr].totalWidth+=br*2+Rr[ne],ee[zr].maxSize<Math.max(Rr.width,Rr.height)&&(ee[zr].maxSize=Math.max(Rr.width,Rr.height));else{var Ir=Math.abs(zr);ee[Ir]||(ee[Ir]={left:[],right:[],totalWidth:0,maxSize:-1/0}),ee[Ir].totalWidth+=br*2+Rr[ne],ee[Ir].maxSize<Math.max(Rr.width,Rr.height)&&(ee[Ir].maxSize=Math.max(Rr.width,Rr.height)),zr<0?ee[Ir].left.push(tr):ee[Ir].right.push(tr)}}var je=Rr[It]-Rr[ne]/2-br,qe=Rr[It]+Rr[ne]/2+br;je<pe&&(pe=je),qe>Gt&&(Gt=qe)}});var qt=Et||50,$t={},Zt=(Gt-pe)/.9,se=[(pe+Gt-Zt)*.5,(pe+Gt+Zt)*.5],Se=function(tr,Rr,qr,br){qr===void 0&&(qr=-1/0),br===void 0&&(br=[0,1]);var zr=qr;return tr.forEach(function(Ir){var je=ut.node(Ir);$t[Ir]=Rr;var qe=Dt(je[It],se,Zt,Rr,br),xn=qe.x,rr=qe.y,jr=g.findIndex(function(kn){return kn.id===Ir});if(g[jr]){g[jr].x=xn+xt[0],g[jr].y=rr+xt[1],g[jr]._order=je._order;var Nr=ht(g[jr]);zr<Nr&&(zr=Nr)}}),zr},Pt=!0,Fe=0;ee.forEach(function(tr){var Rr,qr,br,zr,Ir,je,qe;if(!(!(!((Rr=tr==null?void 0:tr.nodes)===null||Rr===void 0)&&Rr.length)&&!(!((qr=tr==null?void 0:tr.left)===null||qr===void 0)&&qr.length)&&!(!((br=tr==null?void 0:tr.right)===null||br===void 0)&&br.length))){if(Pt&&tr.nodes.length===1){var xn=g.findIndex(function(Nr){return Nr.id===tr.nodes[0]});if(xn<=-1)return;g[xn].x=xt[0],g[xn].y=xt[1],$t[tr.nodes[0]]=0,qt=ht(g[xn]),Pt=!1;return}qt=Math.max(qt,tr.totalWidth/(2*Math.PI));var rr=-1/0;if(ue===0||!((zr=tr.nodes)===null||zr===void 0)&&zr.length)rr=Se(tr.nodes,qt,rr,[0,1]);else{var jr=((Ir=tr.left)===null||Ir===void 0?void 0:Ir.length)/(((je=tr.left)===null||je===void 0?void 0:je.length)+((qe=tr.right)===null||qe===void 0?void 0:qe.length));rr=Se(tr.left,qt,rr,[0,jr]),rr=Se(tr.right,qt,rr,[jr+.05,1])}qt+=rr,Pt=!1,Fe-tr.maxSize}}),ut.edges().forEach(function(tr){var Rr,qr,br,zr=ut.edge(tr),Ir=J.findIndex(function(an){var dn=(0,_.getEdgeTerminal)(an,"source"),Sn=(0,_.getEdgeTerminal)(an,"target");return dn===tr.v&&Sn===tr.w});if(!(Ir<=-1)&&k.edgeLabelSpace&&k.controlPoints&&J[Ir].type!=="loop"){var je=It==="x"?"y":"x",qe=(Rr=zr==null?void 0:zr.points)===null||Rr===void 0?void 0:Rr.slice(1,zr.points.length-1),xn=[],rr=(qr=ut.node(tr.v))===null||qr===void 0?void 0:qr[je],jr=rr-((br=ut.node(tr.w))===null||br===void 0?void 0:br[je]),Nr=$t[tr.v],kn=Nr-$t[tr.w];qe==null||qe.forEach(function(an){var dn=(an[je]-rr)/jr*kn+Nr,Sn=Dt(an[It],se,Zt,dn);xn.push({x:Sn.x+xt[0],y:Sn.y+xt[1]})}),J[Ir].controlPoints=xn}})}else{var vr=new Set,Cr=z==="BT"||z==="RL",_r=Cr?function(tr,Rr){return Rr-tr}:function(tr,Rr){return tr-Rr};ut.nodes().forEach(function(tr){var Rr=ut.node(tr);if(Rr){var qr=b.nodeMap[tr];qr||(qr=Y==null?void 0:Y.find(function(br){return br.id===tr})),qr&&(qr.x=Rr.x+xt[0],qr.y=Rr.y+xt[1],qr._order=Rr._order,vr.add(vt?qr.x:qr.y))}});var Ur=Array.from(vr).sort(_r),nn=vt?function(tr,Rr){return tr.x!==Rr.x}:function(tr,Rr){return tr.y!==Rr.y},on=vt?function(tr,Rr,qr){var br=Math.max(Rr.y,qr.y),zr=Math.min(Rr.y,qr.y);return tr.filter(function(Ir){return Ir.y<=br&&Ir.y>=zr})}:function(tr,Rr,qr){var br=Math.max(Rr.x,qr.x),zr=Math.min(Rr.x,qr.x);return tr.filter(function(Ir){return Ir.x<=br&&Ir.x>=zr})};ut.edges().forEach(function(tr){var Rr=ut.edge(tr),qr=J.findIndex(function(Ir){var je=(0,_.getEdgeTerminal)(Ir,"source"),qe=(0,_.getEdgeTerminal)(Ir,"target");return je===tr.v&&qe===tr.w});if(!(qr<=-1)&&k.edgeLabelSpace&&k.controlPoints&&J[qr].type!=="loop"){var br=k.nodeMap[tr.v],zr=k.nodeMap[tr.w];J[qr].controlPoints=m(Rr==null?void 0:Rr.points,br,zr,Ur,vt,nn,on),J[qr].controlPoints.forEach(function(Ir){Ir.x+=xt[0],Ir.y+=xt[1]})}})}return k.onLayoutEnd&&k.onLayoutEnd(),{nodes:g,edges:J}}},E.prototype.getRadialPos=function(b,A,x,D,k){k===void 0&&(k=[0,1]);var g=(b-A[0])/x;g=g*(k[1]-k[0])+k[0];var f=g*2*Math.PI;return{x:Math.cos(f)*D,y:Math.sin(f)*D}},E.prototype.getType=function(){return"dagre"},E}(L.Base);W.DagreLayout=p;var m=function(S,E,b,A,x,D,k){var g=(S==null?void 0:S.slice(1,S.length-1))||[];if(E&&b){var f=E.x,z=E.y,Y=b.x,U=b.y;if(x&&(f=E.y,z=E.x,Y=b.y,U=b.x),U!==z&&f!==Y){var G=A.indexOf(z),j=A[G+1];if(j){var K=g[0],nt=x?{x:(z+j)/2,y:(K==null?void 0:K.y)||Y}:{x:(K==null?void 0:K.x)||Y,y:(z+j)/2};(!K||D(K,nt))&&g.unshift(nt)}var q=A.indexOf(U),J=Math.abs(q-G);if(J===1)g=k(g,E,b),g.length||g.push(x?{x:(z+U)/2,y:f}:{x:f,y:(z+U)/2});else if(J>1){var ut=A[q-1];if(ut){var st=g[g.length-1],bt=x?{x:(U+ut)/2,y:(st==null?void 0:st.y)||Y}:{x:(st==null?void 0:st.x)||f,y:(U+ut)/2};(!st||D(st,bt))&&g.push(bt)}}}}return g}},177057:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var m=function(S,E){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},m(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");m(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(m){for(var S,E=1,b=arguments.length;E<b;E++){S=arguments[E];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(m[A]=S[A])}return m},R.apply(this,arguments)},w=this&&this.__spreadArray||function(m,S,E){if(E||arguments.length===2)for(var b=0,A=S.length,x;b<A;b++)(x||!(b in S))&&(x||(x=Array.prototype.slice.call(S,0,b)),x[b]=S[b]);return m.concat(x||Array.prototype.slice.call(S))};Object.defineProperty(W,"__esModule",{value:!0}),W.DagreCompoundLayout=void 0;var _=C(762329),L=C(631969),P=C(449784),p=function(m){y(S,m);function S(E){var b=m.call(this)||this;return b.rankdir="TB",b.nodesep=50,b.edgesep=5,b.ranksep=50,b.controlPoints=!0,b.anchorPoint=!0,b.nodes=[],b.edges=[],b.combos=[],b.onLayoutEnd=function(){},b.updateCfg(E),b}return S.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},S.prototype.init=function(E){var b=E.hiddenNodes||[],A=E.hiddenEdges||[],x=E.hiddenCombos||[];this.nodes=this.getDataByOrder((E.nodes||[]).concat(b)),this.edges=this.getDataByOrder((E.edges||[]).concat(A)),this.combos=(E.combos||[]).concat(x.map(function(D){return R(R({},D),{collapsed:!0})}))},S.prototype.execute=function(){var E=this,b=E.nodes,A=E.edges;if(b){var x=E.getLayoutConfig(),D=x.graphDef,k=x.graphOption,g=x.graphSettings,f=(0,L.buildGraph)(D,k,g),z=(0,L.flatGraph)(f,!0);return this.updatePosition(z),E.onLayoutEnd&&E.onLayoutEnd(),{nodes:b,edges:A}}},S.prototype.getNodePath=function(E){var b=this,A=b.nodes,x=b.combos,D=A.find(function(g){return g.id===E}),k=function(g,f){f===void 0&&(f=[]);var z=x.find(function(Y){return Y.id===g});return z?(f.unshift(g),z.parentId?k(z.parentId,f):f):f};return D&&D.comboId?k(D.comboId,[E]):[E]},S.prototype.getLayoutConfig=function(){var E,b,A,x=this,D=x.nodes,k=x.edges,g=x.combos,f=x.nodeSize,z=x.rankdir,Y=x.align,U=x.edgesep,G=x.nodesep,j=x.ranksep,K=x.settings,nt=(g||[]).reduce(function(Tt,Ot){var Et=D.filter(function(Vt){return Vt.comboId===Ot.id}).map(function(Vt){return Vt.id}),Dt=(g||[]).filter(function(Vt){return Vt.parentId===Ot.id}).map(function(Vt){return Vt.id});return(Et.length||Dt.length)&&(Tt[Ot.id]=w(w([],Et,!0),Dt,!0)),Tt},{}),q;f?(0,P.isArray)(f)?q=function(){return f}:q=function(){return[f,f]}:q=function(Tt){return Tt&&Tt.size?(0,P.isArray)(Tt.size)?Tt.size:(0,P.isObject)(Tt.size)?[Tt.size.width||40,Tt.size.height||40]:[Tt.size,Tt.size]:[40,40]};var J=function(Tt){return Tt&&Tt.size?(0,P.isArray)(Tt.size)?Tt.size:[Tt.size,Tt.size]:[80,40]},ut=J(g==null?void 0:g[0]),st=ut[0],bt=ut[1],ht=(b=(E=x.graphSettings)===null||E===void 0?void 0:E.subScene)===null||b===void 0?void 0:b.meta,kt=((A=g.find(function(Tt){return!Tt.collapsed}))===null||A===void 0?void 0:A.padding)||[20,20,20,20],Mt=kt[0],St=kt[1],V=kt[2],Q=kt[3],xt={compound:nt,nodes:w([],(D||[]).map(function(Tt){var Ot=q(Tt),Et=Ot[0],Dt=Ot[1];return R(R({},Tt),{width:Et,height:Dt})}),!0),edges:w([],(k||[]).map(function(Tt){return R(R({},Tt),{v:Tt.source,w:Tt.target})}),!0)},Ct={expanded:(g||[]).filter(function(Tt){return!Tt.collapsed}).map(function(Tt){return Tt.id})},et={graph:{meta:{align:Y,rankDir:z,nodeSep:G,edgeSep:U,rankSep:j}},subScene:{meta:{paddingTop:Mt||(ht==null?void 0:ht.paddingTop)||20,paddingRight:St||(ht==null?void 0:ht.paddingRight)||20,paddingBottom:V||(ht==null?void 0:ht.paddingBottom)||20,paddingLeft:Q||(ht==null?void 0:ht.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:st,height:bt}}},vt=(0,L.mergeConfig)(K,R({},(0,L.mergeConfig)(et,L.LAYOUT_CONFIG)));return x.graphSettings=vt,{graphDef:xt,graphOption:Ct,graphSettings:vt}},S.prototype.updatePosition=function(E){var b=E.nodes,A=E.edges;this.updateNodePosition(b,A),this.updateEdgePosition(b,A)},S.prototype.getBegin=function(E,b){var A=this,x=A.begin,D=[0,0];if(x){var k=1/0,g=1/0;E.forEach(function(f){k>f.x&&(k=f.x),g>f.y&&(g=f.y)}),b.forEach(function(f){f.points.forEach(function(z){k>z.x&&(k=z.x),g>z.y&&(g=z.y)})}),D[0]=x[0]-k,D[1]=x[1]-g}return D},S.prototype.updateNodePosition=function(E,b){var A=this,x=A.combos,D=A.nodes,k=A.edges,g=A.anchorPoint,f=A.graphSettings,z=this.getBegin(E,b);E.forEach(function(Y){var U,G=Y.x,j=Y.y,K=Y.id,nt=Y.type,q=Y.coreBox;if(nt===L.HierarchyNodeType.META&&K!==L.ROOT_NAME){var J=x.findIndex(function(kt){return kt.id===K}),ut=(U=f==null?void 0:f.subScene)===null||U===void 0?void 0:U.meta;x[J].offsetX=G+z[0],x[J].offsetY=j+z[1],x[J].fixSize=[q.width,q.height],x[J].fixCollapseSize=[q.width,q.height],Y.expanded?x[J].padding=[ut==null?void 0:ut.paddingTop,ut==null?void 0:ut.paddingRight,ut==null?void 0:ut.paddingBottom,ut==null?void 0:ut.paddingLeft]:x[J].padding=[0,0,0,0]}else if(nt===L.HierarchyNodeType.OP){var J=D.findIndex(function(Mt){return Mt.id===K});if(D[J].x=G+z[0],D[J].y=j+z[1],g){var st=[],bt=b.filter(function(Mt){return Mt.v===K}),ht=b.filter(function(Mt){return Mt.w===K});bt.length>0&&bt.forEach(function(Mt){var St=Mt.points[0],V=(St.x-G)/Y.width+.5,Q=(St.y-j)/Y.height+.5;st.push([V,Q]),Mt.baseEdgeList.forEach(function(xt){var Ct=k.find(function(et){return et.source===xt.v&&et.target===xt.w});Ct&&(Ct.sourceAnchor=st.length-1)})}),ht.length>0&&ht.forEach(function(Mt){var St=Mt.points[Mt.points.length-1],V=(St.x-G)/Y.width+.5,Q=(St.y-j)/Y.height+.5;st.push([V,Q]),Mt.baseEdgeList.forEach(function(xt){var Ct=k.find(function(et){return et.source===xt.v&&et.target===xt.w});Ct&&(Ct.targetAnchor=st.length-1)})}),D[J].anchorPoints=st.length>0?st:D[J].anchorPoints||[]}}})},S.prototype.updateEdgePosition=function(E,b){var A=this,x=A.combos,D=A.edges,k=A.controlPoints,g=this.getBegin(E,b);k&&(x.forEach(function(f){f.inEdges=[],f.outEdges=[]}),D.forEach(function(f){var z,Y,U,G,j=E.find(function(kt){return kt.id===f.source}),K=E.find(function(kt){return kt.id===f.target}),nt=[],q=[];if(j&&K)q=(0,L.getEdges)(j==null?void 0:j.id,K==null?void 0:K.id,E);else if(!j||!K){var J=A.getNodePath(f.source),ut=A.getNodePath(f.target),st=J.reverse().slice(j?0:1).find(function(kt){return E.find(function(Mt){return Mt.id===kt})}),bt=ut.reverse().slice(K?0:1).find(function(kt){return E.find(function(Mt){return Mt.id===kt})});j=E.find(function(kt){return kt.id===st}),K=E.find(function(kt){return kt.id===bt}),q=(0,L.getEdges)(j==null?void 0:j.id,K==null?void 0:K.id,E,{v:f.source,w:f.target})}if(nt=q.reduce(function(kt,Mt){return w(w([],kt,!0),Mt.points.map(function(St){return R(R({},St),{x:St.x+g[0],y:St.y+g[1]})}),!0)},[]),nt=nt.slice(1,-1),f.controlPoints=nt,(K==null?void 0:K.type)===L.NodeType.META){var ht=x.findIndex(function(kt){return kt.id===(K==null?void 0:K.id)});if(!x[ht]||!((z=x[ht].inEdges)===null||z===void 0)&&z.some(function(kt){return kt.source===j.id&&kt.target===K.id}))return;(Y=x[ht].inEdges)===null||Y===void 0||Y.push({source:j.id,target:K.id,controlPoints:nt})}if((j==null?void 0:j.type)===L.NodeType.META){var ht=x.findIndex(function(Mt){return Mt.id===(j==null?void 0:j.id)});if(!x[ht]||!((U=x[ht].outEdges)===null||U===void 0)&&U.some(function(Mt){return Mt.source===j.id&&Mt.target===K.id}))return;(G=x[ht].outEdges)===null||G===void 0||G.push({source:j.id,target:K.id,controlPoints:nt})}}))},S.prototype.getType=function(){return"dagreCompound"},S.prototype.getDataByOrder=function(E){return E.every(function(b){return b.layoutOrder!==void 0})||E.forEach(function(b,A){b.layoutOrder=A}),E.sort(function(b,A){return b.layoutOrder-A.layoutOrder})},S}(_.Base);W.DagreCompoundLayout=p},627652:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var _=function(L,P){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(p[S]=m[S])},_(L,P)};return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");_(L,P);function p(){this.constructor=L}L.prototype=P===null?Object.create(P):(p.prototype=P.prototype,new p)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.Graph=void 0;var R=C(199905),w=function(_){y(L,_);function L(){return _!==null&&_.apply(this,arguments)||this}return L}(R.Graph);W.Graph=w},441106:function(Ge,W,C){"use strict";var y=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(C(265236)),w=C(269209);W.default={layout:R.default,util:{time:w.time,notime:w.notime}}},178029:function(Ge,W,C){"use strict";var y=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(C(40773)),w=function(P){var p=function(S){return function(E){var b;return((b=S.edge(E))===null||b===void 0?void 0:b.weight)||1}},m=P.graph().acyclicer==="greedy"?(0,R.default)(P,p(P)):_(P);m==null||m.forEach(function(S){var E=P.edge(S);P.removeEdgeObj(S),E.forwardName=S.name,E.reversed=!0,P.setEdge(S.w,S.v,E,"rev-".concat(Math.random()))})},_=function(P){var p=[],m={},S={},E=function(b){var A;S[b]||(S[b]=!0,m[b]=!0,(A=P.outEdges(b))===null||A===void 0||A.forEach(function(x){m[x.w]?p.push(x):E(x.w)}),delete m[b])};return P.nodes().forEach(E),p},L=function(P){P.edges().forEach(function(p){var m=P.edge(p);if(m.reversed){P.removeEdgeObj(p);var S=m.forwardName;delete m.reversed,delete m.forwardName,P.setEdge(p.w,p.v,m,S)}})};W.default={run:w,undo:L}},111500:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=C(269209),R=function(_){var L,P=function(p){var m=_.children(p),S=_.node(p);if(m!=null&&m.length&&m.forEach(function(A){return P(A)}),S.hasOwnProperty("minRank")){S.borderLeft=[],S.borderRight=[];for(var E=S.minRank,b=S.maxRank+1;E<b;E+=1)w(_,"borderLeft","_bl",p,S,E),w(_,"borderRight","_br",p,S,E)}};(L=_.children())===null||L===void 0||L.forEach(function(p){return P(p)})},w=function(_,L,P,p,m,S){var E={rank:S,borderType:L,width:0,height:0},b=m[L][S-1],A=(0,y.addDummyNode)(_,"border",E,P);m[L][S]=A,_.setParent(A,p),b&&_.setEdge(b,A,{weight:1})};W.default=R},335279:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(m){var S,E=(S=m.graph().rankdir)===null||S===void 0?void 0:S.toLowerCase();(E==="lr"||E==="rl")&&R(m)},y=function(m){var S,E=(S=m.graph().rankdir)===null||S===void 0?void 0:S.toLowerCase();(E==="bt"||E==="rl")&&_(m),(E==="lr"||E==="rl")&&(P(m),R(m))},R=function(m){m.nodes().forEach(function(S){w(m.node(S))}),m.edges().forEach(function(S){w(m.edge(S))})},w=function(m){var S=m.width;m.width=m.height,m.height=S},_=function(m){m.nodes().forEach(function(S){L(m.node(S))}),m.edges().forEach(function(S){var E,b=m.edge(S);(E=b.points)===null||E===void 0||E.forEach(function(A){return L(A)}),b.hasOwnProperty("y")&&L(b)})},L=function(m){m!=null&&m.y&&(m.y=-m.y)},P=function(m){m.nodes().forEach(function(S){p(m.node(S))}),m.edges().forEach(function(S){var E,b=m.edge(S);(E=b.points)===null||E===void 0||E.forEach(function(A){return p(A)}),b.hasOwnProperty("x")&&p(b)})},p=function(m){var S=m.x;m.x=m.y,m.y=S};W.default={adjust:C,undo:y}},455532:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(w,_){if(w!=="next"&&w!=="prev")return _},y=function(w){w.prev.next=w.next,w.next.prev=w.prev,delete w.next,delete w.prev},R=function(){function w(){var _={};_.prev=_,_.next=_.prev,this.shortcut=_}return w.prototype.dequeue=function(){var _=this.shortcut,L=_.prev;if(L&&L!==_)return y(L),L},w.prototype.enqueue=function(_){var L=this.shortcut;_.prev&&_.next&&y(_),_.next=L.next,L.next.prev=_,L.next=_,_.prev=L},w.prototype.toString=function(){for(var _=[],L=this.shortcut,P=L.prev;P!==L;)_.push(JSON.stringify(P,C)),P=P==null?void 0:P.prev;return"[".concat(_.join(", "),"]")},w}();W.default=R},40773:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var x=function(D,k){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var z in f)Object.prototype.hasOwnProperty.call(f,z)&&(g[z]=f[z])},x(D,k)};return function(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");x(D,k);function g(){this.constructor=D}D.prototype=k===null?Object.create(k):(g.prototype=k.prototype,new g)}}(),R=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(W,"__esModule",{value:!0});var w=R(C(455532)),_=C(199905),L=function(x){y(D,x);function D(){return x!==null&&x.apply(this,arguments)||this}return D}(w.default),P=function(x){y(D,x);function D(){return x!==null&&x.apply(this,arguments)||this}return D}(_.Graph),p=function(){return 1},m=function(x,D){var k;if(x.nodeCount()<=1)return[];var g=b(x,D||p),f=S(g.graph,g.buckets,g.zeroIdx);return(k=f.map(function(z){return x.outEdges(z.v,z.w)}))===null||k===void 0?void 0:k.flat()},S=function(x,D,k){for(var g=[],f=D[D.length-1],z=D[0],Y;x.nodeCount();){for(;Y=z.dequeue();)E(x,D,k,Y);for(;Y=f.dequeue();)E(x,D,k,Y);if(x.nodeCount()){for(var U=D.length-2;U>0;--U)if(Y=D[U].dequeue(),Y){g=g.concat(E(x,D,k,Y,!0));break}}}return g},E=function(x,D,k,g,f){var z,Y,U=[];return(z=x.inEdges(g.v))===null||z===void 0||z.forEach(function(G){var j=x.edge(G),K=x.node(G.v);f&&U.push({v:G.v,w:G.w,in:0,out:0}),K.out===void 0&&(K.out=0),K.out-=j,A(D,k,K)}),(Y=x.outEdges(g.v))===null||Y===void 0||Y.forEach(function(G){var j=x.edge(G),K=G.w,nt=x.node(K);nt.in===void 0&&(nt.in=0),nt.in-=j,A(D,k,nt)}),x.removeNode(g.v),f?U:void 0},b=function(x,D){var k=new P,g=0,f=0;x.nodes().forEach(function(j){k.setNode(j,{v:j,in:0,out:0})}),x.edges().forEach(function(j){var K=k.edge(j)||0,nt=(D==null?void 0:D(j))||1,q=K+nt;k.setEdge(j.v,j.w,q),f=Math.max(f,k.node(j.v).out+=nt),g=Math.max(g,k.node(j.w).in+=nt)});for(var z=[],Y=f+g+3,U=0;U<Y;U++)z.push(new L);var G=g+1;return k.nodes().forEach(function(j){A(z,G,k.node(j))}),{buckets:z,zeroIdx:G,graph:k}},A=function(x,D,k){k.out?k.in?x[k.out-k.in+D].enqueue(k):x[x.length-1].enqueue(k):x[0].enqueue(k)};W.default=m},265236:function(Ge,W,C){"use strict";var y=this&&this.__assign||function(){return y=Object.assign||function(Et){for(var Dt,Vt=1,ue=arguments.length;Vt<ue;Vt++){Dt=arguments[Vt];for(var ee in Dt)Object.prototype.hasOwnProperty.call(Dt,ee)&&(Et[ee]=Dt[ee])}return Et},y.apply(this,arguments)},R=this&&this.__importDefault||function(Et){return Et&&Et.__esModule?Et:{default:Et}};Object.defineProperty(W,"__esModule",{value:!0});var w=R(C(178029)),_=R(C(546171)),L=R(C(576827)),P=C(269209),p=R(C(933562)),m=R(C(59596)),S=R(C(111500)),E=R(C(335279)),b=R(C(819597)),A=R(C(100095)),x=R(C(724956)),D=C(627652),k=function(Et,Dt){var Vt=Dt&&Dt.debugTiming?P.time:P.notime;Vt("layout",function(){Dt&&!Dt.keepNodeOrder&&Dt.prevGraph&&Vt("  inheritOrder",function(){f(Et,Dt.prevGraph)});var ue=Vt("  buildLayoutGraph",function(){return ut(Et)});Dt&&Dt.edgeLabelSpace===!1||Vt("  makeSpaceForEdgeLabels",function(){st(ue)});try{Vt("  runLayout",function(){g(ue,Vt,Dt)})}catch(ee){if(ee.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,ee);return}throw ee}Vt("  updateInputGraph",function(){z(Et,ue)})})},g=function(Et,Dt,Vt){Dt("    removeSelfEdges",function(){Ct(Et)}),Dt("    acyclic",function(){w.default.run(Et)}),Dt("    nestingGraph.run",function(){m.default.run(Et)}),Dt("    rank",function(){(0,L.default)((0,P.asNonCompoundGraph)(Et))}),Dt("    injectEdgeLabelProxies",function(){bt(Et)}),Dt("    removeEmptyRanks",function(){(0,P.removeEmptyRanks)(Et)}),Dt("    nestingGraph.cleanup",function(){m.default.cleanup(Et)}),Dt("    normalizeRanks",function(){(0,P.normalizeRanks)(Et)}),Dt("    assignRankMinMax",function(){ht(Et)}),Dt("    removeEdgeLabelProxies",function(){kt(Et)}),Dt("    normalize.run",function(){_.default.run(Et)}),Dt("    parentDummyChains",function(){(0,p.default)(Et)}),Dt("    addBorderSegments",function(){(0,S.default)(Et)}),Vt&&Vt.keepNodeOrder&&Dt("    initDataOrder",function(){(0,x.default)(Et,Vt.nodeOrder)}),Dt("    order",function(){(0,b.default)(Et,Vt==null?void 0:Vt.keepNodeOrder)}),Dt("    insertSelfEdges",function(){et(Et)}),Dt("    adjustCoordinateSystem",function(){E.default.adjust(Et)}),Dt("    position",function(){(0,A.default)(Et)}),Dt("    positionSelfEdges",function(){vt(Et)}),Dt("    removeBorderNodes",function(){xt(Et)}),Dt("    normalize.undo",function(){_.default.undo(Et)}),Dt("    fixupEdgeLabelCoords",function(){V(Et)}),Dt("    undoCoordinateSystem",function(){E.default.undo(Et)}),Dt("    translateGraph",function(){Mt(Et)}),Dt("    assignNodeIntersects",function(){St(Et)}),Dt("    reversePoints",function(){Q(Et)}),Dt("    acyclic.undo",function(){w.default.undo(Et)})},f=function(Et,Dt){Et.nodes().forEach(function(Vt){var ue=Et.node(Vt),ee=Dt.node(Vt);ee!==void 0?(ue.fixorder=ee._order,delete ee._order):delete ue.fixorder})},z=function(Et,Dt){Et.nodes().forEach(function(Vt){var ue,ee=Et.node(Vt);if(ee){var It=Dt.node(Vt);ee.x=It.x,ee.y=It.y,ee._order=It.order,ee._rank=It.rank,!((ue=Dt.children(Vt))===null||ue===void 0)&&ue.length&&(ee.width=It.width,ee.height=It.height)}}),Et.edges().forEach(function(Vt){var ue=Et.edge(Vt),ee=Dt.edge(Vt);ue.points=ee?ee.points:[],ee&&ee.hasOwnProperty("x")&&(ue.x=ee.x,ue.y=ee.y)}),Et.graph().width=Dt.graph().width,Et.graph().height=Dt.graph().height},Y=["nodesep","edgesep","ranksep","marginx","marginy"],U={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},G=["acyclicer","ranker","rankdir","align"],j=["width","height","layer","fixorder"],K={width:0,height:0},nt=["minlen","weight","width","height","labeloffset"],q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},J=["labelpos"],ut=function(Et){var Dt=new D.Graph({multigraph:!0,compound:!0}),Vt=Ot(Et.graph()),ue={};return G==null||G.forEach(function(ee){Vt[ee]!==void 0&&(ue[ee]=Vt[ee])}),Dt.setGraph(Object.assign({},U,Tt(Vt,Y),ue)),Et.nodes().forEach(function(ee){var It=Ot(Et.node(ee)),ne=y(y({},K),It),pe=Tt(ne,j);Dt.setNode(ee,pe),Dt.setParent(ee,Et.parent(ee))}),Et.edges().forEach(function(ee){var It=Ot(Et.edge(ee)),ne={};J==null||J.forEach(function(pe){It[pe]!==void 0&&(ne[pe]=It[pe])}),Dt.setEdgeObj(ee,Object.assign({},q,Tt(It,nt),ne))}),Dt},st=function(Et){var Dt=Et.graph();Dt.ranksep||(Dt.ranksep=0),Dt.ranksep/=2,Et.nodes().forEach(function(Vt){var ue=Et.node(Vt);isNaN(ue.layer)||ue.layer||(ue.layer=0)}),Et.edges().forEach(function(Vt){var ue,ee=Et.edge(Vt);ee.minlen*=2,((ue=ee.labelpos)===null||ue===void 0?void 0:ue.toLowerCase())!=="c"&&(Dt.rankdir==="TB"||Dt.rankdir==="BT"?ee.width+=ee.labeloffset:ee.height+=ee.labeloffset)})},bt=function(Et){Et.edges().forEach(function(Dt){var Vt=Et.edge(Dt);if(Vt.width&&Vt.height){var ue=Et.node(Dt.v),ee=Et.node(Dt.w),It={e:Dt,rank:(ee.rank-ue.rank)/2+ue.rank};(0,P.addDummyNode)(Et,"edge-proxy",It,"_ep")}})},ht=function(Et){var Dt=0;Et.nodes().forEach(function(Vt){var ue,ee,It=Et.node(Vt);It.borderTop&&(It.minRank=(ue=Et.node(It.borderTop))===null||ue===void 0?void 0:ue.rank,It.maxRank=(ee=Et.node(It.borderBottom))===null||ee===void 0?void 0:ee.rank,Dt=Math.max(Dt,It.maxRank||-1/0))}),Et.graph().maxRank=Dt},kt=function(Et){Et.nodes().forEach(function(Dt){var Vt=Et.node(Dt);Vt.dummy==="edge-proxy"&&(Et.edge(Vt.e).labelRank=Vt.rank,Et.removeNode(Dt))})},Mt=function(Et){var Dt,Vt=0,ue,ee=0,It=Et.graph(),ne=It.marginx||0,pe=It.marginy||0,Gt=function(qt){if(qt){var $t=qt.x,Zt=qt.y,se=qt.width,Se=qt.height;!isNaN($t)&&!isNaN(se)&&(Dt===void 0&&(Dt=$t-se/2),Dt=Math.min(Dt,$t-se/2),Vt=Math.max(Vt,$t+se/2)),!isNaN(Zt)&&!isNaN(Se)&&(ue===void 0&&(ue=Zt-Se/2),ue=Math.min(ue,Zt-Se/2),ee=Math.max(ee,Zt+Se/2))}};Et.nodes().forEach(function(qt){Gt(Et.node(qt))}),Et.edges().forEach(function(qt){var $t=Et.edge(qt);$t!=null&&$t.hasOwnProperty("x")&&Gt($t)}),Dt-=ne,ue-=pe,Et.nodes().forEach(function(qt){var $t=Et.node(qt);$t&&($t.x-=Dt,$t.y-=ue)}),Et.edges().forEach(function(qt){var $t,Zt=Et.edge(qt);($t=Zt.points)===null||$t===void 0||$t.forEach(function(se){se.x-=Dt,se.y-=ue}),Zt.hasOwnProperty("x")&&(Zt.x-=Dt),Zt.hasOwnProperty("y")&&(Zt.y-=ue)}),It.width=Vt-Dt+ne,It.height=ee-ue+pe},St=function(Et){Et.edges().forEach(function(Dt){var Vt=Et.edge(Dt),ue=Et.node(Dt.v),ee=Et.node(Dt.w),It,ne;Vt.points?(It=Vt.points[0],ne=Vt.points[Vt.points.length-1]):(Vt.points=[],It=ee,ne=ue),Vt.points.unshift((0,P.intersectRect)(ue,It)),Vt.points.push((0,P.intersectRect)(ee,ne))})},V=function(Et){Et.edges().forEach(function(Dt){var Vt=Et.edge(Dt);if(Vt!=null&&Vt.hasOwnProperty("x"))switch((Vt.labelpos==="l"||Vt.labelpos==="r")&&(Vt.width-=Vt.labeloffset),Vt.labelpos){case"l":Vt.x-=Vt.width/2+Vt.labeloffset;break;case"r":Vt.x+=Vt.width/2+Vt.labeloffset;break}})},Q=function(Et){Et.edges().forEach(function(Dt){var Vt,ue=Et.edge(Dt);ue.reversed&&((Vt=ue.points)===null||Vt===void 0||Vt.reverse())})},xt=function(Et){Et.nodes().forEach(function(Dt){var Vt,ue,ee;if(!((Vt=Et.children(Dt))===null||Vt===void 0)&&Vt.length){var It=Et.node(Dt),ne=Et.node(It.borderTop),pe=Et.node(It.borderBottom),Gt=Et.node(It.borderLeft[((ue=It.borderLeft)===null||ue===void 0?void 0:ue.length)-1]),qt=Et.node(It.borderRight[((ee=It.borderRight)===null||ee===void 0?void 0:ee.length)-1]);It.width=Math.abs((qt==null?void 0:qt.x)-(Gt==null?void 0:Gt.x))||10,It.height=Math.abs((pe==null?void 0:pe.y)-(ne==null?void 0:ne.y))||10,It.x=((Gt==null?void 0:Gt.x)||0)+It.width/2,It.y=((ne==null?void 0:ne.y)||0)+It.height/2}}),Et.nodes().forEach(function(Dt){var Vt;((Vt=Et.node(Dt))===null||Vt===void 0?void 0:Vt.dummy)==="border"&&Et.removeNode(Dt)})},Ct=function(Et){Et.edges().forEach(function(Dt){if(Dt.v===Dt.w){var Vt=Et.node(Dt.v);Vt.selfEdges||(Vt.selfEdges=[]),Vt.selfEdges.push({e:Dt,label:Et.edge(Dt)}),Et.removeEdgeObj(Dt)}})},et=function(Et){var Dt=(0,P.buildLayerMatrix)(Et);Dt==null||Dt.forEach(function(Vt){var ue=0;Vt==null||Vt.forEach(function(ee,It){var ne,pe=Et.node(ee);pe.order=It+ue,(ne=pe.selfEdges)===null||ne===void 0||ne.forEach(function(Gt){(0,P.addDummyNode)(Et,"selfedge",{width:Gt.label.width,height:Gt.label.height,rank:pe.rank,order:It+ ++ue,e:Gt.e,label:Gt.label},"_se")}),delete pe.selfEdges})})},vt=function(Et){Et.nodes().forEach(function(Dt){var Vt=Et.node(Dt);if(Vt.dummy==="selfedge"){var ue=Et.node(Vt.e.v),ee=ue.x+ue.width/2,It=ue.y,ne=Vt.x-ee,pe=ue.height/2;Et.setEdgeObj(Vt.e,Vt.label),Et.removeNode(Dt),Vt.label.points=[{x:ee+2*ne/3,y:It-pe},{x:ee+5*ne/6,y:It-pe},{y:It,x:ee+ne},{x:ee+5*ne/6,y:It+pe},{x:ee+2*ne/3,y:It+pe}],Vt.label.x=Vt.x,Vt.label.y=Vt.y}})},Tt=function(Et,Dt){var Vt={};return Dt==null||Dt.forEach(function(ue){Et[ue]!==void 0&&(Vt[ue]=+Et[ue])}),Vt},Ot=function(Et){Et===void 0&&(Et={});var Dt={};return Object.keys(Et).forEach(function(Vt){Dt[Vt.toLowerCase()]=Et[Vt]}),Dt};W.default=k},59596:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=C(269209),R=function(p){var m,S=(0,y.addDummyNode)(p,"root",{},"_root"),E=_(p),b=Math.max.apply(Math,Object.values(E));Math.abs(b)===1/0&&(b=1);var A=b-1,x=2*A+1;p.graph().nestingRoot=S,p.edges().forEach(function(k){p.edge(k).minlen*=x});var D=L(p)+1;(m=p.children())===null||m===void 0||m.forEach(function(k){w(p,S,x,D,A,E,k)}),p.graph().nodeRankFactor=x},w=function(p,m,S,E,b,A,x){var D=p.children(x);if(!(D!=null&&D.length)){x!==m&&p.setEdge(m,x,{weight:0,minlen:S});return}var k=(0,y.addBorderNode)(p,"_bt"),g=(0,y.addBorderNode)(p,"_bb"),f=p.node(x);p.setParent(k,x),f.borderTop=k,p.setParent(g,x),f.borderBottom=g,D==null||D.forEach(function(z){w(p,m,S,E,b,A,z);var Y=p.node(z),U=Y.borderTop?Y.borderTop:z,G=Y.borderBottom?Y.borderBottom:z,j=Y.borderTop?E:2*E,K=U!==G?1:b-A[x]+1;p.setEdge(k,U,{minlen:K,weight:j,nestingEdge:!0}),p.setEdge(G,g,{minlen:K,weight:j,nestingEdge:!0})}),p.parent(x)||p.setEdge(m,k,{weight:0,minlen:b+A[x]})},_=function(p){var m,S={},E=function(b,A){var x=p.children(b);x==null||x.forEach(function(D){return E(D,A+1)}),S[b]=A};return(m=p.children())===null||m===void 0||m.forEach(function(b){return E(b,1)}),S},L=function(p){var m=0;return p.edges().forEach(function(S){m+=p.edge(S).weight}),m},P=function(p){var m=p.graph();m.nestingRoot&&p.removeNode(m.nestingRoot),delete m.nestingRoot,p.edges().forEach(function(S){var E=p.edge(S);E.nestingEdge&&p.removeEdgeObj(S)})};W.default={run:R,cleanup:P}},546171:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=C(269209),R=function(L){L.graph().dummyChains=[],L.edges().forEach(function(P){return w(L,P)})},w=function(L,P){var p=P.v,m=L.node(p).rank,S=P.w,E=L.node(S).rank,b=P.name,A=L.edge(P),x=A.labelRank;if(E!==m+1){L.removeEdgeObj(P);var D=L.graph(),k,g,f;for(f=0,++m;m<E;++f,++m)A.points=[],g={edgeLabel:A,width:0,height:0,edgeObj:P,rank:m},k=(0,y.addDummyNode)(L,"edge",g,"_d"),m===x&&(g.width=A.width,g.height=A.height,g.dummy="edge-label",g.labelpos=A.labelpos),L.setEdge(p,k,{weight:A.weight},b),f===0&&(D.dummyChains||(D.dummyChains=[]),D.dummyChains.push(k)),p=k;L.setEdge(p,S,{weight:A.weight},b)}},_=function(L){var P;(P=L.graph().dummyChains)===null||P===void 0||P.forEach(function(p){var m=L.node(p),S=m.edgeLabel,E;m.edgeObj&&L.setEdgeObj(m.edgeObj,S);for(var b=p;m.dummy;)E=L.successors(b)[0],L.removeNode(b),S.points.push({x:m.x,y:m.y}),m.dummy==="edge-label"&&(S.x=m.x,S.y=m.y,S.width=m.width,S.height=m.height),b=E,m=L.node(b)})};W.default={run:R,undo:_}},680314:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(y,R,w){var _={},L;w==null||w.forEach(function(P){for(var p=y.parent(P),m,S;p;){if(m=y.parent(p),m?(S=_[m],_[m]=p):(S=L,L=p),S&&S!==p){R.setEdge(S,p);return}p=m}})};W.default=C},989921:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(y,R){return R.map(function(w){var _=y.inEdges(w);if(!(_!=null&&_.length))return{v:w};{var L={sum:0,weight:0};return _==null||_.forEach(function(P){var p=y.edge(P),m=y.node(P.v);L.sum+=p.weight*m.order,L.weight+=p.weight}),{v:w,barycenter:L.sum/L.weight,weight:L.weight}}})};W.default=C},277006:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=C(627652),R=function(_,L,P){var p=w(_),m=new y.Graph({compound:!0}).setGraph({root:p}).setDefaultNodeLabel(function(S){return _.node(S)});return _.nodes().forEach(function(S){var E,b=_.node(S),A=_.parent(S);(b.rank===L||b.minRank<=L&&L<=b.maxRank)&&(m.setNode(S),m.setParent(S,A||p),(E=_[P](S))===null||E===void 0||E.forEach(function(x){var D=x.v===S?x.w:x.v,k=m.edgeFromArgs(D,S),g=k!==void 0?k.weight:0;m.setEdge(D,S,{weight:_.edge(x).weight+g})}),b.hasOwnProperty("minRank")&&m.setNode(S,{borderLeft:b.borderLeft[L],borderRight:b.borderRight[L]}))}),m},w=function(_){for(var L;_.hasNode(L="_root".concat(Math.random())););return L};W.default=R},632957:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=C(269209),R=function(_,L,P){for(var p=(0,y.zipObject)(P,P.map(function(D,k){return k})),m=L.map(function(D){var k,g=(k=_.outEdges(D))===null||k===void 0?void 0:k.map(function(f){return{pos:p[f.w]||0,weight:_.edge(f).weight}});return g==null?void 0:g.sort(function(f,z){return f.pos-z.pos})}),S=m.flat().filter(function(D){return D!==void 0}),E=1;E<P.length;)E<<=1;var b=2*E-1;E-=1;var A=Array(b).fill(0,0,b),x=0;return S==null||S.forEach(function(D){if(D){var k=D.pos+E;A[k]+=D.weight;for(var g=0;k>0;)k%2&&(g+=A[k+1]),k=k-1>>1,A[k]+=D.weight;x+=D.weight*g}}),x},w=function(_,L){for(var P=0,p=1;p<(L==null?void 0:L.length);p+=1)P+=R(_,L[p-1],L[p]);return P};W.default=w},819597:function(Ge,W,C){"use strict";var y=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(C(115697)),w=y(C(632957)),_=y(C(277006)),L=y(C(680314)),P=y(C(99455)),p=C(449784),m=C(627652),S=C(269209),E=function(D,k){for(var g=(0,S.maxRank)(D),f=[],z=[],Y=1;Y<g+1;Y++)f.push(Y);for(var Y=g-1;Y>-1;Y--)z.push(Y);var U=b(D,f,"inEdges"),G=b(D,z,"outEdges"),j=(0,R.default)(D);x(D,j);for(var K=Number.POSITIVE_INFINITY,nt,Y=0,q=0;q<4;++Y,++q){A(Y%2?U:G,Y%4>=2,!1,k),j=(0,S.buildLayerMatrix)(D);var J=(0,w.default)(D,j);J<K&&(q=0,nt=(0,p.clone)(j),K=J)}j=(0,R.default)(D),x(D,j);for(var Y=0,q=0;q<4;++Y,++q){A(Y%2?U:G,Y%4>=2,!0,k),j=(0,S.buildLayerMatrix)(D);var J=(0,w.default)(D,j);J<K&&(q=0,nt=(0,p.clone)(j),K=J)}x(D,nt)},b=function(D,k,g){return k.map(function(f){return(0,_.default)(D,f,g)})},A=function(D,k,g,f){var z=new m.Graph;D==null||D.forEach(function(Y){for(var U,G=Y.graph().root,j=(0,P.default)(Y,G,z,k,g,f),K=0;K<((U=j.vs)===null||U===void 0?void 0:U.length);K++){var nt=Y.node(j.vs[K]);nt&&(nt.order=K)}(0,L.default)(Y,z,j.vs)})},x=function(D,k){k==null||k.forEach(function(g){g==null||g.forEach(function(f,z){D.node(f).order=z})})};W.default=E},724956:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(y,R){for(var w=y.nodes().filter(function(m){var S;return!(!((S=y.children(m))===null||S===void 0)&&S.length)}),_=w.map(function(m){return y.node(m).rank}),L=Math.max.apply(Math,_),P=[],p=0;p<L+1;p++)P[p]=[];R==null||R.forEach(function(m){var S=y.node(m);!S||S!=null&&S.dummy||isNaN(S.rank)||(S.fixorder=P[S.rank].length,P[S.rank].push(m))})};W.default=C},115697:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(y){for(var R={},w=y.nodes().filter(function(A){var x;return!(!((x=y.children(A))===null||x===void 0)&&x.length)}),_=w.map(function(A){return y.node(A).rank}),L=Math.max.apply(Math,_),P=[],p=0;p<L+1;p++)P.push([]);var m=function(A){var x;if(!R.hasOwnProperty(A)){R[A]=!0;var D=y.node(A);isNaN(D.rank)||P[D.rank].push(A),(x=y.successors(A))===null||x===void 0||x.forEach(function(k){return m(k)})}},S=w.sort(function(A,x){return y.node(A).rank-y.node(x).rank}),E=S.filter(function(A){return y.node(A).fixorder!==void 0}),b=E.sort(function(A,x){return y.node(A).fixorder-y.node(x).fixorder});return b==null||b.forEach(function(A){isNaN(y.node(A).rank)||P[y.node(A).rank].push(A),R[A]=!0}),S==null||S.forEach(m),P};W.default=C},707043:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(w,_){var L,P,p,m={};w==null||w.forEach(function(E,b){m[E.v]={i:b,indegree:0,in:[],out:[],vs:[E.v]};var A=m[E.v];E.barycenter!==void 0&&(A.barycenter=E.barycenter,A.weight=E.weight)}),(L=_.edges())===null||L===void 0||L.forEach(function(E){var b=m[E.v],A=m[E.w];b!==void 0&&A!==void 0&&(A.indegree++,b.out.push(m[E.w]))});var S=(p=(P=Object.values(m)).filter)===null||p===void 0?void 0:p.call(P,function(E){return!E.indegree});return y(S)},y=function(w){for(var _,L,P=[],p=function(A){return function(x){x.merged||(x.barycenter===void 0||A.barycenter===void 0||x.barycenter>=A.barycenter)&&R(A,x)}},m=function(A){return function(x){x.in.push(A),--x.indegree===0&&w.push(x)}},S=function(){var A=w.pop();P.push(A),(_=A.in.reverse())===null||_===void 0||_.forEach(function(x){return p(A)(x)}),(L=A.out)===null||L===void 0||L.forEach(function(x){return m(A)(x)})};w!=null&&w.length;)S();var E=P.filter(function(A){return!A.merged}),b=["vs","i","barycenter","weight"];return E.map(function(A){var x={};return b==null||b.forEach(function(D){A[D]!==void 0&&(x[D]=A[D])}),x})},R=function(w,_){var L,P=0,p=0;w.weight&&(P+=w.barycenter*w.weight,p+=w.weight),_.weight&&(P+=_.barycenter*_.weight,p+=_.weight),w.vs=(L=_.vs)===null||L===void 0?void 0:L.concat(w.vs),w.barycenter=P/p,w.weight=p,w.i=Math.min(_.i,w.i),_.merged=!0};W.default=C},99455:function(Ge,W,C){"use strict";var y=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(C(989921)),w=y(C(707043)),_=y(C(421498)),L=function(m,S,E,b,A,x){var D,k,g,f,z=m.children(S),Y=m.node(S),U=Y?Y.borderLeft:void 0,G=Y?Y.borderRight:void 0,j={};U&&(z=z==null?void 0:z.filter(function(st){return st!==U&&st!==G}));var K=(0,R.default)(m,z||[]);K==null||K.forEach(function(st){var bt;if(!((bt=m.children(st.v))===null||bt===void 0)&&bt.length){var ht=L(m,st.v,E,b,x);j[st.v]=ht,ht.hasOwnProperty("barycenter")&&p(st,ht)}});var nt=(0,w.default)(K,E);P(nt,j),(D=nt.filter(function(st){return st.vs.length>0}))===null||D===void 0||D.forEach(function(st){var bt=m.node(st.vs[0]);bt&&(st.fixorder=bt.fixorder,st.order=bt.order)});var q=(0,_.default)(nt,b,A,x);if(U&&(q.vs=[U,q.vs,G].flat(),!((k=m.predecessors(U))===null||k===void 0)&&k.length)){var J=m.node(((g=m.predecessors(U))===null||g===void 0?void 0:g[0])||""),ut=m.node(((f=m.predecessors(G))===null||f===void 0?void 0:f[0])||"");q.hasOwnProperty("barycenter")||(q.barycenter=0,q.weight=0),q.barycenter=(q.barycenter*q.weight+J.order+ut.order)/(q.weight+2),q.weight+=2}return q},P=function(m,S){m==null||m.forEach(function(E){var b,A=(b=E.vs)===null||b===void 0?void 0:b.map(function(x){return S[x]?S[x].vs:x});E.vs=A.flat()})},p=function(m,S){m.barycenter!==void 0?(m.barycenter=(m.barycenter*m.weight+S.barycenter*S.weight)/(m.weight+S.weight),m.weight+=S.weight):(m.barycenter=S.barycenter,m.weight=S.weight)};W.default=L},421498:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=C(269209),R=function(L,P,p,m){var S=(0,y.partition)(L,function(f){var z=f.hasOwnProperty("fixorder")&&!isNaN(f.fixorder);return m?!z&&f.hasOwnProperty("barycenter"):z||f.hasOwnProperty("barycenter")}),E=S.lhs,b=S.rhs.sort(function(f,z){return-f.i- -z.i}),A=[],x=0,D=0,k=0;E==null||E.sort(_(!!P,!!p)),k=w(A,b,k),E==null||E.forEach(function(f){var z;k+=(z=f.vs)===null||z===void 0?void 0:z.length,A.push(f.vs),x+=f.barycenter*f.weight,D+=f.weight,k=w(A,b,k)});var g={vs:A.flat()};return D&&(g.barycenter=x/D,g.weight=D),g},w=function(L,P,p){for(var m=p,S;P.length&&(S=P[P.length-1]).i<=m;)P.pop(),L==null||L.push(S.vs),m++;return m},_=function(L,P){return function(p,m){if(p.fixorder!==void 0&&m.fixorder!==void 0)return p.fixorder-m.fixorder;if(p.barycenter<m.barycenter)return-1;if(p.barycenter>m.barycenter)return 1;if(P&&p.order!==void 0&&m.order!==void 0){if(p.order<m.order)return-1;if(p.order>m.order)return 1}return L?m.i-p.i:p.i-m.i}};W.default=R},933562:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(w){var _,L={},P=0,p=function(m){var S,E=P;(S=w.children(m))===null||S===void 0||S.forEach(p),L[m]={low:E,lim:P++}};return(_=w.children())===null||_===void 0||_.forEach(p),L},y=function(w,_,L,P){var p=[],m=[],S=Math.min(_[L].low,_[P].low),E=Math.max(_[L].lim,_[P].lim),b,A;b=L;do b=w.parent(b),p.push(b);while(b&&(_[b].low>S||E>_[b].lim));for(A=b,b=P;b&&b!==A;)m.push(b),b=w.parent(b);return{lca:A,path:p.concat(m.reverse())}},R=function(w){var _,L=C(w);(_=w.graph().dummyChains)===null||_===void 0||_.forEach(function(P){var p,m,S=P,E=w.node(S),b=E.edgeObj;if(b)for(var A=y(w,L,b.v,b.w),x=A.path,D=A.lca,k=0,g=x[k],f=!0;S!==b.w;){if(E=w.node(S),f){for(;g!==D&&((p=w.node(g))===null||p===void 0?void 0:p.maxRank)<E.rank;)k++,g=x[k];g===D&&(f=!1)}if(!f){for(;k<x.length-1&&((m=w.node(x[k+1]))===null||m===void 0?void 0:m.minRank)<=E.rank;)k++;g=x[k]}w.setParent(S,g),S=w.successors(S)[0]}})};W.default=R},371963:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var Y=function(U,G){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,K){j.__proto__=K}||function(j,K){for(var nt in K)Object.prototype.hasOwnProperty.call(K,nt)&&(j[nt]=K[nt])},Y(U,G)};return function(U,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");Y(U,G);function j(){this.constructor=U}U.prototype=G===null?Object.create(G):(j.prototype=G.prototype,new j)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.width=W.sep=W.positionX=W.balance=W.alignCoordinates=W.findSmallestWidthAlignment=W.buildBlockGraph=W.horizontalCompaction=W.verticalAlignment=W.hasConflict=W.addConflict=W.findOtherInnerSegmentNode=W.findType2Conflicts=W.findType1Conflicts=void 0;var R=C(199905),w=C(269209),_=function(Y){y(U,Y);function U(){return Y!==null&&Y.apply(this,arguments)||this}return U}(R.Graph),L=function(Y,U){var G={},j=function(K,nt){var q=0,J=0,ut=K.length,st=nt==null?void 0:nt[(nt==null?void 0:nt.length)-1];return nt==null||nt.forEach(function(bt,ht){var kt,Mt=(0,W.findOtherInnerSegmentNode)(Y,bt),St=Mt?Y.node(Mt).order:ut;(Mt||bt===st)&&((kt=nt.slice(J,ht+1))===null||kt===void 0||kt.forEach(function(V){var Q;(Q=Y.predecessors(V))===null||Q===void 0||Q.forEach(function(xt){var Ct,et=Y.node(xt),vt=et.order;(vt<q||St<vt)&&!(et.dummy&&(!((Ct=Y.node(V))===null||Ct===void 0)&&Ct.dummy))&&(0,W.addConflict)(G,xt,V)})}),J=ht+1,q=St)}),nt};return U!=null&&U.length&&U.reduce(j),G};W.findType1Conflicts=L;var P=function(Y,U){var G={};function j(J,ut,st,bt,ht){for(var kt,Mt,St,V=ut;V<st;V++)St=J[V],!((kt=Y.node(St))===null||kt===void 0)&&kt.dummy&&((Mt=Y.predecessors(St))===null||Mt===void 0||Mt.forEach(function(Q){var xt=Y.node(Q);xt.dummy&&(xt.order<bt||xt.order>ht)&&(0,W.addConflict)(G,Q,St)}))}function K(J){return JSON.stringify(J.slice(1))}function nt(J,ut){var st=K(J);ut.get(st)||(j.apply(void 0,J),ut.set(st,!0))}var q=function(J,ut){var st=-1,bt,ht=0,kt=new Map;return ut==null||ut.forEach(function(Mt,St){var V;if(((V=Y.node(Mt))===null||V===void 0?void 0:V.dummy)==="border"){var Q=Y.predecessors(Mt)||[];Q.length&&(bt=Y.node(Q[0]).order,nt([ut,ht,St,st,bt],kt),ht=St,st=bt)}nt([ut,ht,ut.length,bt,J.length],kt)}),ut};return U!=null&&U.length&&U.reduce(q),G};W.findType2Conflicts=P;var p=function(Y,U){var G,j;if(!((G=Y.node(U))===null||G===void 0)&&G.dummy)return(j=Y.predecessors(U))===null||j===void 0?void 0:j.find(function(K){return Y.node(K).dummy})};W.findOtherInnerSegmentNode=p;var m=function(Y,U,G){var j=U,K=G;if(j>K){var nt=j;j=K,K=nt}var q=Y[j];q||(Y[j]=q={}),q[K]=!0};W.addConflict=m;var S=function(Y,U,G){var j=U,K=G;if(j>K){var nt=U;j=K,K=nt}return!!Y[j]};W.hasConflict=S;var E=function(Y,U,G,j){var K={},nt={},q={};return U==null||U.forEach(function(J){J==null||J.forEach(function(ut,st){K[ut]=ut,nt[ut]=ut,q[ut]=st})}),U==null||U.forEach(function(J){var ut=-1;J==null||J.forEach(function(st){var bt=j(st);if(bt.length){bt=bt.sort(function(V,Q){return q[V]-q[Q]});for(var ht=(bt.length-1)/2,kt=Math.floor(ht),Mt=Math.ceil(ht);kt<=Mt;++kt){var St=bt[kt];nt[st]===st&&ut<q[St]&&!(0,W.hasConflict)(G,st,St)&&(nt[St]=st,nt[st]=K[st]=K[St],ut=q[St])}}})}),{root:K,align:nt}};W.verticalAlignment=E;var b=function(Y,U,G,j,K){var nt,q={},J=(0,W.buildBlockGraph)(Y,U,G,K),ut=K?"borderLeft":"borderRight",st=function(kt,Mt){for(var St=J.nodes(),V=St.pop(),Q={};V;)Q[V]?kt(V):(Q[V]=!0,St.push(V),St=St.concat(Mt(V))),V=St.pop()},bt=function(kt){q[kt]=(J.inEdges(kt)||[]).reduce(function(Mt,St){return Math.max(Mt,(q[St.v]||0)+J.edge(St))},0)},ht=function(kt){var Mt=(J.outEdges(kt)||[]).reduce(function(V,Q){return Math.min(V,(q[Q.w]||0)-J.edge(Q))},Number.POSITIVE_INFINITY),St=Y.node(kt);Mt!==Number.POSITIVE_INFINITY&&St.borderType!==ut&&(q[kt]=Math.max(q[kt],Mt))};return st(bt,J.predecessors.bind(J)),st(ht,J.successors.bind(J)),(nt=Object.values(j))===null||nt===void 0||nt.forEach(function(kt){q[kt]=q[G[kt]]}),q};W.horizontalCompaction=b;var A=function(Y,U,G,j){var K=new _,nt=Y.graph(),q=(0,W.sep)(nt.nodesep,nt.edgesep,j);return U==null||U.forEach(function(J){var ut;J==null||J.forEach(function(st){var bt=G[st];if(K.setNode(bt),ut){var ht=G[ut],kt=K.edgeFromArgs(ht,bt);K.setEdge(ht,bt,Math.max(q(Y,st,ut),kt||0))}ut=st})}),K};W.buildBlockGraph=A;var x=function(Y,U){return(0,w.minBy)(Object.values(U),function(G){var j,K=Number.NEGATIVE_INFINITY,nt=Number.POSITIVE_INFINITY;return(j=Object.keys(G))===null||j===void 0||j.forEach(function(q){var J=G[q],ut=(0,W.width)(Y,q)/2;K=Math.max(J+ut,K),nt=Math.min(J-ut,nt)}),K-nt})};W.findSmallestWidthAlignment=x;function D(Y,U){var G=Object.values(U),j=Math.min.apply(Math,G),K=Math.max.apply(Math,G);["u","d"].forEach(function(nt){["l","r"].forEach(function(q){var J=nt+q,ut=Y[J],st;if(ut!==U){var bt=Object.values(ut);st=q==="l"?j-Math.min.apply(Math,bt):K-Math.max.apply(Math,bt),st&&(Y[J]={},Object.keys(ut).forEach(function(ht){Y[J][ht]=ut[ht]+st}))}})})}W.alignCoordinates=D;var k=function(Y,U){var G={};return Object.keys(Y.ul).forEach(function(j){if(U)G[j]=Y[U.toLowerCase()][j];else{var K=Object.values(Y).map(function(nt){return nt[j]});G[j]=(K[0]+K[1])/2}}),G};W.balance=k;var g=function(Y){var U=(0,w.buildLayerMatrix)(Y),G=Object.assign((0,W.findType1Conflicts)(Y,U),(0,W.findType2Conflicts)(Y,U)),j={},K;["u","d"].forEach(function(q){K=q==="u"?U:Object.values(U).reverse(),["l","r"].forEach(function(J){J==="r"&&(K=K.map(function(ht){return Object.values(ht).reverse()}));var ut=(q==="u"?Y.predecessors:Y.successors).bind(Y),st=(0,W.verticalAlignment)(Y,K,G,ut),bt=(0,W.horizontalCompaction)(Y,K,st.root,st.align,J==="r");J==="r"&&Object.keys(bt).forEach(function(ht){bt[ht]=-bt[ht]}),j[q+J]=bt})});var nt=(0,W.findSmallestWidthAlignment)(Y,j);return D(j,nt),(0,W.balance)(j,Y.graph().align)};W.positionX=g;var f=function(Y,U,G){return function(j,K,nt){var q=j.node(K),J=j.node(nt),ut=0,st;if(ut+=q.width/2,q.hasOwnProperty("labelpos"))switch((q.labelpos||"").toLowerCase()){case"l":st=-q.width/2;break;case"r":st=q.width/2;break}if(st&&(ut+=G?st:-st),st=0,ut+=(q.dummy?U:Y)/2,ut+=(J.dummy?U:Y)/2,ut+=J.width/2,J.labelpos)switch((J.labelpos||"").toLowerCase()){case"l":st=J.width/2;break;case"r":st=-J.width/2;break}return st&&(ut+=G?st:-st),st=0,ut}};W.sep=f;var z=function(Y,U){return Y.node(U).width||0};W.width=z},100095:function(Ge,W,C){"use strict";var y=this&&this.__spreadArray||function(p,m,S){if(S||arguments.length===2)for(var E=0,b=m.length,A;E<b;E++)(A||!(E in m))&&(A||(A=Array.prototype.slice.call(m,0,E)),A[E]=m[E]);return p.concat(A||Array.prototype.slice.call(m))};Object.defineProperty(W,"__esModule",{value:!0});var R=C(269209),w=C(371963),_=function(p){var m=(0,R.buildLayerMatrix)(p),S=p.graph().ranksep,E=0;m==null||m.forEach(function(b){var A=b.map(function(D){return p.node(D).height}),x=Math.max.apply(Math,y(y([],A,!1),[0],!1));b==null||b.forEach(function(D){p.node(D).y=E+x/2}),E+=x+S})},L=function(p){var m=(0,R.buildLayerMatrix)(p),S=Object.assign((0,w.findType1Conflicts)(p,m),(0,w.findType2Conflicts)(p,m)),E={},b=[];["u","d"].forEach(function(x){b=x==="u"?m:Object.values(m).reverse(),["l","r"].forEach(function(D){D==="r"&&(b=b.map(function(z){return Object.values(z).reverse()}));var k=(x==="u"?p.predecessors:p.successors).bind(p),g=(0,w.verticalAlignment)(p,b,S,k),f=(0,w.horizontalCompaction)(p,b,g.root,g.align,D==="r");D==="r"&&Object.keys(f).forEach(function(z){return f[z]=-f[z]}),E[x+D]=f})});var A=(0,w.findSmallestWidthAlignment)(p,E);return A&&(0,w.alignCoordinates)(E,A),(0,w.balance)(E,p.graph().align)},P=function(p){var m,S=(0,R.asNonCompoundGraph)(p);_(S);var E=L(S);(m=Object.keys(E))===null||m===void 0||m.forEach(function(b){S.node(b).x=E[b]})};W.default=P},813614:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.feasibleTreeWithLayer=W.feasibleTree=void 0;var y=C(337323),R=C(269209),w=C(627652),_=function(E){var b=new w.Graph({directed:!1}),A=E.nodes()[0],x=E.nodeCount();b.setNode(A,{});for(var D,k;L(b,E)<x;)D=m(b,E),k=b.hasNode(D.v)?(0,y.slack)(E,D):-(0,y.slack)(E,D),S(b,E,k);return b};W.feasibleTree=_;var L=function(E,b){var A=function(x){b.nodeEdges(x).forEach(function(D){var k=D.v,g=x===k?D.w:k;!E.hasNode(g)&&!(0,y.slack)(b,D)&&(E.setNode(g,{}),E.setEdge(x,g,{}),A(g))})};return E.nodes().forEach(A),E.nodeCount()},P=function(E){var b=new w.Graph({directed:!1}),A=E.nodes()[0],x=E.nodes().filter(function(g){return!!E.node(g)}).length;b.setNode(A,{});for(var D,k;p(b,E)<x;)D=m(b,E),k=b.hasNode(D.v)?(0,y.slack)(E,D):-(0,y.slack)(E,D),S(b,E,k);return b};W.feasibleTreeWithLayer=P;var p=function(E,b){var A=function(x){var D;(D=b.nodeEdges(x))===null||D===void 0||D.forEach(function(k){var g=k.v,f=x===g?k.w:g;!E.hasNode(f)&&(b.node(f).layer!==void 0||!(0,y.slack)(b,k))&&(E.setNode(f,{}),E.setEdge(x,f,{}),A(f))})};return E.nodes().forEach(A),E.nodeCount()},m=function(E,b){return(0,R.minBy)(b.edges(),function(A){return E.hasNode(A.v)!==E.hasNode(A.w)?(0,y.slack)(b,A):1/0})},S=function(E,b,A){E.nodes().forEach(function(x){b.node(x).rank||(b.node(x).rank=0),b.node(x).rank+=A})};W.default={feasibleTree:_,feasibleTreeWithLayer:P}},576827:function(Ge,W,C){"use strict";var y=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(W,"__esModule",{value:!0});var R=C(337323),w=C(813614),_=y(C(432253)),L=function(S){switch(S.graph().ranker){case"network-simplex":m(S);break;case"tight-tree":p(S);break;case"longest-path":P(S);break;default:p(S)}},P=R.longestPath,p=function(S){(0,R.longestPathWithLayer)(S),(0,w.feasibleTreeWithLayer)(S)},m=function(S){(0,_.default)(S)};W.default=L},432253:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.exchangeEdges=W.enterEdge=W.leaveEdge=W.initLowLimValues=W.calcCutValue=W.initCutValues=void 0;var y=C(813614),R=C(337323),w=C(269209),_=C(199905),L=_.algorithm.preorder,P=_.algorithm.postorder,p=function(Y){var U=(0,w.simplify)(Y);(0,R.longestPath)(U);var G=(0,y.feasibleTree)(U);(0,W.initLowLimValues)(G),(0,W.initCutValues)(G,U);for(var j,K;j=(0,W.leaveEdge)(G);)K=(0,W.enterEdge)(G,U,j),(0,W.exchangeEdges)(G,U,j,K)},m=function(Y,U){var G=P(Y,Y.nodes());G=G==null?void 0:G.slice(0,(G==null?void 0:G.length)-1),G==null||G.forEach(function(j){S(Y,U,j)})};W.initCutValues=m;var S=function(Y,U,G){var j=Y.node(G),K=j.parent;Y.edgeFromArgs(G,K).cutvalue=(0,W.calcCutValue)(Y,U,G)},E=function(Y,U,G){var j,K=Y.node(G),nt=K.parent,q=!0,J=U.edgeFromArgs(G,nt),ut=0;return J||(q=!1,J=U.edgeFromArgs(nt,G)),ut=J.weight,(j=U.nodeEdges(G))===null||j===void 0||j.forEach(function(st){var bt=st.v===G,ht=bt?st.w:st.v;if(ht!==nt){var kt=bt===q,Mt=U.edge(st).weight;if(ut+=kt?Mt:-Mt,f(Y,G,ht)){var St=Y.edgeFromArgs(G,ht).cutvalue;ut+=kt?-St:St}}}),ut};W.calcCutValue=E;var b=function(Y,U){U===void 0&&(U=Y.nodes()[0]),A(Y,{},1,U)};W.initLowLimValues=b;var A=function(Y,U,G,j,K){var nt,q=G,J=G,ut=Y.node(j);return U[j]=!0,(nt=Y.neighbors(j))===null||nt===void 0||nt.forEach(function(st){U[st]||(J=A(Y,U,J,st,j))}),ut.low=q,ut.lim=J++,K?ut.parent=K:delete ut.parent,J},x=function(Y){return Y.edges().find(function(U){return Y.edge(U).cutvalue<0})};W.leaveEdge=x;var D=function(Y,U,G){var j=G.v,K=G.w;U.hasEdge(j,K)||(j=G.w,K=G.v);var nt=Y.node(j),q=Y.node(K),J=nt,ut=!1;nt.lim>q.lim&&(J=q,ut=!0);var st=U.edges().filter(function(bt){return ut===z(Y,Y.node(bt.v),J)&&ut!==z(Y,Y.node(bt.w),J)});return(0,w.minBy)(st,function(bt){return(0,R.slack)(U,bt)})};W.enterEdge=D;var k=function(Y,U,G,j){var K=G.v,nt=G.w;Y.removeEdge(K,nt),Y.setEdge(j.v,j.w,{}),(0,W.initLowLimValues)(Y),(0,W.initCutValues)(Y,U),g(Y,U)};W.exchangeEdges=k;var g=function(Y,U){var G=Y.nodes().find(function(K){var nt;return!(!((nt=U.node(K))===null||nt===void 0)&&nt.parent)}),j=L(Y,G);j=j==null?void 0:j.slice(1),j==null||j.forEach(function(K){var nt=Y.node(K).parent,q=U.edgeFromArgs(K,nt),J=!1;q||(q=U.edgeFromArgs(nt,K),J=!0),U.node(K).rank=U.node(nt).rank+(J?q.minlen:-q.minlen)})},f=function(Y,U,G){return Y.hasEdge(U,G)},z=function(Y,U,G){return G.low<=U.lim&&U.lim<=G.lim};W.default=p},337323:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.slack=W.longestPathWithLayer=W.longestPath=void 0;var C=function(w){var _,L={},P=function(p){var m,S=w.node(p);if(!S)return 0;if(L[p])return S.rank;L[p]=!0;var E;return(m=w.outEdges(p))===null||m===void 0||m.forEach(function(b){var A=P(b.w),x=w.edge(b).minlen,D=A-x;D&&(E===void 0||D<E)&&(E=D)}),E||(E=0),S.rank=E,E};(_=w.sources())===null||_===void 0||_.forEach(function(p){return P(p)})};W.longestPath=C;var y=function(w){var _,L={},P,p=function(E){var b,A=w.node(E);if(!A)return 0;if(L[E])return A.rank;L[E]=!0;var x;return(b=w.outEdges(E))===null||b===void 0||b.forEach(function(D){var k=p(D.w),g=w.edge(D).minlen,f=k-g;f&&(x===void 0||f<x)&&(x=f)}),x||(x=0),(P===void 0||x<P)&&(P=x),A.rank=x,x};(_=w.sources())===null||_===void 0||_.forEach(function(E){w.node(E)&&p(E)}),P===void 0&&(P=0);var m={},S=function(E,b){var A,x=w.node(E),D=isNaN(x.layer)?b:x.layer;(x.rank===void 0||x.rank<D)&&(x.rank=D),!m[E]&&(m[E]=!0,(A=w.outEdges(E))===null||A===void 0||A.map(function(k){S(k.w,D+w.edge(k).minlen)}))};w.nodes().forEach(function(E){var b=w.node(E);b&&(isNaN(b.layer)?b.rank-=P:S(E,b.layer))})};W.longestPathWithLayer=y;var R=function(w,_){return w.node(_.w).rank-w.node(_.v).rank-w.edge(_).minlen};W.slack=R,W.default={longestPath:C,longestPathWithLayer:y,slack:R}},269209:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.minBy=W.notime=W.time=W.partition=W.maxRank=W.addBorderNode=W.removeEmptyRanks=W.normalizeRanks=W.buildLayerMatrix=W.intersectRect=W.predecessorWeights=W.successorWeights=W.zipObject=W.asNonCompoundGraph=W.simplify=W.addDummyNode=void 0;var y=C(449784),R=C(627652),w=function(U,G){return Number(U)-Number(G)},_=function(U,G,j,K){var nt;do nt="".concat(K).concat(Math.random());while(U.hasNode(nt));return j.dummy=G,U.setNode(nt,j),nt};W.addDummyNode=_;var L=function(U){var G=new R.Graph().setGraph(U.graph());return U.nodes().forEach(function(j){G.setNode(j,U.node(j))}),U.edges().forEach(function(j){var K=G.edgeFromArgs(j.v,j.w)||{weight:0,minlen:1},nt=U.edge(j);G.setEdge(j.v,j.w,{weight:K.weight+nt.weight,minlen:Math.max(K.minlen,nt.minlen)})}),G};W.simplify=L;var P=function(U){var G=new R.Graph({multigraph:U.isMultigraph()}).setGraph(U.graph());return U.nodes().forEach(function(j){var K;!((K=U.children(j))===null||K===void 0)&&K.length||G.setNode(j,U.node(j))}),U.edges().forEach(function(j){G.setEdgeObj(j,U.edge(j))}),G};W.asNonCompoundGraph=P;var p=function(U,G){return U==null?void 0:U.reduce(function(j,K,nt){return j[K]=G[nt],j},{})};W.zipObject=p;var m=function(U){var G={};return U.nodes().forEach(function(j){var K,nt={};(K=U.outEdges(j))===null||K===void 0||K.forEach(function(q){var J;nt[q.w]=(nt[q.w]||0)+(((J=U.edge(q))===null||J===void 0?void 0:J.weight)||0)}),G[j]=nt}),G};W.successorWeights=m;var S=function(U){var G=U.nodes(),j=G.map(function(K){var nt,q={};return(nt=U.inEdges(K))===null||nt===void 0||nt.forEach(function(J){q[J.v]=(q[J.v]||0)+U.edge(J).weight}),q});return(0,W.zipObject)(G,j)};W.predecessorWeights=S;var E=function(U,G){var j=Number(U.x),K=Number(U.y),nt=Number(G.x)-j,q=Number(G.y)-K,J=Number(U.width)/2,ut=Number(U.height)/2;if(!nt&&!q)return{x:0,y:0};var st,bt;return Math.abs(q)*J>Math.abs(nt)*ut?(q<0&&(ut=-ut),st=ut*nt/q,bt=ut):(nt<0&&(J=-J),st=J,bt=J*q/nt),{x:j+st,y:K+bt}};W.intersectRect=E;var b=function(U){for(var G=[],j=(0,W.maxRank)(U)+1,K=0;K<j;K++)G.push([]);U.nodes().forEach(function(nt){var q=U.node(nt);if(q){var J=q.rank;J!==void 0&&G[J]&&G[J].push(nt)}});for(var K=0;K<j;K++)G[K]=G[K].sort(function(q,J){var ut,st;return w((ut=U.node(q))===null||ut===void 0?void 0:ut.order,(st=U.node(J))===null||st===void 0?void 0:st.order)});return G};W.buildLayerMatrix=b;var A=function(U){var G=U.nodes().filter(function(K){var nt;return((nt=U.node(K))===null||nt===void 0?void 0:nt.rank)!==void 0}).map(function(K){return U.node(K).rank}),j=Math.min.apply(Math,G);U.nodes().forEach(function(K){var nt=U.node(K);nt.hasOwnProperty("rank")&&j!==1/0&&(nt.rank-=j)})};W.normalizeRanks=A;var x=function(U){var G=U.nodes(),j=G.filter(function(bt){var ht;return((ht=U.node(bt))===null||ht===void 0?void 0:ht.rank)!==void 0}).map(function(bt){return U.node(bt).rank}),K=Math.min.apply(Math,j),nt=[];G.forEach(function(bt){var ht,kt=(((ht=U.node(bt))===null||ht===void 0?void 0:ht.rank)||0)-K;nt[kt]||(nt[kt]=[]),nt[kt].push(bt)});for(var q=0,J=U.graph().nodeRankFactor||0,ut=0;ut<nt.length;ut++){var st=nt[ut];st===void 0?ut%J!==0&&(q-=1):q&&(st==null||st.forEach(function(bt){var ht=U.node(bt);ht&&(ht.rank=ht.rank||0,ht.rank+=q)}))}};W.removeEmptyRanks=x;var D=function(U,G,j,K){var nt={width:0,height:0};return(0,y.isNumber)(j)&&(0,y.isNumber)(K)&&(nt.rank=j,nt.order=K),(0,W.addDummyNode)(U,"border",nt,G)};W.addBorderNode=D;var k=function(U){var G;return U.nodes().forEach(function(j){var K,nt=(K=U.node(j))===null||K===void 0?void 0:K.rank;nt!==void 0&&(G===void 0||nt>G)&&(G=nt)}),G||(G=0),G};W.maxRank=k;var g=function(U,G){var j={lhs:[],rhs:[]};return U==null||U.forEach(function(K){G(K)?j.lhs.push(K):j.rhs.push(K)}),j};W.partition=g;var f=function(U,G){var j=Date.now();try{return G()}finally{console.log("".concat(U," time: ").concat(Date.now()-j,"ms"))}};W.time=f;var z=function(U,G){return G()};W.notime=z;var Y=function(U,G){return U.reduce(function(j,K){var nt=G(j),q=G(K);return nt>q?K:j})};W.minBy=Y},934015:function(Ge,W,C){"use strict";var y=this&&this.__assign||function(){return y=Object.assign||function(b){for(var A,x=1,D=arguments.length;x<D;x++){A=arguments[x];for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(b[k]=A[k])}return b},y.apply(this,arguments)},R=this&&this.__createBinding||(Object.create?function(b,A,x,D){D===void 0&&(D=x);var k=Object.getOwnPropertyDescriptor(A,x);(!k||("get"in k?!A.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return A[x]}}),Object.defineProperty(b,D,k)}:function(b,A,x,D){D===void 0&&(D=x),b[D]=A[x]}),w=this&&this.__setModuleDefault||(Object.create?function(b,A){Object.defineProperty(b,"default",{enumerable:!0,value:A})}:function(b,A){b.default=A}),_=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var A={};if(b!=null)for(var x in b)x!=="default"&&Object.prototype.hasOwnProperty.call(b,x)&&R(A,b,x);return w(A,b),A},L=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(W,"__esModule",{value:!0});var P=_(C(971497)),p=L(C(788221)),m=L(C(87064)),S=C(920171);function E(b,A){var x=b.nodes,D=b.edges,k=A.width,g=A.height;if(!(x!=null&&x.length))return Promise.resolve();var f=[];x.forEach(function(q){var J=D.filter(function(st){return st.source===q.id||st.target===q.id});if(J.length>1){var ut=y({},q);delete ut.size,f.push(ut)}});var z=[];D.forEach(function(q){var J=f.find(function(st){return st.id===q.source}),ut=f.find(function(st){return st.id===q.target});J&&ut&&z.push(q)});var Y=new S.DagreLayout({type:"dagre",ranksep:A.nodeMinGap,nodesep:A.nodeMinGap}),U=Y.layout({nodes:f,edges:z}).nodes;x.forEach(function(q){var J=(U||[]).find(function(ut){return ut.id===q.id});q.x=(J==null?void 0:J.x)||k/2,q.y=(J==null?void 0:J.y)||g/2});var G=JSON.parse(JSON.stringify(x)),j=JSON.parse(JSON.stringify(D)),K=P.forceSimulation().nodes(G).force("link",P.forceLink(j).id(function(q){return q.id}).distance(function(q){var J=z.find(function(ut){return ut.source===q.source&&ut.target===q.target});return J?30:20})).force("charge",P.forceManyBody()).force("center",P.forceCenter(k/2,g/2)).force("x",P.forceX(k/2)).force("y",P.forceY(g/2)).alpha(.3).alphaDecay(.08).alphaMin(.001),nt=new Promise(function(q){K.on("end",function(){x.forEach(function(Mt){var St=G.find(function(V){return V.id===Mt.id});St&&(Mt.x=St.x,Mt.y=St.y)});var J=Math.min.apply(Math,x.map(function(Mt){return Mt.x})),ut=Math.max.apply(Math,x.map(function(Mt){return Mt.x})),st=Math.min.apply(Math,x.map(function(Mt){return Mt.y})),bt=Math.max.apply(Math,x.map(function(Mt){return Mt.y})),ht=k/(ut-J),kt=g/(bt-st);x.forEach(function(Mt){Mt.x!==void 0&&ht<1&&(Mt.x=(Mt.x-J)*ht),Mt.y!==void 0&&kt<1&&(Mt.y=(Mt.y-st)*kt)}),x.forEach(function(Mt){Mt.sizeTemp=Mt.size,Mt.size=[10,10]}),(0,m.default)(x,D),x.forEach(function(Mt){Mt.size=Mt.sizeTemp||[],delete Mt.sizeTemp}),(0,p.default)({nodes:x,edges:D},A),q()})});return nt}W.default=E},788221:function(Ge,W,C){"use strict";var y=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(W,"__esModule",{value:!0});var R=y(C(28611));function w(_,L){if(!_.nodes||_.nodes.length===0)return _;var P=L.width,p=L.height,m=L.nodeMinGap,S=1e4,E=1e4;_.nodes.forEach(function(j){var K=j.size[0]||50,nt=j.size[1]||50;S=Math.min(K,S),E=Math.min(nt,E)});var b=new R.default;b.init(P,p,{CELL_H:E,CELL_W:S}),_.nodes.forEach(function(j){var K=b.occupyNearest(j);K&&(K.node={id:j.id,size:j.size},j.x=K.x,j.y=K.y,j.dx=K.dx,j.dy=K.dy)});for(var A=0;A<_.nodes.length;A++){var x=_.nodes[A],D=b.findGridByNodeId(x.id);if(!D)throw new Error("can not find node cell");var k=D.column,g=D.row;if(x.size[0]+m>S){for(var f=Math.ceil((x.size[0]+m)/S)-1,z=f,Y=0;Y<f;Y++){var U=b.additionColumn.indexOf(k+Y+1)>-1;if(U&&!b.cells[k+Y+1][g].node)z--;else break}b.insertColumn(k,z)}if(x.size[1]+m>E){for(var f=Math.ceil((x.size[1]+m)/E)-1,z=f,Y=0;Y<f;Y++){var U=b.additionRow.indexOf(g+Y+1)>-1;if(U&&!b.cells[k][g+Y+1].node)z--;else break}b.insertRow(g,z)}}for(var A=0;A<b.columnNum;A++)for(var G=function(K){var nt=b.cells[A][K];if(nt.node){var q=_.nodes.find(function(J){var ut;return J.id===((ut=nt==null?void 0:nt.node)===null||ut===void 0?void 0:ut.id)});q&&(q.x=nt.x+q.size[0]/2,q.y=nt.y+q.size[1]/2)}},Y=0;Y<b.rowNum;Y++)G(Y)}W.default=w},28611:function(Ge,W){"use strict";var C=this&&this.__assign||function(){return C=Object.assign||function(R){for(var w,_=1,L=arguments.length;_<L;_++){w=arguments[_];for(var P in w)Object.prototype.hasOwnProperty.call(w,P)&&(R[P]=w[P])}return R},C.apply(this,arguments)};Object.defineProperty(W,"__esModule",{value:!0});var y=function(){function R(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return R.prototype.init=function(w,_,L){this.cells=[],this.CELL_W=L.CELL_W||R.DEFAULT_CELL_W,this.CELL_H=L.CELL_H||R.DEFAULT_CELL_H,this.columnNum=Math.ceil(w/this.CELL_W),this.rowNum=Math.ceil(_/this.CELL_H),R.MIN_DIST=Math.pow(w,2)+Math.pow(_,2);for(var P=0;P<this.columnNum;P++){for(var p=[],m=0;m<this.rowNum;m++){var S={dx:P,dy:m,x:P*this.CELL_W,y:m*this.CELL_H,occupied:!1};p.push(S)}this.cells.push(p)}},R.prototype.findGridByNodeId=function(w){for(var _,L,P=0;P<this.columnNum;P++)for(var p=0;p<this.rowNum;p++)if(this.cells[P][p].node&&((L=(_=this.cells[P][p])===null||_===void 0?void 0:_.node)===null||L===void 0?void 0:L.id)===w)return{column:P,row:p};return null},R.prototype.sqdist=function(w,_){return Math.pow(w.x-_.x,2)+Math.pow(w.y-_.y,2)},R.prototype.occupyNearest=function(w){for(var _=R.MIN_DIST,L,P=null,p=0;p<this.columnNum;p++)for(var m=0;m<this.rowNum;m++)!this.cells[p][m].occupied&&(L=this.sqdist(w,this.cells[p][m]))<_&&(_=L,P=this.cells[p][m]);return P&&(P.occupied=!0),P},R.prototype.insertColumn=function(w,_){if(!(_<=0)){for(var L=0;L<_;L++){this.cells[L+this.columnNum]=[];for(var P=0;P<this.rowNum;P++)this.cells[L+this.columnNum][P]={dx:L,dy:P,x:L*this.CELL_W,y:P*this.CELL_H,occupied:!1,node:null}}for(var L=this.columnNum-1;L>w;L--)for(var P=0;P<this.rowNum;P++)this.cells[L+_][P]=C(C({},this.cells[L][P]),{x:(L+_)*this.CELL_W,y:P*this.CELL_H}),this.cells[L][P]={x:L*this.CELL_W,y:P*this.CELL_H,occupied:!0,node:null};for(var P=0;P<this.additionColumn.length;P++)this.additionColumn[P]>=w&&(this.additionColumn[P]+=_);for(var L=0;L<_;L++)this.additionColumn.push(w+L+1);this.columnNum+=_}},R.prototype.insertRow=function(w,_){if(!(_<=0)){for(var L=0;L<_;L++)for(var P=0;P<this.columnNum;P++)this.cells[P][L+this.rowNum]={dx:P,dy:L,x:P*this.CELL_W,y:L*this.CELL_H,occupied:!1,node:null};for(var P=0;P<this.columnNum;P++)for(var L=this.rowNum-1;L>w;L--)this.cells[P][L+_]=C(C({},this.cells[P][L]),{dx:P,dy:L+_,x:P*this.CELL_W,y:(L+_)*this.CELL_H}),this.cells[P][L]={dx:P,dy:L,x:P*this.CELL_W,y:L*this.CELL_H,occupied:!1,node:null};for(var L=0;L<this.additionRow.length;L++)this.additionRow[L]>=w&&(this.additionRow[L]+=_);for(var P=0;P<_;P++)this.additionRow.push(w+P+1);this.rowNum+=_}},R.prototype.getNodes=function(){for(var w=[],_=0;_<this.columnNum;_++)for(var L=0;L<this.rowNum;L++)this.cells[_][L].node&&w.push(this.cells[_][L]);return w},R.MIN_DIST=50,R.DEFAULT_CELL_W=80,R.DEFAULT_CELL_H=80,R}();W.default=y},290441:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var P=function(p,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])},P(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(p,m);function S(){this.constructor=p}p.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}(),R=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(W,"__esModule",{value:!0}),W.ERLayout=void 0;var w=C(762329),_=R(C(934015)),L=function(P){y(p,P);function p(m){var S=P.call(this)||this;return S.width=300,S.height=300,S.nodeMinGap=50,S.onLayoutEnd=function(){},m&&S.updateCfg(m),S}return p.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},p.prototype.execute=function(){var m=this,S=m.nodes,E=m.edges;return S==null||S.forEach(function(b){b.size||(b.size=[50,50])}),(0,_.default)({nodes:S,edges:E},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){m.onLayoutEnd&&m.onLayoutEnd()})},p.prototype.getType=function(){return"er"},p}(w.Base);W.ERLayout=L},87064:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=1200,y=800,R=1e7,w=10,_=3.141592653589793,L=1.5707963267948966,P=_*.375,p=_*.625,m=new Map,S=10,E=10,b=.8,A=.1,x=.5;function D(G,j,K){var nt=G.x-G.size[0]/2,q=G.y-G.size[1]/2,J=G.x+G.size[0]/2,ut=G.y+G.size[1]/2,st=j.x-j.size[0]/2,bt=j.y-j.size[1]/2,ht=j.x+j.size[0]/2,kt=j.y+j.size[1]/2,Mt=G.x,St=G.y,V=j.x,Q=j.y,xt=V-Mt,Ct=Math.atan2(xt,Q-St),et=0,vt=0,Tt=0,Ot=0;Ct>L?(vt=q-kt,et=st-J,Tt=parseFloat(vt?(vt/Math.cos(Ct)).toFixed(2):et.toFixed(2)),Ot=parseFloat(et?(et/Math.sin(Ct)).toFixed(2):vt.toFixed(2))):0<Ct&&Ct<=L?(vt=bt-ut,et=st-J,vt>et?Tt=Ot=parseFloat(vt?(vt/Math.cos(Ct)).toFixed(2):et.toFixed(2)):Tt=Ot=parseFloat(et?(et/Math.sin(Ct)).toFixed(2):vt.toFixed(2))):Ct<-L?(vt=q-kt,et=-(ht-nt),vt>et?Tt=Ot=parseFloat(vt?(vt/Math.cos(Ct)).toFixed(2):et.toFixed(2)):Tt=Ot=parseFloat(et?(et/Math.sin(Ct)).toFixed(2):vt.toFixed(2))):(vt=bt-ut,Math.abs(xt)>(J-nt)/2?et=nt-ht:et=xt,vt>et?Tt=Ot=parseFloat(vt?(vt/Math.cos(Ct)).toFixed(2):et.toFixed(2)):Tt=Ot=parseFloat(et&&Ct!==0?(et/Math.sin(Ct)).toFixed(2):vt.toFixed(2)));var Et=parseFloat(Ct.toFixed(2)),Dt=K;return K&&(Dt=P<Et&&Et<p),{distance:Math.abs(Tt<Ot?Tt:Ot),isHoriz:Dt}}function k(G,j){var K=m.get(G.id)||[],nt=K.find(function(Zt){return Zt.source===j.id||Zt.target===j.id}),q=G.size[0]*G.size[1],J=j.size[0]*j.size[1],ut=q>J?j:G,st=q>J?G:j,bt=ut.x-ut.size[0]/2,ht=ut.y-ut.size[1]/2,kt=ut.x+ut.size[0]/2,Mt=ut.y+ut.size[1]/2,St=st.x-st.size[0]/2,V=st.y-st.size[1]/2,Q=st.x+st.size[0]/2,xt=st.y+st.size[1]/2,Ct=ut.x,et=ut.y,vt=st.x,Tt=st.y,Ot=kt>=St&&Q>=bt&&Mt>=V&&xt>=ht,Et=0,Dt=0;if(Ot){Dt=Math.sqrt(Math.pow(vt-Ct,2)+Math.pow(Tt-et,2));var Vt=bt>St?bt:St,ue=ht>V?ht:V,ee=kt<Q?kt:Q,It=Mt<xt?Mt:xt,ne=ee-Vt,pe=It-ue,Gt=ne*pe;Dt===0&&(Dt=1e-7),Et=w*1/Dt*100+Gt,Et*=R}else{var qt=!1,$t=D(ut,st,qt);Dt=$t.distance,qt=$t.isHoriz,Dt<=w?Dt!==0?nt?Et+=w+R*1/Dt:Et+=w+R*w/Dt:Et+=R:(Et+=Dt,nt&&(Et+=Dt*Dt))}return Et}function g(G){for(var j=0,K=0;K<G.length;K++){var nt=G[K];(nt.x<0||nt.y<0||nt.x>C||nt.y>y)&&(j+=1e12);for(var q=K+1;q<G.length;q++)j+=k(nt,G[q])}return j}function f(G,j,K,nt){var q=new Map;K.forEach(function(Ct,et){q.set(Ct.id,Ct)});var J=nt.filter(function(Ct){return Ct.source===G.id||Ct.target===G.id})||[],ut=[];J.forEach(function(Ct){var et=Ct.source===G.id?Ct.target:Ct.source,vt=q.get(et);vt&&ut.push(vt)});for(var st=!0,bt=0;bt<ut.length;bt++){var ht=ut[bt],kt=Math.atan((G.y-ht.y)/(ht.x-G.y))*180,Mt=Math.atan((j.y-ht.y)/(ht.x-j.y))*180,St=kt<30||kt>150,V=Mt<30||Mt>150,Q=kt>70&&kt<110,xt=Mt>70&&Mt<110;if(St&&!V||kt*Mt<0){st=!1;break}else if(Q&&!xt||kt*Mt<0){st=!1;break}else if((ht.x-G.x)*(ht.x-j.x)<0){st=!1;break}else if((ht.y-G.y)*(ht.y-j.y)<0){st=!1;break}}return st}function z(G,j){for(var K=!1,nt=1,q=S*nt,J=E*nt,ut=[q,-q,0,0],st=[0,0,J,-J],bt=0;bt<G.length;++bt)for(var ht=G[bt],kt=Y(ht,G),Mt=0;Mt<ut.length;Mt++){var St=f(ht,{x:ht.x+ut[Mt],y:ht.y+st[Mt]},G,j);if(St){ht.x+=ut[Mt],ht.y+=st[Mt];var V=Y(ht,G),Q=Math.random();V<kt||Q<b&&Q>A?(kt=V,K=!0):(ht.x-=ut[Mt],ht.y-=st[Mt])}}return b>A&&(b*=x),K?g(G):0}function Y(G,j){var K=0;(G.x<0||G.y<0||G.x+G.size[0]+20>C||G.y+G.size[1]+20>y)&&(K+=1e12);for(var nt=0;nt<j.length;++nt)G.id!==j[nt].id&&(K+=k(G,j[nt]));return K}function U(G,j){if(G.length===0)return{nodes:G,edges:j};G.forEach(function(ht){var kt=j.filter(function(Mt){return Mt.source===ht.id||Mt.target===ht.id});m.set(ht,kt)}),G.sort(function(ht,kt){var Mt,St;return((Mt=m.get(ht.id))===null||Mt===void 0?void 0:Mt.length)-((St=m.get(kt.id))===null||St===void 0?void 0:St.length)});for(var K=g(G),nt=20,q=1,J=0,ut=50,st=0;nt>0&&(st++,!(st>=ut));){var bt=z(G,j);bt!==0&&(J=bt),q=J-K,K=J,q===0?--nt:nt=20}return G.forEach(function(ht){ht.x=ht.x-ht.size[0]/2,ht.y=ht.y-ht.size[1]/2}),{nodes:G,edges:j}}W.default=U},191019:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.forceNBody=void 0;var y=C(971829),R=.81,w=.1;function _(m,S,E,b,A){var x=E/b,D=m.map(function(g,f){var z=S[g.id],Y=z.data,U=z.x,G=z.y,j=z.size,K=Y.layout.force.nodeStrength;return{x:U,y:G,size:j,index:f,vx:0,vy:0,weight:x*K}}),k=(0,y.quadtree)(D,function(g){return g.x},function(g){return g.y}).visitAfter(L);return D.forEach(function(g){p(g,k)}),D.map(function(g,f){var z=S[m[f].id],Y=z.data.layout.force.mass,U=Y===void 0?1:Y;A[2*f]=g.vx/U,A[2*f+1]=g.vy/U}),A}W.forceNBody=_;function L(m){var S=0,E=0,b=0;if(m.length){for(var A=0;A<4;A++){var x=m[A];x&&x.weight&&(S+=x.weight,E+=x.x*x.weight,b+=x.y*x.weight)}m.x=E/S,m.y=b/S,m.weight=S}else{var x=m;m.x=x.data.x,m.y=x.data.y,m.weight=x.data.weight}}var P=function(m,S,E,b,A,x){var D=x.x-m.x||w,k=x.y-m.y||w,g=b-S,f=D*D+k*k,z=Math.sqrt(f)*f;if(g*g*R<f){var Y=m.weight/z;return x.vx+=D*Y,x.vy+=k*Y,!0}if(m.length)return!1;if(m.data!==x){var Y=m.data.weight/z;x.vx+=D*Y,x.vy+=k*Y}};function p(m,S){S.visit(function(E,b,A,x,D){return P(E,b,A,x,D,m)})}},306740:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var m=function(S,E){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},m(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");m(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(m){for(var S,E=1,b=arguments.length;E<b;E++){S=arguments[E];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(m[A]=S[A])}return m},R.apply(this,arguments)};Object.defineProperty(W,"__esModule",{value:!0}),W.Force2Layout=void 0;var w=C(762329),_=C(449784),L=C(191019),P=function(m,S){var E;return m?(0,_.isNumber)(m)?E=function(b){return m}:E=m:E=function(b){return S||1},E},p=function(m){y(S,m);function S(E){var b=m.call(this)||this;b.maxIteration=1e3,b.workerEnabled=!1,b.edgeStrength=200,b.nodeStrength=1e3,b.coulombDisScale=.005,b.damping=.9,b.maxSpeed=500,b.minMovement=.4,b.interval=.02,b.factor=1,b.linkDistance=200,b.gravity=0,b.clusterNodeStrength=20,b.preventOverlap=!0,b.distanceThresholdMode="mean",b.tick=function(){},b.nodes=[],b.edges=[],b.width=300,b.height=300,b.nodeMap={},b.nodeIdxMap={},b.judgingDistance=0,b.centripetalOptions={leaf:2,single:2,others:1,center:function(x){return{x:b.width/2,y:b.height/2}}};var A=E.getMass;return b.propsGetMass=A,b.updateCfg(E),b}return S.prototype.getCentripetalOptions=function(){var E=this,b=E.leafCluster,A=E.clustering,x=E.nodeClusterBy,D=E.nodes,k=E.nodeMap,g=E.clusterNodeStrength,f=function(ut){return typeof g=="function"?g(ut):g},z={},Y;if(b){Y=this.getSameTypeLeafMap()||{};var U=Array.from(new Set(D==null?void 0:D.map(function(ut){return ut[x]})))||[];z={single:100,leaf:function(ut,st,bt){var ht=Y[ut.id]||{},kt=ht.relativeLeafNodes,Mt=ht.sameTypeLeafNodes;return(Mt==null?void 0:Mt.length)===(kt==null?void 0:kt.length)||(U==null?void 0:U.length)===1?1:f(ut)},others:1,center:function(ut,st,bt){var ht,kt=(((ht=ut.data)===null||ht===void 0?void 0:ht.layout)||{}).degree;if(!kt)return{x:100,y:100};var Mt;if(kt===1){var St=(Y[ut.id]||{}).sameTypeLeafNodes,V=St===void 0?[]:St;V.length===1?Mt=void 0:V.length>1&&(Mt=(0,_.getAvgNodePosition)(V))}else Mt=void 0;return{x:Mt==null?void 0:Mt.x,y:Mt==null?void 0:Mt.y}}}}if(A){Y||(Y=this.getSameTypeLeafMap());var G=Array.from(new Set(D.map(function(ut,st){return ut[x]}))).filter(function(ut){return ut!==void 0}),j={};G.forEach(function(ut){var st=D.filter(function(bt){return bt[x]===ut}).map(function(bt){return k[bt.id]});j[ut]=(0,_.getAvgNodePosition)(st)}),z={single:function(ut){return f(ut)},leaf:function(ut){return f(ut)},others:function(ut){return f(ut)},center:function(ut,st,bt){var ht=j[ut[x]];return{x:ht==null?void 0:ht.x,y:ht==null?void 0:ht.y}}}}this.centripetalOptions=R(R({},this.centripetalOptions),z);var K=this.centripetalOptions,nt=K.leaf,q=K.single,J=K.others;nt&&typeof nt!="function"&&(this.centripetalOptions.leaf=function(){return nt}),q&&typeof q!="function"&&(this.centripetalOptions.single=function(){return q}),J&&typeof J!="function"&&(this.centripetalOptions.others=function(){return J})},S.prototype.updateCfg=function(E){E&&Object.assign(this,E)},S.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},S.prototype.execute=function(){var E=this;E.stop();var b=E.nodes,A=E.edges,x=E.defSpringLen;if(E.judgingDistance=0,!b||b.length===0){E.onLayoutEnd([]);return}!E.width&&typeof window!="undefined"&&(E.width=window.innerWidth),!E.height&&typeof window!="undefined"&&(E.height=window.innerHeight),E.center||(E.center=[E.width/2,E.height/2]);var D=E.center;if(b.length===1){b[0].x=D[0],b[0].y=D[1],E.onLayoutEnd([R({},b[0])]);return}E.degreesMap=(0,_.getDegreeMap)(b,A),E.propsGetMass?E.getMass=E.propsGetMass:E.getMass=function(G){var j=1;(0,_.isNumber)(G.mass)&&(j=G.mass);var K=E.degreesMap[G.id].all;return!K||K<5?j:K*5*j};var k=E.nodeSize,g;if(E.preventOverlap){var f=E.nodeSpacing,z;(0,_.isNumber)(f)?z=function(){return f}:(0,_.isFunction)(f)?z=f:z=function(){return 0},k?(0,_.isArray)(k)?g=function(G){return Math.max(k[0],k[1])+z(G)}:g=function(G){return k+z(G)}:g=function(G){return G.size?(0,_.isArray)(G.size)?Math.max(G.size[0],G.size[1])+z(G):(0,_.isObject)(G.size)?Math.max(G.size.width,G.size.height)+z(G):G.size+z(G):10+z(G)}}E.nodeSize=g,E.linkDistance=P(E.linkDistance,1),E.nodeStrength=P(E.nodeStrength,1),E.edgeStrength=P(E.edgeStrength,1);var Y={},U={};b.forEach(function(G,j){(0,_.isNumber)(G.x)||(G.x=Math.random()*E.width),(0,_.isNumber)(G.y)||(G.y=Math.random()*E.height);var K=E.degreesMap[G.id];Y[G.id]=R(R({},G),{data:R(R({},G.data),{size:E.nodeSize(G)||30,layout:{inDegree:K.in,outDegree:K.out,degree:K.all,tDegree:K.in,sDegree:K.out,force:{mass:E.getMass(G),nodeStrength:E.nodeStrength(G)}}})}),U[G.id]=j}),E.nodeMap=Y,E.nodeIdxMap=U,E.edgeInfos=[],A==null||A.forEach(function(G){var j=Y[G.source],K=Y[G.target];!j||!K?elf.edgeInfos.push({}):E.edgeInfos.push({edgeStrength:E.edgeStrength(G),linkDistance:x?x(R(R({},G),{source:j,target:K}),j,K):E.linkDistance(G,j,K)||1+(k(j)+k(j)||0)/2})}),this.getCentripetalOptions(),E.onLayoutEnd=E.onLayoutEnd||function(){},E.run()},S.prototype.run=function(){var E=this,b=E.maxIteration,A=E.nodes,x=E.workerEnabled,D=E.minMovement,k=E.animate,g=E.nodeMap;if(A){var f=[];A.forEach(function(K,nt){f[2*nt]=0,f[2*nt+1]=0});var z=b,Y=!k;if(x||Y){for(var U=0,G=0;(E.judgingDistance>D||G<1)&&G<z;G++)U=G,E.runOneStep(G,f);E.onLayoutEnd(Object.values(g))}else{if(typeof window=="undefined")return;var j=0;this.timeInterval=window.setInterval(function(){A&&(E.runOneStep(j,f),j++,(j>=z||E.judgingDistance<D)&&(E.onLayoutEnd(Object.values(g)),window.clearInterval(E.timeInterval)))},0)}}},S.prototype.runOneStep=function(E,b){var A,x=this,D=x.nodes,k=x.edges,g=x.nodeMap,f=x.monitor,z=[];if(D!=null&&D.length){x.calRepulsive(z),k&&x.calAttractive(z),x.calGravity(z);var Y=x.interval;if(x.updateVelocity(z,b,Y),x.updatePosition(b,Y),(A=x.tick)===null||A===void 0||A.call(x),f){var U=this.calTotalEnergy(z);f({energy:U,nodes:D,edges:k,iterations:E})}}},S.prototype.calTotalEnergy=function(E){var b=this,A=b.nodes,x=b.nodeMap;if(!(A!=null&&A.length))return 0;var D=0;return A.forEach(function(k,g){var f=E[2*g],z=E[2*g+1],Y=f*f+z*z,U=x[k.id].data.layout.force.mass,G=U===void 0?1:U;D+=G*Y*.5}),D},S.prototype.calRepulsive=function(E){var b=this,A=b.nodes,x=b.nodeMap,D=b.factor,k=b.coulombDisScale,g=b.nodeSize;(0,L.forceNBody)(A,x,D,k*k,E)},S.prototype.calAttractive=function(E){var b=this,A=b.edges,x=b.nodeMap,D=b.nodeIdxMap,k=b.edgeInfos,g=b.nodeSize;A.forEach(function(f,z){var Y=(0,_.getEdgeTerminal)(f,"source"),U=(0,_.getEdgeTerminal)(f,"target"),G=x[Y],j=x[U];if(!(!G||!j)){var K=j.x-G.x,nt=j.y-G.y;!K&&!nt&&(K=Math.random()*.01,nt=Math.random()*.01);var q=Math.sqrt(K*K+nt*nt),J=K/q,ut=nt/q,st=k[z]||{},bt=st.linkDistance,ht=bt===void 0?200:bt,kt=st.edgeStrength,Mt=kt===void 0?200:kt,St=ht-q,V=St*Mt,Q=G.data.layout.force.mass||1,xt=j.data.layout.force.mass||1,Ct=1/Q,et=1/xt,vt=J*V,Tt=ut*V,Ot=2*D[Y],Et=2*D[U];E[Ot]-=vt*Ct,E[Ot+1]-=Tt*Ct,E[Et]+=vt*et,E[Et+1]+=Tt*et}})},S.prototype.calGravity=function(E){var b,A=this,x=A.nodes,D=A.edges,k=D===void 0?[]:D,g=A.nodeMap,f=A.width,z=A.height,Y=A.center,U=A.gravity,G=A.degreesMap,j=A.centripetalOptions;if(x)for(var K=x.length,nt=0;nt<K;nt++){var q=2*nt,J=g[x[nt].id],ut=J.data.layout.force.mass,st=ut===void 0?1:ut,bt=0,ht=0,kt=U,Mt=G[J.id],St=Mt.in,V=Mt.out,Q=Mt.all,xt=(b=A.getCenter)===null||b===void 0?void 0:b.call(A,J,Q);if(xt){var Ct=xt[0],et=xt[1],vt=xt[2];bt=J.x-Ct,ht=J.y-et,kt=vt}else bt=J.x-Y[0],ht=J.y-Y[1];if(kt&&(E[q]-=kt*bt/st,E[q+1]-=kt*ht/st),j){var Tt=j.leaf,Ot=j.single,Et=j.others,Dt=j.center,Vt=(Dt==null?void 0:Dt(J,x,k,f,z))||{x:0,y:0,centerStrength:0},ue=Vt.x,ee=Vt.y,It=Vt.centerStrength;if(!(0,_.isNumber)(ue)||!(0,_.isNumber)(ee))continue;var ne=(J.x-ue)/st,pe=(J.y-ee)/st;if(It&&(E[q]-=It*ne,E[q+1]-=It*pe),Q===0){var Gt=Ot(J);if(!Gt)continue;E[q]-=Gt*ne,E[q+1]-=Gt*pe;continue}if(St===0||V===0){var qt=Tt(J,x,k);if(!qt)continue;E[q]-=qt*ne,E[q+1]-=qt*pe;continue}var $t=Et(J);if(!$t)continue;E[q]-=$t*ne,E[q+1]-=$t*pe}}},S.prototype.updateVelocity=function(E,b,A){var x=this,D=x.nodes,k=x.damping,g=x.maxSpeed;D!=null&&D.length&&D.forEach(function(f,z){var Y=(b[2*z]+E[2*z]*A)*k||.01,U=(b[2*z+1]+E[2*z+1]*A)*k||.01,G=Math.sqrt(Y*Y+U*U);if(G>g){var j=g/G;Y=j*Y,U=j*U}b[2*z]=Y,b[2*z+1]=U})},S.prototype.updatePosition=function(E,b){var A=this,x=A.nodes,D=A.distanceThresholdMode,k=A.nodeMap;if(!(x!=null&&x.length)){this.judgingDistance=0;return}var g=0;D==="max"?A.judgingDistance=-1/0:D==="min"&&(A.judgingDistance=1/0),x.forEach(function(f,z){var Y=k[f.id];if((0,_.isNumber)(f.fx)&&(0,_.isNumber)(f.fy)){f.x=f.fx,f.y=f.fy,Y.x=f.x,Y.y=f.y;return}var U=E[2*z]*b,G=E[2*z+1]*b;f.x+=U,f.y+=G,Y.x=f.x,Y.y=f.y;var j=Math.sqrt(U*U+G*G);switch(D){case"max":A.judgingDistance<j&&(A.judgingDistance=j);break;case"min":A.judgingDistance>j&&(A.judgingDistance=j);break;default:g=g+j;break}}),(!D||D==="mean")&&(A.judgingDistance=g/x.length)},S.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},S.prototype.destroy=function(){var E=this;E.stop(),E.tick=null,E.nodes=null,E.edges=null,E.destroyed=!0},S.prototype.getType=function(){return"force2"},S.prototype.getSameTypeLeafMap=function(){var E=this,b=E.nodeClusterBy,A=E.nodes,x=E.edges,D=E.nodeMap,k=E.degreesMap;if(A!=null&&A.length){var g={};return A.forEach(function(f,z){var Y=k[f.id].all;Y===1&&(g[f.id]=(0,_.getCoreNodeAndRelativeLeafNodes)("leaf",f,x,b,k,D))}),g}},S}(w.Base);W.Force2Layout=p},19712:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(){function y(R){this.id=R.id||0,this.rx=R.rx,this.ry=R.ry,this.fx=0,this.fy=0,this.mass=R.mass,this.degree=R.degree,this.g=R.g||0}return y.prototype.distanceTo=function(R){var w=this.rx-R.rx,_=this.ry-R.ry;return Math.hypot(w,_)},y.prototype.setPos=function(R,w){this.rx=R,this.ry=w},y.prototype.resetForce=function(){this.fx=0,this.fy=0},y.prototype.addForce=function(R){var w=R.rx-this.rx,_=R.ry-this.ry,L=Math.hypot(w,_);L=L<1e-4?1e-4:L;var P=this.g*(this.degree+1)*(R.degree+1)/L;this.fx+=P*w/L,this.fy+=P*_/L},y.prototype.in=function(R){return R.contains(this.rx,this.ry)},y.prototype.add=function(R){var w=this.mass+R.mass,_=(this.rx*this.mass+R.rx*R.mass)/w,L=(this.ry*this.mass+R.ry*R.mass)/w,P=this.degree+R.degree,p={rx:_,ry:L,mass:w,degree:P};return new y(p)},y}();W.default=C},148564:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var S=function(E,b){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,x){A.__proto__=x}||function(A,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(A[D]=x[D])},S(E,b)};return function(E,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");S(E,b);function A(){this.constructor=E}E.prototype=b===null?Object.create(b):(A.prototype=b.prototype,new A)}}(),R=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(W,"__esModule",{value:!0}),W.ForceAtlas2Layout=void 0;var w=C(762329),_=C(449784),L=R(C(19712)),P=R(C(851638)),p=R(C(762732)),m=function(S){y(E,S);function E(b){var A=S.call(this)||this;return A.center=[0,0],A.width=300,A.height=300,A.nodes=[],A.edges=[],A.kr=5,A.kg=1,A.mode="normal",A.preventOverlap=!1,A.dissuadeHubs=!1,A.barnesHut=void 0,A.maxIteration=0,A.ks=.1,A.ksmax=10,A.tao=.1,A.onLayoutEnd=function(){},A.prune=void 0,A.updateCfg(b),A}return E.prototype.getDefaultCfg=function(){return{}},E.prototype.execute=function(){var b=this,A=b.nodes,x=b.onLayoutEnd,D=b.prune,k=b.maxIteration;!b.width&&typeof window!="undefined"&&(b.width=window.innerWidth),!b.height&&typeof window!="undefined"&&(b.height=window.innerHeight);for(var g=[],f=A.length,z=0;z<f;z+=1){var Y=A[z],U=10,G=10;(0,_.isNumber)(Y.size)&&(U=Y.size,G=Y.size),(0,_.isArray)(Y.size)?(isNaN(Y.size[0])||(U=Y.size[0]),isNaN(Y.size[1])||(G=Y.size[1])):(0,_.isObject)(Y.size)&&(U=Y.size.width,G=Y.size.height),b.getWidth&&!isNaN(b.getWidth(Y))&&(G=b.getWidth(Y)),b.getHeight&&!isNaN(b.getHeight(Y))&&(U=b.getHeight(Y));var j=Math.max(U,G);g.push(j)}b.barnesHut===void 0&&f>250&&(b.barnesHut=!0),b.prune===void 0&&f>100&&(b.prune=!0),this.maxIteration===0&&!b.prune?(k=250,f<=200&&f>100?k=1e3:f>200&&(k=1200),this.maxIteration=k):this.maxIteration===0&&D&&(k=100,f<=200&&f>100?k=500:f>200&&(k=950),this.maxIteration=k),b.kr||(b.kr=50,f>100&&f<=500?b.kr=20:f>500&&(b.kr=1)),b.kg||(b.kg=20,f>100&&f<=500?b.kg=10:f>500&&(b.kg=1)),this.nodes=b.updateNodesByForces(g),x()},E.prototype.updateNodesByForces=function(b){for(var A=this,x=A.edges,D=A.maxIteration,k=A.nodes,g=x.filter(function(Mt){var St=(0,_.getEdgeTerminal)(Mt,"source"),V=(0,_.getEdgeTerminal)(Mt,"target");return St!==V}),f=k.length,z=g.length,Y=[],U={},G={},j=[],K=0;K<f;K+=1)U[k[K].id]=K,Y[K]=0,(k[K].x===void 0||isNaN(k[K].x))&&(k[K].x=Math.random()*1e3),(k[K].y===void 0||isNaN(k[K].y))&&(k[K].y=Math.random()*1e3),j.push({x:k[K].x,y:k[K].y});for(var K=0;K<z;K+=1){for(var nt=void 0,q=void 0,J=0,ut=0,st=0;st<f;st+=1){var bt=(0,_.getEdgeTerminal)(g[K],"source"),ht=(0,_.getEdgeTerminal)(g[K],"target");k[st].id===bt?(nt=k[st],J=st):k[st].id===ht&&(q=k[st],ut=st),G[K]={sourceIdx:J,targetIdx:ut}}nt&&(Y[U[nt.id]]+=1),q&&(Y[U[q.id]]+=1)}var kt=D;if(k=this.iterate(kt,U,G,z,Y,b),A.prune){for(var st=0;st<z;st+=1)Y[G[st].sourceIdx]<=1?(k[G[st].sourceIdx].x=k[G[st].targetIdx].x,k[G[st].sourceIdx].y=k[G[st].targetIdx].y):Y[G[st].targetIdx]<=1&&(k[G[st].targetIdx].x=k[G[st].sourceIdx].x,k[G[st].targetIdx].y=k[G[st].sourceIdx].y);A.prune=!1,A.barnesHut=!1,kt=100,k=this.iterate(kt,U,G,z,Y,b)}return k},E.prototype.iterate=function(b,A,x,D,k,g){for(var f=this,z=f.nodes,Y=f.kr,U=f.preventOverlap,G=f.barnesHut,j=z.length,K=0,nt=100,q=b,J=50,ut=[],st=[],bt=[],ht=0;ht<j;ht+=1)if(ut[2*ht]=0,ut[2*ht+1]=0,G){var kt={id:ht,rx:z[ht].x,ry:z[ht].y,mass:1,g:Y,degree:k[ht]};bt[ht]=new L.default(kt)}for(;q>0;){for(var ht=0;ht<j;ht+=1)st[2*ht]=ut[2*ht],st[2*ht+1]=ut[2*ht+1],ut[2*ht]=0,ut[2*ht+1]=0;ut=this.getAttrForces(q,J,D,A,x,k,g,ut),G&&(U&&q>J||!U)?ut=this.getOptRepGraForces(ut,bt,k):ut=this.getRepGraForces(q,J,ut,nt,g,k);var Mt=this.updatePos(ut,st,K,k);z=Mt.nodes,K=Mt.sg,q--,f.tick&&f.tick()}return z},E.prototype.getAttrForces=function(b,A,x,D,k,g,f,z){for(var Y=this,U=Y.nodes,G=Y.preventOverlap,j=Y.dissuadeHubs,K=Y.mode,nt=Y.prune,q=0;q<x;q+=1){var J=U[k[q].sourceIdx],ut=k[q].sourceIdx,st=U[k[q].targetIdx],bt=k[q].targetIdx;if(!(nt&&(g[ut]<=1||g[bt]<=1))){var ht=[st.x-J.x,st.y-J.y],kt=Math.hypot(ht[0],ht[1]);kt=kt<1e-4?1e-4:kt,ht[0]=ht[0]/kt,ht[1]=ht[1]/kt,G&&b<A&&(kt=kt-f[ut]-f[bt]);var Mt=kt,St=Mt;K==="linlog"&&(Mt=Math.log(1+kt),St=Mt),j&&(Mt=kt/g[ut],St=kt/g[bt]),G&&b<A&&kt<=0?(Mt=0,St=0):G&&b<A&&kt>0&&(Mt=kt,St=kt),z[2*D[J.id]]+=Mt*ht[0],z[2*D[st.id]]-=St*ht[0],z[2*D[J.id]+1]+=Mt*ht[1],z[2*D[st.id]+1]-=St*ht[1]}}return z},E.prototype.getRepGraForces=function(b,A,x,D,k,g){for(var f=this,z=f.nodes,Y=f.preventOverlap,U=f.kr,G=f.kg,j=f.center,K=f.prune,nt=z.length,q=0;q<nt;q+=1){for(var J=q+1;J<nt;J+=1)if(!(K&&(g[q]<=1||g[J]<=1))){var ut=[z[J].x-z[q].x,z[J].y-z[q].y],st=Math.hypot(ut[0],ut[1]);st=st<1e-4?1e-4:st,ut[0]=ut[0]/st,ut[1]=ut[1]/st,Y&&b<A&&(st=st-k[q]-k[J]);var bt=U*(g[q]+1)*(g[J]+1)/st;Y&&b<A&&st<0?bt=D*(g[q]+1)*(g[J]+1):Y&&b<A&&st===0?bt=0:Y&&b<A&&st>0&&(bt=U*(g[q]+1)*(g[J]+1)/st),x[2*q]-=bt*ut[0],x[2*J]+=bt*ut[0],x[2*q+1]-=bt*ut[1],x[2*J+1]+=bt*ut[1]}var ht=[z[q].x-j[0],z[q].y-j[1]],kt=Math.hypot(ht[0],ht[1]);ht[0]=ht[0]/kt,ht[1]=ht[1]/kt;var Mt=G*(g[q]+1);x[2*q]-=Mt*ht[0],x[2*q+1]-=Mt*ht[1]}return x},E.prototype.getOptRepGraForces=function(b,A,x){for(var D=this,k=D.nodes,g=D.kg,f=D.center,z=D.prune,Y=k.length,U=9e10,G=-9e10,j=9e10,K=-9e10,nt=0;nt<Y;nt+=1)z&&x[nt]<=1||(A[nt].setPos(k[nt].x,k[nt].y),k[nt].x>=G&&(G=k[nt].x),k[nt].x<=U&&(U=k[nt].x),k[nt].y>=K&&(K=k[nt].y),k[nt].y<=j&&(j=k[nt].y));for(var q=Math.max(G-U,K-j),J={xmid:(G+U)/2,ymid:(K+j)/2,length:q,massCenter:f,mass:Y},ut=new P.default(J),st=new p.default(ut),nt=0;nt<Y;nt+=1)z&&x[nt]<=1||A[nt].in(ut)&&st.insert(A[nt]);for(var nt=0;nt<Y;nt+=1)if(!(z&&x[nt]<=1)){A[nt].resetForce(),st.updateForce(A[nt]),b[2*nt]-=A[nt].fx,b[2*nt+1]-=A[nt].fy;var bt=[k[nt].x-f[0],k[nt].y-f[1]],ht=Math.hypot(bt[0],bt[1]);ht=ht<1e-4?1e-4:ht,bt[0]=bt[0]/ht,bt[1]=bt[1]/ht;var kt=g*(x[nt]+1);b[2*nt]-=kt*bt[0],b[2*nt+1]-=kt*bt[1]}return b},E.prototype.updatePos=function(b,A,x,D){for(var k=this,g=k.nodes,f=k.ks,z=k.tao,Y=k.prune,U=k.ksmax,G=g.length,j=[],K=[],nt=0,q=0,J=0;J<G;J+=1)if(!(Y&&D[J]<=1)){var ut=[b[2*J]-A[2*J],b[2*J+1]-A[2*J+1]],st=Math.hypot(ut[0],ut[1]),bt=[b[2*J]+A[2*J],b[2*J+1]+A[2*J+1]],ht=Math.hypot(bt[0],bt[1]);j[J]=st,K[J]=ht/2,nt+=(D[J]+1)*j[J],q+=(D[J]+1)*K[J]}var kt=x;x=z*q/nt,kt!==0&&(x=x>1.5*kt?1.5*kt:x);for(var J=0;J<G;J+=1)if(!(Y&&D[J]<=1)&&!((0,_.isNumber)(g[J].fx)&&(0,_.isNumber)(g[J].fy))){var Mt=f*x/(1+x*Math.sqrt(j[J])),St=Math.hypot(b[2*J],b[2*J+1]);St=St<1e-4?1e-4:St;var V=U/St;Mt=Mt>V?V:Mt;var Q=Mt*b[2*J],xt=Mt*b[2*J+1];g[J].x+=Q,g[J].y+=xt}return{nodes:g,sg:x}},E}(w.Base);W.ForceAtlas2Layout=m},851638:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(){function y(R){this.xmid=R.xmid,this.ymid=R.ymid,this.length=R.length,this.massCenter=R.massCenter||[0,0],this.mass=R.mass||1}return y.prototype.getLength=function(){return this.length},y.prototype.contains=function(R,w){var _=this.length/2;return R<=this.xmid+_&&R>=this.xmid-_&&w<=this.ymid+_&&w>=this.ymid-_},y.prototype.NW=function(){var R=this.xmid-this.length/4,w=this.ymid+this.length/4,_=this.length/2,L={xmid:R,ymid:w,length:_},P=new y(L);return P},y.prototype.NE=function(){var R=this.xmid+this.length/4,w=this.ymid+this.length/4,_=this.length/2,L={xmid:R,ymid:w,length:_},P=new y(L);return P},y.prototype.SW=function(){var R=this.xmid-this.length/4,w=this.ymid-this.length/4,_=this.length/2,L={xmid:R,ymid:w,length:_},P=new y(L);return P},y.prototype.SE=function(){var R=this.xmid+this.length/4,w=this.ymid-this.length/4,_=this.length/2,L={xmid:R,ymid:w,length:_},P=new y(L);return P},y}();W.default=C},762732:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=function(){function y(R){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,R!=null&&(this.quad=R)}return y.prototype.insert=function(R){if(this.body==null){this.body=R;return}this._isExternal()?(this.quad&&(this.NW=new y(this.quad.NW()),this.NE=new y(this.quad.NE()),this.SW=new y(this.quad.SW()),this.SE=new y(this.quad.SE())),this._putBody(this.body),this._putBody(R),this.body=this.body.add(R)):(this.body=this.body.add(R),this._putBody(R))},y.prototype._putBody=function(R){this.quad&&(R.in(this.quad.NW())&&this.NW?this.NW.insert(R):R.in(this.quad.NE())&&this.NE?this.NE.insert(R):R.in(this.quad.SW())&&this.SW?this.SW.insert(R):R.in(this.quad.SE())&&this.SE&&this.SE.insert(R))},y.prototype._isExternal=function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null},y.prototype.updateForce=function(R){if(!(this.body==null||R===this.body))if(this._isExternal())R.addForce(this.body);else{var w=this.quad?this.quad.getLength():0,_=this.body.distanceTo(R);w/_<this.theta?R.addForce(this.body):(this.NW&&this.NW.updateForce(R),this.NE&&this.NE.updateForce(R),this.SW&&this.SW.updateForce(R),this.SE&&this.SE.updateForce(R))}},y}();W.default=C},589806:function(Ge,W,C){"use strict";var y=this&&this.__createBinding||(Object.create?function(p,m,S,E){E===void 0&&(E=S);var b=Object.getOwnPropertyDescriptor(m,S);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[S]}}),Object.defineProperty(p,E,b)}:function(p,m,S,E){E===void 0&&(E=S),p[E]=m[S]}),R=this&&this.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),w=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var S in p)S!=="default"&&Object.prototype.hasOwnProperty.call(p,S)&&y(m,p,S);return R(m,p),m};Object.defineProperty(W,"__esModule",{value:!0});var _=w(C(971497)),L=C(449784);function P(){function p(It){return function(){return It}}var m=function(It){return It.cluster},S=p(1),E=p(-1),b=p(100),A=p(.1),x=[0,0],D=[],k={},g=[],f=100,z=100,Y={none:{x:0,y:0}},U=[],G,j="force",K=!0,nt=.1;function q(It){if(!K)return q;G.tick(),kt();for(var ne=0,pe=D.length,Gt=void 0,qt=It*nt;ne<pe;++ne)Gt=D[ne],Gt.vx+=(Y[m(Gt)].x-Gt.x)*qt,Gt.vy+=(Y[m(Gt)].y-Gt.y)*qt}function J(){D&&ut()}function ut(){if(!(!D||!D.length)){if(m(D[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var It=st();G=_.forceSimulation(It.nodes).force("x",_.forceX(f).strength(.1)).force("y",_.forceY(z).strength(.1)).force("collide",_.forceCollide(function(ne){return ne.r}).iterations(4)).force("charge",_.forceManyBody().strength(E)).force("links",_.forceLink(It.nodes.length?It.links:[]).distance(b).strength(A)),U=G.nodes(),kt()}}function st(){var It=[],ne=[],pe={},Gt=[],qt={},$t=[];return qt=bt(D),$t=ht(g),Gt=Object.keys(qt),Gt.forEach(function(Zt,se){var Se=qt[Zt];It.push({id:Zt,size:Se.count,r:Math.sqrt(Se.sumforceNodeSize/Math.PI)}),pe[Zt]=se}),$t.forEach(function(Zt){var se=(0,L.getEdgeTerminal)(Zt,"source"),Se=(0,L.getEdgeTerminal)(Zt,"target"),Pt=pe[se],Fe=pe[Se];Pt!==void 0&&Fe!==void 0&&ne.push({source:Pt,target:Fe,count:Zt.count})}),{nodes:It,links:ne}}function bt(It){var ne={};return It.forEach(function(pe){var Gt=m(pe);ne[Gt]||(ne[Gt]={count:0,sumforceNodeSize:0})}),It.forEach(function(pe){var Gt=m(pe),qt=S(pe),$t=ne[Gt];$t.count=$t.count+1,$t.sumforceNodeSize=$t.sumforceNodeSize+Math.PI*(qt*qt)*1.3,ne[Gt]=$t}),ne}function ht(It){var ne={},pe=[];It.forEach(function(qt){var $t=Mt(qt),Zt=0;ne[$t]!==void 0&&(Zt=ne[$t]),Zt+=1,ne[$t]=Zt});var Gt=Object.entries(ne);return Gt.forEach(function(qt){var $t=qt[0],Zt=qt[1],se=$t.split("~")[0],Se=$t.split("~")[1];se!==void 0&&Se!==void 0&&pe.push({source:se,target:Se,count:Zt})}),pe}function kt(){return Y={none:{x:0,y:0}},U.forEach(function(It){Y[It.id]={x:It.x-x[0],y:It.y-x[1]}}),Y}function Mt(It){var ne=(0,L.getEdgeTerminal)(It,"source"),pe=(0,L.getEdgeTerminal)(It,"target"),Gt=m(k[ne]),qt=m(k[pe]);return Gt<=qt?"".concat(Gt,"~").concat(qt):"".concat(qt,"~").concat(Gt)}function St(It){k={},It.forEach(function(ne){k[ne.id]=ne})}function V(It){return arguments.length?(j=It,J(),q):j}function Q(It){return arguments.length?typeof It=="string"?(m=function(ne){return ne[It]},q):(m=It,q):m}function xt(It){return arguments.length?(K=It,q):K}function Ct(It){return arguments.length?(nt=It,q):nt}function et(It){return arguments.length?(f=It,q):f}function vt(It){return arguments.length?(z=It,q):z}function Tt(It){return arguments.length?(St(It||[]),D=It||[],q):D}function Ot(It){return arguments.length?(g=It||[],J(),q):g}function Et(It){return arguments.length?(typeof It=="function"?S=It:S=p(+It),J(),q):S}function Dt(It){return arguments.length?(typeof It=="function"?E=It:E=p(+It),J(),q):E}function Vt(It){return arguments.length?(typeof It=="function"?b=It:b=p(+It),J(),q):b}function ue(It){return arguments.length?(typeof It=="function"?A=It:A=p(+It),J(),q):A}function ee(It){return arguments.length?(x=It,q):x}return q.initialize=function(It){D=It,J()},q.template=V,q.groupBy=Q,q.enableGrouping=xt,q.strength=Ct,q.centerX=et,q.centerY=vt,q.nodes=Tt,q.links=Ot,q.forceNodeSize=Et,q.nodeSize=q.forceNodeSize,q.forceCharge=Dt,q.forceLinkDistance=Vt,q.forceLinkStrength=ue,q.offset=ee,q.getFocis=kt,q}W.default=P},508810:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var D=function(k,g){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,z){f.__proto__=z}||function(f,z){for(var Y in z)Object.prototype.hasOwnProperty.call(z,Y)&&(f[Y]=z[Y])},D(k,g)};return function(k,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");D(k,g);function f(){this.constructor=k}k.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}}(),R=this&&this.__createBinding||(Object.create?function(D,k,g,f){f===void 0&&(f=g);var z=Object.getOwnPropertyDescriptor(k,g);(!z||("get"in z?!k.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return k[g]}}),Object.defineProperty(D,f,z)}:function(D,k,g,f){f===void 0&&(f=g),D[f]=k[g]}),w=this&&this.__setModuleDefault||(Object.create?function(D,k){Object.defineProperty(D,"default",{enumerable:!0,value:k})}:function(D,k){D.default=k}),_=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var k={};if(D!=null)for(var g in D)g!=="default"&&Object.prototype.hasOwnProperty.call(D,g)&&R(k,D,g);return w(k,D),k},L=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(W,"__esModule",{value:!0}),W.ForceLayout=void 0;var P=_(C(971497)),p=L(C(589806)),m=C(449784),S=C(762329),E=C(416470),b=function(D){y(k,D);function k(g){var f=D.call(this)||this;return f.center=[0,0],f.nodeStrength=null,f.edgeStrength=null,f.preventOverlap=!1,f.clusterNodeStrength=null,f.clusterEdgeStrength=null,f.clusterEdgeDistance=null,f.clusterNodeSize=null,f.clusterFociStrength=null,f.linkDistance=50,f.alphaDecay=.028,f.alphaMin=.001,f.alpha=.3,f.collideStrength=1,f.workerEnabled=!1,f.tick=function(){},f.onLayoutEnd=function(){},f.ticking=void 0,g&&f.updateCfg(g),f}return k.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},k.prototype.init=function(g){var f=this;f.nodes=g.nodes||[];var z=g.edges||[];f.edges=z.map(function(Y){var U={},G=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(Y).forEach(function(j){G.indexOf(j)>-1||(U[j]=Y[j])}),U}),f.ticking=!1},k.prototype.execute=function(g){var f=this,z=f.nodes,Y=f.edges;if(!f.ticking){var U=f.forceSimulation,G=f.alphaMin,j=f.alphaDecay,K=f.alpha;if(U){if(g){if(f.clustering&&f.clusterForce&&(f.clusterForce.nodes(z),f.clusterForce.links(Y)),U.nodes(z),Y&&f.edgeForce)f.edgeForce.links(Y);else if(Y&&!f.edgeForce){var J=P.forceLink().id(function(ht){return ht.id}).links(Y);f.edgeStrength&&J.strength(f.edgeStrength),f.linkDistance&&J.distance(f.linkDistance),f.edgeForce=J,U.force("link",J)}}f.preventOverlap&&f.overlapProcess(U),U.alpha(K).restart(),this.ticking=!0}else try{var nt=P.forceManyBody();if(f.nodeStrength&&nt.strength(f.nodeStrength),U=P.forceSimulation().nodes(z),f.clustering){var q=(0,p.default)();q.centerX(f.center[0]).centerY(f.center[1]).template("force").strength(f.clusterFociStrength),Y&&q.links(Y),z&&q.nodes(z),q.forceLinkDistance(f.clusterEdgeDistance).forceLinkStrength(f.clusterEdgeStrength).forceCharge(f.clusterNodeStrength).forceNodeSize(f.clusterNodeSize),f.clusterForce=q,U.force("group",q)}if(U.force("center",P.forceCenter(f.center[0],f.center[1])).force("charge",nt).alpha(K).alphaDecay(j).alphaMin(G),f.preventOverlap&&f.overlapProcess(U),Y){var J=P.forceLink().id(function(bt){return bt.id}).links(Y);f.edgeStrength&&J.strength(f.edgeStrength),f.linkDistance&&J.distance(f.linkDistance),f.edgeForce=J,U.force("link",J)}if(f.workerEnabled&&!x()&&(f.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!f.workerEnabled)U.on("tick",function(){f.tick()}).on("end",function(){f.ticking=!1,f.onLayoutEnd&&f.onLayoutEnd()}),f.ticking=!0;else{U.stop();for(var ut=A(U),st=1;st<=ut;st++)U.tick(),postMessage({nodes:z,currentTick:st,totalTicks:ut,type:E.LAYOUT_MESSAGE.TICK},void 0);f.ticking=!1}f.forceSimulation=U,f.ticking=!0}catch(bt){f.ticking=!1,console.warn(bt)}}},k.prototype.overlapProcess=function(g){var f=this,z=f.nodeSize,Y=f.nodeSpacing,U,G,j=f.collideStrength;if((0,m.isNumber)(Y)?G=function(){return Y}:(0,m.isFunction)(Y)?G=Y:G=function(){return 0},!z)U=function(J){if(J.size){if((0,m.isArray)(J.size)){var ut=J.size[0]>J.size[1]?J.size[0]:J.size[1];return ut/2+G(J)}if((0,m.isObject)(J.size)){var ut=J.size.width>J.size.height?J.size.width:J.size.height;return ut/2+G(J)}return J.size/2+G(J)}return 10+G(J)};else if((0,m.isFunction)(z))U=function(J){var ut=z(J);return ut+G(J)};else if((0,m.isArray)(z)){var K=z[0]>z[1]?z[0]:z[1],nt=K/2;U=function(J){return nt+G(J)}}else if((0,m.isNumber)(z)){var q=z/2;U=function(J){return q+G(J)}}else U=function(){return 10};g.force("collisionForce",P.forceCollide(U).strength(j))},k.prototype.updateCfg=function(g){var f=this;f.ticking&&(f.forceSimulation.stop(),f.ticking=!1),f.forceSimulation=null,Object.assign(f,g)},k.prototype.destroy=function(){var g=this;g.ticking&&(g.forceSimulation.stop(),g.ticking=!1),g.nodes=null,g.edges=null,g.destroyed=!0},k}(S.Base);W.ForceLayout=b;function A(D){var k=D.alphaMin(),g=D.alphaTarget(),f=D.alpha(),z=Math.log((k-g)/(f-g))/Math.log(1-D.alphaDecay()),Y=Math.ceil(z);return Y}function x(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}},885717:function(Ge,W,C){"use strict";var y=this&&this.__createBinding||(Object.create?function(w,_,L,P){P===void 0&&(P=L);var p=Object.getOwnPropertyDescriptor(_,L);(!p||("get"in p?!_.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return _[L]}}),Object.defineProperty(w,P,p)}:function(w,_,L,P){P===void 0&&(P=L),w[P]=_[L]}),R=this&&this.__exportStar||function(w,_){for(var L in w)L!=="default"&&!Object.prototype.hasOwnProperty.call(_,L)&&y(_,w,L)};Object.defineProperty(W,"__esModule",{value:!0}),R(C(508810),W)},880374:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var P=function(p,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])},P(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(p,m);function S(){this.constructor=p}p.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.FruchtermanLayout=void 0;var R=C(762329),w=C(449784),_=800,L=function(P){y(p,P);function p(m){var S=P.call(this)||this;return S.maxIteration=1e3,S.workerEnabled=!1,S.gravity=10,S.speed=5,S.clustering=!1,S.clusterGravity=10,S.nodes=[],S.edges=[],S.width=300,S.height=300,S.nodeMap={},S.nodeIdxMap={},S.onLayoutEnd=function(){},S.tick=function(){},S.animate=!0,S.updateCfg(m),S}return p.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},p.prototype.execute=function(){var m=this,S,E,b=this,A=b.nodes;if(b.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(b.timeInterval),!A||A.length===0){(S=b.onLayoutEnd)===null||S===void 0||S.call(b);return}!b.width&&typeof window!="undefined"&&(b.width=window.innerWidth),!b.height&&typeof window!="undefined"&&(b.height=window.innerHeight),b.center||(b.center=[b.width/2,b.height/2]);var x=b.center;if(A.length===1){A[0].x=x[0],A[0].y=x[1],(E=b.onLayoutEnd)===null||E===void 0||E.call(b);return}var D={},k={};return A.forEach(function(g,f){(0,w.isNumber)(g.x)||(g.x=Math.random()*m.width),(0,w.isNumber)(g.y)||(g.y=Math.random()*m.height),D[g.id]=g,k[g.id]=f}),b.nodeMap=D,b.nodeIdxMap=k,b.run()},p.prototype.run=function(){var m,S=this,E=S.nodes;if(E){var b=S.edges,A=S.maxIteration,x=S.workerEnabled,D=S.clustering,k=S.animate,g={};if(D&&E.forEach(function(Y){g[Y.cluster]===void 0&&(g[Y.cluster]={name:Y.cluster,cx:0,cy:0,count:0})}),x||!k){for(var f=0;f<A;f++)S.runOneStep(g);(m=S.onLayoutEnd)===null||m===void 0||m.call(S)}else{if(typeof window=="undefined")return;var z=0;this.timeInterval=window.setInterval(function(){var Y;S.runOneStep(g),z++,z>=A&&((Y=S.onLayoutEnd)===null||Y===void 0||Y.call(S),window.clearInterval(S.timeInterval))},0)}return{nodes:E,edges:b}}},p.prototype.runOneStep=function(m){var S,E=this,b=E.nodes;if(b){var A=E.edges,x=E.center,D=E.gravity,k=E.speed,g=E.clustering,f=E.height*E.width,z=Math.sqrt(f)/10,Y=f/(b.length+1),U=Math.sqrt(Y),G=[];if(b.forEach(function(nt,q){G[q]={x:0,y:0}}),E.applyCalculate(b,A,G,U,Y),g){for(var j in m)m[j].cx=0,m[j].cy=0,m[j].count=0;b.forEach(function(nt){var q=m[nt.cluster];(0,w.isNumber)(nt.x)&&(q.cx+=nt.x),(0,w.isNumber)(nt.y)&&(q.cy+=nt.y),q.count++});for(var j in m)m[j].cx/=m[j].count,m[j].cy/=m[j].count;var K=E.clusterGravity||D;b.forEach(function(nt,q){if(!(!(0,w.isNumber)(nt.x)||!(0,w.isNumber)(nt.y))){var J=m[nt.cluster],ut=Math.sqrt((nt.x-J.cx)*(nt.x-J.cx)+(nt.y-J.cy)*(nt.y-J.cy)),st=U*K;G[q].x-=st*(nt.x-J.cx)/ut,G[q].y-=st*(nt.y-J.cy)/ut}})}b.forEach(function(nt,q){if(!(!(0,w.isNumber)(nt.x)||!(0,w.isNumber)(nt.y))){var J=.01*U*D;G[q].x-=J*(nt.x-x[0]),G[q].y-=J*(nt.y-x[1])}}),b.forEach(function(nt,q){if((0,w.isNumber)(nt.fx)&&(0,w.isNumber)(nt.fy)){nt.x=nt.fx,nt.y=nt.fy;return}if(!(!(0,w.isNumber)(nt.x)||!(0,w.isNumber)(nt.y))){var J=Math.sqrt(G[q].x*G[q].x+G[q].y*G[q].y);if(J>0){var ut=Math.min(z*(k/_),J);nt.x+=G[q].x/J*ut,nt.y+=G[q].y/J*ut}}}),(S=E.tick)===null||S===void 0||S.call(E)}},p.prototype.applyCalculate=function(m,S,E,b,A){var x=this;x.calRepulsive(m,E,A),S&&x.calAttractive(S,E,b)},p.prototype.calRepulsive=function(m,S,E){m.forEach(function(b,A){S[A]={x:0,y:0},m.forEach(function(x,D){if(A!==D&&!(!(0,w.isNumber)(b.x)||!(0,w.isNumber)(x.x)||!(0,w.isNumber)(b.y)||!(0,w.isNumber)(x.y))){var k=b.x-x.x,g=b.y-x.y,f=k*k+g*g;if(f===0){f=1;var z=A>D?1:-1;k=.01*z,g=.01*z}var Y=E/f;S[A].x+=k*Y,S[A].y+=g*Y}})})},p.prototype.calAttractive=function(m,S,E){var b=this;m.forEach(function(A){var x=(0,w.getEdgeTerminal)(A,"source"),D=(0,w.getEdgeTerminal)(A,"target");if(!(!x||!D)){var k=b.nodeIdxMap[x],g=b.nodeIdxMap[D];if(k!==g){var f=b.nodeMap[x],z=b.nodeMap[D];if(!(!(0,w.isNumber)(z.x)||!(0,w.isNumber)(f.x)||!(0,w.isNumber)(z.y)||!(0,w.isNumber)(f.y))){var Y=z.x-f.x,U=z.y-f.y,G=Math.sqrt(Y*Y+U*U),j=G*G/E;S[g].x-=Y/G*j,S[g].y-=U/G*j,S[k].x+=Y/G*j,S[k].y+=U/G*j}}}})},p.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},p.prototype.destroy=function(){var m=this;m.stop(),m.tick=null,m.nodes=null,m.edges=null,m.destroyed=!0},p.prototype.getType=function(){return"fruchterman"},p}(R.Base);W.FruchtermanLayout=L},113653:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var P=function(p,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])},P(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(p,m);function S(){this.constructor=p}p.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.GForceLayout=void 0;var R=C(762329),w=C(449784),_=function(P,p){var m;return P?(0,w.isNumber)(P)?m=function(S){return P}:m=P:m=function(S){return p||1},m},L=function(P){y(p,P);function p(m){var S=P.call(this)||this;return S.maxIteration=500,S.workerEnabled=!1,S.edgeStrength=200,S.nodeStrength=1e3,S.coulombDisScale=.005,S.damping=.9,S.maxSpeed=1e3,S.minMovement=.5,S.interval=.02,S.factor=1,S.linkDistance=1,S.gravity=10,S.preventOverlap=!0,S.collideStrength=1,S.tick=function(){},S.nodes=[],S.edges=[],S.width=300,S.height=300,S.nodeMap={},S.nodeIdxMap={},S.animate=!0,S.updateCfg(m),S}return p.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},p.prototype.execute=function(){var m,S,E=this,b=E.nodes;if(E.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(E.timeInterval),!b||b.length===0){(m=E.onLayoutEnd)===null||m===void 0||m.call(E);return}!E.width&&typeof window!="undefined"&&(E.width=window.innerWidth),!E.height&&typeof window!="undefined"&&(E.height=window.innerHeight),E.center||(E.center=[E.width/2,E.height/2]);var A=E.center;if(b.length===1){b[0].x=A[0],b[0].y=A[1],(S=E.onLayoutEnd)===null||S===void 0||S.call(E);return}var x={},D={};b.forEach(function(U,G){(0,w.isNumber)(U.x)||(U.x=Math.random()*E.width),(0,w.isNumber)(U.y)||(U.y=Math.random()*E.height),x[U.id]=U,D[U.id]=G}),E.nodeMap=x,E.nodeIdxMap=D,E.linkDistance=_(E.linkDistance,1),E.nodeStrength=_(E.nodeStrength,1),E.edgeStrength=_(E.edgeStrength,1);var k=E.nodeSize,g;if(E.preventOverlap){var f=E.nodeSpacing,z;(0,w.isNumber)(f)?z=function(){return f}:(0,w.isFunction)(f)?z=f:z=function(){return 0},k?(0,w.isArray)(k)?g=function(U){return Math.max(k[0],k[1])+z(U)}:g=function(U){return k+z(U)}:g=function(U){return U.size?(0,w.isArray)(U.size)?Math.max(U.size[0],U.size[1])+z(U):(0,w.isObject)(U.size)?Math.max(U.size.width,U.size.height)+z(U):U.size+z(U):10+z(U)}}E.nodeSize=g;var Y=E.edges;E.degrees=(0,w.getDegree)(b.length,E.nodeIdxMap,Y),E.getMass||(E.getMass=function(U){var G=U.mass||E.degrees[E.nodeIdxMap[U.id]].all||1;return G}),E.run()},p.prototype.run=function(){var m,S=this,E=S.maxIteration,b=S.nodes,A=S.workerEnabled,x=S.minMovement,D=S.animate;if(b)if(A||!D){for(var k=0;k<E;k++){var g=S.runOneStep(k);if(S.reachMoveThreshold(b,g,x))break}(m=S.onLayoutEnd)===null||m===void 0||m.call(S)}else{if(typeof window=="undefined")return;var f=0;this.timeInterval=window.setInterval(function(){var z,Y;if(b){var U=S.runOneStep(f)||[];S.reachMoveThreshold(b,U,x)&&((z=S.onLayoutEnd)===null||z===void 0||z.call(S),window.clearInterval(S.timeInterval)),f++,f>=E&&((Y=S.onLayoutEnd)===null||Y===void 0||Y.call(S),window.clearInterval(S.timeInterval))}},0)}},p.prototype.reachMoveThreshold=function(m,S,E){var b=0;return m.forEach(function(A,x){var D=A.x-S[x].x,k=A.y-S[x].y;b+=Math.sqrt(D*D+k*k)}),b/=m.length,b<E},p.prototype.runOneStep=function(m){var S,E=this,b=E.nodes,A=E.edges,x=[],D=[];if(b){b.forEach(function(f,z){x[2*z]=0,x[2*z+1]=0,D[2*z]=0,D[2*z+1]=0}),E.calRepulsive(x,b),A&&E.calAttractive(x,A),E.calGravity(x,b);var k=Math.max(.02,E.interval-m*.002);E.updateVelocity(x,D,k,b);var g=[];return b.forEach(function(f){g.push({x:f.x,y:f.y})}),E.updatePosition(D,k,b),(S=E.tick)===null||S===void 0||S.call(E),g}},p.prototype.calRepulsive=function(m,S){var E=this,b=E.getMass,A=E.factor,x=E.coulombDisScale,D=E.preventOverlap,k=E.collideStrength,g=k===void 0?1:k,f=E.nodeStrength,z=E.nodeSize;S.forEach(function(Y,U){var G=b?b(Y):1;S.forEach(function(j,K){if(!(U>=K)){var nt=Y.x-j.x,q=Y.y-j.y;nt===0&&q===0&&(nt=Math.random()*.01,q=Math.random()*.01);var J=nt*nt+q*q,ut=Math.sqrt(J),st=(ut+.1)*x,bt=nt/ut,ht=q/ut,kt=(f(Y)+f(j))*.5*A/(st*st),Mt=b?b(j):1;if(m[2*U]+=bt*kt,m[2*U+1]+=ht*kt,m[2*K]-=bt*kt,m[2*K+1]-=ht*kt,D&&(z(Y)+z(j))/2>ut){var St=g*(f(Y)+f(j))*.5/J;m[2*U]+=bt*St/G,m[2*U+1]+=ht*St/G,m[2*K]-=bt*St/Mt,m[2*K+1]-=ht*St/Mt}}})})},p.prototype.calAttractive=function(m,S){var E=this,b=E.nodeMap,A=E.nodeIdxMap,x=E.linkDistance,D=E.edgeStrength,k=E.nodeSize,g=E.getMass;S.forEach(function(f,z){var Y=(0,w.getEdgeTerminal)(f,"source"),U=(0,w.getEdgeTerminal)(f,"target"),G=b[Y],j=b[U],K=j.x-G.x,nt=j.y-G.y;K===0&&nt===0&&(K=Math.random()*.01,nt=Math.random()*.01);var q=Math.sqrt(K*K+nt*nt),J=K/q,ut=nt/q,st=x(f,G,j)||1+(k(G)+k(j)||0)/2,bt=st-q,ht=bt*D(f),kt=A[Y],Mt=A[U],St=g?g(G):1,V=g?g(j):1;m[2*kt]-=J*ht/St,m[2*kt+1]-=ut*ht/St,m[2*Mt]+=J*ht/V,m[2*Mt+1]+=ut*ht/V})},p.prototype.calGravity=function(m,S){for(var E=this,b=E.center,A=E.gravity,x=E.degrees,D=S.length,k=0;k<D;k++){var g=S[k],f=g.x-b[0],z=g.y-b[1],Y=A;if(E.getCenter){var U=E.getCenter(g,x[k].all);U&&(0,w.isNumber)(U[0])&&(0,w.isNumber)(U[1])&&(0,w.isNumber)(U[2])&&(f=g.x-U[0],z=g.y-U[1],Y=U[2])}Y&&(m[2*k]-=Y*f,m[2*k+1]-=Y*z)}},p.prototype.updateVelocity=function(m,S,E,b){var A=this,x=E*A.damping;b.forEach(function(D,k){var g=m[2*k]*x||.01,f=m[2*k+1]*x||.01,z=Math.sqrt(g*g+f*f);if(z>A.maxSpeed){var Y=A.maxSpeed/z;g=Y*g,f=Y*f}S[2*k]=g,S[2*k+1]=f})},p.prototype.updatePosition=function(m,S,E){E.forEach(function(b,A){if((0,w.isNumber)(b.fx)&&(0,w.isNumber)(b.fy)){b.x=b.fx,b.y=b.fy;return}var x=m[2*A]*S,D=m[2*A+1]*S;b.x+=x,b.y+=D})},p.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},p.prototype.destroy=function(){var m=this;m.stop(),m.tick=null,m.nodes=null,m.edges=null,m.destroyed=!0},p.prototype.getType=function(){return"gForce"},p}(R.Base);W.GForceLayout=L},687745:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var b=function(A,x){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,k){D.__proto__=k}||function(D,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(D[g]=k[g])},b(A,x)};return function(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");b(A,x);function D(){this.constructor=A}A.prototype=x===null?Object.create(x):(D.prototype=x.prototype,new D)}}(),R=this&&this.__awaiter||function(b,A,x,D){function k(g){return g instanceof x?g:new x(function(f){f(g)})}return new(x||(x=Promise))(function(g,f){function z(G){try{U(D.next(G))}catch(j){f(j)}}function Y(G){try{U(D.throw(G))}catch(j){f(j)}}function U(G){G.done?g(G.value):k(G.value).then(z,Y)}U((D=D.apply(b,A||[])).next())})},w=this&&this.__generator||function(b,A){var x={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},D,k,g,f;return f={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function z(U){return function(G){return Y([U,G])}}function Y(U){if(D)throw new TypeError("Generator is already executing.");for(;f&&(f=0,U[0]&&(x=0)),x;)try{if(D=1,k&&(g=U[0]&2?k.return:U[0]?k.throw||((g=k.return)&&g.call(k),0):k.next)&&!(g=g.call(k,U[1])).done)return g;switch(k=0,g&&(U=[U[0]&2,g.value]),U[0]){case 0:case 1:g=U;break;case 4:return x.label++,{value:U[1],done:!1};case 5:x.label++,k=U[1],U=[0];continue;case 7:U=x.ops.pop(),x.trys.pop();continue;default:if(g=x.trys,!(g=g.length>0&&g[g.length-1])&&(U[0]===6||U[0]===2)){x=0;continue}if(U[0]===3&&(!g||U[1]>g[0]&&U[1]<g[3])){x.label=U[1];break}if(U[0]===6&&x.label<g[1]){x.label=g[1],g=U;break}if(g&&x.label<g[2]){x.label=g[2],x.ops.push(U);break}g[2]&&x.ops.pop(),x.trys.pop();continue}U=A.call(b,x)}catch(G){U=[6,G],k=0}finally{D=g=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}};Object.defineProperty(W,"__esModule",{value:!0}),W.FruchtermanGPULayout=void 0;var _=C(762329),L=C(449784),P=C(901029),p=C(248835),m=C(108574),S=C(416470),E=function(b){y(A,b);function A(x){var D=b.call(this)||this;return D.maxIteration=1e3,D.gravity=10,D.speed=1,D.clustering=!1,D.clusterField="cluster",D.clusterGravity=10,D.workerEnabled=!1,D.nodes=[],D.edges=[],D.width=300,D.height=300,D.nodeMap={},D.nodeIdxMap={},D.updateCfg(x),D}return A.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},A.prototype.execute=function(){return R(this,void 0,void 0,function(){var x,D,k,g,f,z=this;return w(this,function(Y){switch(Y.label){case 0:return x=this,D=x.nodes,!D||D.length===0?(x.onLayoutEnd&&x.onLayoutEnd(),[2]):(!x.width&&typeof window!="undefined"&&(x.width=window.innerWidth),!x.height&&typeof window!="undefined"&&(x.height=window.innerHeight),x.center||(x.center=[x.width/2,x.height/2]),k=x.center,D.length===1?(D[0].x=k[0],D[0].y=k[1],x.onLayoutEnd&&x.onLayoutEnd(),[2]):(g={},f={},D.forEach(function(U,G){(0,L.isNumber)(U.x)||(U.x=Math.random()*z.width),(0,L.isNumber)(U.y)||(U.y=Math.random()*z.height),g[U.id]=U,f[U.id]=G}),x.nodeMap=g,x.nodeIdxMap=f,[4,x.run()]));case 1:return Y.sent(),[2]}})})},A.prototype.executeWithWorker=function(x,D){return R(this,void 0,void 0,function(){var k,g,f,z,Y,U=this;return w(this,function(G){switch(G.label){case 0:return k=this,g=k.nodes,f=k.center,!g||g.length===0?[2]:g.length===1?(g[0].x=f[0],g[0].y=f[1],[2]):(z={},Y={},g.forEach(function(j,K){(0,L.isNumber)(j.x)||(j.x=Math.random()*U.width),(0,L.isNumber)(j.y)||(j.y=Math.random()*U.height),z[j.id]=j,Y[j.id]=K}),k.nodeMap=z,k.nodeIdxMap=Y,[4,k.run(x,D)]);case 1:return G.sent(),[2]}})})},A.prototype.run=function(x,D){return R(this,void 0,void 0,function(){var k,g,f,z,Y,U,G,j,K,nt,q,J,ut,st,bt,ht,kt,Mt,St,V,Q,xt,Ct,et,vt,Tt,Ot=this;return w(this,function(Et){switch(Et.label){case 0:for(k=this,g=k.nodes,f=k.edges,z=k.maxIteration,Y=k.center,U=k.height*k.width,G=Math.sqrt(U)/10,j=U/(g.length+1),K=Math.sqrt(j),nt=k.speed,q=k.clustering,J=(0,p.attributesToTextureData)([k.clusterField],g),ut=J.array,st=J.count,g.forEach(function(Dt,Vt){var ue=0,ee=0;(0,L.isNumber)(Dt.fx)&&(0,L.isNumber)(Dt.fy)&&(ue=Dt.fx||.001,ee=Dt.fy||.001),ut[4*Vt+1]=ue,ut[4*Vt+2]=ee}),bt=g.length,ht=(0,p.buildTextureData)(g,f),kt=ht.maxEdgePerVetex,Mt=ht.array,St=k.workerEnabled,St?V=P.World.create({canvas:x,engineOptions:{supportCompute:!0}}):V=P.World.create({engineOptions:{supportCompute:!0}}),Q=k.onLayoutEnd,xt=[],Ct=0;Ct<st;Ct++)xt.push(0,0,0,0);return et=V.createKernel(m.fruchtermanBundle).setDispatch([bt,1,1]).setBinding({u_Data:Mt,u_K:K,u_K2:j,u_Gravity:k.gravity,u_ClusterGravity:k.clusterGravity||k.gravity||1,u_Speed:nt,u_MaxDisplace:G,u_Clustering:q?1:0,u_Center:Y,u_AttributeArray:ut,u_ClusterCenters:xt,MAX_EDGE_PER_VERTEX:kt,VERTEX_COUNT:bt}),q&&(vt=V.createKernel(m.clusterBundle).setDispatch([st,1,1]).setBinding({u_Data:Mt,u_NodeAttributes:ut,u_ClusterCenters:xt,VERTEX_COUNT:bt,CLUSTER_COUNT:st})),Tt=function(){return R(Ot,void 0,void 0,function(){var Dt,Vt;return w(this,function(ue){switch(ue.label){case 0:Dt=0,ue.label=1;case 1:return Dt<z?[4,et.execute()]:[3,6];case 2:return ue.sent(),q?(vt.setBinding({u_Data:et}),[4,vt.execute()]):[3,4];case 3:ue.sent(),et.setBinding({u_ClusterCenters:vt}),ue.label=4;case 4:et.setBinding({u_MaxDisplace:G*=.99}),ue.label=5;case 5:return Dt++,[3,1];case 6:return[4,et.getOutput()];case 7:return Vt=ue.sent(),x?D.postMessage({type:S.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:Vt}):g.forEach(function(ee,It){var ne=Vt[4*It],pe=Vt[4*It+1];ee.x=ne,ee.y=pe}),Q&&Q(),[2]}})})},[4,Tt()];case 1:return Et.sent(),[2]}})})},A.prototype.getType=function(){return"fruchterman-gpu"},A}(_.Base);W.FruchtermanGPULayout=E},108574:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.clusterBundle=W.clusterCode=W.fruchtermanBundle=W.fruchtermanCode=void 0,W.fruchtermanCode=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }

    // [gravity, fx, fy, 0]
    const nodeAttributes = this.u_AttributeArray[i];

    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {
      // the node is fixed
      this.u_Data[i] = [
        nodeAttributes[1],
        nodeAttributes[2],
        currentNode[2],
        currentNode[3]
      ];
      return;
    }

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;

    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,W.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',W.clusterCode=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,W.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},785194:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var A=function(x,D){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(k[f]=g[f])},A(x,D)};return function(x,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");A(x,D);function k(){this.constructor=x}x.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)}}(),R=this&&this.__awaiter||function(A,x,D,k){function g(f){return f instanceof D?f:new D(function(z){z(f)})}return new(D||(D=Promise))(function(f,z){function Y(j){try{G(k.next(j))}catch(K){z(K)}}function U(j){try{G(k.throw(j))}catch(K){z(K)}}function G(j){j.done?f(j.value):g(j.value).then(Y,U)}G((k=k.apply(A,x||[])).next())})},w=this&&this.__generator||function(A,x){var D={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},k,g,f,z;return z={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(z[Symbol.iterator]=function(){return this}),z;function Y(G){return function(j){return U([G,j])}}function U(G){if(k)throw new TypeError("Generator is already executing.");for(;z&&(z=0,G[0]&&(D=0)),D;)try{if(k=1,g&&(f=G[0]&2?g.return:G[0]?g.throw||((f=g.return)&&f.call(g),0):g.next)&&!(f=f.call(g,G[1])).done)return f;switch(g=0,f&&(G=[G[0]&2,f.value]),G[0]){case 0:case 1:f=G;break;case 4:return D.label++,{value:G[1],done:!1};case 5:D.label++,g=G[1],G=[0];continue;case 7:G=D.ops.pop(),D.trys.pop();continue;default:if(f=D.trys,!(f=f.length>0&&f[f.length-1])&&(G[0]===6||G[0]===2)){D=0;continue}if(G[0]===3&&(!f||G[1]>f[0]&&G[1]<f[3])){D.label=G[1];break}if(G[0]===6&&D.label<f[1]){D.label=f[1],f=G;break}if(f&&D.label<f[2]){D.label=f[2],D.ops.push(G);break}f[2]&&D.ops.pop(),D.trys.pop();continue}G=x.call(A,D)}catch(j){G=[6,j],g=0}finally{k=f=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}};Object.defineProperty(W,"__esModule",{value:!0}),W.GForceGPULayout=void 0;var _=C(762329),L=C(449784),P=C(901029),p=C(248835),m=C(280628),S=C(549762),E=C(416470),b=function(A){y(x,A);function x(D){var k=A.call(this)||this;return k.maxIteration=1e3,k.edgeStrength=200,k.nodeStrength=1e3,k.coulombDisScale=.005,k.damping=.9,k.maxSpeed=1e3,k.minMovement=.5,k.interval=.02,k.factor=1,k.linkDistance=1,k.gravity=10,k.workerEnabled=!1,k.nodes=[],k.edges=[],k.width=300,k.height=300,k.nodeMap={},k.nodeIdxMap={},k.updateCfg(D),k}return x.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},x.prototype.execute=function(){return R(this,void 0,void 0,function(){var D,k,g,f,z;return w(this,function(Y){switch(Y.label){case 0:return D=this,k=D.nodes,!k||k.length===0?(D.onLayoutEnd&&D.onLayoutEnd(),[2]):(!D.width&&typeof window!="undefined"&&(D.width=window.innerWidth),!D.height&&typeof window!="undefined"&&(D.height=window.innerHeight),D.center||(D.center=[D.width/2,D.height/2]),g=D.center,k.length===1?(k[0].x=g[0],k[0].y=g[1],D.onLayoutEnd&&D.onLayoutEnd(),[2]):(f={},z={},k.forEach(function(U,G){(0,L.isNumber)(U.x)||(U.x=Math.random()*D.width),(0,L.isNumber)(U.y)||(U.y=Math.random()*D.height),f[U.id]=U,z[U.id]=G}),D.nodeMap=f,D.nodeIdxMap=z,D.nodeStrength=(0,p.proccessToFunc)(D.nodeStrength,1),D.edgeStrength=(0,p.proccessToFunc)(D.edgeStrength,1),[4,D.run()]));case 1:return Y.sent(),[2]}})})},x.prototype.executeWithWorker=function(D,k){var g=this,f=g.nodes,z=g.center;if(!(!f||f.length===0)){if(f.length===1){f[0].x=z[0],f[0].y=z[1];return}var Y={},U={};f.forEach(function(G,j){(0,L.isNumber)(G.x)||(G.x=Math.random()*g.width),(0,L.isNumber)(G.y)||(G.y=Math.random()*g.height),Y[G.id]=G,U[G.id]=j}),g.nodeMap=Y,g.nodeIdxMap=U,g.nodeStrength=(0,p.proccessToFunc)(g.nodeStrength,1),g.edgeStrength=(0,p.proccessToFunc)(g.edgeStrength,1),g.run(D,k)}},x.prototype.run=function(D,k){return R(this,void 0,void 0,function(){var g,f,z,Y,U,G,j,K,nt,q,J,ut,st,bt,ht,kt,Mt,St,V,Q,xt,Ct,et,vt,Tt,Ot,Et,Dt=this;return w(this,function(Vt){switch(Vt.label){case 0:for(g=this,f=g.nodes,z=g.edges,Y=g.maxIteration,!g.width&&typeof window!="undefined"&&(g.width=window.innerWidth),!g.height&&typeof window!="undefined"&&(g.height=window.innerHeight),U=f.length,g.linkDistance=(0,p.proccessToFunc)(g.linkDistance),g.edgeStrength=(0,p.proccessToFunc)(g.edgeStrength),G=(0,p.buildTextureDataWithTwoEdgeAttr)(f,z,g.linkDistance,g.edgeStrength),j=G.maxEdgePerVetex,K=G.array,g.degrees=(0,m.getDegree)(f.length,g.nodeIdxMap,z).map(function(ue){return ue.all}),nt=[],q=[],J=[],ut=[],st=[],bt=[],ht=[],g.getMass||(g.getMass=function(ue){return g.degrees[g.nodeIdxMap[ue.id]]||1}),kt=g.gravity,Mt=g.center,f.forEach(function(ue,ee){nt.push(g.getMass(ue)),q.push(g.nodeStrength(ue)),g.degrees[ee]||(g.degrees[ee]=0);var It=[Mt[0],Mt[1],kt];if(g.getCenter){var ne=g.getCenter(ue,g.degrees[ee]);ne&&(0,L.isNumber)(ne[0])&&(0,L.isNumber)(ne[1])&&(0,L.isNumber)(ne[2])&&(It=ne)}J.push(It[0]),ut.push(It[1]),st.push(It[2]),(0,L.isNumber)(ue.fx)&&(0,L.isNumber)(ue.fy)?(bt.push(ue.fx||.001),ht.push(ue.fy||.001)):(bt.push(0),ht.push(0))}),St=(0,p.arrayToTextureData)([nt,g.degrees,q,bt]),V=(0,p.arrayToTextureData)([J,ut,st,ht]),Q=g.workerEnabled,Q?xt=P.World.create({canvas:D,engineOptions:{supportCompute:!0}}):xt=P.World.create({engineOptions:{supportCompute:!0}}),Ct=g.onLayoutEnd,et=[],K.forEach(function(ue){et.push(ue)}),vt=0;vt<4;vt++)et.push(0);return Tt=xt.createKernel(S.gForceBundle).setDispatch([U,1,1]).setBinding({u_Data:K,u_damping:g.damping,u_maxSpeed:g.maxSpeed,u_minMovement:g.minMovement,u_coulombDisScale:g.coulombDisScale,u_factor:g.factor,u_NodeAttributeArray1:St,u_NodeAttributeArray2:V,MAX_EDGE_PER_VERTEX:j,VERTEX_COUNT:U,u_AveMovement:et,u_interval:g.interval}),Ot=xt.createKernel(S.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:K,VERTEX_COUNT:U,u_AveMovement:[0,0,0,0]}),Et=function(){return R(Dt,void 0,void 0,function(){var ue,ee,It;return w(this,function(ne){switch(ne.label){case 0:ue=0,ne.label=1;case 1:return ue<Y?[4,Tt.execute()]:[3,5];case 2:return ne.sent(),Ot.setBinding({u_Data:Tt}),[4,Ot.execute()];case 3:ne.sent(),ee=Math.max(.02,g.interval-ue*.002),Tt.setBinding({u_interval:ee,u_AveMovement:Ot}),ne.label=4;case 4:return ue++,[3,1];case 5:return[4,Tt.getOutput()];case 6:return It=ne.sent(),D?k.postMessage({type:E.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:It}):f.forEach(function(pe,Gt){var qt=It[4*Gt],$t=It[4*Gt+1];pe.x=qt,pe.y=$t}),Ct&&Ct(),[2]}})})},[4,Et()];case 1:return Vt.sent(),[2]}})})},x.prototype.getType=function(){return"gForce-gpu"},x}(_.Base);W.GForceGPULayout=b},549762:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.aveMovementBundle=W.aveMovementCode=W.gForceBundle=W.gForceCode=void 0,W.gForceCode=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = (dist + 0.1) * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = nodeStrength * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    // [mass, degree, nodeStrength, fx]
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    // [centerX, centerY, centerGravity, fy]
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {
      this.u_Data[i] = [
        nodeAttributes1[3],
        nodeAttributes2[3],
        currentNode[2],
        0
      ];
    } else {
      const distx = vx * this.u_interval;
      const disty = vy * this.u_interval;
      const distLength = sqrt(distx * distx + disty * disty);
      this.u_Data[i] = [
        currentNode[0] + distx,
        currentNode[1] + disty,
        currentNode[2],
        distLength
      ];
    }
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,W.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',W.aveMovementCode=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,W.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},694414:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var L=function(P,p){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(m[E]=S[E])},L(P,p)};return function(P,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");L(P,p);function m(){this.constructor=P}P.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.GridLayout=void 0;var R=C(449784),w=C(762329),_=function(L){y(P,L);function P(p){var m=L.call(this)||this;return m.begin=[0,0],m.preventOverlap=!0,m.preventOverlapPadding=10,m.condense=!1,m.sortBy="degree",m.nodes=[],m.edges=[],m.width=300,m.height=300,m.row=0,m.col=0,m.cellWidth=0,m.cellHeight=0,m.cellUsed={},m.id2manPos={},m.onLayoutEnd=function(){},m.updateCfg(p),m}return P.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},P.prototype.execute=function(){var p=this,m=p.nodes,S=p.edges,E=p.begin,b=m.length;if(b===0)return p.onLayoutEnd&&p.onLayoutEnd(),{nodes:m,edges:S};if(b===1)return m[0].x=E[0],m[0].y=E[1],p.onLayoutEnd&&p.onLayoutEnd(),{nodes:m,edges:S};var A=p.sortBy,x=p.width,D=p.height,k=p.condense,g=p.preventOverlapPadding,f=p.preventOverlap,z=p.nodeSpacing,Y=p.nodeSize,U=[];m.forEach(function(St){U.push(St)});var G={};if(U.forEach(function(St,V){G[St.id]=V}),(A==="degree"||!(0,R.isString)(A)||U[0][A]===void 0)&&(A="degree",(0,R.isNaN)(m[0].degree))){var j=(0,R.getDegree)(U.length,G,S);U.forEach(function(St,V){St.degree=j[V].all})}U.sort(function(St,V){return V[A]-St[A]}),!x&&typeof window!="undefined"&&(x=window.innerWidth),!D&&typeof window!="undefined"&&(D=window.innerHeight);var K=p.rows,nt=p.cols!=null?p.cols:p.columns;if(p.cells=b,K!=null&&nt!=null?(p.rows=K,p.cols=nt):K!=null&&nt==null?(p.rows=K,p.cols=Math.ceil(p.cells/p.rows)):K==null&&nt!=null?(p.cols=nt,p.rows=Math.ceil(p.cells/p.cols)):(p.splits=Math.sqrt(p.cells*p.height/p.width),p.rows=Math.round(p.splits),p.cols=Math.round(p.width/p.height*p.splits)),p.rows=Math.max(p.rows,1),p.cols=Math.max(p.cols,1),p.cols*p.rows>p.cells){var q=p.small(),J=p.large();(q-1)*J>=p.cells?p.small(q-1):(J-1)*q>=p.cells&&p.large(J-1)}else for(;p.cols*p.rows<p.cells;){var q=p.small(),J=p.large();(J+1)*q>=p.cells?p.large(J+1):p.small(q+1)}if(p.cellWidth=x/p.cols,p.cellHeight=D/p.rows,k&&(p.cellWidth=0,p.cellHeight=0),f||z){var ut=(0,R.getFuncByUnknownType)(10,z),st=(0,R.getFuncByUnknownType)(30,Y,!1);U.forEach(function(St){(!St.x||!St.y)&&(St.x=0,St.y=0);var V=st(St)||30,Q,xt;(0,R.isArray)(V)?(Q=V[0],xt=V[1]):(Q=V,xt=V);var Ct=ut!==void 0?ut(St):g,et=Q+Ct,vt=xt+Ct;p.cellWidth=Math.max(p.cellWidth,et),p.cellHeight=Math.max(p.cellHeight,vt)})}p.cellUsed={},p.row=0,p.col=0,p.id2manPos={};for(var bt=0;bt<U.length;bt++){var ht=U[bt],kt=void 0;if(p.position&&(kt=p.position(ht)),kt&&(kt.row!==void 0||kt.col!==void 0)){var Mt={row:kt.row,col:kt.col};if(Mt.col===void 0)for(Mt.col=0;p.used(Mt.row,Mt.col);)Mt.col++;else if(Mt.row===void 0)for(Mt.row=0;p.used(Mt.row,Mt.col);)Mt.row++;p.id2manPos[ht.id]=Mt,p.use(Mt.row,Mt.col)}p.getPos(ht)}return p.onLayoutEnd&&p.onLayoutEnd(),{edges:S,nodes:U}},P.prototype.small=function(p){var m=this,S,E=m.rows||5,b=m.cols||5;if(p==null)S=Math.min(E,b);else{var A=Math.min(E,b);A===m.rows?m.rows=p:m.cols=p}return S},P.prototype.large=function(p){var m=this,S,E=m.rows||5,b=m.cols||5;if(p==null)S=Math.max(E,b);else{var A=Math.max(E,b);A===m.rows?m.rows=p:m.cols=p}return S},P.prototype.used=function(p,m){var S=this;return S.cellUsed["c-".concat(p,"-").concat(m)]||!1},P.prototype.use=function(p,m){var S=this;S.cellUsed["c-".concat(p,"-").concat(m)]=!0},P.prototype.moveToNextCell=function(){var p=this,m=p.cols||5;p.col++,p.col>=m&&(p.col=0,p.row++)},P.prototype.getPos=function(p){var m=this,S=m.begin,E=m.cellWidth,b=m.cellHeight,A,x,D=m.id2manPos[p.id];if(D)A=D.col*E+E/2+S[0],x=D.row*b+b/2+S[1];else{for(;m.used(m.row,m.col);)m.moveToNextCell();A=m.col*E+E/2+S[0],x=m.row*b+b/2+S[1],m.use(m.row,m.col),m.moveToNextCell()}p.x=A,p.y=x},P.prototype.getType=function(){return"grid"},P}(w.Base);W.GridLayout=_},702584:function(Ge,W,C){"use strict";var y=this&&this.__createBinding||(Object.create?function(j,K,nt,q){q===void 0&&(q=nt);var J=Object.getOwnPropertyDescriptor(K,nt);(!J||("get"in J?!K.__esModule:J.writable||J.configurable))&&(J={enumerable:!0,get:function(){return K[nt]}}),Object.defineProperty(j,q,J)}:function(j,K,nt,q){q===void 0&&(q=nt),j[q]=K[nt]}),R=this&&this.__exportStar||function(j,K){for(var nt in j)nt!=="default"&&!Object.prototype.hasOwnProperty.call(K,nt)&&y(K,j,nt)};Object.defineProperty(W,"__esModule",{value:!0}),W.ERLayout=W.ForceAtlas2Layout=W.ComboCombinedLayout=W.ComboForceLayout=W.GForceGPULayout=W.FruchtermanGPULayout=W.FruchtermanLayout=W.MDSLayout=W.ConcentricLayout=W.RadialLayout=W.DagreCompoundLayout=W.DagreLayout=W.CircularLayout=W.ForceLayout=W.Force2Layout=W.GForceLayout=W.RandomLayout=W.GridLayout=W.Layouts=W.Layout=void 0;var w=C(694414);Object.defineProperty(W,"GridLayout",{enumerable:!0,get:function(){return w.GridLayout}});var _=C(539711);Object.defineProperty(W,"RandomLayout",{enumerable:!0,get:function(){return _.RandomLayout}});var L=C(113653);Object.defineProperty(W,"GForceLayout",{enumerable:!0,get:function(){return L.GForceLayout}});var P=C(306740);Object.defineProperty(W,"Force2Layout",{enumerable:!0,get:function(){return P.Force2Layout}});var p=C(885717);Object.defineProperty(W,"ForceLayout",{enumerable:!0,get:function(){return p.ForceLayout}});var m=C(964885);Object.defineProperty(W,"CircularLayout",{enumerable:!0,get:function(){return m.CircularLayout}});var S=C(920171);Object.defineProperty(W,"DagreLayout",{enumerable:!0,get:function(){return S.DagreLayout}});var E=C(177057);Object.defineProperty(W,"DagreCompoundLayout",{enumerable:!0,get:function(){return E.DagreCompoundLayout}});var b=C(847944);Object.defineProperty(W,"RadialLayout",{enumerable:!0,get:function(){return b.RadialLayout}});var A=C(843281);Object.defineProperty(W,"ConcentricLayout",{enumerable:!0,get:function(){return A.ConcentricLayout}});var x=C(352899);Object.defineProperty(W,"MDSLayout",{enumerable:!0,get:function(){return x.MDSLayout}});var D=C(880374);Object.defineProperty(W,"FruchtermanLayout",{enumerable:!0,get:function(){return D.FruchtermanLayout}});var k=C(687745);Object.defineProperty(W,"FruchtermanGPULayout",{enumerable:!0,get:function(){return k.FruchtermanGPULayout}});var g=C(785194);Object.defineProperty(W,"GForceGPULayout",{enumerable:!0,get:function(){return g.GForceGPULayout}});var f=C(366590);Object.defineProperty(W,"ComboForceLayout",{enumerable:!0,get:function(){return f.ComboForceLayout}});var z=C(263861);Object.defineProperty(W,"ComboCombinedLayout",{enumerable:!0,get:function(){return z.ComboCombinedLayout}});var Y=C(148564);Object.defineProperty(W,"ForceAtlas2Layout",{enumerable:!0,get:function(){return Y.ForceAtlas2Layout}});var U=C(290441);Object.defineProperty(W,"ERLayout",{enumerable:!0,get:function(){return U.ERLayout}});var G=C(842875);Object.defineProperty(W,"Layout",{enumerable:!0,get:function(){return G.Layout}}),Object.defineProperty(W,"Layouts",{enumerable:!0,get:function(){return G.Layouts}}),R(C(932867),W)},842875:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.Layouts=W.Layout=void 0;var y=C(695326),R=C(694414),w=C(539711),_=C(306740),L=C(113653),P=C(885717),p=C(964885),m=C(920171),S=C(847944),E=C(843281),b=C(352899),A=C(880374),x=C(687745),D=C(785194),k=C(366590),g=C(263861),f=C(148564),z=C(290441),Y=C(177057),U=C(449784),G=function(){function j(K){var nt=(0,y.getLayoutByName)(K.type);this.layoutInstance=new nt(K)}return j.prototype.layout=function(K){return this.layoutInstance.layout(K)},j.prototype.updateCfg=function(K){this.layoutInstance.updateCfg(K)},j.prototype.init=function(K){this.correctLayers(K.nodes),this.layoutInstance.init(K)},j.prototype.correctLayers=function(K){if(K!=null&&K.length){var nt=1/0,q=[];if(K.forEach(function(ut){(0,U.isString)(ut.layer)&&(ut.layer=parseInt(ut.layer,10)),!(ut.layer===void 0||isNaN(ut.layer))&&(q.push(ut),ut.layer<nt&&(nt=ut.layer))}),nt<=0){var J=Math.abs(nt)+1;q.forEach(function(ut){return ut.layer+=J})}}},j.prototype.execute=function(){this.layoutInstance.execute()},j.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},j.prototype.destroy=function(){return this.layoutInstance.destroy()},j}();W.Layout=G,W.Layouts={force:P.ForceLayout,fruchterman:A.FruchtermanLayout,forceAtlas2:f.ForceAtlas2Layout,gForce:L.GForceLayout,force2:_.Force2Layout,dagre:m.DagreLayout,dagreCompound:Y.DagreCompoundLayout,circular:p.CircularLayout,radial:S.RadialLayout,concentric:E.ConcentricLayout,grid:R.GridLayout,mds:b.MDSLayout,comboForce:k.ComboForceLayout,comboCombined:g.ComboCombinedLayout,random:w.RandomLayout,"gForce-gpu":D.GForceGPULayout,"fruchterman-gpu":x.FruchtermanGPULayout,er:z.ERLayout}},352899:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var P=function(p,m){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(S[b]=E[b])},P(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");P(p,m);function S(){this.constructor=p}p.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.MDSLayout=void 0;var R=C(405237),w=C(449784),_=C(762329),L=function(P){y(p,P);function p(m){var S=P.call(this)||this;return S.center=[0,0],S.linkDistance=50,S.nodes=[],S.edges=[],S.onLayoutEnd=function(){},S.updateCfg(m),S}return p.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},p.prototype.execute=function(){var m=this,S=m.nodes,E=m.edges,b=E===void 0?[]:E,A=m.center;if(!S||S.length===0){m.onLayoutEnd&&m.onLayoutEnd();return}if(S.length===1){S[0].x=A[0],S[0].y=A[1],m.onLayoutEnd&&m.onLayoutEnd();return}var x=m.linkDistance,D=(0,w.getAdjMatrix)({nodes:S,edges:b},!1),k=(0,w.floydWarshall)(D);m.handleInfinity(k);var g=(0,w.scaleMatrix)(k,x);m.scaledDistances=g;var f=m.runMDS();return m.positions=f,f.forEach(function(z,Y){S[Y].x=z[0]+A[0],S[Y].y=z[1]+A[1]}),m.onLayoutEnd&&m.onLayoutEnd(),{nodes:S,edges:b}},p.prototype.runMDS=function(){var m=this,S=2,E=m.scaledDistances,b=R.Matrix.mul(R.Matrix.pow(E,2),-.5),A=b.mean("row"),x=b.mean("column"),D=b.mean();b.add(D).subRowVector(A).subColumnVector(x);var k=new R.SingularValueDecomposition(b),g=R.Matrix.sqrt(k.diagonalMatrix).diagonal();return k.leftSingularVectors.toJSON().map(function(f){return R.Matrix.mul([f],[g]).toJSON()[0].splice(0,S)})},p.prototype.handleInfinity=function(m){var S=-999999;m.forEach(function(E){E.forEach(function(b){b!==1/0&&S<b&&(S=b)})}),m.forEach(function(E,b){E.forEach(function(A,x){A===1/0&&(m[b][x]=S)})})},p.prototype.getType=function(){return"mds"},p}(_.Base);W.MDSLayout=L},847944:function(Ge,W,C){"use strict";var y=this&&this.__createBinding||(Object.create?function(w,_,L,P){P===void 0&&(P=L);var p=Object.getOwnPropertyDescriptor(_,L);(!p||("get"in p?!_.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return _[L]}}),Object.defineProperty(w,P,p)}:function(w,_,L,P){P===void 0&&(P=L),w[P]=_[L]}),R=this&&this.__exportStar||function(w,_){for(var L in w)L!=="default"&&!Object.prototype.hasOwnProperty.call(_,L)&&y(_,w,L)};Object.defineProperty(W,"__esModule",{value:!0}),R(C(255974),W)},366082:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var y=C(405237),R=function(){function w(_){this.distances=_.distances,this.dimension=_.dimension||2,this.linkDistance=_.linkDistance}return w.prototype.layout=function(){var _=this,L=_.dimension,P=_.distances,p=_.linkDistance;try{var m=y.Matrix.mul(y.Matrix.pow(P,2),-.5),S=m.mean("row"),E=m.mean("column"),b=m.mean();m.add(b).subRowVector(S).subColumnVector(E);var A=new y.SingularValueDecomposition(m),x=y.Matrix.sqrt(A.diagonalMatrix).diagonal();return A.leftSingularVectors.toJSON().map(function(z){return y.Matrix.mul([z],[x]).toJSON()[0].splice(0,L)})}catch(z){for(var D=[],k=0;k<P.length;k++){var g=Math.random()*p,f=Math.random()*p;D.push([g,f])}return D}},w}();W.default=R},255974:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var b=function(A,x){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,k){D.__proto__=k}||function(D,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(D[g]=k[g])},b(A,x)};return function(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");b(A,x);function D(){this.constructor=A}A.prototype=x===null?Object.create(x):(D.prototype=x.prototype,new D)}}(),R=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(W,"__esModule",{value:!0}),W.RadialLayout=void 0;var w=C(449784),_=C(762329),L=R(C(366082)),P=R(C(706290));function p(b){for(var A=b.length,x=b[0].length,D=[],k=0;k<A;k++){for(var g=[],f=0;f<x;f++)b[k][f]!==0?g.push(1/(b[k][f]*b[k][f])):g.push(0);D.push(g)}return D}function m(b,A){var x=-1;return b.forEach(function(D,k){D.id===A&&(x=k)}),x}function S(b,A){return Math.sqrt((b[0]-A[0])*(b[0]-A[0])+(b[1]-A[1])*(b[1]-A[1]))}var E=function(b){y(A,b);function A(x){var D=b.call(this)||this;return D.maxIteration=1e3,D.focusNode=null,D.unitRadius=null,D.linkDistance=50,D.preventOverlap=!1,D.strictRadial=!0,D.maxPreventOverlapIteration=200,D.sortStrength=10,D.nodes=[],D.edges=[],D.updateCfg(x),D}return A.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},A.prototype.execute=function(){var x=this,D=x.nodes,k=x.edges||[];if(!D||D.length===0){x.onLayoutEnd&&x.onLayoutEnd();return}!x.width&&typeof window!="undefined"&&(x.width=window.innerWidth),!x.height&&typeof window!="undefined"&&(x.height=window.innerHeight),x.center||(x.center=[x.width/2,x.height/2]);var g=x.center;if(D.length===1){D[0].x=g[0],D[0].y=g[1],x.onLayoutEnd&&x.onLayoutEnd();return}var f=x.linkDistance,z=null;if((0,w.isString)(x.focusNode)){for(var Y=!1,U=0;U<D.length;U++)D[U].id===x.focusNode&&(z=D[U],x.focusNode=z,Y=!0,U=D.length);Y||(z=null)}else z=x.focusNode;z||(z=D[0],x.focusNode=z);var G=m(D,z.id);G<0&&(G=0),x.focusIndex=G;var j=(0,w.getAdjMatrix)({nodes:D,edges:k},!1),K=(0,w.floydWarshall)(j),nt=x.maxToFocus(K,G);x.handleInfinity(K,G,nt+1),x.distances=K;var q=K[G],J=x.width||500,ut=x.height||500,st=J-g[0]>g[0]?g[0]:J-g[0],bt=ut-g[1]>g[1]?g[1]:ut-g[1];st===0&&(st=J/2),bt===0&&(bt=ut/2);var ht=bt>st?st:bt,kt=Math.max.apply(Math,q),Mt=[];q.forEach(function(ue,ee){x.unitRadius||(x.unitRadius=ht/kt),Mt[ee]=ue*x.unitRadius}),x.radii=Mt;var St=x.eIdealDisMatrix();x.eIdealDistances=St;var V=p(St);x.weights=V;var Q=new L.default({linkDistance:f,distances:St}),xt=Q.layout();xt.forEach(function(ue){(0,w.isNaN)(ue[0])&&(ue[0]=Math.random()*f),(0,w.isNaN)(ue[1])&&(ue[1]=Math.random()*f)}),x.positions=xt,xt.forEach(function(ue,ee){D[ee].x=ue[0]+g[0],D[ee].y=ue[1]+g[1]}),xt.forEach(function(ue){ue[0]-=xt[G][0],ue[1]-=xt[G][1]}),x.run();var Ct=x.preventOverlap,et=x.nodeSize,vt,Tt=x.strictRadial;if(Ct){var Ot=x.nodeSpacing,Et;(0,w.isNumber)(Ot)?Et=function(){return Ot}:(0,w.isFunction)(Ot)?Et=Ot:Et=function(){return 0},et?(0,w.isArray)(et)?vt=function(ue){var ee=et[0]>et[1]?et[0]:et[1];return ee+Et(ue)}:vt=function(ue){return et+Et(ue)}:vt=function(ue){if(ue.size){if((0,w.isArray)(ue.size)){var ee=ue.size[0]>ue.size[1]?ue.size[0]:ue.size[1];return ee+Et(ue)}if((0,w.isObject)(ue.size)){var ee=ue.size.width>ue.size.height?ue.size.width:ue.size.height;return ee+Et(ue)}return ue.size+Et(ue)}return 10+Et(ue)};var Dt={nodes:D,nodeSizeFunc:vt,adjMatrix:j,positions:xt,radii:Mt,height:ut,width:J,strictRadial:Tt,focusID:G,iterations:x.maxPreventOverlapIteration||200,k:xt.length/4.5},Vt=new P.default(Dt);xt=Vt.layout()}return xt.forEach(function(ue,ee){D[ee].x=ue[0]+g[0],D[ee].y=ue[1]+g[1]}),x.onLayoutEnd&&x.onLayoutEnd(),{nodes:D,edges:k}},A.prototype.run=function(){for(var x=this,D=x.maxIteration,k=x.positions||[],g=x.weights||[],f=x.eIdealDistances||[],z=x.radii||[],Y=0;Y<=D;Y++){var U=Y/D;x.oneIteration(U,k,z,f,g)}},A.prototype.oneIteration=function(x,D,k,g,f){var z=this,Y=1-x,U=z.focusIndex;D.forEach(function(G,j){var K=S(G,[0,0]),nt=K===0?0:1/K;if(j!==U){var q=0,J=0,ut=0;D.forEach(function(bt,ht){if(j!==ht){var kt=S(G,bt),Mt=kt===0?0:1/kt,St=g[ht][j];ut+=f[j][ht],q+=f[j][ht]*(bt[0]+St*(G[0]-bt[0])*Mt),J+=f[j][ht]*(bt[1]+St*(G[1]-bt[1])*Mt)}});var st=k[j]===0?0:1/k[j];ut*=Y,ut+=x*st*st,q*=Y,q+=x*st*G[0]*nt,G[0]=q/ut,J*=Y,J+=x*st*G[1]*nt,G[1]=J/ut}})},A.prototype.eIdealDisMatrix=function(){var x=this,D=x.nodes;if(!D)return[];var k=x.distances,g=x.linkDistance,f=x.radii||[],z=x.unitRadius||50,Y=[];return k&&k.forEach(function(U,G){var j=[];U.forEach(function(K,nt){if(G===nt)j.push(0);else if(f[G]===f[nt])if(x.sortBy==="data")j.push(K*(Math.abs(G-nt)*x.sortStrength)/(f[G]/z));else if(x.sortBy){var q=D[G][x.sortBy]||0,J=D[nt][x.sortBy]||0;(0,w.isString)(q)&&(q=q.charCodeAt(0)),(0,w.isString)(J)&&(J=J.charCodeAt(0)),j.push(K*(Math.abs(q-J)*x.sortStrength)/(f[G]/z))}else j.push(K*g/(f[G]/z));else{var ut=(g+z)/2;j.push(K*ut)}}),Y.push(j)}),Y},A.prototype.handleInfinity=function(x,D,k){for(var g=x.length,f=0;f<g;f++)if(x[D][f]===1/0){x[D][f]=k,x[f][D]=k;for(var z=0;z<g;z++)x[f][z]!==1/0&&x[D][z]===1/0&&(x[D][z]=k+x[f][z],x[z][D]=k+x[f][z])}for(var f=0;f<g;f++)if(f!==D){for(var z=0;z<g;z++)if(x[f][z]===1/0){var Y=Math.abs(x[D][f]-x[D][z]);Y=Y===0?1:Y,x[f][z]=Y}}},A.prototype.maxToFocus=function(x,D){for(var k=0,g=0;g<x[D].length;g++)x[D][g]!==1/0&&(k=x[D][g]>k?x[D][g]:k);return k},A.prototype.getType=function(){return"radial"},A}(_.Base);W.RadialLayout=E},706290:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var C=800,y=function(){function R(w){this.disp=[],this.positions=w.positions,this.adjMatrix=w.adjMatrix,this.focusID=w.focusID,this.radii=w.radii,this.iterations=w.iterations||10,this.height=w.height||10,this.width=w.width||10,this.speed=w.speed||100,this.gravity=w.gravity||10,this.nodeSizeFunc=w.nodeSizeFunc,this.k=w.k||5,this.strictRadial=w.strictRadial,this.nodes=w.nodes}return R.prototype.layout=function(){var w=this,_=w.positions,L=[],P=w.iterations,p=w.width/10;w.maxDisplace=p,w.disp=L;for(var m=0;m<P;m++)_.forEach(function(S,E){L[E]={x:0,y:0}}),w.getRepulsion(),w.updatePositions();return _},R.prototype.getRepulsion=function(){var w=this,_=w.positions,L=w.nodes,P=w.disp,p=w.k,m=w.radii||[];_.forEach(function(S,E){P[E]={x:0,y:0},_.forEach(function(b,A){if(E!==A&&m[E]===m[A]){var x=S[0]-b[0],D=S[1]-b[1],k=Math.sqrt(x*x+D*D);if(k===0){k=1;var g=E>A?1:-1;x=.01*g,D=.01*g}if(k<w.nodeSizeFunc(L[E])/2+w.nodeSizeFunc(L[A])/2){var f=p*p/k;P[E].x+=x/k*f,P[E].y+=D/k*f}}})})},R.prototype.updatePositions=function(){var w=this,_=w.positions,L=w.disp,P=w.speed,p=w.strictRadial,m=w.focusID,S=w.maxDisplace||w.width/10;p&&L.forEach(function(b,A){var x=_[A][0]-_[m][0],D=_[A][1]-_[m][1],k=Math.sqrt(x*x+D*D),g=D/k,f=-x/k,z=Math.sqrt(b.x*b.x+b.y*b.y),Y=Math.acos((g*b.x+f*b.y)/z);Y>Math.PI/2&&(Y-=Math.PI/2,g*=-1,f*=-1);var U=Math.cos(Y)*z;b.x=g*U,b.y=f*U});var E=w.radii;_.forEach(function(b,A){if(A!==m){var x=Math.sqrt(L[A].x*L[A].x+L[A].y*L[A].y);if(x>0&&A!==m){var D=Math.min(S*(P/C),x);if(b[0]+=L[A].x/x*D,b[1]+=L[A].y/x*D,p){var k=b[0]-_[m][0],g=b[1]-_[m][1],f=Math.sqrt(k*k+g*g);k=k/f*E[A],g=g/f*E[A],b[0]=_[m][0]+k,b[1]=_[m][1]+g}}}})},R}();W.default=y},539711:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var _=function(L,P){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(p[S]=m[S])},_(L,P)};return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");_(L,P);function p(){this.constructor=L}L.prototype=P===null?Object.create(P):(p.prototype=P.prototype,new p)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.RandomLayout=void 0;var R=C(762329),w=function(_){y(L,_);function L(P){var p=_.call(this)||this;return p.center=[0,0],p.width=300,p.height=300,p.nodes=[],p.edges=[],p.onLayoutEnd=function(){},p.updateCfg(P),p}return L.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},L.prototype.execute=function(){var P=this,p=P.nodes,m=.9,S=P.center;return!P.width&&typeof window!="undefined"&&(P.width=window.innerWidth),!P.height&&typeof window!="undefined"&&(P.height=window.innerHeight),p&&p.forEach(function(E){E.x=(Math.random()-.5)*m*P.width+S[0],E.y=(Math.random()-.5)*m*P.height+S[1]}),P.onLayoutEnd&&P.onLayoutEnd(),{nodes:p,edges:this.edges}},L.prototype.getType=function(){return"random"},L}(R.Base);W.RandomLayout=w},932867:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0})},695326:function(Ge,W,C){"use strict";var y=this&&this.__extends||function(){var m=function(S,E){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(b[x]=A[x])},m(S,E)};return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");m(S,E);function b(){this.constructor=S}S.prototype=E===null?Object.create(E):(b.prototype=E.prototype,new b)}}();Object.defineProperty(W,"__esModule",{value:!0}),W.getLayoutByName=W.unRegisterLayout=W.registerLayout=void 0;var R=C(762329),w=C(449784),_=new Map,L=function(m,S){if(_.get(m)&&console.warn("The layout with the name ".concat(m," exists already, it will be overridden")),(0,w.isObject)(S)){var E=function(b){y(A,b);function A(x){var D=b.call(this)||this,k=D,g={},f=k.getDefaultCfg();return Object.assign(g,f,S,x),Object.keys(g).forEach(function(z){var Y=g[z];k[z]=Y}),D}return A}(R.Base);_.set(m,E)}else _.set(m,S);return _.get(m)};W.registerLayout=L;var P=function(m){_.has(m)&&_.delete(m)};W.unRegisterLayout=P;var p=function(m){return _.has(m)?_.get(m):null};W.getLayoutByName=p},185087:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.isArray=void 0,W.isArray=Array.isArray},578732:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.getFuncByUnknownType=W.getFunc=W.isFunction=void 0;var y=C(449784),R=C(330627),w=function(P){return typeof P=="function"};W.isFunction=w;var _=function(P,p,m){var S;return m?S=m:(0,R.isNumber)(P)?S=function(){return P}:S=function(){return p},S};W.getFunc=_;var L=function(P,p,m){return m===void 0&&(m=!0),!p&&p!==0?function(S){return S.size?(0,y.isArray)(S.size)?S.size[0]>S.size[1]?S.size[0]:S.size[1]:(0,y.isObject)(S.size)?S.size.width>S.size.height?S.size.width:S.size.height:S.size:P}:(0,W.isFunction)(p)?p:(0,R.isNumber)(p)?function(){return p}:(0,y.isArray)(p)?function(){if(m){var S=Math.max.apply(Math,p);return isNaN(S)?P:S}return p}:(0,y.isObject)(p)?function(){if(m){var S=Math.max(p.width,p.height);return isNaN(S)?P:S}return[p.width,p.height]}:function(){return P}};W.getFuncByUnknownType=L},248835:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.arrayToTextureData=W.attributesToTextureData=W.buildTextureDataWithTwoEdgeAttr=W.buildTextureData=W.proccessToFunc=void 0;var y=C(449784),R=C(280628),w=function(m,S){var E;return m?(0,y.isNumber)(m)?E=function(){return m}:E=m:E=function(){return S||1},E};W.proccessToFunc=w;var _=function(m,S){var E=[],b=[],A={},x=0;for(x=0;x<m.length;x++){var D=m[x];A[D.id]=x,E.push(D.x),E.push(D.y),E.push(0),E.push(0),b.push([])}for(x=0;x<S.length;x++){var k=S[x],g=(0,R.getEdgeTerminal)(k,"source"),f=(0,R.getEdgeTerminal)(k,"target");!isNaN(A[g])&&!isNaN(A[f])&&(b[A[g]].push(A[f]),b[A[f]].push(A[g]))}var z=0;for(x=0;x<m.length;x++){var Y=E.length,U=b[x],G=U.length;E[x*4+2]=Y,E[x*4+3]=G,z=Math.max(z,G);for(var j=0;j<G;++j){var K=U[j];E.push(+K)}}for(;E.length%4!==0;)E.push(0);return{maxEdgePerVetex:z,array:new Float32Array(E)}};W.buildTextureData=_;var L=function(m,S,E,b){var A=[],x=[],D={},k=0;for(k=0;k<m.length;k++){var g=m[k];D[g.id]=k,A.push(g.x),A.push(g.y),A.push(0),A.push(0),x.push([])}for(k=0;k<S.length;k++){var f=S[k],z=(0,R.getEdgeTerminal)(f,"source"),Y=(0,R.getEdgeTerminal)(f,"target");x[D[z]].push(D[Y]),x[D[z]].push(E(f)),x[D[z]].push(b(f)),x[D[z]].push(0),x[D[Y]].push(D[z]),x[D[Y]].push(E(f)),x[D[Y]].push(b(f)),x[D[Y]].push(0)}var U=0;for(k=0;k<m.length;k++){var G=A.length,j=x[k],K=j.length;A[k*4+2]=G+1048576*K/4,A[k*4+3]=0,U=Math.max(U,K/4);for(var nt=0;nt<K;++nt){var q=j[nt];A.push(+q)}}for(;A.length%4!==0;)A.push(0);return{maxEdgePerVetex:U,array:new Float32Array(A)}};W.buildTextureDataWithTwoEdgeAttr=L;var P=function(m,S){var E=[],b=m.length,A={};return S.forEach(function(x){m.forEach(function(D,k){if(A[x[D]]===void 0&&(A[x[D]]=Object.keys(A).length),E.push(A[x[D]]),k===b-1)for(;E.length%4!==0;)E.push(0)})}),{array:new Float32Array(E),count:Object.keys(A).length}};W.attributesToTextureData=P;var p=function(m){for(var S=[],E=m.length,b=m[0].length,A=function(D){m.forEach(function(k,g){if(S.push(k[D]),g===E-1)for(;S.length%4!==0;)S.push(0)})},x=0;x<b;x++)A(x);return new Float32Array(S)};W.arrayToTextureData=p},449784:function(Ge,W,C){"use strict";var y=this&&this.__createBinding||(Object.create?function(w,_,L,P){P===void 0&&(P=L);var p=Object.getOwnPropertyDescriptor(_,L);(!p||("get"in p?!_.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return _[L]}}),Object.defineProperty(w,P,p)}:function(w,_,L,P){P===void 0&&(P=L),w[P]=_[L]}),R=this&&this.__exportStar||function(w,_){for(var L in w)L!=="default"&&!Object.prototype.hasOwnProperty.call(_,L)&&y(_,w,L)};Object.defineProperty(W,"__esModule",{value:!0}),R(C(708055),W),R(C(185087),W),R(C(330627),W),R(C(280628),W),R(C(898130),W),R(C(578732),W)},280628:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.getCoreNodeAndRelativeLeafNodes=W.getAvgNodePosition=W.getLayoutBBox=W.traverseTreeUp=W.scaleMatrix=W.getAdjMatrix=W.floydWarshall=W.getDegreeMap=W.getDegree=W.getEdgeTerminal=void 0;var y=C(185087),R=C(330627),w=C(898130),_=function(z,Y){var U=z[Y];return(0,w.isObject)(U)?U.cell:U};W.getEdgeTerminal=_;var L=function(z,Y,U){for(var G=[],j=0;j<z;j++)G[j]={in:0,out:0,all:0};return U&&U.forEach(function(K){var nt=(0,W.getEdgeTerminal)(K,"source"),q=(0,W.getEdgeTerminal)(K,"target");nt&&G[Y[nt]]&&(G[Y[nt]].out+=1,G[Y[nt]].all+=1),q&&G[Y[q]]&&(G[Y[q]].in+=1,G[Y[q]].all+=1)}),G};W.getDegree=L;var P=function(z,Y){var U={};return z.forEach(function(G){U[G.id]={in:0,out:0,all:0}}),Y&&Y.forEach(function(G){var j=(0,W.getEdgeTerminal)(G,"source"),K=(0,W.getEdgeTerminal)(G,"target");j&&(U[j].out+=1,U[j].all+=1),K&&(U[K].in+=1,U[K].all+=1)}),U};W.getDegreeMap=P;var p=function(z){for(var Y=[],U=z.length,G=0;G<U;G+=1){Y[G]=[];for(var j=0;j<U;j+=1)G===j?Y[G][j]=0:z[G][j]===0||!z[G][j]?Y[G][j]=1/0:Y[G][j]=z[G][j]}for(var K=0;K<U;K+=1)for(var G=0;G<U;G+=1)for(var j=0;j<U;j+=1)Y[G][j]>Y[G][K]+Y[K][j]&&(Y[G][j]=Y[G][K]+Y[K][j]);return Y};W.floydWarshall=p;var m=function(z,Y){var U=z.nodes,G=z.edges,j=[],K={};if(!U)throw new Error("invalid nodes data!");return U&&U.forEach(function(nt,q){K[nt.id]=q;var J=[];j.push(J)}),G==null||G.forEach(function(nt){var q=(0,W.getEdgeTerminal)(nt,"source"),J=(0,W.getEdgeTerminal)(nt,"target"),ut=K[q],st=K[J];ut===void 0||st===void 0||(j[ut][st]=1,Y||(j[st][ut]=1))}),j};W.getAdjMatrix=m;var S=function(z,Y){var U=[];return z.forEach(function(G){var j=[];G.forEach(function(K){j.push(K*Y)}),U.push(j)}),U};W.scaleMatrix=S;var E=function(z,Y){if(z&&z.children){for(var U=z.children.length-1;U>=0;U--)if(!E(z.children[U],Y))return}return!!Y(z)},b=function(z,Y){typeof Y=="function"&&E(z,Y)};W.traverseTreeUp=b;var A=function(z){var Y=1/0,U=1/0,G=-1/0,j=-1/0;return z.forEach(function(K){var nt=K.size;(0,y.isArray)(nt)?nt.length===1&&(nt=[nt[0],nt[0]]):(0,R.isNumber)(nt)?nt=[nt,nt]:(nt===void 0||isNaN(nt))&&(nt=[30,30]);var q=[nt[0]/2,nt[1]/2],J=K.x-q[0],ut=K.x+q[0],st=K.y-q[1],bt=K.y+q[1];Y>J&&(Y=J),U>st&&(U=st),G<ut&&(G=ut),j<bt&&(j=bt)}),{minX:Y,minY:U,maxX:G,maxY:j}};W.getLayoutBBox=A;var x=function(z){var Y={x:0,y:0};z.forEach(function(G){Y.x+=G.x||0,Y.y+=G.y||0});var U=z.length||1;return{x:Y.x/U,y:Y.y/U}};W.getAvgNodePosition=x;var D=function(z,Y,U){var G,j;return z==="source"?((G=U==null?void 0:U.find(function(K){return K.target===Y.id}))===null||G===void 0?void 0:G.source)||{}:((j=U==null?void 0:U.find(function(K){return K.source===Y.id}))===null||j===void 0?void 0:j.target)||{}},k=function(z,Y,U){var G=[];switch(z){case"source":G=U==null?void 0:U.filter(function(K){return K.source===Y.id}).map(function(K){return K.target});break;case"target":G=U==null?void 0:U.filter(function(K){return K.target===Y.id}).map(function(K){return K.source});break;case"both":G=U==null?void 0:U.filter(function(K){return K.source===Y.id}).map(function(K){return K.target}).concat(U==null?void 0:U.filter(function(K){return K.target===Y.id}).map(function(K){return K.source}));break;default:break}var j=new Set(G);return Array.from(j)},g=function(z,Y,U,G,j){var K=U[Y]||"",nt=(G==null?void 0:G.filter(function(q){return q[Y]===K}))||[];return z==="leaf"&&(nt=nt.filter(function(q){var J,ut;return((J=j[q.id])===null||J===void 0?void 0:J.in)===0||((ut=j[q.id])===null||ut===void 0?void 0:ut.out)===0})),nt},f=function(z,Y,U,G,j,K){var nt=j[Y.id],q=nt.in,J=nt.out,ut=Y,st=[];q===0?(ut=D("source",Y,U),st=k("both",ut,U).map(function(ht){return K[ht]})):J===0&&(ut=D("target",Y,U),st=k("both",ut,U).map(function(ht){return K[ht]})),st=st.filter(function(ht){return j[ht.id]&&(j[ht.id].in===0||j[ht.id].out===0)});var bt=g(z,G,Y,st,j);return{coreNode:ut,relativeLeafNodes:st,sameTypeLeafNodes:bt}};W.getCoreNodeAndRelativeLeafNodes=f},330627:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.toNumber=W.isNaN=W.isNumber=void 0;var C=function(w){return typeof w=="number"};W.isNumber=C;var y=function(w){return Number.isNaN(Number(w))};W.isNaN=y;var R=function(w){var _=parseFloat(w);return(0,W.isNaN)(_)?w:_};W.toNumber=R},898130:function(Ge,W){"use strict";var C=this&&this.__assign||function(){return C=Object.assign||function(w){for(var _,L=1,P=arguments.length;L<P;L++){_=arguments[L];for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(w[p]=_[p])}return w},C.apply(this,arguments)};Object.defineProperty(W,"__esModule",{value:!0}),W.clone=W.isObject=void 0;var y=function(w){return w!==null&&typeof w=="object"};W.isObject=y;var R=function(w){if(w===null)return w;if(w instanceof Date)return new Date(w.getTime());if(w instanceof Array){var _=[];return w.forEach(function(P){_.push(P)}),_.map(function(P){return(0,W.clone)(P)})}if(typeof w=="object"&&Object.keys(w).length){var L=C({},w);return Object.keys(L).forEach(function(P){L[P]=(0,W.clone)(L[P])}),L}return w};W.clone=R},708055:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.camelize=W.isString=void 0;var C=function(w){return typeof w=="string"};W.isString=C;var y=function(w){var _=Object.create(null);return function(L){var P=_[L];return P||(_[L]=w(L))}},R=/-(\w)/g;W.camelize=y(function(w){return w.replace(R,function(_,L){return L?L.toUpperCase():""})})},731278:function(Ge,W,C){"use strict";var y;y={value:!0};var R=C(858204);function w(b,A,x){var D=[0,0,0,0,0,0,0,0,0];return R.mat3.fromTranslation(D,x),R.mat3.multiply(b,D,A)}y=w;function _(b,A,x){var D=[0,0,0,0,0,0,0,0,0];return R.mat3.fromRotation(D,x),R.mat3.multiply(b,D,A)}y=_;function L(b,A,x){var D=[0,0,0,0,0,0,0,0,0];return R.mat3.fromScaling(D,x),R.mat3.multiply(b,D,A)}y=L;function P(b,A,x){return R.mat3.multiply(b,x,A)}function p(b,A){for(var x=b?[].concat(b):[1,0,0,0,1,0,0,0,1],D=0,k=A.length;D<k;D++){var g=A[D];switch(g[0]){case"t":w(x,x,[g[1],g[2]]);break;case"s":L(x,x,[g[1],g[2]]);break;case"r":_(x,x,g[1]);break;case"m":P(x,x,g[1]);break;default:break}}return x}W.vs=p;function m(b,A){return b[0]*A[1]-A[0]*b[1]}y=m;function S(b,A,x){var D=R.vec2.angle(b,A),k=m(b,A)>=0;return x?k?Math.PI*2-D:D:k?D:Math.PI*2-D}y=S;function E(b,A,x){return x?(b[0]=A[1],b[1]=-1*A[0]):(b[0]=-1*A[1],b[1]=A[0]),b}y=E},413810:function(Ge,W,C){"use strict";C.r(W),C.d(W,{Cache:function(){return ha},assign:function(){return Kr},augment:function(){return Mn},clamp:function(){return te},clearAnimationFrame:function(){return Sr},clone:function(){return Un},contains:function(){return _},debounce:function(){return aa},deepMix:function(){return Pa},difference:function(){return m},each:function(){return z},endsWith:function(){return Rr},every:function(){return br},extend:function(){return ui},filter:function(){return P},find:function(){return st},findIndex:function(){return ht},firstValue:function(){return Mt},fixedBase:function(){return Ft},flatten:function(){return V},flattenDeep:function(){return xt},forIn:function(){return he},get:function(){return Ni},getEllipsisText:function(){return Uo},getRange:function(){return Tt},getType:function(){return _o},getWrapBehavior:function(){return kn},group:function(){return jr},groupBy:function(){return xn},groupToMap:function(){return rr},has:function(){return Me},hasKey:function(){return ye},hasValue:function(){return cr},head:function(){return _r},identity:function(){return co},includes:function(){return _},indexOf:function(){return Ra},isArguments:function(){return Ti},isArray:function(){return k},isArrayLike:function(){return R},isBoolean:function(){return Ri},isDate:function(){return Ba},isDecimal:function(){return ae},isElement:function(){return ar},isEmpty:function(){return fi},isEqual:function(){return di},isEqualWith:function(){return ki},isError:function(){return Fo},isEven:function(){return ct},isFinite:function(){return uo},isFunction:function(){return A},isInteger:function(){return M},isMatch:function(){return j},isNegative:function(){return $},isNil:function(){return D},isNull:function(){return Li},isNumber:function(){return Ut},isNumberEqual:function(){return zt},isObject:function(){return g},isObjectLike:function(){return nt},isOdd:function(){return Kt},isPlainObject:function(){return J},isPositive:function(){return be},isPrototype:function(){return si},isRegExp:function(){return Qn},isString:function(){return Zt},isType:function(){return b},isUndefined:function(){return fe},keys:function(){return U},last:function(){return Ur},lowerCase:function(){return ln},lowerFirst:function(){return sn},map:function(){return Ui},mapValues:function(){return Ao},max:function(){return Ct},maxBy:function(){return We},measureTextWidth:function(){return Go},memoize:function(){return Ya},min:function(){return et},minBy:function(){return fr},mix:function(){return Kr},mod:function(){return Pr},noop:function(){return gi},number2color:function(){return Nn},omit:function(){return Ma},parseRadius:function(){return Xe},pick:function(){return Bi},pull:function(){return ue},pullAt:function(){return ne},reduce:function(){return Gt},remove:function(){return $t},requestAnimationFrame:function(){return Tr},set:function(){return ka},size:function(){return zo},some:function(){return Ir},sortBy:function(){return Se},startsWith:function(){return on},substitute:function(){return Jn},throttle:function(){return Wi},toArray:function(){return lo},toDegree:function(){return ur},toInteger:function(){return Lr},toRadian:function(){return Yt},toString:function(){return rn},union:function(){return vr},uniq:function(){return Pt},uniqueId:function(){return Do},upperCase:function(){return qn},upperFirst:function(){return za},values:function(){return nr},valuesOfKey:function(){return Cr},wrapBehavior:function(){return dn}});var y=function(Wt){return Wt!==null&&typeof Wt!="function"&&isFinite(Wt.length)},R=y,w=function(Wt,Le){return R(Wt)?Wt.indexOf(Le)>-1:!1},_=w,L=function(Wt,Le){if(!R(Wt))return Wt;for(var Je=[],mr=0;mr<Wt.length;mr++){var Zr=Wt[mr];Le(Zr,mr)&&Je.push(Zr)}return Je},P=L,p=function(Wt,Le){return Le===void 0&&(Le=[]),P(Wt,function(Je){return!_(Le,Je)})},m=p,S={}.toString,E=function(Wt,Le){return S.call(Wt)==="[object "+Le+"]"},b=E,A=function(Wt){return b(Wt,"Function")},x=function(Wt){return Wt==null},D=x,k=function(Wt){return Array.isArray?Array.isArray(Wt):b(Wt,"Array")},g=function(Wt){var Le=typeof Wt;return Wt!==null&&Le==="object"||Le==="function"};function f(Wt,Le){if(Wt){var Je;if(k(Wt))for(var mr=0,Zr=Wt.length;mr<Zr&&(Je=Le(Wt[mr],mr),Je!==!1);mr++);else if(g(Wt)){for(var fn in Wt)if(Wt.hasOwnProperty(fn)&&(Je=Le(Wt[fn],fn),Je===!1))break}}}var z=f,Y=Object.keys?function(Wt){return Object.keys(Wt)}:function(Wt){var Le=[];return z(Wt,function(Je,mr){A(Wt)&&mr==="prototype"||Le.push(mr)}),Le},U=Y;function G(Wt,Le){var Je=U(Le),mr=Je.length;if(D(Wt))return!mr;for(var Zr=0;Zr<mr;Zr+=1){var fn=Je[Zr];if(Le[fn]!==Wt[fn]||!(fn in Wt))return!1}return!0}var j=G,K=function(Wt){return typeof Wt=="object"&&Wt!==null},nt=K,q=function(Wt){if(!nt(Wt)||!b(Wt,"Object"))return!1;if(Object.getPrototypeOf(Wt)===null)return!0;for(var Le=Wt;Object.getPrototypeOf(Le)!==null;)Le=Object.getPrototypeOf(Le);return Object.getPrototypeOf(Wt)===Le},J=q;function ut(Wt,Le){if(!k(Wt))return null;var Je;if(A(Le)&&(Je=Le),J(Le)&&(Je=function(Zr){return j(Zr,Le)}),Je){for(var mr=0;mr<Wt.length;mr+=1)if(Je(Wt[mr]))return Wt[mr]}return null}var st=ut;function bt(Wt,Le,Je){Je===void 0&&(Je=0);for(var mr=Je;mr<Wt.length;mr++)if(Le(Wt[mr],mr))return mr;return-1}var ht=bt,kt=function(Wt,Le){for(var Je=null,mr=0;mr<Wt.length;mr++){var Zr=Wt[mr],fn=Zr[Le];if(!D(fn)){k(fn)?Je=fn[0]:Je=fn;break}}return Je},Mt=kt,St=function(Wt){if(!k(Wt))return[];for(var Le=[],Je=0;Je<Wt.length;Je++)Le=Le.concat(Wt[Je]);return Le},V=St,Q=function(Wt,Le){if(Le===void 0&&(Le=[]),!k(Wt))Le.push(Wt);else for(var Je=0;Je<Wt.length;Je+=1)Q(Wt[Je],Le);return Le},xt=Q,Ct=function(Wt){if(k(Wt))return Wt.reduce(function(Le,Je){return Math.max(Le,Je)},Wt[0])},et=function(Wt){if(k(Wt))return Wt.reduce(function(Le,Je){return Math.min(Le,Je)},Wt[0])},vt=function(Wt){var Le=Wt.filter(function(Fn){return!isNaN(Fn)});if(!Le.length)return{min:0,max:0};if(k(Wt[0])){for(var Je=[],mr=0;mr<Wt.length;mr++)Je=Je.concat(Wt[mr]);Le=Je}var Zr=Ct(Le),fn=et(Le);return{min:fn,max:Zr}},Tt=vt,Ot=Array.prototype,Et=Ot.splice,Dt=Ot.indexOf,Vt=function(Wt){for(var Le=[],Je=1;Je<arguments.length;Je++)Le[Je-1]=arguments[Je];for(var mr=0;mr<Le.length;mr++)for(var Zr=Le[mr],fn=-1;(fn=Dt.call(Wt,Zr))>-1;)Et.call(Wt,fn,1);return Wt},ue=Vt,ee=Array.prototype.splice,It=function(Le,Je){if(!R(Le))return[];for(var mr=Le?Je.length:0,Zr=mr-1;mr--;){var fn=void 0,Fn=Je[mr];(mr===Zr||Fn!==fn)&&(fn=Fn,ee.call(Le,Fn,1))}return Le},ne=It,pe=function(Wt,Le,Je){if(!k(Wt)&&!J(Wt))return Wt;var mr=Je;return z(Wt,function(Zr,fn){mr=Le(mr,Zr,fn)}),mr},Gt=pe,qt=function(Wt,Le){var Je=[];if(!R(Wt))return Je;for(var mr=-1,Zr=[],fn=Wt.length;++mr<fn;){var Fn=Wt[mr];Le(Fn,mr,Wt)&&(Je.push(Fn),Zr.push(mr))}return ne(Wt,Zr),Je},$t=qt,Zt=function(Wt){return b(Wt,"String")};function se(Wt,Le){var Je;if(A(Le))Je=function(Zr,fn){return Le(Zr)-Le(fn)};else{var mr=[];Zt(Le)?mr.push(Le):k(Le)&&(mr=Le),Je=function(Zr,fn){for(var Fn=0;Fn<mr.length;Fn+=1){var Da=mr[Fn];if(Zr[Da]>fn[Da])return 1;if(Zr[Da]<fn[Da])return-1}return 0}}return Wt.sort(Je),Wt}var Se=se;function Pt(Wt,Le){Le===void 0&&(Le=new Map);var Je=[];if(Array.isArray(Wt))for(var mr=0,Zr=Wt.length;mr<Zr;mr++){var fn=Wt[mr];Le.has(fn)||(Je.push(fn),Le.set(fn,!0))}return Je}var Fe=function(){for(var Wt=[],Le=0;Le<arguments.length;Le++)Wt[Le]=arguments[Le];return Pt([].concat.apply([],Wt))},vr=Fe,Cr=function(Wt,Le){for(var Je=[],mr={},Zr=0;Zr<Wt.length;Zr++){var fn=Wt[Zr],Fn=fn[Le];if(!D(Fn)){k(Fn)||(Fn=[Fn]);for(var Da=0;Da<Fn.length;Da++){var hi=Fn[Da];mr[hi]||(Je.push(hi),mr[hi]=!0)}}}return Je};function _r(Wt){if(R(Wt))return Wt[0]}function Ur(Wt){if(R(Wt)){var Le=Wt;return Le[Le.length-1]}}function nn(Wt,Le){return k(Wt)||Zt(Wt)?Wt[0]===Le:!1}var on=nn;function tr(Wt,Le){return k(Wt)||Zt(Wt)?Wt[Wt.length-1]===Le:!1}var Rr=tr,qr=function(Wt,Le){for(var Je=0;Je<Wt.length;Je++)if(!Le(Wt[Je],Je))return!1;return!0},br=qr,zr=function(Wt,Le){for(var Je=0;Je<Wt.length;Je++)if(Le(Wt[Je],Je))return!0;return!1},Ir=zr,je=Object.prototype.hasOwnProperty;function qe(Wt,Le){if(!Le||!k(Wt))return{};for(var Je={},mr=A(Le)?Le:function(Da){return Da[Le]},Zr,fn=0;fn<Wt.length;fn++){var Fn=Wt[fn];Zr=mr(Fn),je.call(Je,Zr)?Je[Zr].push(Fn):Je[Zr]=[Fn]}return Je}var xn=qe;function rr(Wt,Le){if(!Le)return{0:Wt};if(!A(Le)){var Je=k(Le)?Le:Le.replace(/\s+/g,"").split("*");Le=function(mr){for(var Zr="_",fn=0,Fn=Je.length;fn<Fn;fn++)Zr+=mr[Je[fn]]&&mr[Je[fn]].toString();return Zr}}return xn(Wt,Le)}var jr=function(Wt,Le){if(!Le)return[Wt];var Je=rr(Wt,Le),mr=[];for(var Zr in Je)mr.push(Je[Zr]);return mr};function Nr(Wt,Le){return Wt["_wrap_"+Le]}var kn=Nr;function an(Wt,Le){if(Wt["_wrap_"+Le])return Wt["_wrap_"+Le];var Je=function(mr){Wt[Le](mr)};return Wt["_wrap_"+Le]=Je,Je}var dn=an,Sn={};function Dn(Wt){var Le=Sn[Wt];if(!Le){for(var Je=Wt.toString(16),mr=Je.length;mr<6;mr++)Je="0"+Je;Le="#"+Je,Sn[Wt]=Le}return Le}var Nn=Dn;function rt(Wt){var Le=0,Je=0,mr=0,Zr=0;return k(Wt)?Wt.length===1?Le=Je=mr=Zr=Wt[0]:Wt.length===2?(Le=mr=Wt[0],Je=Zr=Wt[1]):Wt.length===3?(Le=Wt[0],Je=Zr=Wt[1],mr=Wt[2]):(Le=Wt[0],Je=Wt[1],mr=Wt[2],Zr=Wt[3]):Le=Je=mr=Zr=Wt,{r1:Le,r2:Je,r3:mr,r4:Zr}}var Xe=rt,Xt=function(Wt,Le,Je){return Wt<Le?Le:Wt>Je?Je:Wt},te=Xt,ot=function(Wt,Le){var Je=Le.toString(),mr=Je.indexOf(".");if(mr===-1)return Math.round(Wt);var Zr=Je.substr(mr+1).length;return Zr>20&&(Zr=20),parseFloat(Wt.toFixed(Zr))},Ft=ot,ft=function(Wt){return b(Wt,"Number")},Ut=ft,re=function(Wt){return Ut(Wt)&&Wt%1!==0},ae=re,at=function(Wt){return Ut(Wt)&&Wt%2===0},ct=at,F=Number.isInteger?Number.isInteger:function(Wt){return Ut(Wt)&&Wt%1===0},M=F,O=function(Wt){return Ut(Wt)&&Wt<0},$=O,mt=1e-5;function zt(Wt,Le,Je){return Je===void 0&&(Je=mt),Math.abs(Wt-Le)<Je}var Rt=function(Wt){return Ut(Wt)&&Wt%2!==0},Kt=Rt,Te=function(Wt){return Ut(Wt)&&Wt>0},be=Te,We=function(Wt,Le){if(k(Wt)){for(var Je,mr=-1/0,Zr=0;Zr<Wt.length;Zr++){var fn=Wt[Zr],Fn=A(Le)?Le(fn):fn[Le];Fn>mr&&(Je=fn,mr=Fn)}return Je}},fr=function(Wt,Le){if(k(Wt)){for(var Je,mr=1/0,Zr=0;Zr<Wt.length;Zr++){var fn=Wt[Zr],Fn=A(Le)?Le(fn):fn[Le];Fn<mr&&(Je=fn,mr=Fn)}return Je}},He=function(Wt,Le){return(Wt%Le+Le)%Le},Pr=He,un=180/Math.PI,Ue=function(Wt){return un*Wt},ur=Ue,Lr=parseInt,Or=Math.PI/180,ce=function(Wt){return Or*Wt},Yt=ce,he=z,Me=function(Wt,Le){return Wt.hasOwnProperty(Le)},ye=Me,Ne=Object.values?function(Wt){return Object.values(Wt)}:function(Wt){var Le=[];return z(Wt,function(Je,mr){A(Wt)&&mr==="prototype"||Le.push(Je)}),Le},nr=Ne,cr=function(Wt,Le){return _(nr(Wt),Le)},rn=function(Wt){return D(Wt)?"":Wt.toString()},An=function(Wt){return rn(Wt).toLowerCase()},ln=An,Yn=function(Wt){var Le=rn(Wt);return Le.charAt(0).toLowerCase()+Le.substring(1)},sn=Yn;function Bn(Wt,Le){return!Wt||!Le?Wt:Wt.replace(/\\?\{([^{}]+)\}/g,function(Je,mr){return Je.charAt(0)==="\\"?Je.slice(1):Le[mr]===void 0?"":Le[mr]})}var Jn=Bn,sa=function(Wt){return rn(Wt).toUpperCase()},qn=sa,Za=function(Wt){var Le=rn(Wt);return Le.charAt(0).toUpperCase()+Le.substring(1)},za=Za,xa={}.toString,Ei=function(Wt){return xa.call(Wt).replace(/^\[object /,"").replace(/]$/,"")},_o=Ei,Mi=function(Wt){return b(Wt,"Arguments")},Ti=Mi,ga=function(Wt){return b(Wt,"Boolean")},Ri=ga,so=function(Wt){return b(Wt,"Date")},Ba=so,Zi=function(Wt){return b(Wt,"Error")},Fo=Zi;function uo(Wt){return Ut(Wt)&&isFinite(Wt)}var oi=function(Wt){return Wt===null},Li=oi,Gi=Object.prototype,Zo=function(Wt){var Le=Wt&&Wt.constructor,Je=typeof Le=="function"&&Le.prototype||Gi;return Wt===Je},si=Zo,Ai=function(Wt){return b(Wt,"RegExp")},Qn=Ai,Jt=function(Wt){return Wt===void 0},fe=Jt,Pe=function(Wt){return Wt instanceof Element||Wt instanceof HTMLDocument},ar=Pe;function Tr(Wt){var Le=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Je){return setTimeout(Je,16)};return Le(Wt)}function Sr(Wt){var Le=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Le(Wt)}function xr(Wt,Le){for(var Je in Le)Le.hasOwnProperty(Je)&&Je!=="constructor"&&Le[Je]!==void 0&&(Wt[Je]=Le[Je])}function Kr(Wt,Le,Je,mr){return Le&&xr(Wt,Le),Je&&xr(Wt,Je),mr&&xr(Wt,mr),Wt}var cn=function(){for(var Wt=[],Le=0;Le<arguments.length;Le++)Wt[Le]=arguments[Le];for(var Je=Wt[0],mr=1;mr<Wt.length;mr++){var Zr=Wt[mr];A(Zr)&&(Zr=Zr.prototype),Kr(Je.prototype,Zr)}},Mn=cn,Zn=function(Wt){if(typeof Wt!="object"||Wt===null)return Wt;var Le;if(k(Wt)){Le=[];for(var Je=0,mr=Wt.length;Je<mr;Je++)typeof Wt[Je]=="object"&&Wt[Je]!=null?Le[Je]=Zn(Wt[Je]):Le[Je]=Wt[Je]}else{Le={};for(var Zr in Wt)typeof Wt[Zr]=="object"&&Wt[Zr]!=null?Le[Zr]=Zn(Wt[Zr]):Le[Zr]=Wt[Zr]}return Le},Un=Zn;function na(Wt,Le,Je){var mr;return function(){var Zr=this,fn=arguments,Fn=function(){mr=null,Je||Wt.apply(Zr,fn)},Da=Je&&!mr;clearTimeout(mr),mr=setTimeout(Fn,Le),Da&&Wt.apply(Zr,fn)}}var aa=na,Ya=function(Wt,Le){if(!A(Wt))throw new TypeError("Expected a function");var Je=function(){for(var mr=[],Zr=0;Zr<arguments.length;Zr++)mr[Zr]=arguments[Zr];var fn=Le?Le.apply(this,mr):mr[0],Fn=Je.cache;if(Fn.has(fn))return Fn.get(fn);var Da=Wt.apply(this,mr);return Fn.set(fn,Da),Da};return Je.cache=new Map,Je},ua=5;function $n(Wt,Le,Je,mr){Je=Je||0,mr=mr||ua;for(var Zr in Le)if(Le.hasOwnProperty(Zr)){var fn=Le[Zr];fn!==null&&J(fn)?(J(Wt[Zr])||(Wt[Zr]={}),Je<mr?$n(Wt[Zr],fn,Je+1,mr):Wt[Zr]=Le[Zr]):k(fn)?(Wt[Zr]=[],Wt[Zr]=Wt[Zr].concat(fn)):fn!==void 0&&(Wt[Zr]=fn)}}var Ga=function(Wt){for(var Le=[],Je=1;Je<arguments.length;Je++)Le[Je-1]=arguments[Je];for(var mr=0;mr<Le.length;mr+=1)$n(Wt,Le[mr]);return Wt},Pa=Ga,Ea=function(Wt,Le,Je,mr){A(Le)||(Je=Le,Le=Wt,Wt=function(){});var Zr=Object.create?function(Fn,Da){return Object.create(Fn,{constructor:{value:Da}})}:function(Fn,Da){function hi(){}hi.prototype=Fn;var to=new hi;return to.constructor=Da,to},fn=Zr(Le.prototype,Wt);return Wt.prototype=Kr(fn,Wt.prototype),Wt.superclass=Zr(Le.prototype,Le),Kr(fn,Je),Kr(Wt,mr),Wt},ui=Ea,qa=function(Wt,Le){if(!R(Wt))return-1;var Je=Array.prototype.indexOf;if(Je)return Je.call(Wt,Le);for(var mr=-1,Zr=0;Zr<Wt.length;Zr++)if(Wt[Zr]===Le){mr=Zr;break}return mr},Ra=qa,Ca=Object.prototype.hasOwnProperty;function va(Wt){if(D(Wt))return!0;if(R(Wt))return!Wt.length;var Le=_o(Wt);if(Le==="Map"||Le==="Set")return!Wt.size;if(si(Wt))return!Object.keys(Wt).length;for(var Je in Wt)if(Ca.call(Wt,Je))return!1;return!0}var fi=va,ni=function(Wt,Le){if(Wt===Le)return!0;if(!Wt||!Le||Zt(Wt)||Zt(Le))return!1;if(R(Wt)||R(Le)){if(Wt.length!==Le.length)return!1;for(var Je=!0,mr=0;mr<Wt.length&&(Je=ni(Wt[mr],Le[mr]),!!Je);mr++);return Je}if(nt(Wt)||nt(Le)){var Zr=Object.keys(Wt),fn=Object.keys(Le);if(Zr.length!==fn.length)return!1;for(var Je=!0,mr=0;mr<Zr.length&&(Je=ni(Wt[Zr[mr]],Le[Zr[mr]]),!!Je);mr++);return Je}return!1},di=ni,ki=function(Wt,Le,Je){return A(Je)?!!Je(Wt,Le):di(Wt,Le)},Oi=function(Wt,Le){if(!R(Wt))return Wt;for(var Je=[],mr=0;mr<Wt.length;mr++){var Zr=Wt[mr];Je.push(Le(Zr,mr))}return Je},Ui=Oi,To=function(Wt){return Wt},Ao=function(Wt,Le){Le===void 0&&(Le=To);var Je={};return g(Wt)&&!D(Wt)&&Object.keys(Wt).forEach(function(mr){Je[mr]=Le(Wt[mr],mr)}),Je},Ni=function(Wt,Le,Je){for(var mr=0,Zr=Zt(Le)?Le.split("."):Le;Wt&&mr<Zr.length;)Wt=Wt[Zr[mr++]];return Wt===void 0||mr<Zr.length?Je:Wt},ka=function(Wt,Le,Je){var mr=Wt,Zr=Zt(Le)?Le.split("."):Le;return Zr.forEach(function(fn,Fn){Fn<Zr.length-1?(g(mr[fn])||(mr[fn]=Ut(Zr[Fn+1])?[]:{}),mr=mr[fn]):mr[fn]=Je}),Wt},pi=Object.prototype.hasOwnProperty,Bi=function(Wt,Le){if(Wt===null||!J(Wt))return{};var Je={};return z(Le,function(mr){pi.call(Wt,mr)&&(Je[mr]=Wt[mr])}),Je},Ma=function(Wt,Le){return Gt(Wt,function(Je,mr,Zr){return Le.includes(Zr)||(Je[Zr]=mr),Je},{})},Wi=function(Wt,Le,Je){var mr,Zr,fn,Fn,Da=0;Je||(Je={});var hi=function(){Da=Je.leading===!1?0:Date.now(),mr=null,Fn=Wt.apply(Zr,fn),mr||(Zr=fn=null)},to=function(){var bo=Date.now();!Da&&Je.leading===!1&&(Da=bo);var ds=Le-(bo-Da);return Zr=this,fn=arguments,ds<=0||ds>Le?(mr&&(clearTimeout(mr),mr=null),Da=bo,Fn=Wt.apply(Zr,fn),mr||(Zr=fn=null)):!mr&&Je.trailing!==!1&&(mr=setTimeout(hi,ds)),Fn};return to.cancel=function(){clearTimeout(mr),Da=0,mr=Zr=fn=null},to},lo=function(Wt){return R(Wt)?Array.prototype.slice.call(Wt):[]},_i={},Do=function(Wt){return Wt=Wt||"g",_i[Wt]?_i[Wt]+=1:_i[Wt]=1,Wt+_i[Wt]},gi=function(){},co=function(Wt){return Wt};function zo(Wt){return D(Wt)?0:R(Wt)?Wt.length:Object.keys(Wt).length}var ts=C(570655),Yi,Go=Ya(function(Wt,Le){Le===void 0&&(Le={});var Je=Le.fontSize,mr=Le.fontFamily,Zr=Le.fontWeight,fn=Le.fontStyle,Fn=Le.fontVariant;return Yi||(Yi=document.createElement("canvas").getContext("2d")),Yi.font=[fn,Fn,Zr,Je+"px",mr].join(" "),Yi.measureText(Zt(Wt)?Wt:"").width},function(Wt,Le){return Le===void 0&&(Le={}),(0,ts.__spreadArrays)([Wt],nr(Le)).join("")}),Uo=function(Wt,Le,Je,mr){mr===void 0&&(mr="...");var Zr=16,fn=Go(mr,Je),Fn=Zt(Wt)?Wt:rn(Wt),Da=Le,hi=[],to,bo;if(Go(Wt,Je)<=Le)return Wt;for(;to=Fn.substr(0,Zr),bo=Go(to,Je),!(bo+fn>Da&&bo>Da);)if(hi.push(to),Da-=bo,Fn=Fn.substr(Zr),!Fn)return hi.join("");for(;to=Fn.substr(0,1),bo=Go(to,Je),!(bo+fn>Da);)if(hi.push(to),Da-=bo,Fn=Fn.substr(1),!Fn)return hi.join("");return""+hi.join("")+mr},fs=function(){function Wt(){this.map={}}return Wt.prototype.has=function(Le){return this.map[Le]!==void 0},Wt.prototype.get=function(Le,Je){var mr=this.map[Le];return mr===void 0?Je:mr},Wt.prototype.set=function(Le,Je){this.map[Le]=Je},Wt.prototype.clear=function(){this.map={}},Wt.prototype.delete=function(Le){delete this.map[Le]},Wt.prototype.size=function(){return Object.keys(this.map).length},Wt}(),ha=fs},960887:function(Ge,W,C){"use strict";C.d(W,{LB:function(){return sa},g4:function(){return Ir},we:function(){return an},VK:function(){return Tt},Cj:function(){return Ei},O1:function(){return xa},Zj:function(){return Ti},VT:function(){return f}});var y=C(667294),R=C(973935),w=C(724285);const _={display:"none"};function L(Jt){let{id:fe,value:Pe}=Jt;return y.createElement("div",{id:fe,style:_},Pe)}const P={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function p(Jt){let{id:fe,announcement:Pe}=Jt;return y.createElement("div",{id:fe,style:P,role:"status","aria-live":"assertive","aria-atomic":!0},Pe)}function m(){const[Jt,fe]=(0,y.useState)("");return{announce:(0,y.useCallback)(ar=>{ar!=null&&fe(ar)},[]),announcement:Jt}}const S=(0,y.createContext)(null);function E(Jt){const fe=(0,y.useContext)(S);(0,y.useEffect)(()=>{if(!fe)throw new Error("useDndMonitor must be used within a children of <DndContext>");return fe(Jt)},[Jt,fe])}function b(){const[Jt]=(0,y.useState)(()=>new Set),fe=(0,y.useCallback)(ar=>(Jt.add(ar),()=>Jt.delete(ar)),[Jt]);return[(0,y.useCallback)(ar=>{let{type:Tr,event:Sr}=ar;Jt.forEach(xr=>{var Kr;return(Kr=xr[Tr])==null?void 0:Kr.call(xr,Sr)})},[Jt]),fe]}const A={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},x={onDragStart(Jt){let{active:fe}=Jt;return"Picked up draggable item "+fe.id+"."},onDragOver(Jt){let{active:fe,over:Pe}=Jt;return Pe?"Draggable item "+fe.id+" was moved over droppable area "+Pe.id+".":"Draggable item "+fe.id+" is no longer over a droppable area."},onDragEnd(Jt){let{active:fe,over:Pe}=Jt;return Pe?"Draggable item "+fe.id+" was dropped over droppable area "+Pe.id:"Draggable item "+fe.id+" was dropped."},onDragCancel(Jt){let{active:fe}=Jt;return"Dragging was cancelled. Draggable item "+fe.id+" was dropped."}};function D(Jt){let{announcements:fe=x,container:Pe,hiddenTextDescribedById:ar,screenReaderInstructions:Tr=A}=Jt;const{announce:Sr,announcement:xr}=m(),Kr=(0,w.Ld)("DndLiveRegion"),[cn,Mn]=(0,y.useState)(!1);if((0,y.useEffect)(()=>{Mn(!0)},[]),E((0,y.useMemo)(()=>({onDragStart(Un){let{active:na}=Un;Sr(fe.onDragStart({active:na}))},onDragMove(Un){let{active:na,over:aa}=Un;fe.onDragMove&&Sr(fe.onDragMove({active:na,over:aa}))},onDragOver(Un){let{active:na,over:aa}=Un;Sr(fe.onDragOver({active:na,over:aa}))},onDragEnd(Un){let{active:na,over:aa}=Un;Sr(fe.onDragEnd({active:na,over:aa}))},onDragCancel(Un){let{active:na,over:aa}=Un;Sr(fe.onDragCancel({active:na,over:aa}))}}),[Sr,fe])),!cn)return null;const Zn=y.createElement(y.Fragment,null,y.createElement(L,{id:ar,value:Tr.draggable}),y.createElement(p,{id:Kr,announcement:xr}));return Pe?(0,R.createPortal)(Zn,Pe):Zn}var k;(function(Jt){Jt.DragStart="dragStart",Jt.DragMove="dragMove",Jt.DragEnd="dragEnd",Jt.DragCancel="dragCancel",Jt.DragOver="dragOver",Jt.RegisterDroppable="registerDroppable",Jt.SetDroppableDisabled="setDroppableDisabled",Jt.UnregisterDroppable="unregisterDroppable"})(k||(k={}));function g(){}function f(Jt,fe){return(0,y.useMemo)(()=>({sensor:Jt,options:fe!=null?fe:{}}),[Jt,fe])}function z(){for(var Jt=arguments.length,fe=new Array(Jt),Pe=0;Pe<Jt;Pe++)fe[Pe]=arguments[Pe];return useMemo(()=>[...fe].filter(ar=>ar!=null),[...fe])}const Y=Object.freeze({x:0,y:0});function U(Jt,fe){return Math.sqrt(Math.pow(Jt.x-fe.x,2)+Math.pow(Jt.y-fe.y,2))}function G(Jt,fe){const Pe=getEventCoordinates(Jt);if(!Pe)return"0 0";const ar={x:(Pe.x-fe.left)/fe.width*100,y:(Pe.y-fe.top)/fe.height*100};return ar.x+"% "+ar.y+"%"}function j(Jt,fe){let{data:{value:Pe}}=Jt,{data:{value:ar}}=fe;return Pe-ar}function K(Jt,fe){let{data:{value:Pe}}=Jt,{data:{value:ar}}=fe;return ar-Pe}function nt(Jt){let{left:fe,top:Pe,height:ar,width:Tr}=Jt;return[{x:fe,y:Pe},{x:fe+Tr,y:Pe},{x:fe,y:Pe+ar},{x:fe+Tr,y:Pe+ar}]}function q(Jt,fe){if(!Jt||Jt.length===0)return null;const[Pe]=Jt;return fe?Pe[fe]:Pe}function J(Jt,fe,Pe){return fe===void 0&&(fe=Jt.left),Pe===void 0&&(Pe=Jt.top),{x:fe+Jt.width*.5,y:Pe+Jt.height*.5}}const ut=Jt=>{let{collisionRect:fe,droppableRects:Pe,droppableContainers:ar}=Jt;const Tr=J(fe,fe.left,fe.top),Sr=[];for(const xr of ar){const{id:Kr}=xr,cn=Pe.get(Kr);if(cn){const Mn=U(J(cn),Tr);Sr.push({id:Kr,data:{droppableContainer:xr,value:Mn}})}}return Sr.sort(j)},st=Jt=>{let{collisionRect:fe,droppableRects:Pe,droppableContainers:ar}=Jt;const Tr=nt(fe),Sr=[];for(const xr of ar){const{id:Kr}=xr,cn=Pe.get(Kr);if(cn){const Mn=nt(cn),Zn=Tr.reduce((na,aa,Ya)=>na+U(Mn[Ya],aa),0),Un=Number((Zn/4).toFixed(4));Sr.push({id:Kr,data:{droppableContainer:xr,value:Un}})}}return Sr.sort(j)};function bt(Jt,fe){const Pe=Math.max(fe.top,Jt.top),ar=Math.max(fe.left,Jt.left),Tr=Math.min(fe.left+fe.width,Jt.left+Jt.width),Sr=Math.min(fe.top+fe.height,Jt.top+Jt.height),xr=Tr-ar,Kr=Sr-Pe;if(ar<Tr&&Pe<Sr){const cn=fe.width*fe.height,Mn=Jt.width*Jt.height,Zn=xr*Kr,Un=Zn/(cn+Mn-Zn);return Number(Un.toFixed(4))}return 0}const ht=Jt=>{let{collisionRect:fe,droppableRects:Pe,droppableContainers:ar}=Jt;const Tr=[];for(const Sr of ar){const{id:xr}=Sr,Kr=Pe.get(xr);if(Kr){const cn=bt(Kr,fe);cn>0&&Tr.push({id:xr,data:{droppableContainer:Sr,value:cn}})}}return Tr.sort(K)};function kt(Jt,fe){const{top:Pe,left:ar,bottom:Tr,right:Sr}=fe;return Pe<=Jt.y&&Jt.y<=Tr&&ar<=Jt.x&&Jt.x<=Sr}const Mt=Jt=>{let{droppableContainers:fe,droppableRects:Pe,pointerCoordinates:ar}=Jt;if(!ar)return[];const Tr=[];for(const Sr of fe){const{id:xr}=Sr,Kr=Pe.get(xr);if(Kr&&kt(ar,Kr)){const Mn=nt(Kr).reduce((Un,na)=>Un+U(ar,na),0),Zn=Number((Mn/4).toFixed(4));Tr.push({id:xr,data:{droppableContainer:Sr,value:Zn}})}}return Tr.sort(j)};function St(Jt,fe,Pe){return oo(Sa({},Jt),{scaleX:fe&&Pe?fe.width/Pe.width:1,scaleY:fe&&Pe?fe.height/Pe.height:1})}function V(Jt,fe){return Jt&&fe?{x:Jt.left-fe.left,y:Jt.top-fe.top}:Y}function Q(Jt){return function(Pe){for(var ar=arguments.length,Tr=new Array(ar>1?ar-1:0),Sr=1;Sr<ar;Sr++)Tr[Sr-1]=arguments[Sr];return Tr.reduce((xr,Kr)=>oo(Sa({},xr),{top:xr.top+Jt*Kr.y,bottom:xr.bottom+Jt*Kr.y,left:xr.left+Jt*Kr.x,right:xr.right+Jt*Kr.x}),Sa({},Pe))}}const xt=Q(1);function Ct(Jt){if(Jt.startsWith("matrix3d(")){const fe=Jt.slice(9,-1).split(/, /);return{x:+fe[12],y:+fe[13],scaleX:+fe[0],scaleY:+fe[5]}}else if(Jt.startsWith("matrix(")){const fe=Jt.slice(7,-1).split(/, /);return{x:+fe[4],y:+fe[5],scaleX:+fe[0],scaleY:+fe[3]}}return null}function et(Jt,fe,Pe){const ar=Ct(fe);if(!ar)return Jt;const{scaleX:Tr,scaleY:Sr,x:xr,y:Kr}=ar,cn=Jt.left-xr-(1-Tr)*parseFloat(Pe),Mn=Jt.top-Kr-(1-Sr)*parseFloat(Pe.slice(Pe.indexOf(" ")+1)),Zn=Tr?Jt.width/Tr:Jt.width,Un=Sr?Jt.height/Sr:Jt.height;return{width:Zn,height:Un,top:Mn,right:cn+Zn,bottom:Mn+Un,left:cn}}const vt={ignoreTransform:!1};function Tt(Jt,fe){fe===void 0&&(fe=vt);let Pe=Jt.getBoundingClientRect();if(fe.ignoreTransform){const{transform:Mn,transformOrigin:Zn}=(0,w.Jj)(Jt).getComputedStyle(Jt);Mn&&(Pe=et(Pe,Mn,Zn))}const{top:ar,left:Tr,width:Sr,height:xr,bottom:Kr,right:cn}=Pe;return{top:ar,left:Tr,width:Sr,height:xr,bottom:Kr,right:cn}}function Ot(Jt){return Tt(Jt,{ignoreTransform:!0})}function Et(Jt){const fe=Jt.innerWidth,Pe=Jt.innerHeight;return{top:0,left:0,right:fe,bottom:Pe,width:fe,height:Pe}}function Dt(Jt,fe){return fe===void 0&&(fe=(0,w.Jj)(Jt).getComputedStyle(Jt)),fe.position==="fixed"}function Vt(Jt,fe){fe===void 0&&(fe=(0,w.Jj)(Jt).getComputedStyle(Jt));const Pe=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(Tr=>{const Sr=fe[Tr];return typeof Sr=="string"?Pe.test(Sr):!1})}function ue(Jt,fe){const Pe=[];function ar(Tr){if(fe!=null&&Pe.length>=fe||!Tr)return Pe;if((0,w.qk)(Tr)&&Tr.scrollingElement!=null&&!Pe.includes(Tr.scrollingElement))return Pe.push(Tr.scrollingElement),Pe;if(!(0,w.Re)(Tr)||(0,w.vZ)(Tr)||Pe.includes(Tr))return Pe;const Sr=(0,w.Jj)(Jt).getComputedStyle(Tr);return Tr!==Jt&&Vt(Tr,Sr)&&Pe.push(Tr),Dt(Tr,Sr)?Pe:ar(Tr.parentNode)}return Jt?ar(Jt):Pe}function ee(Jt){const[fe]=ue(Jt,1);return fe!=null?fe:null}function It(Jt){return!w.Nq||!Jt?null:(0,w.FJ)(Jt)?Jt:(0,w.UG)(Jt)?(0,w.qk)(Jt)||Jt===(0,w.r3)(Jt).scrollingElement?window:(0,w.Re)(Jt)?Jt:null:null}function ne(Jt){return(0,w.FJ)(Jt)?Jt.scrollX:Jt.scrollLeft}function pe(Jt){return(0,w.FJ)(Jt)?Jt.scrollY:Jt.scrollTop}function Gt(Jt){return{x:ne(Jt),y:pe(Jt)}}var qt;(function(Jt){Jt[Jt.Forward=1]="Forward",Jt[Jt.Backward=-1]="Backward"})(qt||(qt={}));function $t(Jt){return!w.Nq||!Jt?!1:Jt===document.scrollingElement}function Zt(Jt){const fe={x:0,y:0},Pe=$t(Jt)?{height:window.innerHeight,width:window.innerWidth}:{height:Jt.clientHeight,width:Jt.clientWidth},ar={x:Jt.scrollWidth-Pe.width,y:Jt.scrollHeight-Pe.height},Tr=Jt.scrollTop<=fe.y,Sr=Jt.scrollLeft<=fe.x,xr=Jt.scrollTop>=ar.y,Kr=Jt.scrollLeft>=ar.x;return{isTop:Tr,isLeft:Sr,isBottom:xr,isRight:Kr,maxScroll:ar,minScroll:fe}}const se={x:.2,y:.2};function Se(Jt,fe,Pe,ar,Tr){let{top:Sr,left:xr,right:Kr,bottom:cn}=Pe;ar===void 0&&(ar=10),Tr===void 0&&(Tr=se);const{isTop:Mn,isBottom:Zn,isLeft:Un,isRight:na}=Zt(Jt),aa={x:0,y:0},Ya={x:0,y:0},ua={height:fe.height*Tr.y,width:fe.width*Tr.x};return!Mn&&Sr<=fe.top+ua.height?(aa.y=qt.Backward,Ya.y=ar*Math.abs((fe.top+ua.height-Sr)/ua.height)):!Zn&&cn>=fe.bottom-ua.height&&(aa.y=qt.Forward,Ya.y=ar*Math.abs((fe.bottom-ua.height-cn)/ua.height)),!na&&Kr>=fe.right-ua.width?(aa.x=qt.Forward,Ya.x=ar*Math.abs((fe.right-ua.width-Kr)/ua.width)):!Un&&xr<=fe.left+ua.width&&(aa.x=qt.Backward,Ya.x=ar*Math.abs((fe.left+ua.width-xr)/ua.width)),{direction:aa,speed:Ya}}function Pt(Jt){if(Jt===document.scrollingElement){const{innerWidth:Sr,innerHeight:xr}=window;return{top:0,left:0,right:Sr,bottom:xr,width:Sr,height:xr}}const{top:fe,left:Pe,right:ar,bottom:Tr}=Jt.getBoundingClientRect();return{top:fe,left:Pe,right:ar,bottom:Tr,width:Jt.clientWidth,height:Jt.clientHeight}}function Fe(Jt){return Jt.reduce((fe,Pe)=>(0,w.IH)(fe,Gt(Pe)),Y)}function vr(Jt){return Jt.reduce((fe,Pe)=>fe+ne(Pe),0)}function Cr(Jt){return Jt.reduce((fe,Pe)=>fe+pe(Pe),0)}function _r(Jt,fe){if(fe===void 0&&(fe=Tt),!Jt)return;const{top:Pe,left:ar,bottom:Tr,right:Sr}=fe(Jt);ee(Jt)&&(Tr<=0||Sr<=0||Pe>=window.innerHeight||ar>=window.innerWidth)&&Jt.scrollIntoView({block:"center",inline:"center"})}const Ur=[["x",["left","right"],vr],["y",["top","bottom"],Cr]];class nn{constructor(fe,Pe){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const ar=ue(Pe),Tr=Fe(ar);this.rect=Sa({},fe),this.width=fe.width,this.height=fe.height;for(const[Sr,xr,Kr]of Ur)for(const cn of xr)Object.defineProperty(this,cn,{get:()=>{const Mn=Kr(ar),Zn=Tr[Sr]-Mn;return this.rect[cn]+Zn},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class on{constructor(fe){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(Pe=>{var ar;return(ar=this.target)==null?void 0:ar.removeEventListener(...Pe)})},this.target=fe}add(fe,Pe,ar){var Tr;(Tr=this.target)==null||Tr.addEventListener(fe,Pe,ar),this.listeners.push([fe,Pe,ar])}}function tr(Jt){const{EventTarget:fe}=(0,w.Jj)(Jt);return Jt instanceof fe?Jt:(0,w.r3)(Jt)}function Rr(Jt,fe){const Pe=Math.abs(Jt.x),ar=Math.abs(Jt.y);return typeof fe=="number"?Math.sqrt(Tv(Pe,2)+Tv(ar,2))>fe:"x"in fe&&"y"in fe?Pe>fe.x&&ar>fe.y:"x"in fe?Pe>fe.x:"y"in fe?ar>fe.y:!1}var qr;(function(Jt){Jt.Click="click",Jt.DragStart="dragstart",Jt.Keydown="keydown",Jt.ContextMenu="contextmenu",Jt.Resize="resize",Jt.SelectionChange="selectionchange",Jt.VisibilityChange="visibilitychange"})(qr||(qr={}));function br(Jt){Jt.preventDefault()}function zr(Jt){Jt.stopPropagation()}var Ir;(function(Jt){Jt.Space="Space",Jt.Down="ArrowDown",Jt.Right="ArrowRight",Jt.Left="ArrowLeft",Jt.Up="ArrowUp",Jt.Esc="Escape",Jt.Enter="Enter"})(Ir||(Ir={}));const je={start:[Ir.Space,Ir.Enter],cancel:[Ir.Esc],end:[Ir.Space,Ir.Enter]},qe=(Jt,fe)=>{let{currentCoordinates:Pe}=fe;switch(Jt.code){case Ir.Right:return oo(Sa({},Pe),{x:Pe.x+25});case Ir.Left:return oo(Sa({},Pe),{x:Pe.x-25});case Ir.Down:return oo(Sa({},Pe),{y:Pe.y+25});case Ir.Up:return oo(Sa({},Pe),{y:Pe.y-25})}};class xn{constructor(fe){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=fe;const{event:{target:Pe}}=fe;this.props=fe,this.listeners=new on((0,w.r3)(Pe)),this.windowListeners=new on((0,w.Jj)(Pe)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(qr.Resize,this.handleCancel),this.windowListeners.add(qr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(qr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:fe,onStart:Pe}=this.props,ar=fe.node.current;ar&&_r(ar),Pe(Y)}handleKeyDown(fe){if((0,w.vd)(fe)){const{active:Pe,context:ar,options:Tr}=this.props,{keyboardCodes:Sr=je,coordinateGetter:xr=qe,scrollBehavior:Kr="smooth"}=Tr,{code:cn}=fe;if(Sr.end.includes(cn)){this.handleEnd(fe);return}if(Sr.cancel.includes(cn)){this.handleCancel(fe);return}const{collisionRect:Mn}=ar.current,Zn=Mn?{x:Mn.left,y:Mn.top}:Y;this.referenceCoordinates||(this.referenceCoordinates=Zn);const Un=xr(fe,{active:Pe,context:ar.current,currentCoordinates:Zn});if(Un){const na=(0,w.$X)(Un,Zn),aa={x:0,y:0},{scrollableAncestors:Ya}=ar.current;for(const ua of Ya){const $n=fe.code,{isTop:Ga,isRight:Pa,isLeft:Ea,isBottom:ui,maxScroll:qa,minScroll:Ra}=Zt(ua),Ca=Pt(ua),va={x:Math.min($n===Ir.Right?Ca.right-Ca.width/2:Ca.right,Math.max($n===Ir.Right?Ca.left:Ca.left+Ca.width/2,Un.x)),y:Math.min($n===Ir.Down?Ca.bottom-Ca.height/2:Ca.bottom,Math.max($n===Ir.Down?Ca.top:Ca.top+Ca.height/2,Un.y))},fi=$n===Ir.Right&&!Pa||$n===Ir.Left&&!Ea,ni=$n===Ir.Down&&!ui||$n===Ir.Up&&!Ga;if(fi&&va.x!==Un.x){const di=ua.scrollLeft+na.x,ki=$n===Ir.Right&&di<=qa.x||$n===Ir.Left&&di>=Ra.x;if(ki&&!na.y){ua.scrollTo({left:di,behavior:Kr});return}ki?aa.x=ua.scrollLeft-di:aa.x=$n===Ir.Right?ua.scrollLeft-qa.x:ua.scrollLeft-Ra.x,aa.x&&ua.scrollBy({left:-aa.x,behavior:Kr});break}else if(ni&&va.y!==Un.y){const di=ua.scrollTop+na.y,ki=$n===Ir.Down&&di<=qa.y||$n===Ir.Up&&di>=Ra.y;if(ki&&!na.x){ua.scrollTo({top:di,behavior:Kr});return}ki?aa.y=ua.scrollTop-di:aa.y=$n===Ir.Down?ua.scrollTop-qa.y:ua.scrollTop-Ra.y,aa.y&&ua.scrollBy({top:-aa.y,behavior:Kr});break}}this.handleMove(fe,(0,w.IH)((0,w.$X)(Un,this.referenceCoordinates),aa))}}}handleMove(fe,Pe){const{onMove:ar}=this.props;fe.preventDefault(),ar(Pe)}handleEnd(fe){const{onEnd:Pe}=this.props;fe.preventDefault(),this.detach(),Pe()}handleCancel(fe){const{onCancel:Pe}=this.props;fe.preventDefault(),this.detach(),Pe()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}xn.activators=[{eventName:"onKeyDown",handler:(Jt,fe,Pe)=>{let{keyboardCodes:ar=je,onActivation:Tr}=fe,{active:Sr}=Pe;const{code:xr}=Jt.nativeEvent;if(ar.start.includes(xr)){const Kr=Sr.activatorNode.current;return Kr&&Jt.target!==Kr?!1:(Jt.preventDefault(),Tr==null||Tr({event:Jt.nativeEvent}),!0)}return!1}}];function rr(Jt){return Boolean(Jt&&"distance"in Jt)}function jr(Jt){return Boolean(Jt&&"delay"in Jt)}class Nr{constructor(fe,Pe,ar){var Tr;ar===void 0&&(ar=tr(fe.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=fe,this.events=Pe;const{event:Sr}=fe,{target:xr}=Sr;this.props=fe,this.events=Pe,this.document=(0,w.r3)(xr),this.documentListeners=new on(this.document),this.listeners=new on(ar),this.windowListeners=new on((0,w.Jj)(xr)),this.initialCoordinates=(Tr=(0,w.DC)(Sr))!=null?Tr:Y,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:fe,props:{options:{activationConstraint:Pe}}}=this;if(this.listeners.add(fe.move.name,this.handleMove,{passive:!1}),this.listeners.add(fe.end.name,this.handleEnd),this.windowListeners.add(qr.Resize,this.handleCancel),this.windowListeners.add(qr.DragStart,br),this.windowListeners.add(qr.VisibilityChange,this.handleCancel),this.windowListeners.add(qr.ContextMenu,br),this.documentListeners.add(qr.Keydown,this.handleKeydown),Pe){if(rr(Pe))return;if(jr(Pe)){this.timeoutId=setTimeout(this.handleStart,Pe.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:fe}=this,{onStart:Pe}=this.props;fe&&(this.activated=!0,this.documentListeners.add(qr.Click,zr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(qr.SelectionChange,this.removeTextSelection),Pe(fe))}handleMove(fe){var Pe;const{activated:ar,initialCoordinates:Tr,props:Sr}=this,{onMove:xr,options:{activationConstraint:Kr}}=Sr;if(!Tr)return;const cn=(Pe=(0,w.DC)(fe))!=null?Pe:Y,Mn=(0,w.$X)(Tr,cn);if(!ar&&Kr){if(jr(Kr))return Rr(Mn,Kr.tolerance)?this.handleCancel():void 0;if(rr(Kr))return Kr.tolerance!=null&&Rr(Mn,Kr.tolerance)?this.handleCancel():Rr(Mn,Kr.distance)?this.handleStart():void 0}fe.cancelable&&fe.preventDefault(),xr(cn)}handleEnd(){const{onEnd:fe}=this.props;this.detach(),fe()}handleCancel(){const{onCancel:fe}=this.props;this.detach(),fe()}handleKeydown(fe){fe.code===Ir.Esc&&this.handleCancel()}removeTextSelection(){var fe;(fe=this.document.getSelection())==null||fe.removeAllRanges()}}const kn={move:{name:"pointermove"},end:{name:"pointerup"}};class an extends Nr{constructor(fe){const{event:Pe}=fe,ar=(0,w.r3)(Pe.target);super(fe,kn,ar)}}an.activators=[{eventName:"onPointerDown",handler:(Jt,fe)=>{let{nativeEvent:Pe}=Jt,{onActivation:ar}=fe;return!Pe.isPrimary||Pe.button!==0?!1:(ar==null||ar({event:Pe}),!0)}}];const dn={move:{name:"mousemove"},end:{name:"mouseup"}};var Sn;(function(Jt){Jt[Jt.RightClick=2]="RightClick"})(Sn||(Sn={}));class Dn extends Nr{constructor(fe){super(fe,dn,(0,w.r3)(fe.event.target))}}Dn.activators=[{eventName:"onMouseDown",handler:(Jt,fe)=>{let{nativeEvent:Pe}=Jt,{onActivation:ar}=fe;return Pe.button===Sn.RightClick?!1:(ar==null||ar({event:Pe}),!0)}}];const Nn={move:{name:"touchmove"},end:{name:"touchend"}};class rt extends Nr{constructor(fe){super(fe,Nn)}static setup(){return window.addEventListener(Nn.move.name,fe,{capture:!1,passive:!1}),function(){window.removeEventListener(Nn.move.name,fe)};function fe(){}}}rt.activators=[{eventName:"onTouchStart",handler:(Jt,fe)=>{let{nativeEvent:Pe}=Jt,{onActivation:ar}=fe;const{touches:Tr}=Pe;return Tr.length>1?!1:(ar==null||ar({event:Pe}),!0)}}];var Xe;(function(Jt){Jt[Jt.Pointer=0]="Pointer",Jt[Jt.DraggableRect=1]="DraggableRect"})(Xe||(Xe={}));var Xt;(function(Jt){Jt[Jt.TreeOrder=0]="TreeOrder",Jt[Jt.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xt||(Xt={}));function te(Jt){let{acceleration:fe,activator:Pe=Xe.Pointer,canScroll:ar,draggingRect:Tr,enabled:Sr,interval:xr=5,order:Kr=Xt.TreeOrder,pointerCoordinates:cn,scrollableAncestors:Mn,scrollableAncestorRects:Zn,delta:Un,threshold:na}=Jt;const aa=Ft({delta:Un,disabled:!Sr}),[Ya,ua]=(0,w.Yz)(),$n=(0,y.useRef)({x:0,y:0}),Ga=(0,y.useRef)({x:0,y:0}),Pa=(0,y.useMemo)(()=>{switch(Pe){case Xe.Pointer:return cn?{top:cn.y,bottom:cn.y,left:cn.x,right:cn.x}:null;case Xe.DraggableRect:return Tr}},[Pe,Tr,cn]),Ea=(0,y.useRef)(null),ui=(0,y.useCallback)(()=>{const Ra=Ea.current;if(!Ra)return;const Ca=$n.current.x*Ga.current.x,va=$n.current.y*Ga.current.y;Ra.scrollBy(Ca,va)},[]),qa=(0,y.useMemo)(()=>Kr===Xt.TreeOrder?[...Mn].reverse():Mn,[Kr,Mn]);(0,y.useEffect)(()=>{if(!Sr||!Mn.length||!Pa){ua();return}for(const Ra of qa){if((ar==null?void 0:ar(Ra))===!1)continue;const Ca=Mn.indexOf(Ra),va=Zn[Ca];if(!va)continue;const{direction:fi,speed:ni}=Se(Ra,va,Pa,fe,na);for(const di of["x","y"])aa[di][fi[di]]||(ni[di]=0,fi[di]=0);if(ni.x>0||ni.y>0){ua(),Ea.current=Ra,Ya(ui,xr),$n.current=ni,Ga.current=fi;return}}$n.current={x:0,y:0},Ga.current={x:0,y:0},ua()},[fe,ui,ar,ua,Sr,xr,JSON.stringify(Pa),JSON.stringify(aa),Ya,Mn,qa,Zn,JSON.stringify(na)])}const ot={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function Ft(Jt){let{delta:fe,disabled:Pe}=Jt;const ar=(0,w.D9)(fe);return(0,w.Gj)(Tr=>{if(Pe||!ar||!Tr)return ot;const Sr={x:Math.sign(fe.x-ar.x),y:Math.sign(fe.y-ar.y)};return{x:{[qt.Backward]:Tr.x[qt.Backward]||Sr.x===-1,[qt.Forward]:Tr.x[qt.Forward]||Sr.x===1},y:{[qt.Backward]:Tr.y[qt.Backward]||Sr.y===-1,[qt.Forward]:Tr.y[qt.Forward]||Sr.y===1}}},[Pe,fe,ar])}function ft(Jt,fe){const Pe=fe!==null?Jt.get(fe):void 0,ar=Pe?Pe.node.current:null;return(0,w.Gj)(Tr=>{var Sr;return fe===null?null:(Sr=ar!=null?ar:Tr)!=null?Sr:null},[ar,fe])}function Ut(Jt,fe){return(0,y.useMemo)(()=>Jt.reduce((Pe,ar)=>{const{sensor:Tr}=ar,Sr=Tr.activators.map(xr=>({eventName:xr.eventName,handler:fe(xr.handler,ar)}));return[...Pe,...Sr]},[]),[Jt,fe])}var re;(function(Jt){Jt[Jt.Always=0]="Always",Jt[Jt.BeforeDragging=1]="BeforeDragging",Jt[Jt.WhileDragging=2]="WhileDragging"})(re||(re={}));var ae;(function(Jt){Jt.Optimized="optimized"})(ae||(ae={}));const at=new Map;function ct(Jt,fe){let{dragging:Pe,dependencies:ar,config:Tr}=fe;const[Sr,xr]=(0,y.useState)(null),{frequency:Kr,measure:cn,strategy:Mn}=Tr,Zn=(0,y.useRef)(Jt),Un=$n(),na=(0,w.Ey)(Un),aa=(0,y.useCallback)(function(Ga){Ga===void 0&&(Ga=[]),!na.current&&xr(Pa=>Pa===null?Ga:Pa.concat(Ga.filter(Ea=>!Pa.includes(Ea))))},[na]),Ya=(0,y.useRef)(null),ua=(0,w.Gj)(Ga=>{if(Un&&!Pe)return at;if(!Ga||Ga===at||Zn.current!==Jt||Sr!=null){const Pa=new Map;for(let Ea of Jt){if(!Ea)continue;if(Sr&&Sr.length>0&&!Sr.includes(Ea.id)&&Ea.rect.current){Pa.set(Ea.id,Ea.rect.current);continue}const ui=Ea.node.current,qa=ui?new nn(cn(ui),ui):null;Ea.rect.current=qa,qa&&Pa.set(Ea.id,qa)}return Pa}return Ga},[Jt,Sr,Pe,Un,cn]);return(0,y.useEffect)(()=>{Zn.current=Jt},[Jt]),(0,y.useEffect)(()=>{Un||aa()},[Pe,Un]),(0,y.useEffect)(()=>{Sr&&Sr.length>0&&xr(null)},[JSON.stringify(Sr)]),(0,y.useEffect)(()=>{Un||typeof Kr!="number"||Ya.current!==null||(Ya.current=setTimeout(()=>{aa(),Ya.current=null},Kr))},[Kr,Un,aa,...ar]),{droppableRects:ua,measureDroppableContainers:aa,measuringScheduled:Sr!=null};function $n(){switch(Mn){case re.Always:return!1;case re.BeforeDragging:return Pe;default:return!Pe}}}function F(Jt,fe){return(0,w.Gj)(Pe=>Jt?Pe||(typeof fe=="function"?fe(Jt):Jt):null,[fe,Jt])}function M(Jt,fe){return F(Jt,fe)}function O(Jt){let{callback:fe,disabled:Pe}=Jt;const ar=(0,w.zX)(fe),Tr=(0,y.useMemo)(()=>{if(Pe||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:Sr}=window;return new Sr(ar)},[ar,Pe]);return(0,y.useEffect)(()=>()=>Tr==null?void 0:Tr.disconnect(),[Tr]),Tr}function $(Jt){let{callback:fe,disabled:Pe}=Jt;const ar=(0,w.zX)(fe),Tr=(0,y.useMemo)(()=>{if(Pe||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:Sr}=window;return new Sr(ar)},[Pe]);return(0,y.useEffect)(()=>()=>Tr==null?void 0:Tr.disconnect(),[Tr]),Tr}function mt(Jt){return new nn(Tt(Jt),Jt)}function zt(Jt,fe,Pe){fe===void 0&&(fe=mt);const[ar,Tr]=(0,y.useReducer)(Kr,null),Sr=O({callback(cn){if(Jt)for(const Mn of cn){const{type:Zn,target:Un}=Mn;if(Zn==="childList"&&Un instanceof HTMLElement&&Un.contains(Jt)){Tr();break}}}}),xr=$({callback:Tr});return(0,w.LI)(()=>{Tr(),Jt?(xr==null||xr.observe(Jt),Sr==null||Sr.observe(document.body,{childList:!0,subtree:!0})):(xr==null||xr.disconnect(),Sr==null||Sr.disconnect())},[Jt]),ar;function Kr(cn){if(!Jt)return null;if(Jt.isConnected===!1){var Mn;return(Mn=cn!=null?cn:Pe)!=null?Mn:null}const Zn=fe(Jt);return JSON.stringify(cn)===JSON.stringify(Zn)?cn:Zn}}function Rt(Jt){const fe=F(Jt);return V(Jt,fe)}const Kt=[];function Te(Jt){const fe=(0,y.useRef)(Jt),Pe=(0,w.Gj)(ar=>Jt?ar&&ar!==Kt&&Jt&&fe.current&&Jt.parentNode===fe.current.parentNode?ar:ue(Jt):Kt,[Jt]);return(0,y.useEffect)(()=>{fe.current=Jt},[Jt]),Pe}function be(Jt){const[fe,Pe]=(0,y.useState)(null),ar=(0,y.useRef)(Jt),Tr=(0,y.useCallback)(Sr=>{const xr=It(Sr.target);xr&&Pe(Kr=>Kr?(Kr.set(xr,Gt(xr)),new Map(Kr)):null)},[]);return(0,y.useEffect)(()=>{const Sr=ar.current;if(Jt!==Sr){xr(Sr);const Kr=Jt.map(cn=>{const Mn=It(cn);return Mn?(Mn.addEventListener("scroll",Tr,{passive:!0}),[Mn,Gt(Mn)]):null}).filter(cn=>cn!=null);Pe(Kr.length?new Map(Kr):null),ar.current=Jt}return()=>{xr(Jt),xr(Sr)};function xr(Kr){Kr.forEach(cn=>{const Mn=It(cn);Mn==null||Mn.removeEventListener("scroll",Tr)})}},[Tr,Jt]),(0,y.useMemo)(()=>Jt.length?fe?Array.from(fe.values()).reduce((Sr,xr)=>(0,w.IH)(Sr,xr),Y):Fe(Jt):Y,[Jt,fe])}function We(Jt,fe){fe===void 0&&(fe=[]);const Pe=(0,y.useRef)(null);return(0,y.useEffect)(()=>{Pe.current=null},fe),(0,y.useEffect)(()=>{const ar=Jt!==Y;ar&&!Pe.current&&(Pe.current=Jt),!ar&&Pe.current&&(Pe.current=null)},[Jt]),Pe.current?(0,w.$X)(Jt,Pe.current):Y}function fr(Jt){(0,y.useEffect)(()=>{if(!w.Nq)return;const fe=Jt.map(Pe=>{let{sensor:ar}=Pe;return ar.setup==null?void 0:ar.setup()});return()=>{for(const Pe of fe)Pe==null||Pe()}},Jt.map(fe=>{let{sensor:Pe}=fe;return Pe}))}function He(Jt,fe){return(0,y.useMemo)(()=>Jt.reduce((Pe,ar)=>{let{eventName:Tr,handler:Sr}=ar;return Pe[Tr]=xr=>{Sr(xr,fe)},Pe},{}),[Jt,fe])}function Pr(Jt){return(0,y.useMemo)(()=>Jt?Et(Jt):null,[Jt])}const un=[];function Ue(Jt,fe){fe===void 0&&(fe=Tt);const[Pe]=Jt,ar=Pr(Pe?(0,w.Jj)(Pe):null),[Tr,Sr]=(0,y.useReducer)(Kr,un),xr=$({callback:Sr});return Jt.length>0&&Tr===un&&Sr(),(0,w.LI)(()=>{Jt.length?Jt.forEach(cn=>xr==null?void 0:xr.observe(cn)):(xr==null||xr.disconnect(),Sr())},[Jt]),Tr;function Kr(){return Jt.length?Jt.map(cn=>$t(cn)?ar:new nn(fe(cn),cn)):un}}function ur(Jt){if(!Jt)return null;if(Jt.children.length>1)return Jt;const fe=Jt.children[0];return(0,w.Re)(fe)?fe:Jt}function Lr(Jt){let{measure:fe}=Jt;const[Pe,ar]=(0,y.useState)(null),Tr=(0,y.useCallback)(Mn=>{for(const{target:Zn}of Mn)if((0,w.Re)(Zn)){ar(Un=>{const na=fe(Zn);return Un?oo(Sa({},Un),{width:na.width,height:na.height}):na});break}},[fe]),Sr=$({callback:Tr}),xr=(0,y.useCallback)(Mn=>{const Zn=ur(Mn);Sr==null||Sr.disconnect(),Zn&&(Sr==null||Sr.observe(Zn)),ar(Zn?fe(Zn):null)},[fe,Sr]),[Kr,cn]=(0,w.wm)(xr);return(0,y.useMemo)(()=>({nodeRef:Kr,rect:Pe,setRef:cn}),[Pe,Kr,cn])}const Or=[{sensor:an,options:{}},{sensor:xn,options:{}}],ce={current:{}},Yt={draggable:{measure:Ot},droppable:{measure:Ot,strategy:re.WhileDragging,frequency:ae.Optimized},dragOverlay:{measure:Tt}};class he extends Map{get(fe){var Pe;return fe!=null&&(Pe=super.get(fe))!=null?Pe:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(fe=>{let{disabled:Pe}=fe;return!Pe})}getNodeFor(fe){var Pe,ar;return(Pe=(ar=this.get(fe))==null?void 0:ar.node.current)!=null?Pe:void 0}}const Me={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new he,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:g},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Yt,measureDroppableContainers:g,windowRect:null,measuringScheduled:!1},ye={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:g,draggableNodes:new Map,over:null,measureDroppableContainers:g},Ne=(0,y.createContext)(ye),nr=(0,y.createContext)(Me);function cr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new he}}}function rn(Jt,fe){switch(fe.type){case k.DragStart:return oo(Sa({},Jt),{draggable:oo(Sa({},Jt.draggable),{initialCoordinates:fe.initialCoordinates,active:fe.active})});case k.DragMove:return Jt.draggable.active?oo(Sa({},Jt),{draggable:oo(Sa({},Jt.draggable),{translate:{x:fe.coordinates.x-Jt.draggable.initialCoordinates.x,y:fe.coordinates.y-Jt.draggable.initialCoordinates.y}})}):Jt;case k.DragEnd:case k.DragCancel:return oo(Sa({},Jt),{draggable:oo(Sa({},Jt.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case k.RegisterDroppable:{const{element:Pe}=fe,{id:ar}=Pe,Tr=new he(Jt.droppable.containers);return Tr.set(ar,Pe),oo(Sa({},Jt),{droppable:oo(Sa({},Jt.droppable),{containers:Tr})})}case k.SetDroppableDisabled:{const{id:Pe,key:ar,disabled:Tr}=fe,Sr=Jt.droppable.containers.get(Pe);if(!Sr||ar!==Sr.key)return Jt;const xr=new he(Jt.droppable.containers);return xr.set(Pe,oo(Sa({},Sr),{disabled:Tr})),oo(Sa({},Jt),{droppable:oo(Sa({},Jt.droppable),{containers:xr})})}case k.UnregisterDroppable:{const{id:Pe,key:ar}=fe,Tr=Jt.droppable.containers.get(Pe);if(!Tr||ar!==Tr.key)return Jt;const Sr=new he(Jt.droppable.containers);return Sr.delete(Pe),oo(Sa({},Jt),{droppable:oo(Sa({},Jt.droppable),{containers:Sr})})}default:return Jt}}function An(Jt){let{disabled:fe}=Jt;const{active:Pe,activatorEvent:ar,draggableNodes:Tr}=(0,y.useContext)(Ne),Sr=(0,w.D9)(ar),xr=(0,w.D9)(Pe==null?void 0:Pe.id);return(0,y.useEffect)(()=>{if(!fe&&!ar&&Sr&&xr!=null){if(!(0,w.vd)(Sr)||document.activeElement===Sr.target)return;const Kr=Tr.get(xr);if(!Kr)return;const{activatorNode:cn,node:Mn}=Kr;if(!cn.current&&!Mn.current)return;requestAnimationFrame(()=>{for(const Zn of[cn.current,Mn.current]){if(!Zn)continue;const Un=(0,w.so)(Zn);if(Un){Un.focus();break}}})}},[ar,fe,Tr,xr,Sr]),null}function ln(Jt,fe){let Tr=fe,{transform:Pe}=Tr,ar=_h(Tr,["transform"]);return Jt!=null&&Jt.length?Jt.reduce((Sr,xr)=>xr(Sa({transform:Sr},ar)),Pe):Pe}function Yn(Jt){return(0,y.useMemo)(()=>({draggable:Sa(Sa({},Yt.draggable),Jt==null?void 0:Jt.draggable),droppable:Sa(Sa({},Yt.droppable),Jt==null?void 0:Jt.droppable),dragOverlay:Sa(Sa({},Yt.dragOverlay),Jt==null?void 0:Jt.dragOverlay)}),[Jt==null?void 0:Jt.draggable,Jt==null?void 0:Jt.droppable,Jt==null?void 0:Jt.dragOverlay])}function sn(Jt){let{activeNode:fe,measure:Pe,initialRect:ar,config:Tr=!0}=Jt;const Sr=(0,y.useRef)(!1),{x:xr,y:Kr}=typeof Tr=="boolean"?{x:Tr,y:Tr}:Tr;(0,w.LI)(()=>{if(!xr&&!Kr||!fe){Sr.current=!1;return}if(Sr.current||!ar)return;const Mn=fe==null?void 0:fe.node.current;if(!Mn||Mn.isConnected===!1)return;const Zn=Pe(Mn),Un=V(Zn,ar);if(xr||(Un.x=0),Kr||(Un.y=0),Sr.current=!0,Math.abs(Un.x)>0||Math.abs(Un.y)>0){const na=ee(Mn);na&&na.scrollBy({top:Un.y,left:Un.x})}},[fe,xr,Kr,ar,Pe])}const Bn=(0,y.createContext)(oo(Sa({},Y),{scaleX:1,scaleY:1}));var Jn;(function(Jt){Jt[Jt.Uninitialized=0]="Uninitialized",Jt[Jt.Initializing=1]="Initializing",Jt[Jt.Initialized=2]="Initialized"})(Jn||(Jn={}));const sa=(0,y.memo)(function(fe){var Pe,ar,Tr,Sr;let Eu=fe,{id:xr,accessibility:Kr,autoScroll:cn=!0,children:Mn,sensors:Zn=Or,collisionDetection:Un=ht,measuring:na,modifiers:aa}=Eu,Ya=_h(Eu,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const ua=(0,y.useReducer)(rn,void 0,cr),[$n,Ga]=ua,[Pa,Ea]=b(),[ui,qa]=(0,y.useState)(Jn.Uninitialized),Ra=ui===Jn.Initialized,{draggable:{active:Ca,nodes:va,translate:fi},droppable:{containers:ni}}=$n,di=Ca?va.get(Ca):null,ki=(0,y.useRef)({initial:null,translated:null}),Oi=(0,y.useMemo)(()=>{var Xi;return Ca!=null?{id:Ca,data:(Xi=di==null?void 0:di.data)!=null?Xi:ce,rect:ki}:null},[Ca,di]),Ui=(0,y.useRef)(null),[To,Ao]=(0,y.useState)(null),[Ni,ka]=(0,y.useState)(null),pi=(0,w.Ey)(Ya,Object.values(Ya)),Bi=(0,w.Ld)("DndDescribedBy",xr),Ma=(0,y.useMemo)(()=>ni.getEnabled(),[ni]),Wi=Yn(na),{droppableRects:lo,measureDroppableContainers:_i,measuringScheduled:Do}=ct(Ma,{dragging:Ra,dependencies:[fi.x,fi.y],config:Wi.droppable}),gi=ft(va,Ca),co=(0,y.useMemo)(()=>Ni?(0,w.DC)(Ni):null,[Ni]),zo=xu(),ts=M(gi,Wi.draggable.measure);sn({activeNode:Ca?va.get(Ca):null,config:zo.layoutShiftCompensation,initialRect:ts,measure:Wi.draggable.measure});const Yi=zt(gi,Wi.draggable.measure,ts),Go=zt(gi?gi.parentElement:null),Uo=(0,y.useRef)({activatorEvent:null,active:null,activeNode:gi,collisionRect:null,collisions:null,droppableRects:lo,draggableNodes:va,draggingNode:null,draggingNodeRect:null,droppableContainers:ni,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fs=ni.getNodeFor((Pe=Uo.current.over)==null?void 0:Pe.id),ha=Lr({measure:Wi.dragOverlay.measure}),Wt=(ar=ha.nodeRef.current)!=null?ar:gi,Le=Ra?(Tr=ha.rect)!=null?Tr:Yi:null,Je=Boolean(ha.nodeRef.current&&ha.rect),mr=Rt(Je?null:Yi),Zr=Pr(Wt?(0,w.Jj)(Wt):null),fn=Te(Ra?fs!=null?fs:gi:null),Fn=Ue(fn),Da=ln(aa,{transform:{x:fi.x-mr.x,y:fi.y-mr.y,scaleX:1,scaleY:1},activatorEvent:Ni,active:Oi,activeNodeRect:Yi,containerNodeRect:Go,draggingNodeRect:Le,over:Uo.current.over,overlayNodeRect:ha.rect,scrollableAncestors:fn,scrollableAncestorRects:Fn,windowRect:Zr}),hi=co?(0,w.IH)(co,fi):null,to=be(fn),bo=We(to),ds=We(to,[Yi]),Ii=(0,w.IH)(Da,bo),eo=Le?xt(Le,Da):null,Wo=Oi&&eo?Un({active:Oi,collisionRect:eo,droppableRects:lo,droppableContainers:Ma,pointerCoordinates:hi}):null,hs=q(Wo,"id"),[qo,Es]=(0,y.useState)(null),As=Je?Da:(0,w.IH)(Da,ds),ws=St(As,(Sr=qo==null?void 0:qo.rect)!=null?Sr:null,Yi),nu=(0,y.useCallback)((Xi,xo)=>{let{sensor:Lo,options:h}=xo;if(Ui.current==null)return;const X=va.get(Ui.current);if(!X)return;const wt=Xi.nativeEvent,Bt=new Lo({active:Ui.current,activeNode:X,event:wt,options:h,context:Uo,onStart(de){const ve=Ui.current;if(ve==null)return;const _e=va.get(ve);if(!_e)return;const{onDragStart:De}=pi.current,Ye={active:{id:ve,data:_e.data,rect:ki}};(0,R.unstable_batchedUpdates)(()=>{De==null||De(Ye),qa(Jn.Initializing),Ga({type:k.DragStart,initialCoordinates:de,active:ve}),Pa({type:"onDragStart",event:Ye})})},onMove(de){Ga({type:k.DragMove,coordinates:de})},onEnd:Qt(k.DragEnd),onCancel:Qt(k.DragCancel)});(0,R.unstable_batchedUpdates)(()=>{Ao(Bt),ka(Xi.nativeEvent)});function Qt(de){return function(){return N0(this,null,function*(){const{active:_e,collisions:De,over:Ye,scrollAdjustedTranslate:or}=Uo.current;let Br=null;if(_e&&or){const{cancelDrop:Wr}=pi.current;Br={activatorEvent:wt,active:_e,collisions:De,delta:or,over:Ye},de===k.DragEnd&&typeof Wr=="function"&&(yield Promise.resolve(Wr(Br)))&&(de=k.DragCancel)}Ui.current=null,(0,R.unstable_batchedUpdates)(()=>{Ga({type:de}),qa(Jn.Uninitialized),Es(null),Ao(null),ka(null);const Wr=de===k.DragEnd?"onDragEnd":"onDragCancel";if(Br){const Fr=pi.current[Wr];Fr==null||Fr(Br),Pa({type:Wr,event:Br})}})})}}},[va]),Ko=(0,y.useCallback)((Xi,xo)=>(Lo,h)=>{const X=Lo.nativeEvent,wt=va.get(h);if(Ui.current!==null||!wt||X.dndKit||X.defaultPrevented)return;const Bt={active:wt};Xi(Lo,xo.options,Bt)===!0&&(X.dndKit={capturedBy:xo.sensor},Ui.current=h,nu(Lo,xo))},[va,nu]),is=Ut(Zn,Ko);fr(Zn),(0,w.LI)(()=>{Yi&&ui===Jn.Initializing&&qa(Jn.Initialized)},[Yi,ui]),(0,y.useEffect)(()=>{const{onDragMove:Xi}=pi.current,{active:xo,activatorEvent:Lo,collisions:h,over:X}=Uo.current;if(!xo||!Lo)return;const wt={active:xo,activatorEvent:Lo,collisions:h,delta:{x:Ii.x,y:Ii.y},over:X};(0,R.unstable_batchedUpdates)(()=>{Xi==null||Xi(wt),Pa({type:"onDragMove",event:wt})})},[Ii.x,Ii.y]),(0,y.useEffect)(()=>{const{active:Xi,activatorEvent:xo,collisions:Lo,droppableContainers:h,scrollAdjustedTranslate:X}=Uo.current;if(!Xi||Ui.current==null||!xo||!X)return;const{onDragOver:wt}=pi.current,Bt=h.get(hs),Qt=Bt&&Bt.rect.current?{id:Bt.id,rect:Bt.rect.current,data:Bt.data,disabled:Bt.disabled}:null,de={active:Xi,activatorEvent:xo,collisions:Lo,delta:{x:X.x,y:X.y},over:Qt};(0,R.unstable_batchedUpdates)(()=>{Es(Qt),wt==null||wt(de),Pa({type:"onDragOver",event:de})})},[hs]),(0,w.LI)(()=>{Uo.current={activatorEvent:Ni,active:Oi,activeNode:gi,collisionRect:eo,collisions:Wo,droppableRects:lo,draggableNodes:va,draggingNode:Wt,draggingNodeRect:Le,droppableContainers:ni,over:qo,scrollableAncestors:fn,scrollAdjustedTranslate:Ii},ki.current={initial:Le,translated:eo}},[Oi,gi,Wo,eo,va,Wt,Le,lo,ni,qo,fn,Ii]),te(oo(Sa({},zo),{delta:fi,draggingRect:eo,pointerCoordinates:hi,scrollableAncestors:fn,scrollableAncestorRects:Fn}));const vs=(0,y.useMemo)(()=>({active:Oi,activeNode:gi,activeNodeRect:Yi,activatorEvent:Ni,collisions:Wo,containerNodeRect:Go,dragOverlay:ha,draggableNodes:va,droppableContainers:ni,droppableRects:lo,over:qo,measureDroppableContainers:_i,scrollableAncestors:fn,scrollableAncestorRects:Fn,measuringConfiguration:Wi,measuringScheduled:Do,windowRect:Zr}),[Oi,gi,Yi,Ni,Wo,Go,ha,va,ni,lo,qo,_i,fn,Fn,Wi,Do,Zr]),Po=(0,y.useMemo)(()=>({activatorEvent:Ni,activators:is,active:Oi,activeNodeRect:Yi,ariaDescribedById:{draggable:Bi},dispatch:Ga,draggableNodes:va,over:qo,measureDroppableContainers:_i}),[Ni,is,Oi,Yi,Ga,Bi,va,qo,_i]);return y.createElement(S.Provider,{value:Ea},y.createElement(Ne.Provider,{value:Po},y.createElement(nr.Provider,{value:vs},y.createElement(Bn.Provider,{value:ws},Mn)),y.createElement(An,{disabled:(Kr==null?void 0:Kr.restoreFocus)===!1})),y.createElement(D,oo(Sa({},Kr),{hiddenTextDescribedById:Bi})));function xu(){const Xi=(To==null?void 0:To.autoScrollEnabled)===!1,xo=typeof cn=="object"?cn.enabled===!1:cn===!1,Lo=Ra&&!Xi&&!xo;return typeof cn=="object"?oo(Sa({},cn),{enabled:Lo}):{enabled:Lo}}}),qn=(0,y.createContext)(null),Za="button",za="Droppable";function xa(Jt){let{id:fe,data:Pe,disabled:ar=!1,attributes:Tr}=Jt;const Sr=(0,w.Ld)(za),{activators:xr,activatorEvent:Kr,active:cn,activeNodeRect:Mn,ariaDescribedById:Zn,draggableNodes:Un,over:na}=(0,y.useContext)(Ne),{role:aa=Za,roleDescription:Ya="draggable",tabIndex:ua=0}=Tr!=null?Tr:{},$n=(cn==null?void 0:cn.id)===fe,Ga=(0,y.useContext)($n?Bn:qn),[Pa,Ea]=(0,w.wm)(),[ui,qa]=(0,w.wm)(),Ra=He(xr,fe),Ca=(0,w.Ey)(Pe);(0,w.LI)(()=>(Un.set(fe,{id:fe,key:Sr,node:Pa,activatorNode:ui,data:Ca}),()=>{const fi=Un.get(fe);fi&&fi.key===Sr&&Un.delete(fe)}),[Un,fe]);const va=(0,y.useMemo)(()=>({role:aa,tabIndex:ua,"aria-disabled":ar,"aria-pressed":$n&&aa===Za?!0:void 0,"aria-roledescription":Ya,"aria-describedby":Zn.draggable}),[ar,aa,ua,$n,Ya,Zn.draggable]);return{active:cn,activatorEvent:Kr,activeNodeRect:Mn,attributes:va,isDragging:$n,listeners:ar?void 0:Ra,node:Pa,over:na,setNodeRef:Ea,setActivatorNodeRef:qa,transform:Ga}}function Ei(){return(0,y.useContext)(nr)}const _o="Droppable",Mi={timeout:25};function Ti(Jt){let{data:fe,disabled:Pe=!1,id:ar,resizeObserverConfig:Tr}=Jt;const Sr=(0,w.Ld)(_o),{active:xr,dispatch:Kr,over:cn,measureDroppableContainers:Mn}=(0,y.useContext)(Ne),Zn=(0,y.useRef)({disabled:Pe}),Un=(0,y.useRef)(!1),na=(0,y.useRef)(null),aa=(0,y.useRef)(null),{disabled:Ya,updateMeasurementsFor:ua,timeout:$n}=Sa(Sa({},Mi),Tr),Ga=(0,w.Ey)(ua!=null?ua:ar),Pa=(0,y.useCallback)(()=>{if(!Un.current){Un.current=!0;return}aa.current!=null&&clearTimeout(aa.current),aa.current=setTimeout(()=>{Mn(Array.isArray(Ga.current)?Ga.current:[Ga.current]),aa.current=null},$n)},[$n]),Ea=$({callback:Pa,disabled:Ya||!xr}),ui=(0,y.useCallback)((va,fi)=>{Ea&&(fi&&(Ea.unobserve(fi),Un.current=!1),va&&Ea.observe(va))},[Ea]),[qa,Ra]=(0,w.wm)(ui),Ca=(0,w.Ey)(fe);return(0,y.useEffect)(()=>{!Ea||!qa.current||(Ea.disconnect(),Un.current=!1,Ea.observe(qa.current))},[qa,Ea]),(0,w.LI)(()=>(Kr({type:k.RegisterDroppable,element:{id:ar,key:Sr,disabled:Pe,node:qa,rect:na,data:Ca}}),()=>Kr({type:k.UnregisterDroppable,key:Sr,id:ar})),[ar]),(0,y.useEffect)(()=>{Pe!==Zn.current.disabled&&(Kr({type:k.SetDroppableDisabled,id:ar,key:Sr,disabled:Pe}),Zn.current.disabled=Pe)},[ar,Sr,Pe,Kr]),{active:xr,rect:na,isOver:(cn==null?void 0:cn.id)===ar,node:qa,over:cn,setNodeRef:Ra}}function ga(Jt){let{animation:fe,children:Pe}=Jt;const[ar,Tr]=useState(null),[Sr,xr]=useState(null),Kr=usePrevious(Pe);return!Pe&&!ar&&Kr&&Tr(Kr),useIsomorphicLayoutEffect(()=>{if(!Sr)return;const cn=ar==null?void 0:ar.key,Mn=ar==null?void 0:ar.props.id;if(cn==null||Mn==null){Tr(null);return}Promise.resolve(fe(Mn,Sr)).then(()=>{Tr(null)})},[fe,ar,Sr]),React.createElement(React.Fragment,null,Pe,ar?cloneElement(ar,{ref:xr}):null)}const Ri={x:0,y:0,scaleX:1,scaleY:1};function so(Jt){let{children:fe}=Jt;return React.createElement(Ne.Provider,{value:ye},React.createElement(Bn.Provider,{value:Ri},fe))}const Ba={position:"fixed",touchAction:"none"},Zi=Jt=>isKeyboardEvent(Jt)?"transform 250ms ease":void 0,Fo=null,Li={duration:250,easing:"ease",keyframes:Jt=>{let{transform:{initial:fe,final:Pe}}=Jt;return[{transform:w.ux.Transform.toString(fe)},{transform:w.ux.Transform.toString(Pe)}]},sideEffects:(Jt=>fe=>{let{active:Pe,dragOverlay:ar}=fe;const Tr={},{styles:Sr,className:xr}=Jt;if(Sr!=null&&Sr.active)for(const[Kr,cn]of Object.entries(Sr.active))cn!==void 0&&(Tr[Kr]=Pe.node.style.getPropertyValue(Kr),Pe.node.style.setProperty(Kr,cn));if(Sr!=null&&Sr.dragOverlay)for(const[Kr,cn]of Object.entries(Sr.dragOverlay))cn!==void 0&&ar.node.style.setProperty(Kr,cn);return xr!=null&&xr.active&&Pe.node.classList.add(xr.active),xr!=null&&xr.dragOverlay&&ar.node.classList.add(xr.dragOverlay),function(){for(const[cn,Mn]of Object.entries(Tr))Pe.node.style.setProperty(cn,Mn);xr!=null&&xr.active&&Pe.node.classList.remove(xr.active)}})({styles:{active:{opacity:"0"}}})};function Gi(Jt){let{config:fe,draggableNodes:Pe,droppableContainers:ar,measuringConfiguration:Tr}=Jt;return useEvent((Sr,xr)=>{if(fe===null)return;const Kr=Pe.get(Sr);if(!Kr)return;const cn=Kr.node.current;if(!cn)return;const Mn=ur(xr);if(!Mn)return;const{transform:Zn}=getWindow(xr).getComputedStyle(xr),Un=Ct(Zn);if(!Un)return;const na=typeof fe=="function"?fe:Zo(fe);return _r(cn,Tr.draggable.measure),na({active:{id:Sr,data:Kr.data,node:cn,rect:Tr.draggable.measure(cn)},draggableNodes:Pe,dragOverlay:{node:xr,rect:Tr.dragOverlay.measure(Mn)},droppableContainers:ar,measuringConfiguration:Tr,transform:Un})})}function Zo(Jt){const{duration:fe,easing:Pe,sideEffects:ar,keyframes:Tr}=Sa(Sa({},Li),Jt);return Sr=>{let Pa=Sr,{active:xr,dragOverlay:Kr,transform:cn}=Pa,Mn=_h(Pa,["active","dragOverlay","transform"]);if(!fe)return;const Zn={x:Kr.rect.left-xr.rect.left,y:Kr.rect.top-xr.rect.top},Un={scaleX:cn.scaleX!==1?xr.rect.width*cn.scaleX/Kr.rect.width:1,scaleY:cn.scaleY!==1?xr.rect.height*cn.scaleY/Kr.rect.height:1},na=Sa({x:cn.x-Zn.x,y:cn.y-Zn.y},Un),aa=Tr(oo(Sa({},Mn),{active:xr,dragOverlay:Kr,transform:{initial:cn,final:na}})),[Ya]=aa,ua=aa[aa.length-1];if(JSON.stringify(Ya)===JSON.stringify(ua))return;const $n=ar==null?void 0:ar(Sa({active:xr,dragOverlay:Kr},Mn)),Ga=Kr.node.animate(aa,{duration:fe,easing:Pe,fill:"forwards"});return new Promise(Ea=>{Ga.onfinish=()=>{$n==null||$n(),Ea()}})}}let si=0;function Ai(Jt){return useMemo(()=>{if(Jt!=null)return si++,si},[Jt])}const Qn=null},245587:function(Ge,W,C){"use strict";C.d(W,{Fo:function(){return U},PG:function(){return b},Rp:function(){return _},nB:function(){return st},qw:function(){return g}});var y=C(667294),R=C(960887),w=C(724285);function _(Q,xt,Ct){const et=Q.slice();return et.splice(Ct<0?et.length+Ct:Ct,0,et.splice(xt,1)[0]),et}function L(Q,xt,Ct){const et=Q.slice();return et[xt]=Q[Ct],et[Ct]=Q[xt],et}function P(Q,xt){return Q.reduce((Ct,et,vt)=>{const Tt=xt.get(et);return Tt&&(Ct[vt]=Tt),Ct},Array(Q.length))}function p(Q){return Q!==null&&Q>=0}function m(Q,xt){if(Q===xt)return!0;if(Q.length!==xt.length)return!1;for(let Ct=0;Ct<Q.length;Ct++)if(Q[Ct]!==xt[Ct])return!1;return!0}function S(Q){return typeof Q=="boolean"?{draggable:Q,droppable:Q}:Q}const E={scaleX:1,scaleY:1},b=Q=>{var xt;let{rects:Ct,activeNodeRect:et,activeIndex:vt,overIndex:Tt,index:Ot}=Q;const Et=(xt=Ct[vt])!=null?xt:et;if(!Et)return null;const Dt=A(Ct,Ot,vt);if(Ot===vt){const Vt=Ct[Tt];return Vt?Sa({x:vt<Tt?Vt.left+Vt.width-(Et.left+Et.width):Vt.left-Et.left,y:0},E):null}return Ot>vt&&Ot<=Tt?Sa({x:-Et.width-Dt,y:0},E):Ot<vt&&Ot>=Tt?Sa({x:Et.width+Dt,y:0},E):Sa({x:0,y:0},E)};function A(Q,xt,Ct){const et=Q[xt],vt=Q[xt-1],Tt=Q[xt+1];return!et||!vt&&!Tt?0:Ct<xt?vt?et.left-(vt.left+vt.width):Tt.left-(et.left+et.width):Tt?Tt.left-(et.left+et.width):et.left-(vt.left+vt.width)}const x=Q=>{let{rects:xt,activeIndex:Ct,overIndex:et,index:vt}=Q;const Tt=_(xt,et,Ct),Ot=xt[vt],Et=Tt[vt];return!Et||!Ot?null:{x:Et.left-Ot.left,y:Et.top-Ot.top,scaleX:Et.width/Ot.width,scaleY:Et.height/Ot.height}},D=Q=>{let{activeIndex:xt,index:Ct,rects:et,overIndex:vt}=Q,Tt,Ot;return Ct===xt&&(Tt=et[Ct],Ot=et[vt]),Ct===vt&&(Tt=et[Ct],Ot=et[xt]),!Ot||!Tt?null:{x:Ot.left-Tt.left,y:Ot.top-Tt.top,scaleX:Ot.width/Tt.width,scaleY:Ot.height/Tt.height}},k={scaleX:1,scaleY:1},g=Q=>{var xt;let{activeIndex:Ct,activeNodeRect:et,index:vt,rects:Tt,overIndex:Ot}=Q;const Et=(xt=Tt[Ct])!=null?xt:et;if(!Et)return null;if(vt===Ct){const Vt=Tt[Ot];return Vt?Sa({x:0,y:Ct<Ot?Vt.top+Vt.height-(Et.top+Et.height):Vt.top-Et.top},k):null}const Dt=f(Tt,vt,Ct);return vt>Ct&&vt<=Ot?Sa({x:0,y:-Et.height-Dt},k):vt<Ct&&vt>=Ot?Sa({x:0,y:Et.height+Dt},k):Sa({x:0,y:0},k)};function f(Q,xt,Ct){const et=Q[xt],vt=Q[xt-1],Tt=Q[xt+1];return et?Ct<xt?vt?et.top-(vt.top+vt.height):Tt?Tt.top-(et.top+et.height):0:Tt?Tt.top-(et.top+et.height):vt?et.top-(vt.top+vt.height):0:0}const z="Sortable",Y=y.createContext({activeIndex:-1,containerId:z,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:x,disabled:{draggable:!1,droppable:!1}});function U(Q){let{children:xt,id:Ct,items:et,strategy:vt=x,disabled:Tt=!1}=Q;const{active:Ot,dragOverlay:Et,droppableRects:Dt,over:Vt,measureDroppableContainers:ue}=(0,R.Cj)(),ee=(0,w.Ld)(z,Ct),It=Boolean(Et.rect!==null),ne=(0,y.useMemo)(()=>et.map(Fe=>typeof Fe=="object"&&"id"in Fe?Fe.id:Fe),[et]),pe=Ot!=null,Gt=Ot?ne.indexOf(Ot.id):-1,qt=Vt?ne.indexOf(Vt.id):-1,$t=(0,y.useRef)(ne),Zt=!m(ne,$t.current),se=qt!==-1&&Gt===-1||Zt,Se=S(Tt);(0,w.LI)(()=>{Zt&&pe&&ue(ne)},[Zt,ne,pe,ue]),(0,y.useEffect)(()=>{$t.current=ne},[ne]);const Pt=(0,y.useMemo)(()=>({activeIndex:Gt,containerId:ee,disabled:Se,disableTransforms:se,items:ne,overIndex:qt,useDragOverlay:It,sortedRects:P(ne,Dt),strategy:vt}),[Gt,ee,Se.draggable,Se.droppable,se,ne,qt,Dt,It,vt]);return y.createElement(Y.Provider,{value:Pt},xt)}const G=Q=>{let{id:xt,items:Ct,activeIndex:et,overIndex:vt}=Q;return _(Ct,et,vt).indexOf(xt)},j=Q=>{let{containerId:xt,isSorting:Ct,wasDragging:et,index:vt,items:Tt,newIndex:Ot,previousItems:Et,previousContainerId:Dt,transition:Vt}=Q;return!Vt||!et||Et!==Tt&&vt===Ot?!1:Ct?!0:Ot!==vt&&xt===Dt},K={duration:200,easing:"ease"},nt="transform",q=w.ux.Transition.toString({property:nt,duration:0,easing:"linear"}),J={roleDescription:"sortable"};function ut(Q){let{disabled:xt,index:Ct,node:et,rect:vt}=Q;const[Tt,Ot]=(0,y.useState)(null),Et=(0,y.useRef)(Ct);return(0,w.LI)(()=>{if(!xt&&Ct!==Et.current&&et.current){const Dt=vt.current;if(Dt){const Vt=(0,R.VK)(et.current,{ignoreTransform:!0}),ue={x:Dt.left-Vt.left,y:Dt.top-Vt.top,scaleX:Dt.width/Vt.width,scaleY:Dt.height/Vt.height};(ue.x||ue.y)&&Ot(ue)}}Ct!==Et.current&&(Et.current=Ct)},[xt,Ct,et,vt]),(0,y.useEffect)(()=>{Tt&&Ot(null)},[Tt]),Tt}function st(Q){let{animateLayoutChanges:xt=j,attributes:Ct,disabled:et,data:vt,getNewIndex:Tt=G,id:Ot,strategy:Et,resizeObserverConfig:Dt,transition:Vt=K}=Q;const{items:ue,containerId:ee,activeIndex:It,disabled:ne,disableTransforms:pe,sortedRects:Gt,overIndex:qt,useDragOverlay:$t,strategy:Zt}=(0,y.useContext)(Y),se=bt(et,ne),Se=ue.indexOf(Ot),Pt=(0,y.useMemo)(()=>Sa({sortable:{containerId:ee,index:Se,items:ue}},vt),[ee,vt,Se,ue]),Fe=(0,y.useMemo)(()=>ue.slice(ue.indexOf(Ot)),[ue,Ot]),{rect:vr,node:Cr,isOver:_r,setNodeRef:Ur}=(0,R.Zj)({id:Ot,data:Pt,disabled:se.droppable,resizeObserverConfig:Sa({updateMeasurementsFor:Fe},Dt)}),{active:nn,activatorEvent:on,activeNodeRect:tr,attributes:Rr,setNodeRef:qr,listeners:br,isDragging:zr,over:Ir,setActivatorNodeRef:je,transform:qe}=(0,R.O1)({id:Ot,data:Pt,attributes:Sa(Sa({},J),Ct),disabled:se.draggable}),xn=(0,w.HB)(Ur,qr),rr=Boolean(nn),jr=rr&&!pe&&p(It)&&p(qt),Nr=!$t&&zr,kn=Nr&&jr?qe:null,an=Et!=null?Et:Zt,dn=jr?kn!=null?kn:an({rects:Gt,activeNodeRect:tr,activeIndex:It,overIndex:qt,index:Se}):null,Sn=p(It)&&p(qt)?Tt({id:Ot,items:ue,activeIndex:It,overIndex:qt}):Se,Dn=nn==null?void 0:nn.id,Nn=(0,y.useRef)({activeId:Dn,items:ue,newIndex:Sn,containerId:ee}),rt=ue!==Nn.current.items,Xe=xt({active:nn,containerId:ee,isDragging:zr,isSorting:rr,id:Ot,index:Se,items:ue,newIndex:Nn.current.newIndex,previousItems:Nn.current.items,previousContainerId:Nn.current.containerId,transition:Vt,wasDragging:Nn.current.activeId!=null}),Xt=ut({disabled:!Xe,index:Se,node:Cr,rect:vr});return(0,y.useEffect)(()=>{rr&&Nn.current.newIndex!==Sn&&(Nn.current.newIndex=Sn),ee!==Nn.current.containerId&&(Nn.current.containerId=ee),ue!==Nn.current.items&&(Nn.current.items=ue)},[rr,Sn,ee,ue]),(0,y.useEffect)(()=>{if(Dn===Nn.current.activeId)return;if(Dn&&!Nn.current.activeId){Nn.current.activeId=Dn;return}const ot=setTimeout(()=>{Nn.current.activeId=Dn},50);return()=>clearTimeout(ot)},[Dn]),{active:nn,activeIndex:It,attributes:Rr,data:Pt,rect:vr,index:Se,newIndex:Sn,items:ue,isOver:_r,isSorting:rr,isDragging:zr,listeners:br,node:Cr,overIndex:qt,over:Ir,setNodeRef:xn,setActivatorNodeRef:je,setDroppableNodeRef:Ur,setDraggableNodeRef:qr,transform:Xt!=null?Xt:dn,transition:te()};function te(){if(Xt||rt&&Nn.current.newIndex===Se)return q;if(!(Nr&&!(0,w.vd)(on)||!Vt)&&(rr||Xe))return w.ux.Transition.toString(oo(Sa({},Vt),{property:nt}))}}function bt(Q,xt){var Ct,et;return typeof Q=="boolean"?{draggable:Q,droppable:!1}:{draggable:(Ct=Q==null?void 0:Q.draggable)!=null?Ct:xt.draggable,droppable:(et=Q==null?void 0:Q.droppable)!=null?et:xt.droppable}}function ht(Q){if(!Q)return!1;const xt=Q.data.current;return!!(xt&&"sortable"in xt&&typeof xt.sortable=="object"&&"containerId"in xt.sortable&&"items"in xt.sortable&&"index"in xt.sortable)}const kt=[R.g4.Down,R.g4.Right,R.g4.Up,R.g4.Left],Mt=(Q,xt)=>{let{context:{active:Ct,collisionRect:et,droppableRects:vt,droppableContainers:Tt,over:Ot,scrollableAncestors:Et}}=xt;if(kt.includes(Q.code)){if(Q.preventDefault(),!Ct||!et)return;const Dt=[];Tt.getEnabled().forEach(ee=>{if(!ee||ee!=null&&ee.disabled)return;const It=vt.get(ee.id);if(It)switch(Q.code){case KeyboardCode.Down:et.top<It.top&&Dt.push(ee);break;case KeyboardCode.Up:et.top>It.top&&Dt.push(ee);break;case KeyboardCode.Left:et.left>It.left&&Dt.push(ee);break;case KeyboardCode.Right:et.left<It.left&&Dt.push(ee);break}});const Vt=closestCorners({active:Ct,collisionRect:et,droppableRects:vt,droppableContainers:Dt,pointerCoordinates:null});let ue=getFirstCollision(Vt,"id");if(ue===(Ot==null?void 0:Ot.id)&&Vt.length>1&&(ue=Vt[1].id),ue!=null){const ee=Tt.get(Ct.id),It=Tt.get(ue),ne=It?vt.get(It.id):null,pe=It==null?void 0:It.node.current;if(pe&&ne&&ee&&It){const qt=getScrollableAncestors(pe).some((Fe,vr)=>Et[vr]!==Fe),$t=St(ee,It),Zt=V(ee,It),se=qt||!$t?{x:0,y:0}:{x:Zt?et.width-ne.width:0,y:Zt?et.height-ne.height:0},Se={x:ne.left,y:ne.top};return se.x&&se.y?Se:subtract(Se,se)}}}};function St(Q,xt){return!ht(Q)||!ht(xt)?!1:Q.data.current.sortable.containerId===xt.data.current.sortable.containerId}function V(Q,xt){return!ht(Q)||!ht(xt)||!St(Q,xt)?!1:Q.data.current.sortable.index<xt.data.current.sortable.index}},724285:function(Ge,W,C){"use strict";C.d(W,{$X:function(){return j},D9:function(){return f},DC:function(){return J},Ey:function(){return D},FJ:function(){return _},Gj:function(){return k},HB:function(){return R},IH:function(){return G},Jj:function(){return P},LI:function(){return b},Ld:function(){return Y},Nq:function(){return w},Re:function(){return m},UG:function(){return L},Yz:function(){return x},qk:function(){return p},r3:function(){return E},so:function(){return bt},ux:function(){return ut},vZ:function(){return S},vd:function(){return nt},wm:function(){return g},zX:function(){return A}});var y=C(667294);function R(){for(var ht=arguments.length,kt=new Array(ht),Mt=0;Mt<ht;Mt++)kt[Mt]=arguments[Mt];return(0,y.useMemo)(()=>St=>{kt.forEach(V=>V(St))},kt)}const w=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function _(ht){const kt=Object.prototype.toString.call(ht);return kt==="[object Window]"||kt==="[object global]"}function L(ht){return"nodeType"in ht}function P(ht){var kt,Mt;return ht?_(ht)?ht:L(ht)&&(kt=(Mt=ht.ownerDocument)==null?void 0:Mt.defaultView)!=null?kt:window:window}function p(ht){const{Document:kt}=P(ht);return ht instanceof kt}function m(ht){return _(ht)?!1:ht instanceof P(ht).HTMLElement}function S(ht){return ht instanceof P(ht).SVGElement}function E(ht){return ht?_(ht)?ht.document:L(ht)?p(ht)?ht:m(ht)?ht.ownerDocument:document:document:document}const b=w?y.useLayoutEffect:y.useEffect;function A(ht){const kt=(0,y.useRef)(ht);return b(()=>{kt.current=ht}),(0,y.useCallback)(function(){for(var Mt=arguments.length,St=new Array(Mt),V=0;V<Mt;V++)St[V]=arguments[V];return kt.current==null?void 0:kt.current(...St)},[])}function x(){const ht=(0,y.useRef)(null),kt=(0,y.useCallback)((St,V)=>{ht.current=setInterval(St,V)},[]),Mt=(0,y.useCallback)(()=>{ht.current!==null&&(clearInterval(ht.current),ht.current=null)},[]);return[kt,Mt]}function D(ht,kt){kt===void 0&&(kt=[ht]);const Mt=(0,y.useRef)(ht);return b(()=>{Mt.current!==ht&&(Mt.current=ht)},kt),Mt}function k(ht,kt){const Mt=(0,y.useRef)();return(0,y.useMemo)(()=>{const St=ht(Mt.current);return Mt.current=St,St},[...kt])}function g(ht){const kt=A(ht),Mt=(0,y.useRef)(null),St=(0,y.useCallback)(V=>{V!==Mt.current&&(kt==null||kt(V,Mt.current)),Mt.current=V},[]);return[Mt,St]}function f(ht){const kt=(0,y.useRef)();return(0,y.useEffect)(()=>{kt.current=ht},[ht]),kt.current}let z={};function Y(ht,kt){return(0,y.useMemo)(()=>{if(kt)return kt;const Mt=z[ht]==null?0:z[ht]+1;return z[ht]=Mt,ht+"-"+Mt},[ht,kt])}function U(ht){return function(kt){for(var Mt=arguments.length,St=new Array(Mt>1?Mt-1:0),V=1;V<Mt;V++)St[V-1]=arguments[V];return St.reduce((Q,xt)=>{const Ct=Object.entries(xt);for(const[et,vt]of Ct){const Tt=Q[et];Tt!=null&&(Q[et]=Tt+ht*vt)}return Q},Sa({},kt))}}const G=U(1),j=U(-1);function K(ht){return"clientX"in ht&&"clientY"in ht}function nt(ht){if(!ht)return!1;const{KeyboardEvent:kt}=P(ht.target);return kt&&ht instanceof kt}function q(ht){if(!ht)return!1;const{TouchEvent:kt}=P(ht.target);return kt&&ht instanceof kt}function J(ht){if(q(ht)){if(ht.touches&&ht.touches.length){const{clientX:kt,clientY:Mt}=ht.touches[0];return{x:kt,y:Mt}}else if(ht.changedTouches&&ht.changedTouches.length){const{clientX:kt,clientY:Mt}=ht.changedTouches[0];return{x:kt,y:Mt}}}return K(ht)?{x:ht.clientX,y:ht.clientY}:null}const ut=Object.freeze({Translate:{toString(ht){if(!ht)return;const{x:kt,y:Mt}=ht;return"translate3d("+(kt?Math.round(kt):0)+"px, "+(Mt?Math.round(Mt):0)+"px, 0)"}},Scale:{toString(ht){if(!ht)return;const{scaleX:kt,scaleY:Mt}=ht;return"scaleX("+kt+") scaleY("+Mt+")"}},Transform:{toString(ht){if(ht)return[ut.Translate.toString(ht),ut.Scale.toString(ht)].join(" ")}},Transition:{toString(ht){let{property:kt,duration:Mt,easing:St}=ht;return kt+" "+Mt+"ms "+St}}}),st="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function bt(ht){return ht.matches(st)?ht:ht.querySelector(st)}},971497:function(Ge,W,C){"use strict";C.r(W),C.d(W,{forceCenter:function(){return y},forceCollide:function(){return p},forceLink:function(){return A},forceManyBody:function(){return ht},forceRadial:function(){return kt},forceSimulation:function(){return bt},forceX:function(){return Mt},forceY:function(){return St}});function y(V,Q){var xt,Ct=1;V==null&&(V=0),Q==null&&(Q=0);function et(){var vt,Tt=xt.length,Ot,Et=0,Dt=0;for(vt=0;vt<Tt;++vt)Ot=xt[vt],Et+=Ot.x,Dt+=Ot.y;for(Et=(Et/Tt-V)*Ct,Dt=(Dt/Tt-Q)*Ct,vt=0;vt<Tt;++vt)Ot=xt[vt],Ot.x-=Et,Ot.y-=Dt}return et.initialize=function(vt){xt=vt},et.x=function(vt){return arguments.length?(V=+vt,et):V},et.y=function(vt){return arguments.length?(Q=+vt,et):Q},et.strength=function(vt){return arguments.length?(Ct=+vt,et):Ct},et}var R=C(547148);function w(V){return function(){return V}}function _(V){return(V()-.5)*1e-6}function L(V){return V.x+V.vx}function P(V){return V.y+V.vy}function p(V){var Q,xt,Ct,et=1,vt=1;typeof V!="function"&&(V=w(V==null?1:+V));function Tt(){for(var Dt,Vt=Q.length,ue,ee,It,ne,pe,Gt,qt=0;qt<vt;++qt)for(ue=(0,R.Z)(Q,L,P).visitAfter(Ot),Dt=0;Dt<Vt;++Dt)ee=Q[Dt],pe=xt[ee.index],Gt=pe*pe,It=ee.x+ee.vx,ne=ee.y+ee.vy,ue.visit($t);function $t(Zt,se,Se,Pt,Fe){var vr=Zt.data,Cr=Zt.r,_r=pe+Cr;if(vr){if(vr.index>ee.index){var Ur=It-vr.x-vr.vx,nn=ne-vr.y-vr.vy,on=Ur*Ur+nn*nn;on<_r*_r&&(Ur===0&&(Ur=_(Ct),on+=Ur*Ur),nn===0&&(nn=_(Ct),on+=nn*nn),on=(_r-(on=Math.sqrt(on)))/on*et,ee.vx+=(Ur*=on)*(_r=(Cr*=Cr)/(Gt+Cr)),ee.vy+=(nn*=on)*_r,vr.vx-=Ur*(_r=1-_r),vr.vy-=nn*_r)}return}return se>It+_r||Pt<It-_r||Se>ne+_r||Fe<ne-_r}}function Ot(Dt){if(Dt.data)return Dt.r=xt[Dt.data.index];for(var Vt=Dt.r=0;Vt<4;++Vt)Dt[Vt]&&Dt[Vt].r>Dt.r&&(Dt.r=Dt[Vt].r)}function Et(){if(Q){var Dt,Vt=Q.length,ue;for(xt=new Array(Vt),Dt=0;Dt<Vt;++Dt)ue=Q[Dt],xt[ue.index]=+V(ue,Dt,Q)}}return Tt.initialize=function(Dt,Vt){Q=Dt,Ct=Vt,Et()},Tt.iterations=function(Dt){return arguments.length?(vt=+Dt,Tt):vt},Tt.strength=function(Dt){return arguments.length?(et=+Dt,Tt):et},Tt.radius=function(Dt){return arguments.length?(V=typeof Dt=="function"?Dt:w(+Dt),Et(),Tt):V},Tt}var m=C(918698),S=C.n(m);function E(V){return V.index}function b(V,Q){var xt=V.get(Q);if(!xt)throw new Error("node not found: "+Q);return xt}function A(V){var Q=E,xt=ue,Ct,et=w(30),vt,Tt,Ot,Et,Dt,Vt=1;V==null&&(V=[]);function ue(Gt){return 1/Math.min(Ot[Gt.source.index],Ot[Gt.target.index])}function ee(Gt){for(var qt=0,$t=V.length;qt<Vt;++qt)for(var Zt=0,se,Se,Pt,Fe,vr,Cr,_r;Zt<$t;++Zt)se=V[Zt],Se=se.source,Pt=se.target,Fe=Pt.x+Pt.vx-Se.x-Se.vx||_(Dt),vr=Pt.y+Pt.vy-Se.y-Se.vy||_(Dt),Cr=Math.sqrt(Fe*Fe+vr*vr),Cr=(Cr-vt[Zt])/Cr*Gt*Ct[Zt],Fe*=Cr,vr*=Cr,Pt.vx-=Fe*(_r=Et[Zt]),Pt.vy-=vr*_r,Se.vx+=Fe*(_r=1-_r),Se.vy+=vr*_r}function It(){if(Tt){var Gt,qt=Tt.length,$t=V.length,Zt=new Map(Tt.map(function(Se,Pt){return[Q(Se,Pt,Tt),Se]})),se;for(Gt=0,Ot=new Array(qt);Gt<$t;++Gt)se=V[Gt],se.index=Gt,S()(se.source)!=="object"&&(se.source=b(Zt,se.source)),S()(se.target)!=="object"&&(se.target=b(Zt,se.target)),Ot[se.source.index]=(Ot[se.source.index]||0)+1,Ot[se.target.index]=(Ot[se.target.index]||0)+1;for(Gt=0,Et=new Array($t);Gt<$t;++Gt)se=V[Gt],Et[Gt]=Ot[se.source.index]/(Ot[se.source.index]+Ot[se.target.index]);Ct=new Array($t),ne(),vt=new Array($t),pe()}}function ne(){if(Tt)for(var Gt=0,qt=V.length;Gt<qt;++Gt)Ct[Gt]=+xt(V[Gt],Gt,V)}function pe(){if(Tt)for(var Gt=0,qt=V.length;Gt<qt;++Gt)vt[Gt]=+et(V[Gt],Gt,V)}return ee.initialize=function(Gt,qt){Tt=Gt,Dt=qt,It()},ee.links=function(Gt){return arguments.length?(V=Gt,It(),ee):V},ee.id=function(Gt){return arguments.length?(Q=Gt,ee):Q},ee.iterations=function(Gt){return arguments.length?(Vt=+Gt,ee):Vt},ee.strength=function(Gt){return arguments.length?(xt=typeof Gt=="function"?Gt:w(+Gt),ne(),ee):xt},ee.distance=function(Gt){return arguments.length?(et=typeof Gt=="function"?Gt:w(+Gt),pe(),ee):et},ee}var x={value:function(){}};function D(){for(var V=0,Q=arguments.length,xt={},Ct;V<Q;++V){if(!(Ct=arguments[V]+"")||Ct in xt||/[\s.]/.test(Ct))throw new Error("illegal type: "+Ct);xt[Ct]=[]}return new k(xt)}function k(V){this._=V}function g(V,Q){return V.trim().split(/^|\s+/).map(function(xt){var Ct="",et=xt.indexOf(".");if(et>=0&&(Ct=xt.slice(et+1),xt=xt.slice(0,et)),xt&&!Q.hasOwnProperty(xt))throw new Error("unknown type: "+xt);return{type:xt,name:Ct}})}k.prototype=D.prototype={constructor:k,on:function(Q,xt){var Ct=this._,et=g(Q+"",Ct),vt,Tt=-1,Ot=et.length;if(arguments.length<2){for(;++Tt<Ot;)if((vt=(Q=et[Tt]).type)&&(vt=f(Ct[vt],Q.name)))return vt;return}if(xt!=null&&typeof xt!="function")throw new Error("invalid callback: "+xt);for(;++Tt<Ot;)if(vt=(Q=et[Tt]).type)Ct[vt]=z(Ct[vt],Q.name,xt);else if(xt==null)for(vt in Ct)Ct[vt]=z(Ct[vt],Q.name,null);return this},copy:function(){var Q={},xt=this._;for(var Ct in xt)Q[Ct]=xt[Ct].slice();return new k(Q)},call:function(Q,xt){if((vt=arguments.length-2)>0)for(var Ct=new Array(vt),et=0,vt,Tt;et<vt;++et)Ct[et]=arguments[et+2];if(!this._.hasOwnProperty(Q))throw new Error("unknown type: "+Q);for(Tt=this._[Q],et=0,vt=Tt.length;et<vt;++et)Tt[et].value.apply(xt,Ct)},apply:function(Q,xt,Ct){if(!this._.hasOwnProperty(Q))throw new Error("unknown type: "+Q);for(var et=this._[Q],vt=0,Tt=et.length;vt<Tt;++vt)et[vt].value.apply(xt,Ct)}};function f(V,Q){for(var xt=0,Ct=V.length,et;xt<Ct;++xt)if((et=V[xt]).name===Q)return et.value}function z(V,Q,xt){for(var Ct=0,et=V.length;Ct<et;++Ct)if(V[Ct].name===Q){V[Ct]=x,V=V.slice(0,Ct).concat(V.slice(Ct+1));break}return xt!=null&&V.push({name:Q,value:xt}),V}var Y=D,U=C(235374),G=1664525,j=1013904223,K=4294967296;function nt(){var V=1;return function(){return(V=(G*V+j)%K)/K}}function q(V){return V.x}function J(V){return V.y}var ut=10,st=Math.PI*(3-Math.sqrt(5));function bt(V){var Q,xt=1,Ct=.001,et=1-Math.pow(Ct,1/300),vt=0,Tt=.6,Ot=new Map,Et=(0,U.HT)(ue),Dt=Y("tick","end"),Vt=nt();V==null&&(V=[]);function ue(){ee(),Dt.call("tick",Q),xt<Ct&&(Et.stop(),Dt.call("end",Q))}function ee(pe){var Gt,qt=V.length,$t;pe===void 0&&(pe=1);for(var Zt=0;Zt<pe;++Zt)for(xt+=(vt-xt)*et,Ot.forEach(function(se){se(xt)}),Gt=0;Gt<qt;++Gt)$t=V[Gt],$t.fx==null?$t.x+=$t.vx*=Tt:($t.x=$t.fx,$t.vx=0),$t.fy==null?$t.y+=$t.vy*=Tt:($t.y=$t.fy,$t.vy=0);return Q}function It(){for(var pe=0,Gt=V.length,qt;pe<Gt;++pe){if(qt=V[pe],qt.index=pe,qt.fx!=null&&(qt.x=qt.fx),qt.fy!=null&&(qt.y=qt.fy),isNaN(qt.x)||isNaN(qt.y)){var $t=ut*Math.sqrt(.5+pe),Zt=pe*st;qt.x=$t*Math.cos(Zt),qt.y=$t*Math.sin(Zt)}(isNaN(qt.vx)||isNaN(qt.vy))&&(qt.vx=qt.vy=0)}}function ne(pe){return pe.initialize&&pe.initialize(V,Vt),pe}return It(),Q={tick:ee,restart:function(){return Et.restart(ue),Q},stop:function(){return Et.stop(),Q},nodes:function(Gt){return arguments.length?(V=Gt,It(),Ot.forEach(ne),Q):V},alpha:function(Gt){return arguments.length?(xt=+Gt,Q):xt},alphaMin:function(Gt){return arguments.length?(Ct=+Gt,Q):Ct},alphaDecay:function(Gt){return arguments.length?(et=+Gt,Q):+et},alphaTarget:function(Gt){return arguments.length?(vt=+Gt,Q):vt},velocityDecay:function(Gt){return arguments.length?(Tt=1-Gt,Q):1-Tt},randomSource:function(Gt){return arguments.length?(Vt=Gt,Ot.forEach(ne),Q):Vt},force:function(Gt,qt){return arguments.length>1?(qt==null?Ot.delete(Gt):Ot.set(Gt,ne(qt)),Q):Ot.get(Gt)},find:function(Gt,qt,$t){var Zt=0,se=V.length,Se,Pt,Fe,vr,Cr;for($t==null?$t=1/0:$t*=$t,Zt=0;Zt<se;++Zt)vr=V[Zt],Se=Gt-vr.x,Pt=qt-vr.y,Fe=Se*Se+Pt*Pt,Fe<$t&&(Cr=vr,$t=Fe);return Cr},on:function(Gt,qt){return arguments.length>1?(Dt.on(Gt,qt),Q):Dt.on(Gt)}}}function ht(){var V,Q,xt,Ct,et=w(-30),vt,Tt=1,Ot=1/0,Et=.81;function Dt(It){var ne,pe=V.length,Gt=(0,R.Z)(V,q,J).visitAfter(ue);for(Ct=It,ne=0;ne<pe;++ne)Q=V[ne],Gt.visit(ee)}function Vt(){if(V){var It,ne=V.length,pe;for(vt=new Array(ne),It=0;It<ne;++It)pe=V[It],vt[pe.index]=+et(pe,It,V)}}function ue(It){var ne=0,pe,Gt,qt=0,$t,Zt,se;if(It.length){for($t=Zt=se=0;se<4;++se)(pe=It[se])&&(Gt=Math.abs(pe.value))&&(ne+=pe.value,qt+=Gt,$t+=Gt*pe.x,Zt+=Gt*pe.y);It.x=$t/qt,It.y=Zt/qt}else{pe=It,pe.x=pe.data.x,pe.y=pe.data.y;do ne+=vt[pe.data.index];while(pe=pe.next)}It.value=ne}function ee(It,ne,pe,Gt){if(!It.value)return!0;var qt=It.x-Q.x,$t=It.y-Q.y,Zt=Gt-ne,se=qt*qt+$t*$t;if(Zt*Zt/Et<se)return se<Ot&&(qt===0&&(qt=_(xt),se+=qt*qt),$t===0&&($t=_(xt),se+=$t*$t),se<Tt&&(se=Math.sqrt(Tt*se)),Q.vx+=qt*It.value*Ct/se,Q.vy+=$t*It.value*Ct/se),!0;if(It.length||se>=Ot)return;(It.data!==Q||It.next)&&(qt===0&&(qt=_(xt),se+=qt*qt),$t===0&&($t=_(xt),se+=$t*$t),se<Tt&&(se=Math.sqrt(Tt*se)));do It.data!==Q&&(Zt=vt[It.data.index]*Ct/se,Q.vx+=qt*Zt,Q.vy+=$t*Zt);while(It=It.next)}return Dt.initialize=function(It,ne){V=It,xt=ne,Vt()},Dt.strength=function(It){return arguments.length?(et=typeof It=="function"?It:w(+It),Vt(),Dt):et},Dt.distanceMin=function(It){return arguments.length?(Tt=It*It,Dt):Math.sqrt(Tt)},Dt.distanceMax=function(It){return arguments.length?(Ot=It*It,Dt):Math.sqrt(Ot)},Dt.theta=function(It){return arguments.length?(Et=It*It,Dt):Math.sqrt(Et)},Dt}function kt(V,Q,xt){var Ct,et=w(.1),vt,Tt;typeof V!="function"&&(V=w(+V)),Q==null&&(Q=0),xt==null&&(xt=0);function Ot(Dt){for(var Vt=0,ue=Ct.length;Vt<ue;++Vt){var ee=Ct[Vt],It=ee.x-Q||1e-6,ne=ee.y-xt||1e-6,pe=Math.sqrt(It*It+ne*ne),Gt=(Tt[Vt]-pe)*vt[Vt]*Dt/pe;ee.vx+=It*Gt,ee.vy+=ne*Gt}}function Et(){if(Ct){var Dt,Vt=Ct.length;for(vt=new Array(Vt),Tt=new Array(Vt),Dt=0;Dt<Vt;++Dt)Tt[Dt]=+V(Ct[Dt],Dt,Ct),vt[Dt]=isNaN(Tt[Dt])?0:+et(Ct[Dt],Dt,Ct)}}return Ot.initialize=function(Dt){Ct=Dt,Et()},Ot.strength=function(Dt){return arguments.length?(et=typeof Dt=="function"?Dt:w(+Dt),Et(),Ot):et},Ot.radius=function(Dt){return arguments.length?(V=typeof Dt=="function"?Dt:w(+Dt),Et(),Ot):V},Ot.x=function(Dt){return arguments.length?(Q=+Dt,Ot):Q},Ot.y=function(Dt){return arguments.length?(xt=+Dt,Ot):xt},Ot}function Mt(V){var Q=w(.1),xt,Ct,et;typeof V!="function"&&(V=w(V==null?0:+V));function vt(Ot){for(var Et=0,Dt=xt.length,Vt;Et<Dt;++Et)Vt=xt[Et],Vt.vx+=(et[Et]-Vt.x)*Ct[Et]*Ot}function Tt(){if(xt){var Ot,Et=xt.length;for(Ct=new Array(Et),et=new Array(Et),Ot=0;Ot<Et;++Ot)Ct[Ot]=isNaN(et[Ot]=+V(xt[Ot],Ot,xt))?0:+Q(xt[Ot],Ot,xt)}}return vt.initialize=function(Ot){xt=Ot,Tt()},vt.strength=function(Ot){return arguments.length?(Q=typeof Ot=="function"?Ot:w(+Ot),Tt(),vt):Q},vt.x=function(Ot){return arguments.length?(V=typeof Ot=="function"?Ot:w(+Ot),Tt(),vt):V},vt}function St(V){var Q=w(.1),xt,Ct,et;typeof V!="function"&&(V=w(V==null?0:+V));function vt(Ot){for(var Et=0,Dt=xt.length,Vt;Et<Dt;++Et)Vt=xt[Et],Vt.vy+=(et[Et]-Vt.y)*Ct[Et]*Ot}function Tt(){if(xt){var Ot,Et=xt.length;for(Ct=new Array(Et),et=new Array(Et),Ot=0;Ot<Et;++Ot)Ct[Ot]=isNaN(et[Ot]=+V(xt[Ot],Ot,xt))?0:+Q(xt[Ot],Ot,xt)}}return vt.initialize=function(Ot){xt=Ot,Tt()},vt.strength=function(Ot){return arguments.length?(Q=typeof Ot=="function"?Ot:w(+Ot),Tt(),vt):Q},vt.y=function(Ot){return arguments.length?(V=typeof Ot=="function"?Ot:w(+Ot),Tt(),vt):V},vt}},405237:function(Ge,W,C){"use strict";C.r(W),C.d(W,{AbstractMatrix:function(){return se},CHO:function(){return re},CholeskyDecomposition:function(){return re},EVD:function(){return Xt},EigenvalueDecomposition:function(){return Xt},LU:function(){return qe},LuDecomposition:function(){return qe},Matrix:function(){return Fe},MatrixColumnSelectionView:function(){return _r},MatrixColumnView:function(){return Cr},MatrixFlipColumnView:function(){return Ur},MatrixFlipRowView:function(){return nn},MatrixRowSelectionView:function(){return tr},MatrixRowView:function(){return on},MatrixSelectionView:function(){return Rr},MatrixSubView:function(){return qr},MatrixTransposeView:function(){return br},NIPALS:function(){return ae},Nipals:function(){return ae},QR:function(){return rr},QrDecomposition:function(){return rr},SVD:function(){return jr},SingularValueDecomposition:function(){return jr},WrapperMatrix1D:function(){return zr},WrapperMatrix2D:function(){return Ir},correlation:function(){return Xe},covariance:function(){return rt},default:function(){return Fe},determinant:function(){return an},inverse:function(){return Nr},linearDependencies:function(){return Dn},pseudoInverse:function(){return Nn},solve:function(){return kn},wrap:function(){return je}});var y=C(994993),R=C.n(y),w=C(861655),_=C.n(w),L=C(226389),P=C.n(L),p=C(918698),m=C.n(p),S=C(856690),E=C.n(S),b=C(689728),A=C.n(b);const x=Object.prototype.toString;function D(at){return x.call(at).endsWith("Array]")}function k(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!D(at))throw new TypeError("input must be an array");if(at.length===0)throw new TypeError("input must not be empty");var F=ct.fromIndex,M=F===void 0?0:F,O=ct.toIndex,$=O===void 0?at.length:O;if(M<0||M>=at.length||!Number.isInteger(M))throw new Error("fromIndex must be a positive integer smaller than length");if($<=M||$>at.length||!Number.isInteger($))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var mt=at[M],zt=M+1;zt<$;zt++)at[zt]>mt&&(mt=at[zt]);return mt}function g(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!D(at))throw new TypeError("input must be an array");if(at.length===0)throw new TypeError("input must not be empty");var F=ct.fromIndex,M=F===void 0?0:F,O=ct.toIndex,$=O===void 0?at.length:O;if(M<0||M>=at.length||!Number.isInteger(M))throw new Error("fromIndex must be a positive integer smaller than length");if($<=M||$>at.length||!Number.isInteger($))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var mt=at[M],zt=M+1;zt<$;zt++)at[zt]<mt&&(mt=at[zt]);return mt}function f(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(at)){if(at.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var F;if(ct.output!==void 0){if(!D(ct.output))throw new TypeError("output option must be an array if specified");F=ct.output}else F=new Array(at.length);var M=g(at),O=k(at);if(M===O)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var $=ct.min,mt=$===void 0?ct.autoMinMax?M:0:$,zt=ct.max,Rt=zt===void 0?ct.autoMinMax?O:1:zt;if(mt>=Rt)throw new RangeError("min option must be smaller than max option");for(var Kt=(Rt-mt)/(O-M),Te=0;Te<at.length;Te++)F[Te]=(at[Te]-M)*Kt+mt;return F}var z=" ".repeat(2),Y=" ".repeat(4);function U(){return G(this)}function G(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=ct.maxRows,M=F===void 0?15:F,O=ct.maxColumns,$=O===void 0?10:O,mt=ct.maxNumSize,zt=mt===void 0?8:mt,Rt=ct.padMinus,Kt=Rt===void 0?"auto":Rt;return"".concat(at.constructor.name,` {
`).concat(z,`[
`).concat(Y).concat(j(at,M,$,zt,Kt),`
`).concat(z,`]
`).concat(z,"rows: ").concat(at.rows,`
`).concat(z,"columns: ").concat(at.columns,`
}`)}function j(at,ct,F,M,O){var $=at.rows,mt=at.columns,zt=Math.min($,ct),Rt=Math.min(mt,F),Kt=[];if(O==="auto"){O=!1;t:for(var Te=0;Te<zt;Te++)for(var be=0;be<Rt;be++)if(at.get(Te,be)<0){O=!0;break t}}for(var We=0;We<zt;We++){for(var fr=[],He=0;He<Rt;He++)fr.push(K(at.get(We,He),M,O));Kt.push("".concat(fr.join(" ")))}return Rt!==mt&&(Kt[Kt.length-1]+=" ... ".concat(mt-F," more columns")),zt!==$&&Kt.push("... ".concat($-ct," more rows")),Kt.join(`
`.concat(Y))}function K(at,ct,F){return(at>=0&&F?" ".concat(nt(at,ct-1)):nt(at,ct)).padEnd(ct)}function nt(at,ct){var F=at.toString();if(F.length<=ct)return F;var M=at.toFixed(ct);if(M.length>ct&&(M=at.toFixed(Math.max(0,ct-(M.length-ct)))),M.length<=ct&&!M.startsWith("0.000")&&!M.startsWith("-0.000"))return M;var O=at.toExponential(ct);return O.length>ct&&(O=at.toExponential(Math.max(0,ct-(O.length-ct)))),O.slice(0)}function q(at,ct){at.prototype.add=function(M){return typeof M=="number"?this.addS(M):this.addM(M)},at.prototype.addS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)+M);return this},at.prototype.addM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)+M.get(O,$));return this},at.add=function(M,O){var $=new ct(M);return $.add(O)},at.prototype.sub=function(M){return typeof M=="number"?this.subS(M):this.subM(M)},at.prototype.subS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)-M);return this},at.prototype.subM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)-M.get(O,$));return this},at.sub=function(M,O){var $=new ct(M);return $.sub(O)},at.prototype.subtract=at.prototype.sub,at.prototype.subtractS=at.prototype.subS,at.prototype.subtractM=at.prototype.subM,at.subtract=at.sub,at.prototype.mul=function(M){return typeof M=="number"?this.mulS(M):this.mulM(M)},at.prototype.mulS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)*M);return this},at.prototype.mulM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)*M.get(O,$));return this},at.mul=function(M,O){var $=new ct(M);return $.mul(O)},at.prototype.multiply=at.prototype.mul,at.prototype.multiplyS=at.prototype.mulS,at.prototype.multiplyM=at.prototype.mulM,at.multiply=at.mul,at.prototype.div=function(M){return typeof M=="number"?this.divS(M):this.divM(M)},at.prototype.divS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)/M);return this},at.prototype.divM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)/M.get(O,$));return this},at.div=function(M,O){var $=new ct(M);return $.div(O)},at.prototype.divide=at.prototype.div,at.prototype.divideS=at.prototype.divS,at.prototype.divideM=at.prototype.divM,at.divide=at.div,at.prototype.mod=function(M){return typeof M=="number"?this.modS(M):this.modM(M)},at.prototype.modS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)%M);return this},at.prototype.modM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)%M.get(O,$));return this},at.mod=function(M,O){var $=new ct(M);return $.mod(O)},at.prototype.modulus=at.prototype.mod,at.prototype.modulusS=at.prototype.modS,at.prototype.modulusM=at.prototype.modM,at.modulus=at.mod,at.prototype.and=function(M){return typeof M=="number"?this.andS(M):this.andM(M)},at.prototype.andS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)&M);return this},at.prototype.andM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)&M.get(O,$));return this},at.and=function(M,O){var $=new ct(M);return $.and(O)},at.prototype.or=function(M){return typeof M=="number"?this.orS(M):this.orM(M)},at.prototype.orS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)|M);return this},at.prototype.orM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)|M.get(O,$));return this},at.or=function(M,O){var $=new ct(M);return $.or(O)},at.prototype.xor=function(M){return typeof M=="number"?this.xorS(M):this.xorM(M)},at.prototype.xorS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)^M);return this},at.prototype.xorM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)^M.get(O,$));return this},at.xor=function(M,O){var $=new ct(M);return $.xor(O)},at.prototype.leftShift=function(M){return typeof M=="number"?this.leftShiftS(M):this.leftShiftM(M)},at.prototype.leftShiftS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)<<M);return this},at.prototype.leftShiftM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)<<M.get(O,$));return this},at.leftShift=function(M,O){var $=new ct(M);return $.leftShift(O)},at.prototype.signPropagatingRightShift=function(M){return typeof M=="number"?this.signPropagatingRightShiftS(M):this.signPropagatingRightShiftM(M)},at.prototype.signPropagatingRightShiftS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)>>M);return this},at.prototype.signPropagatingRightShiftM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)>>M.get(O,$));return this},at.signPropagatingRightShift=function(M,O){var $=new ct(M);return $.signPropagatingRightShift(O)},at.prototype.rightShift=function(M){return typeof M=="number"?this.rightShiftS(M):this.rightShiftM(M)},at.prototype.rightShiftS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)>>>M);return this},at.prototype.rightShiftM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,this.get(O,$)>>>M.get(O,$));return this},at.rightShift=function(M,O){var $=new ct(M);return $.rightShift(O)},at.prototype.zeroFillRightShift=at.prototype.rightShift,at.prototype.zeroFillRightShiftS=at.prototype.rightShiftS,at.prototype.zeroFillRightShiftM=at.prototype.rightShiftM,at.zeroFillRightShift=at.rightShift,at.prototype.not=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,~this.get(M,O));return this},at.not=function(M){var O=new ct(M);return O.not()},at.prototype.abs=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.abs(this.get(M,O)));return this},at.abs=function(M){var O=new ct(M);return O.abs()},at.prototype.acos=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.acos(this.get(M,O)));return this},at.acos=function(M){var O=new ct(M);return O.acos()},at.prototype.acosh=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.acosh(this.get(M,O)));return this},at.acosh=function(M){var O=new ct(M);return O.acosh()},at.prototype.asin=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.asin(this.get(M,O)));return this},at.asin=function(M){var O=new ct(M);return O.asin()},at.prototype.asinh=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.asinh(this.get(M,O)));return this},at.asinh=function(M){var O=new ct(M);return O.asinh()},at.prototype.atan=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.atan(this.get(M,O)));return this},at.atan=function(M){var O=new ct(M);return O.atan()},at.prototype.atanh=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.atanh(this.get(M,O)));return this},at.atanh=function(M){var O=new ct(M);return O.atanh()},at.prototype.cbrt=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.cbrt(this.get(M,O)));return this},at.cbrt=function(M){var O=new ct(M);return O.cbrt()},at.prototype.ceil=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.ceil(this.get(M,O)));return this},at.ceil=function(M){var O=new ct(M);return O.ceil()},at.prototype.clz32=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.clz32(this.get(M,O)));return this},at.clz32=function(M){var O=new ct(M);return O.clz32()},at.prototype.cos=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.cos(this.get(M,O)));return this},at.cos=function(M){var O=new ct(M);return O.cos()},at.prototype.cosh=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.cosh(this.get(M,O)));return this},at.cosh=function(M){var O=new ct(M);return O.cosh()},at.prototype.exp=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.exp(this.get(M,O)));return this},at.exp=function(M){var O=new ct(M);return O.exp()},at.prototype.expm1=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.expm1(this.get(M,O)));return this},at.expm1=function(M){var O=new ct(M);return O.expm1()},at.prototype.floor=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.floor(this.get(M,O)));return this},at.floor=function(M){var O=new ct(M);return O.floor()},at.prototype.fround=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.fround(this.get(M,O)));return this},at.fround=function(M){var O=new ct(M);return O.fround()},at.prototype.log=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.log(this.get(M,O)));return this},at.log=function(M){var O=new ct(M);return O.log()},at.prototype.log1p=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.log1p(this.get(M,O)));return this},at.log1p=function(M){var O=new ct(M);return O.log1p()},at.prototype.log10=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.log10(this.get(M,O)));return this},at.log10=function(M){var O=new ct(M);return O.log10()},at.prototype.log2=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.log2(this.get(M,O)));return this},at.log2=function(M){var O=new ct(M);return O.log2()},at.prototype.round=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.round(this.get(M,O)));return this},at.round=function(M){var O=new ct(M);return O.round()},at.prototype.sign=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.sign(this.get(M,O)));return this},at.sign=function(M){var O=new ct(M);return O.sign()},at.prototype.sin=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.sin(this.get(M,O)));return this},at.sin=function(M){var O=new ct(M);return O.sin()},at.prototype.sinh=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.sinh(this.get(M,O)));return this},at.sinh=function(M){var O=new ct(M);return O.sinh()},at.prototype.sqrt=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.sqrt(this.get(M,O)));return this},at.sqrt=function(M){var O=new ct(M);return O.sqrt()},at.prototype.tan=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.tan(this.get(M,O)));return this},at.tan=function(M){var O=new ct(M);return O.tan()},at.prototype.tanh=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.tanh(this.get(M,O)));return this},at.tanh=function(M){var O=new ct(M);return O.tanh()},at.prototype.trunc=function(){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,Math.trunc(this.get(M,O)));return this},at.trunc=function(M){var O=new ct(M);return O.trunc()},at.pow=function(M,O){var $=new ct(M);return $.pow(O)},at.prototype.pow=function(M){return typeof M=="number"?this.powS(M):this.powM(M)},at.prototype.powS=function(M){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,Math.pow(this.get(O,$),M));return this},at.prototype.powM=function(M){if(M=ct.checkMatrix(M),this.rows!==M.rows||this.columns!==M.columns)throw new RangeError("Matrices dimensions must be equal");for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.set(O,$,Math.pow(this.get(O,$),M.get(O,$)));return this}}function J(at,ct,F){var M=F?at.rows:at.rows-1;if(ct<0||ct>M)throw new RangeError("Row index out of range")}function ut(at,ct,F){var M=F?at.columns:at.columns-1;if(ct<0||ct>M)throw new RangeError("Column index out of range")}function st(at,ct){if(ct.to1DArray&&(ct=ct.to1DArray()),ct.length!==at.columns)throw new RangeError("vector size must be the same as the number of columns");return ct}function bt(at,ct){if(ct.to1DArray&&(ct=ct.to1DArray()),ct.length!==at.rows)throw new RangeError("vector size must be the same as the number of rows");return ct}function ht(at,ct){if(!D(ct))throw new TypeError("row indices must be an array");for(var F=0;F<ct.length;F++)if(ct[F]<0||ct[F]>=at.rows)throw new RangeError("row indices are out of range")}function kt(at,ct){if(!D(ct))throw new TypeError("column indices must be an array");for(var F=0;F<ct.length;F++)if(ct[F]<0||ct[F]>=at.columns)throw new RangeError("column indices are out of range")}function Mt(at,ct,F,M,O){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(V("startRow",ct),V("endRow",F),V("startColumn",M),V("endColumn",O),ct>F||M>O||ct<0||ct>=at.rows||F<0||F>=at.rows||M<0||M>=at.columns||O<0||O>=at.columns)throw new RangeError("Submatrix indices are out of range")}function St(at){for(var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],M=0;M<at;M++)F.push(ct);return F}function V(at,ct){if(typeof ct!="number")throw new TypeError("".concat(at," must be a number"))}function Q(at){if(at.isEmpty())throw new Error("Empty matrix has no elements to index")}function xt(at){for(var ct=St(at.rows),F=0;F<at.rows;++F)for(var M=0;M<at.columns;++M)ct[F]+=at.get(F,M);return ct}function Ct(at){for(var ct=St(at.columns),F=0;F<at.rows;++F)for(var M=0;M<at.columns;++M)ct[M]+=at.get(F,M);return ct}function et(at){for(var ct=0,F=0;F<at.rows;F++)for(var M=0;M<at.columns;M++)ct+=at.get(F,M);return ct}function vt(at){for(var ct=St(at.rows,1),F=0;F<at.rows;++F)for(var M=0;M<at.columns;++M)ct[F]*=at.get(F,M);return ct}function Tt(at){for(var ct=St(at.columns,1),F=0;F<at.rows;++F)for(var M=0;M<at.columns;++M)ct[M]*=at.get(F,M);return ct}function Ot(at){for(var ct=1,F=0;F<at.rows;F++)for(var M=0;M<at.columns;M++)ct*=at.get(F,M);return ct}function Et(at,ct,F){for(var M=at.rows,O=at.columns,$=[],mt=0;mt<M;mt++){for(var zt=0,Rt=0,Kt=0,Te=0;Te<O;Te++)Kt=at.get(mt,Te)-F[mt],zt+=Kt,Rt+=Kt*Kt;ct?$.push((Rt-zt*zt/O)/(O-1)):$.push((Rt-zt*zt/O)/O)}return $}function Dt(at,ct,F){for(var M=at.rows,O=at.columns,$=[],mt=0;mt<O;mt++){for(var zt=0,Rt=0,Kt=0,Te=0;Te<M;Te++)Kt=at.get(Te,mt)-F[mt],zt+=Kt,Rt+=Kt*Kt;ct?$.push((Rt-zt*zt/M)/(M-1)):$.push((Rt-zt*zt/M)/M)}return $}function Vt(at,ct,F){for(var M=at.rows,O=at.columns,$=M*O,mt=0,zt=0,Rt=0,Kt=0;Kt<M;Kt++)for(var Te=0;Te<O;Te++)Rt=at.get(Kt,Te)-F,mt+=Rt,zt+=Rt*Rt;return ct?(zt-mt*mt/$)/($-1):(zt-mt*mt/$)/$}function ue(at,ct){for(var F=0;F<at.rows;F++)for(var M=0;M<at.columns;M++)at.set(F,M,at.get(F,M)-ct[F])}function ee(at,ct){for(var F=0;F<at.rows;F++)for(var M=0;M<at.columns;M++)at.set(F,M,at.get(F,M)-ct[M])}function It(at,ct){for(var F=0;F<at.rows;F++)for(var M=0;M<at.columns;M++)at.set(F,M,at.get(F,M)-ct)}function ne(at){for(var ct=[],F=0;F<at.rows;F++){for(var M=0,O=0;O<at.columns;O++)M+=Math.pow(at.get(F,O),2)/(at.columns-1);ct.push(Math.sqrt(M))}return ct}function pe(at,ct){for(var F=0;F<at.rows;F++)for(var M=0;M<at.columns;M++)at.set(F,M,at.get(F,M)/ct[F])}function Gt(at){for(var ct=[],F=0;F<at.columns;F++){for(var M=0,O=0;O<at.rows;O++)M+=Math.pow(at.get(O,F),2)/(at.rows-1);ct.push(Math.sqrt(M))}return ct}function qt(at,ct){for(var F=0;F<at.rows;F++)for(var M=0;M<at.columns;M++)at.set(F,M,at.get(F,M)/ct[M])}function $t(at){for(var ct=at.size-1,F=0,M=0;M<at.columns;M++)for(var O=0;O<at.rows;O++)F+=Math.pow(at.get(O,M),2)/ct;return Math.sqrt(F)}function Zt(at,ct){for(var F=0;F<at.rows;F++)for(var M=0;M<at.columns;M++)at.set(F,M,at.get(F,M)/ct)}var se=function(){function at(){E()(this,at)}return A()(at,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(F){if(typeof F!="function")throw new TypeError("callback must be a function");for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)F.call(this,M,O);return this}},{key:"to1DArray",value:function(){for(var F=[],M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)F.push(this.get(M,O));return F}},{key:"to2DArray",value:function(){for(var F=[],M=0;M<this.rows;M++){F.push([]);for(var O=0;O<this.columns;O++)F[M].push(this.get(M,O))}return F}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var F=0;F<this.rows;F++)for(var M=0;M<=F;M++)if(this.get(F,M)!==this.get(M,F))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var F=0,M=0,O=-1,$=!0,mt=!1;F<this.rows&&$;){for(M=0,mt=!1;M<this.columns&&mt===!1;)this.get(F,M)===0?M++:this.get(F,M)===1&&M>O?(mt=!0,O=M):($=!1,mt=!0);F++}return $}},{key:"isReducedEchelonForm",value:function(){for(var F=0,M=0,O=-1,$=!0,mt=!1;F<this.rows&&$;){for(M=0,mt=!1;M<this.columns&&mt===!1;)this.get(F,M)===0?M++:this.get(F,M)===1&&M>O?(mt=!0,O=M):($=!1,mt=!0);for(var zt=M+1;zt<this.rows;zt++)this.get(F,zt)!==0&&($=!1);F++}return $}},{key:"echelonForm",value:function(){for(var F=this.clone(),M=0,O=0;M<F.rows&&O<F.columns;){for(var $=M,mt=M;mt<F.rows;mt++)F.get(mt,O)>F.get($,O)&&($=mt);if(F.get($,O)===0)O++;else{F.swapRows(M,$);for(var zt=F.get(M,O),Rt=O;Rt<F.columns;Rt++)F.set(M,Rt,F.get(M,Rt)/zt);for(var Kt=M+1;Kt<F.rows;Kt++){var Te=F.get(Kt,O)/F.get(M,O);F.set(Kt,O,0);for(var be=O+1;be<F.columns;be++)F.set(Kt,be,F.get(Kt,be)-F.get(M,be)*Te)}M++,O++}}return F}},{key:"reducedEchelonForm",value:function(){for(var F=this.echelonForm(),M=F.columns,O=F.rows,$=O-1;$>=0;)if(F.maxRow($)===0)$--;else{for(var mt=0,zt=!1;mt<O&&zt===!1;)F.get($,mt)===1?zt=!0:mt++;for(var Rt=0;Rt<$;Rt++)for(var Kt=F.get(Rt,mt),Te=mt;Te<M;Te++){var be=F.get(Rt,Te)-Kt*F.get($,Te);F.set(Rt,Te,be)}$--}return F}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m()(F)!=="object")throw new TypeError("options must be an object");var M=F.rows,O=M===void 0?1:M,$=F.columns,mt=$===void 0?1:$;if(!Number.isInteger(O)||O<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(mt)||mt<=0)throw new TypeError("columns must be a positive integer");for(var zt=new Fe(this.rows*O,this.columns*mt),Rt=0;Rt<O;Rt++)for(var Kt=0;Kt<mt;Kt++)zt.setSubMatrix(this,this.rows*Rt,this.columns*Kt);return zt}},{key:"fill",value:function(F){for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,F);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(F){J(this,F);for(var M=[],O=0;O<this.columns;O++)M.push(this.get(F,O));return M}},{key:"getRowVector",value:function(F){return Fe.rowVector(this.getRow(F))}},{key:"setRow",value:function(F,M){J(this,F),M=st(this,M);for(var O=0;O<this.columns;O++)this.set(F,O,M[O]);return this}},{key:"swapRows",value:function(F,M){J(this,F),J(this,M);for(var O=0;O<this.columns;O++){var $=this.get(F,O);this.set(F,O,this.get(M,O)),this.set(M,O,$)}return this}},{key:"getColumn",value:function(F){ut(this,F);for(var M=[],O=0;O<this.rows;O++)M.push(this.get(O,F));return M}},{key:"getColumnVector",value:function(F){return Fe.columnVector(this.getColumn(F))}},{key:"setColumn",value:function(F,M){ut(this,F),M=bt(this,M);for(var O=0;O<this.rows;O++)this.set(O,F,M[O]);return this}},{key:"swapColumns",value:function(F,M){ut(this,F),ut(this,M);for(var O=0;O<this.rows;O++){var $=this.get(O,F);this.set(O,F,this.get(O,M)),this.set(O,M,$)}return this}},{key:"addRowVector",value:function(F){F=st(this,F);for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,this.get(M,O)+F[O]);return this}},{key:"subRowVector",value:function(F){F=st(this,F);for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,this.get(M,O)-F[O]);return this}},{key:"mulRowVector",value:function(F){F=st(this,F);for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,this.get(M,O)*F[O]);return this}},{key:"divRowVector",value:function(F){F=st(this,F);for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,this.get(M,O)/F[O]);return this}},{key:"addColumnVector",value:function(F){F=bt(this,F);for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,this.get(M,O)+F[M]);return this}},{key:"subColumnVector",value:function(F){F=bt(this,F);for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,this.get(M,O)-F[M]);return this}},{key:"mulColumnVector",value:function(F){F=bt(this,F);for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,this.get(M,O)*F[M]);return this}},{key:"divColumnVector",value:function(F){F=bt(this,F);for(var M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)this.set(M,O,this.get(M,O)/F[M]);return this}},{key:"mulRow",value:function(F,M){J(this,F);for(var O=0;O<this.columns;O++)this.set(F,O,this.get(F,O)*M);return this}},{key:"mulColumn",value:function(F,M){ut(this,F);for(var O=0;O<this.rows;O++)this.set(O,F,this.get(O,F)*M);return this}},{key:"max",value:function(F){if(this.isEmpty())return NaN;switch(F){case"row":{for(var M=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.get(O,$)>M[O]&&(M[O]=this.get(O,$));return M}case"column":{for(var mt=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),zt=0;zt<this.rows;zt++)for(var Rt=0;Rt<this.columns;Rt++)this.get(zt,Rt)>mt[Rt]&&(mt[Rt]=this.get(zt,Rt));return mt}case void 0:{for(var Kt=this.get(0,0),Te=0;Te<this.rows;Te++)for(var be=0;be<this.columns;be++)this.get(Te,be)>Kt&&(Kt=this.get(Te,be));return Kt}default:throw new Error("invalid option: ".concat(F))}}},{key:"maxIndex",value:function(){Q(this);for(var F=this.get(0,0),M=[0,0],O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.get(O,$)>F&&(F=this.get(O,$),M[0]=O,M[1]=$);return M}},{key:"min",value:function(F){if(this.isEmpty())return NaN;switch(F){case"row":{for(var M=new Array(this.rows).fill(Number.POSITIVE_INFINITY),O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.get(O,$)<M[O]&&(M[O]=this.get(O,$));return M}case"column":{for(var mt=new Array(this.columns).fill(Number.POSITIVE_INFINITY),zt=0;zt<this.rows;zt++)for(var Rt=0;Rt<this.columns;Rt++)this.get(zt,Rt)<mt[Rt]&&(mt[Rt]=this.get(zt,Rt));return mt}case void 0:{for(var Kt=this.get(0,0),Te=0;Te<this.rows;Te++)for(var be=0;be<this.columns;be++)this.get(Te,be)<Kt&&(Kt=this.get(Te,be));return Kt}default:throw new Error("invalid option: ".concat(F))}}},{key:"minIndex",value:function(){Q(this);for(var F=this.get(0,0),M=[0,0],O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)this.get(O,$)<F&&(F=this.get(O,$),M[0]=O,M[1]=$);return M}},{key:"maxRow",value:function(F){if(J(this,F),this.isEmpty())return NaN;for(var M=this.get(F,0),O=1;O<this.columns;O++)this.get(F,O)>M&&(M=this.get(F,O));return M}},{key:"maxRowIndex",value:function(F){J(this,F),Q(this);for(var M=this.get(F,0),O=[F,0],$=1;$<this.columns;$++)this.get(F,$)>M&&(M=this.get(F,$),O[1]=$);return O}},{key:"minRow",value:function(F){if(J(this,F),this.isEmpty())return NaN;for(var M=this.get(F,0),O=1;O<this.columns;O++)this.get(F,O)<M&&(M=this.get(F,O));return M}},{key:"minRowIndex",value:function(F){J(this,F),Q(this);for(var M=this.get(F,0),O=[F,0],$=1;$<this.columns;$++)this.get(F,$)<M&&(M=this.get(F,$),O[1]=$);return O}},{key:"maxColumn",value:function(F){if(ut(this,F),this.isEmpty())return NaN;for(var M=this.get(0,F),O=1;O<this.rows;O++)this.get(O,F)>M&&(M=this.get(O,F));return M}},{key:"maxColumnIndex",value:function(F){ut(this,F),Q(this);for(var M=this.get(0,F),O=[0,F],$=1;$<this.rows;$++)this.get($,F)>M&&(M=this.get($,F),O[0]=$);return O}},{key:"minColumn",value:function(F){if(ut(this,F),this.isEmpty())return NaN;for(var M=this.get(0,F),O=1;O<this.rows;O++)this.get(O,F)<M&&(M=this.get(O,F));return M}},{key:"minColumnIndex",value:function(F){ut(this,F),Q(this);for(var M=this.get(0,F),O=[0,F],$=1;$<this.rows;$++)this.get($,F)<M&&(M=this.get($,F),O[0]=$);return O}},{key:"diag",value:function(){for(var F=Math.min(this.rows,this.columns),M=[],O=0;O<F;O++)M.push(this.get(O,O));return M}},{key:"norm",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",M=0;if(F==="max")return this.max();if(F==="frobenius"){for(var O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)M=M+this.get(O,$)*this.get(O,$);return Math.sqrt(M)}else throw new RangeError("unknown norm type: ".concat(F))}},{key:"cumulativeSum",value:function(){for(var F=0,M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)F+=this.get(M,O),this.set(M,O,F);return this}},{key:"dot",value:function(F){at.isMatrix(F)&&(F=F.to1DArray());var M=this.to1DArray();if(M.length!==F.length)throw new RangeError("vectors do not have the same size");for(var O=0,$=0;$<M.length;$++)O+=M[$]*F[$];return O}},{key:"mmul",value:function(F){F=Fe.checkMatrix(F);for(var M=this.rows,O=this.columns,$=F.columns,mt=new Fe(M,$),zt=new Float64Array(O),Rt=0;Rt<$;Rt++){for(var Kt=0;Kt<O;Kt++)zt[Kt]=F.get(Kt,Rt);for(var Te=0;Te<M;Te++){for(var be=0,We=0;We<O;We++)be+=this.get(Te,We)*zt[We];mt.set(Te,Rt,be)}}return mt}},{key:"strassen2x2",value:function(F){F=Fe.checkMatrix(F);var M=new Fe(2,2),O=this.get(0,0),$=F.get(0,0),mt=this.get(0,1),zt=F.get(0,1),Rt=this.get(1,0),Kt=F.get(1,0),Te=this.get(1,1),be=F.get(1,1),We=(O+Te)*($+be),fr=(Rt+Te)*$,He=O*(zt-be),Pr=Te*(Kt-$),un=(O+mt)*be,Ue=(Rt-O)*($+zt),ur=(mt-Te)*(Kt+be),Lr=We+Pr-un+ur,Or=He+un,ce=fr+Pr,Yt=We-fr+He+Ue;return M.set(0,0,Lr),M.set(0,1,Or),M.set(1,0,ce),M.set(1,1,Yt),M}},{key:"strassen3x3",value:function(F){F=Fe.checkMatrix(F);var M=new Fe(3,3),O=this.get(0,0),$=this.get(0,1),mt=this.get(0,2),zt=this.get(1,0),Rt=this.get(1,1),Kt=this.get(1,2),Te=this.get(2,0),be=this.get(2,1),We=this.get(2,2),fr=F.get(0,0),He=F.get(0,1),Pr=F.get(0,2),un=F.get(1,0),Ue=F.get(1,1),ur=F.get(1,2),Lr=F.get(2,0),Or=F.get(2,1),ce=F.get(2,2),Yt=(O+$+mt-zt-Rt-be-We)*Ue,he=(O-zt)*(-He+Ue),Me=Rt*(-fr+He+un-Ue-ur-Lr+ce),ye=(-O+zt+Rt)*(fr-He+Ue),Ne=(zt+Rt)*(-fr+He),nr=O*fr,cr=(-O+Te+be)*(fr-Pr+ur),rn=(-O+Te)*(Pr-ur),An=(Te+be)*(-fr+Pr),ln=(O+$+mt-Rt-Kt-Te-be)*ur,Yn=be*(-fr+Pr+un-Ue-ur-Lr+Or),sn=(-mt+be+We)*(Ue+Lr-Or),Bn=(mt-We)*(Ue-Or),Jn=mt*Lr,sa=(be+We)*(-Lr+Or),qn=(-mt+Rt+Kt)*(ur+Lr-ce),Za=(mt-Kt)*(ur-ce),za=(Rt+Kt)*(-Lr+ce),xa=$*un,Ei=Kt*Or,_o=zt*Pr,Mi=Te*He,Ti=We*ce,ga=nr+Jn+xa,Ri=Yt+ye+Ne+nr+sn+Jn+sa,so=nr+cr+An+ln+Jn+qn+za,Ba=he+Me+ye+nr+Jn+qn+Za,Zi=he+ye+Ne+nr+Ei,Fo=Jn+qn+Za+za+_o,uo=nr+cr+rn+Yn+sn+Bn+Jn,oi=sn+Bn+Jn+sa+Mi,Li=nr+cr+rn+An+Ti;return M.set(0,0,ga),M.set(0,1,Ri),M.set(0,2,so),M.set(1,0,Ba),M.set(1,1,Zi),M.set(1,2,Fo),M.set(2,0,uo),M.set(2,1,oi),M.set(2,2,Li),M}},{key:"mmulStrassen",value:function(F){F=Fe.checkMatrix(F);var M=this.clone(),O=M.rows,$=M.columns,mt=F.rows,zt=F.columns;$!==mt&&console.warn("Multiplying ".concat(O," x ").concat($," and ").concat(mt," x ").concat(zt," matrix: dimensions do not match."));function Rt(We,fr,He){var Pr=We.rows,un=We.columns;if(Pr===fr&&un===He)return We;var Ue=at.zeros(fr,He);return Ue=Ue.setSubMatrix(We,0,0),Ue}var Kt=Math.max(O,mt),Te=Math.max($,zt);M=Rt(M,Kt,Te),F=Rt(F,Kt,Te);function be(We,fr,He,Pr){if(He<=512||Pr<=512)return We.mmul(fr);He%2===1&&Pr%2===1?(We=Rt(We,He+1,Pr+1),fr=Rt(fr,He+1,Pr+1)):He%2===1?(We=Rt(We,He+1,Pr),fr=Rt(fr,He+1,Pr)):Pr%2===1&&(We=Rt(We,He,Pr+1),fr=Rt(fr,He,Pr+1));var un=parseInt(We.rows/2,10),Ue=parseInt(We.columns/2,10),ur=We.subMatrix(0,un-1,0,Ue-1),Lr=fr.subMatrix(0,un-1,0,Ue-1),Or=We.subMatrix(0,un-1,Ue,We.columns-1),ce=fr.subMatrix(0,un-1,Ue,fr.columns-1),Yt=We.subMatrix(un,We.rows-1,0,Ue-1),he=fr.subMatrix(un,fr.rows-1,0,Ue-1),Me=We.subMatrix(un,We.rows-1,Ue,We.columns-1),ye=fr.subMatrix(un,fr.rows-1,Ue,fr.columns-1),Ne=be(at.add(ur,Me),at.add(Lr,ye),un,Ue),nr=be(at.add(Yt,Me),Lr,un,Ue),cr=be(ur,at.sub(ce,ye),un,Ue),rn=be(Me,at.sub(he,Lr),un,Ue),An=be(at.add(ur,Or),ye,un,Ue),ln=be(at.sub(Yt,ur),at.add(Lr,ce),un,Ue),Yn=be(at.sub(Or,Me),at.add(he,ye),un,Ue),sn=at.add(Ne,rn);sn.sub(An),sn.add(Yn);var Bn=at.add(cr,An),Jn=at.add(nr,rn),sa=at.sub(Ne,nr);sa.add(cr),sa.add(ln);var qn=at.zeros(2*sn.rows,2*sn.columns);return qn=qn.setSubMatrix(sn,0,0),qn=qn.setSubMatrix(Bn,sn.rows,0),qn=qn.setSubMatrix(Jn,0,sn.columns),qn=qn.setSubMatrix(sa,sn.rows,sn.columns),qn.subMatrix(0,He-1,0,Pr-1)}return be(M,F,Kt,Te)}},{key:"scaleRows",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m()(F)!=="object")throw new TypeError("options must be an object");var M=F.min,O=M===void 0?0:M,$=F.max,mt=$===void 0?1:$;if(!Number.isFinite(O))throw new TypeError("min must be a number");if(!Number.isFinite(mt))throw new TypeError("max must be a number");if(O>=mt)throw new RangeError("min must be smaller than max");for(var zt=new Fe(this.rows,this.columns),Rt=0;Rt<this.rows;Rt++){var Kt=this.getRow(Rt);Kt.length>0&&f(Kt,{min:O,max:mt,output:Kt}),zt.setRow(Rt,Kt)}return zt}},{key:"scaleColumns",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m()(F)!=="object")throw new TypeError("options must be an object");var M=F.min,O=M===void 0?0:M,$=F.max,mt=$===void 0?1:$;if(!Number.isFinite(O))throw new TypeError("min must be a number");if(!Number.isFinite(mt))throw new TypeError("max must be a number");if(O>=mt)throw new RangeError("min must be smaller than max");for(var zt=new Fe(this.rows,this.columns),Rt=0;Rt<this.columns;Rt++){var Kt=this.getColumn(Rt);Kt.length&&f(Kt,{min:O,max:mt,output:Kt}),zt.setColumn(Rt,Kt)}return zt}},{key:"flipRows",value:function(){for(var F=Math.ceil(this.columns/2),M=0;M<this.rows;M++)for(var O=0;O<F;O++){var $=this.get(M,O),mt=this.get(M,this.columns-1-O);this.set(M,O,mt),this.set(M,this.columns-1-O,$)}return this}},{key:"flipColumns",value:function(){for(var F=Math.ceil(this.rows/2),M=0;M<this.columns;M++)for(var O=0;O<F;O++){var $=this.get(O,M),mt=this.get(this.rows-1-O,M);this.set(O,M,mt),this.set(this.rows-1-O,M,$)}return this}},{key:"kroneckerProduct",value:function(F){F=Fe.checkMatrix(F);for(var M=this.rows,O=this.columns,$=F.rows,mt=F.columns,zt=new Fe(M*$,O*mt),Rt=0;Rt<M;Rt++)for(var Kt=0;Kt<O;Kt++)for(var Te=0;Te<$;Te++)for(var be=0;be<mt;be++)zt.set($*Rt+Te,mt*Kt+be,this.get(Rt,Kt)*F.get(Te,be));return zt}},{key:"kroneckerSum",value:function(F){if(F=Fe.checkMatrix(F),!this.isSquare()||!F.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var M=this.rows,O=F.rows,$=this.kroneckerProduct(Fe.eye(O,O)),mt=Fe.eye(M,M).kroneckerProduct(F);return $.add(mt)}},{key:"transpose",value:function(){for(var F=new Fe(this.columns,this.rows),M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)F.set(O,M,this.get(M,O));return F}},{key:"sortRows",value:function(){for(var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Se,M=0;M<this.rows;M++)this.setRow(M,this.getRow(M).sort(F));return this}},{key:"sortColumns",value:function(){for(var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Se,M=0;M<this.columns;M++)this.setColumn(M,this.getColumn(M).sort(F));return this}},{key:"subMatrix",value:function(F,M,O,$){Mt(this,F,M,O,$);for(var mt=new Fe(M-F+1,$-O+1),zt=F;zt<=M;zt++)for(var Rt=O;Rt<=$;Rt++)mt.set(zt-F,Rt-O,this.get(zt,Rt));return mt}},{key:"subMatrixRow",value:function(F,M,O){if(M===void 0&&(M=0),O===void 0&&(O=this.columns-1),M>O||M<0||M>=this.columns||O<0||O>=this.columns)throw new RangeError("Argument out of range");for(var $=new Fe(F.length,O-M+1),mt=0;mt<F.length;mt++)for(var zt=M;zt<=O;zt++){if(F[mt]<0||F[mt]>=this.rows)throw new RangeError("Row index out of range: ".concat(F[mt]));$.set(mt,zt-M,this.get(F[mt],zt))}return $}},{key:"subMatrixColumn",value:function(F,M,O){if(M===void 0&&(M=0),O===void 0&&(O=this.rows-1),M>O||M<0||M>=this.rows||O<0||O>=this.rows)throw new RangeError("Argument out of range");for(var $=new Fe(O-M+1,F.length),mt=0;mt<F.length;mt++)for(var zt=M;zt<=O;zt++){if(F[mt]<0||F[mt]>=this.columns)throw new RangeError("Column index out of range: ".concat(F[mt]));$.set(zt-M,mt,this.get(zt,F[mt]))}return $}},{key:"setSubMatrix",value:function(F,M,O){if(F=Fe.checkMatrix(F),F.isEmpty())return this;var $=M+F.rows-1,mt=O+F.columns-1;Mt(this,M,$,O,mt);for(var zt=0;zt<F.rows;zt++)for(var Rt=0;Rt<F.columns;Rt++)this.set(M+zt,O+Rt,F.get(zt,Rt));return this}},{key:"selection",value:function(F,M){ht(this,F),kt(this,M);for(var O=new Fe(F.length,M.length),$=0;$<F.length;$++)for(var mt=F[$],zt=0;zt<M.length;zt++){var Rt=M[zt];O.set($,zt,this.get(mt,Rt))}return O}},{key:"trace",value:function(){for(var F=Math.min(this.rows,this.columns),M=0,O=0;O<F;O++)M+=this.get(O,O);return M}},{key:"clone",value:function(){for(var F=new Fe(this.rows,this.columns),M=0;M<this.rows;M++)for(var O=0;O<this.columns;O++)F.set(M,O,this.get(M,O));return F}},{key:"sum",value:function(F){switch(F){case"row":return xt(this);case"column":return Ct(this);case void 0:return et(this);default:throw new Error("invalid option: ".concat(F))}}},{key:"product",value:function(F){switch(F){case"row":return vt(this);case"column":return Tt(this);case void 0:return Ot(this);default:throw new Error("invalid option: ".concat(F))}}},{key:"mean",value:function(F){var M=this.sum(F);switch(F){case"row":{for(var O=0;O<this.rows;O++)M[O]/=this.columns;return M}case"column":{for(var $=0;$<this.columns;$++)M[$]/=this.rows;return M}case void 0:return M/this.size;default:throw new Error("invalid option: ".concat(F))}}},{key:"variance",value:function(F){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(m()(F)==="object"&&(M=F,F=void 0),m()(M)!=="object")throw new TypeError("options must be an object");var O=M,$=O.unbiased,mt=$===void 0?!0:$,zt=O.mean,Rt=zt===void 0?this.mean(F):zt;if(typeof mt!="boolean")throw new TypeError("unbiased must be a boolean");switch(F){case"row":{if(!D(Rt))throw new TypeError("mean must be an array");return Et(this,mt,Rt)}case"column":{if(!D(Rt))throw new TypeError("mean must be an array");return Dt(this,mt,Rt)}case void 0:{if(typeof Rt!="number")throw new TypeError("mean must be a number");return Vt(this,mt,Rt)}default:throw new Error("invalid option: ".concat(F))}}},{key:"standardDeviation",value:function(F,M){m()(F)==="object"&&(M=F,F=void 0);var O=this.variance(F,M);if(F===void 0)return Math.sqrt(O);for(var $=0;$<O.length;$++)O[$]=Math.sqrt(O[$]);return O}},{key:"center",value:function(F){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(m()(F)==="object"&&(M=F,F=void 0),m()(M)!=="object")throw new TypeError("options must be an object");var O=M,$=O.center,mt=$===void 0?this.mean(F):$;switch(F){case"row":{if(!D(mt))throw new TypeError("center must be an array");return ue(this,mt),this}case"column":{if(!D(mt))throw new TypeError("center must be an array");return ee(this,mt),this}case void 0:{if(typeof mt!="number")throw new TypeError("center must be a number");return It(this,mt),this}default:throw new Error("invalid option: ".concat(F))}}},{key:"scale",value:function(F){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(m()(F)==="object"&&(M=F,F=void 0),m()(M)!=="object")throw new TypeError("options must be an object");var O=M.scale;switch(F){case"row":{if(O===void 0)O=ne(this);else if(!D(O))throw new TypeError("scale must be an array");return pe(this,O),this}case"column":{if(O===void 0)O=Gt(this);else if(!D(O))throw new TypeError("scale must be an array");return qt(this,O),this}case void 0:{if(O===void 0)O=$t(this);else if(typeof O!="number")throw new TypeError("scale must be a number");return Zt(this,O),this}default:throw new Error("invalid option: ".concat(F))}}},{key:"toString",value:function(F){return G(this,F)}}],[{key:"from1DArray",value:function(F,M,O){var $=F*M;if($!==O.length)throw new RangeError("data length does not match given dimensions");for(var mt=new Fe(F,M),zt=0;zt<F;zt++)for(var Rt=0;Rt<M;Rt++)mt.set(zt,Rt,O[zt*M+Rt]);return mt}},{key:"rowVector",value:function(F){for(var M=new Fe(1,F.length),O=0;O<F.length;O++)M.set(0,O,F[O]);return M}},{key:"columnVector",value:function(F){for(var M=new Fe(F.length,1),O=0;O<F.length;O++)M.set(O,0,F[O]);return M}},{key:"zeros",value:function(F,M){return new Fe(F,M)}},{key:"ones",value:function(F,M){return new Fe(F,M).fill(1)}},{key:"rand",value:function(F,M){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(m()(O)!=="object")throw new TypeError("options must be an object");for(var $=O.random,mt=$===void 0?Math.random:$,zt=new Fe(F,M),Rt=0;Rt<F;Rt++)for(var Kt=0;Kt<M;Kt++)zt.set(Rt,Kt,mt());return zt}},{key:"randInt",value:function(F,M){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(m()(O)!=="object")throw new TypeError("options must be an object");var $=O.min,mt=$===void 0?0:$,zt=O.max,Rt=zt===void 0?1e3:zt,Kt=O.random,Te=Kt===void 0?Math.random:Kt;if(!Number.isInteger(mt))throw new TypeError("min must be an integer");if(!Number.isInteger(Rt))throw new TypeError("max must be an integer");if(mt>=Rt)throw new RangeError("min must be smaller than max");for(var be=Rt-mt,We=new Fe(F,M),fr=0;fr<F;fr++)for(var He=0;He<M;He++){var Pr=mt+Math.round(Te()*be);We.set(fr,He,Pr)}return We}},{key:"eye",value:function(F,M,O){M===void 0&&(M=F),O===void 0&&(O=1);for(var $=Math.min(F,M),mt=this.zeros(F,M),zt=0;zt<$;zt++)mt.set(zt,zt,O);return mt}},{key:"diag",value:function(F,M,O){var $=F.length;M===void 0&&(M=$),O===void 0&&(O=M);for(var mt=Math.min($,M,O),zt=this.zeros(M,O),Rt=0;Rt<mt;Rt++)zt.set(Rt,Rt,F[Rt]);return zt}},{key:"min",value:function(F,M){F=this.checkMatrix(F),M=this.checkMatrix(M);for(var O=F.rows,$=F.columns,mt=new Fe(O,$),zt=0;zt<O;zt++)for(var Rt=0;Rt<$;Rt++)mt.set(zt,Rt,Math.min(F.get(zt,Rt),M.get(zt,Rt)));return mt}},{key:"max",value:function(F,M){F=this.checkMatrix(F),M=this.checkMatrix(M);for(var O=F.rows,$=F.columns,mt=new this(O,$),zt=0;zt<O;zt++)for(var Rt=0;Rt<$;Rt++)mt.set(zt,Rt,Math.max(F.get(zt,Rt),M.get(zt,Rt)));return mt}},{key:"checkMatrix",value:function(F){return at.isMatrix(F)?F:new Fe(F)}},{key:"isMatrix",value:function(F){return F!=null&&F.klass==="Matrix"}}]),at}();se.prototype.klass="Matrix",typeof Symbol!="undefined"&&(se.prototype[Symbol.for("nodejs.util.inspect.custom")]=U);function Se(at,ct){return at-ct}function Pt(at){return at.every(function(ct){return typeof ct=="number"})}se.random=se.rand,se.randomInt=se.randInt,se.diagonal=se.diag,se.prototype.diagonal=se.prototype.diag,se.identity=se.eye,se.prototype.negate=se.prototype.neg,se.prototype.tensorProduct=se.prototype.kroneckerProduct;var Fe=function(at){_()(F,at);var ct=P()(F);function F(M,O){var $;if(E()(this,F),$=ct.call(this),F.isMatrix(M))return R()($,M.clone());if(Number.isInteger(M)&&M>=0)if($.data=[],Number.isInteger(O)&&O>=0)for(var mt=0;mt<M;mt++)$.data.push(new Float64Array(O));else throw new TypeError("nColumns must be a positive integer");else if(D(M)){var zt=M;if(M=zt.length,O=M?zt[0].length:0,typeof O!="number")throw new TypeError("Data must be a 2D array with at least one element");$.data=[];for(var Rt=0;Rt<M;Rt++){if(zt[Rt].length!==O)throw new RangeError("Inconsistent array dimensions");if(!Pt(zt[Rt]))throw new TypeError("Input data contains non-numeric values");$.data.push(Float64Array.from(zt[Rt]))}}else throw new TypeError("First argument must be a positive number or an array");return $.rows=M,$.columns=O,$}return A()(F,[{key:"set",value:function(O,$,mt){return this.data[O][$]=mt,this}},{key:"get",value:function(O,$){return this.data[O][$]}},{key:"removeRow",value:function(O){return J(this,O),this.data.splice(O,1),this.rows-=1,this}},{key:"addRow",value:function(O,$){return $===void 0&&($=O,O=this.rows),J(this,O,!0),$=Float64Array.from(st(this,$)),this.data.splice(O,0,$),this.rows+=1,this}},{key:"removeColumn",value:function(O){ut(this,O);for(var $=0;$<this.rows;$++){for(var mt=new Float64Array(this.columns-1),zt=0;zt<O;zt++)mt[zt]=this.data[$][zt];for(var Rt=O+1;Rt<this.columns;Rt++)mt[Rt-1]=this.data[$][Rt];this.data[$]=mt}return this.columns-=1,this}},{key:"addColumn",value:function(O,$){typeof $=="undefined"&&($=O,O=this.columns),ut(this,O,!0),$=bt(this,$);for(var mt=0;mt<this.rows;mt++){for(var zt=new Float64Array(this.columns+1),Rt=0;Rt<O;Rt++)zt[Rt]=this.data[mt][Rt];for(zt[Rt++]=$[mt];Rt<this.columns+1;Rt++)zt[Rt]=this.data[mt][Rt-1];this.data[mt]=zt}return this.columns+=1,this}}]),F}(se);q(se,Fe);var vr=function(at){_()(F,at);var ct=P()(F);function F(M,O,$){var mt;return E()(this,F),mt=ct.call(this),mt.matrix=M,mt.rows=O,mt.columns=$,mt}return A()(F)}(se),Cr=function(at){_()(F,at);var ct=P()(F);function F(M,O){var $;return E()(this,F),ut(M,O),$=ct.call(this,M,M.rows,1),$.column=O,$}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set(O,this.column,mt),this}},{key:"get",value:function(O){return this.matrix.get(O,this.column)}}]),F}(vr),_r=function(at){_()(F,at);var ct=P()(F);function F(M,O){var $;return E()(this,F),kt(M,O),$=ct.call(this,M,M.rows,O.length),$.columnIndices=O,$}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set(O,this.columnIndices[$],mt),this}},{key:"get",value:function(O,$){return this.matrix.get(O,this.columnIndices[$])}}]),F}(vr),Ur=function(at){_()(F,at);var ct=P()(F);function F(M){return E()(this,F),ct.call(this,M,M.rows,M.columns)}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set(O,this.columns-$-1,mt),this}},{key:"get",value:function(O,$){return this.matrix.get(O,this.columns-$-1)}}]),F}(vr),nn=function(at){_()(F,at);var ct=P()(F);function F(M){return E()(this,F),ct.call(this,M,M.rows,M.columns)}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set(this.rows-O-1,$,mt),this}},{key:"get",value:function(O,$){return this.matrix.get(this.rows-O-1,$)}}]),F}(vr),on=function(at){_()(F,at);var ct=P()(F);function F(M,O){var $;return E()(this,F),J(M,O),$=ct.call(this,M,1,M.columns),$.row=O,$}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set(this.row,$,mt),this}},{key:"get",value:function(O,$){return this.matrix.get(this.row,$)}}]),F}(vr),tr=function(at){_()(F,at);var ct=P()(F);function F(M,O){var $;return E()(this,F),ht(M,O),$=ct.call(this,M,O.length,M.columns),$.rowIndices=O,$}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set(this.rowIndices[O],$,mt),this}},{key:"get",value:function(O,$){return this.matrix.get(this.rowIndices[O],$)}}]),F}(vr),Rr=function(at){_()(F,at);var ct=P()(F);function F(M,O,$){var mt;return E()(this,F),ht(M,O),kt(M,$),mt=ct.call(this,M,O.length,$.length),mt.rowIndices=O,mt.columnIndices=$,mt}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set(this.rowIndices[O],this.columnIndices[$],mt),this}},{key:"get",value:function(O,$){return this.matrix.get(this.rowIndices[O],this.columnIndices[$])}}]),F}(vr),qr=function(at){_()(F,at);var ct=P()(F);function F(M,O,$,mt,zt){var Rt;return E()(this,F),Mt(M,O,$,mt,zt),Rt=ct.call(this,M,$-O+1,zt-mt+1),Rt.startRow=O,Rt.startColumn=mt,Rt}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set(this.startRow+O,this.startColumn+$,mt),this}},{key:"get",value:function(O,$){return this.matrix.get(this.startRow+O,this.startColumn+$)}}]),F}(vr),br=function(at){_()(F,at);var ct=P()(F);function F(M){return E()(this,F),ct.call(this,M,M.columns,M.rows)}return A()(F,[{key:"set",value:function(O,$,mt){return this.matrix.set($,O,mt),this}},{key:"get",value:function(O,$){return this.matrix.get($,O)}}]),F}(vr),zr=function(at){_()(F,at);var ct=P()(F);function F(M){var O,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(this,F);var mt=$.rows,zt=mt===void 0?1:mt;if(M.length%zt!==0)throw new Error("the data length is not divisible by the number of rows");return O=ct.call(this),O.rows=zt,O.columns=M.length/zt,O.data=M,O}return A()(F,[{key:"set",value:function(O,$,mt){var zt=this._calculateIndex(O,$);return this.data[zt]=mt,this}},{key:"get",value:function(O,$){var mt=this._calculateIndex(O,$);return this.data[mt]}},{key:"_calculateIndex",value:function(O,$){return O*this.columns+$}}]),F}(se),Ir=function(at){_()(F,at);var ct=P()(F);function F(M){var O;return E()(this,F),O=ct.call(this),O.data=M,O.rows=M.length,O.columns=M[0].length,O}return A()(F,[{key:"set",value:function(O,$,mt){return this.data[O][$]=mt,this}},{key:"get",value:function(O,$){return this.data[O][$]}}]),F}(se);function je(at,ct){if(D(at))return at[0]&&D(at[0])?new Ir(at):new zr(at,ct);throw new Error("the argument is not an array")}var qe=function(){function at(ct){E()(this,at),ct=Ir.checkMatrix(ct);var F=ct.clone(),M=F.rows,O=F.columns,$=new Float64Array(M),mt=1,zt,Rt,Kt,Te,be,We,fr,He,Pr;for(zt=0;zt<M;zt++)$[zt]=zt;for(He=new Float64Array(M),Rt=0;Rt<O;Rt++){for(zt=0;zt<M;zt++)He[zt]=F.get(zt,Rt);for(zt=0;zt<M;zt++){for(Pr=Math.min(zt,Rt),be=0,Kt=0;Kt<Pr;Kt++)be+=F.get(zt,Kt)*He[Kt];He[zt]-=be,F.set(zt,Rt,He[zt])}for(Te=Rt,zt=Rt+1;zt<M;zt++)Math.abs(He[zt])>Math.abs(He[Te])&&(Te=zt);if(Te!==Rt){for(Kt=0;Kt<O;Kt++)We=F.get(Te,Kt),F.set(Te,Kt,F.get(Rt,Kt)),F.set(Rt,Kt,We);fr=$[Te],$[Te]=$[Rt],$[Rt]=fr,mt=-mt}if(Rt<M&&F.get(Rt,Rt)!==0)for(zt=Rt+1;zt<M;zt++)F.set(zt,Rt,F.get(zt,Rt)/F.get(Rt,Rt))}this.LU=F,this.pivotVector=$,this.pivotSign=mt}return A()(at,[{key:"isSingular",value:function(){for(var F=this.LU,M=F.columns,O=0;O<M;O++)if(F.get(O,O)===0)return!0;return!1}},{key:"solve",value:function(F){F=Fe.checkMatrix(F);var M=this.LU,O=M.rows;if(O!==F.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var $=F.columns,mt=F.subMatrixRow(this.pivotVector,0,$-1),zt=M.columns,Rt,Kt,Te;for(Te=0;Te<zt;Te++)for(Rt=Te+1;Rt<zt;Rt++)for(Kt=0;Kt<$;Kt++)mt.set(Rt,Kt,mt.get(Rt,Kt)-mt.get(Te,Kt)*M.get(Rt,Te));for(Te=zt-1;Te>=0;Te--){for(Kt=0;Kt<$;Kt++)mt.set(Te,Kt,mt.get(Te,Kt)/M.get(Te,Te));for(Rt=0;Rt<Te;Rt++)for(Kt=0;Kt<$;Kt++)mt.set(Rt,Kt,mt.get(Rt,Kt)-mt.get(Te,Kt)*M.get(Rt,Te))}return mt}},{key:"determinant",get:function(){var F=this.LU;if(!F.isSquare())throw new Error("Matrix must be square");for(var M=this.pivotSign,O=F.columns,$=0;$<O;$++)M*=F.get($,$);return M}},{key:"lowerTriangularMatrix",get:function(){for(var F=this.LU,M=F.rows,O=F.columns,$=new Fe(M,O),mt=0;mt<M;mt++)for(var zt=0;zt<O;zt++)mt>zt?$.set(mt,zt,F.get(mt,zt)):mt===zt?$.set(mt,zt,1):$.set(mt,zt,0);return $}},{key:"upperTriangularMatrix",get:function(){for(var F=this.LU,M=F.rows,O=F.columns,$=new Fe(M,O),mt=0;mt<M;mt++)for(var zt=0;zt<O;zt++)mt<=zt?$.set(mt,zt,F.get(mt,zt)):$.set(mt,zt,0);return $}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),at}();function xn(at,ct){var F=0;return Math.abs(at)>Math.abs(ct)?(F=ct/at,Math.abs(at)*Math.sqrt(1+F*F)):ct!==0?(F=at/ct,Math.abs(ct)*Math.sqrt(1+F*F)):0}var rr=function(){function at(ct){E()(this,at),ct=Ir.checkMatrix(ct);var F=ct.clone(),M=ct.rows,O=ct.columns,$=new Float64Array(O),mt,zt,Rt,Kt;for(Rt=0;Rt<O;Rt++){var Te=0;for(mt=Rt;mt<M;mt++)Te=xn(Te,F.get(mt,Rt));if(Te!==0){for(F.get(Rt,Rt)<0&&(Te=-Te),mt=Rt;mt<M;mt++)F.set(mt,Rt,F.get(mt,Rt)/Te);for(F.set(Rt,Rt,F.get(Rt,Rt)+1),zt=Rt+1;zt<O;zt++){for(Kt=0,mt=Rt;mt<M;mt++)Kt+=F.get(mt,Rt)*F.get(mt,zt);for(Kt=-Kt/F.get(Rt,Rt),mt=Rt;mt<M;mt++)F.set(mt,zt,F.get(mt,zt)+Kt*F.get(mt,Rt))}}$[Rt]=-Te}this.QR=F,this.Rdiag=$}return A()(at,[{key:"solve",value:function(F){F=Fe.checkMatrix(F);var M=this.QR,O=M.rows;if(F.rows!==O)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var $=F.columns,mt=F.clone(),zt=M.columns,Rt,Kt,Te,be;for(Te=0;Te<zt;Te++)for(Kt=0;Kt<$;Kt++){for(be=0,Rt=Te;Rt<O;Rt++)be+=M.get(Rt,Te)*mt.get(Rt,Kt);for(be=-be/M.get(Te,Te),Rt=Te;Rt<O;Rt++)mt.set(Rt,Kt,mt.get(Rt,Kt)+be*M.get(Rt,Te))}for(Te=zt-1;Te>=0;Te--){for(Kt=0;Kt<$;Kt++)mt.set(Te,Kt,mt.get(Te,Kt)/this.Rdiag[Te]);for(Rt=0;Rt<Te;Rt++)for(Kt=0;Kt<$;Kt++)mt.set(Rt,Kt,mt.get(Rt,Kt)-mt.get(Te,Kt)*M.get(Rt,Te))}return mt.subMatrix(0,zt-1,0,$-1)}},{key:"isFullRank",value:function(){for(var F=this.QR.columns,M=0;M<F;M++)if(this.Rdiag[M]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var F=this.QR,M=F.columns,O=new Fe(M,M),$,mt;for($=0;$<M;$++)for(mt=0;mt<M;mt++)$<mt?O.set($,mt,F.get($,mt)):$===mt?O.set($,mt,this.Rdiag[$]):O.set($,mt,0);return O}},{key:"orthogonalMatrix",get:function(){var F=this.QR,M=F.rows,O=F.columns,$=new Fe(M,O),mt,zt,Rt,Kt;for(Rt=O-1;Rt>=0;Rt--){for(mt=0;mt<M;mt++)$.set(mt,Rt,0);for($.set(Rt,Rt,1),zt=Rt;zt<O;zt++)if(F.get(Rt,Rt)!==0){for(Kt=0,mt=Rt;mt<M;mt++)Kt+=F.get(mt,Rt)*$.get(mt,zt);for(Kt=-Kt/F.get(Rt,Rt),mt=Rt;mt<M;mt++)$.set(mt,zt,$.get(mt,zt)+Kt*F.get(mt,Rt))}}return $}}]),at}(),jr=function(){function at(ct){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E()(this,at),ct=Ir.checkMatrix(ct),ct.isEmpty())throw new Error("Matrix must be non-empty");var M=ct.rows,O=ct.columns,$=F.computeLeftSingularVectors,mt=$===void 0?!0:$,zt=F.computeRightSingularVectors,Rt=zt===void 0?!0:zt,Kt=F.autoTranspose,Te=Kt===void 0?!1:Kt,be=Boolean(mt),We=Boolean(Rt),fr=!1,He;if(M<O)if(!Te)He=ct.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{He=ct.transpose(),M=He.rows,O=He.columns,fr=!0;var Pr=be;be=We,We=Pr}else He=ct.clone();for(var un=Math.min(M,O),Ue=Math.min(M+1,O),ur=new Float64Array(Ue),Lr=new Fe(M,un),Or=new Fe(O,O),ce=new Float64Array(O),Yt=new Float64Array(M),he=new Float64Array(Ue),Me=0;Me<Ue;Me++)he[Me]=Me;for(var ye=Math.min(M-1,O),Ne=Math.max(0,Math.min(O-2,M)),nr=Math.max(ye,Ne),cr=0;cr<nr;cr++){if(cr<ye){ur[cr]=0;for(var rn=cr;rn<M;rn++)ur[cr]=xn(ur[cr],He.get(rn,cr));if(ur[cr]!==0){He.get(cr,cr)<0&&(ur[cr]=-ur[cr]);for(var An=cr;An<M;An++)He.set(An,cr,He.get(An,cr)/ur[cr]);He.set(cr,cr,He.get(cr,cr)+1)}ur[cr]=-ur[cr]}for(var ln=cr+1;ln<O;ln++){if(cr<ye&&ur[cr]!==0){for(var Yn=0,sn=cr;sn<M;sn++)Yn+=He.get(sn,cr)*He.get(sn,ln);Yn=-Yn/He.get(cr,cr);for(var Bn=cr;Bn<M;Bn++)He.set(Bn,ln,He.get(Bn,ln)+Yn*He.get(Bn,cr))}ce[ln]=He.get(cr,ln)}if(be&&cr<ye)for(var Jn=cr;Jn<M;Jn++)Lr.set(Jn,cr,He.get(Jn,cr));if(cr<Ne){ce[cr]=0;for(var sa=cr+1;sa<O;sa++)ce[cr]=xn(ce[cr],ce[sa]);if(ce[cr]!==0){ce[cr+1]<0&&(ce[cr]=0-ce[cr]);for(var qn=cr+1;qn<O;qn++)ce[qn]/=ce[cr];ce[cr+1]+=1}if(ce[cr]=-ce[cr],cr+1<M&&ce[cr]!==0){for(var Za=cr+1;Za<M;Za++)Yt[Za]=0;for(var za=cr+1;za<M;za++)for(var xa=cr+1;xa<O;xa++)Yt[za]+=ce[xa]*He.get(za,xa);for(var Ei=cr+1;Ei<O;Ei++)for(var _o=-ce[Ei]/ce[cr+1],Mi=cr+1;Mi<M;Mi++)He.set(Mi,Ei,He.get(Mi,Ei)+_o*Yt[Mi])}if(We)for(var Ti=cr+1;Ti<O;Ti++)Or.set(Ti,cr,ce[Ti])}}var ga=Math.min(O,M+1);if(ye<O&&(ur[ye]=He.get(ye,ye)),M<ga&&(ur[ga-1]=0),Ne+1<ga&&(ce[Ne]=He.get(Ne,ga-1)),ce[ga-1]=0,be){for(var Ri=ye;Ri<un;Ri++){for(var so=0;so<M;so++)Lr.set(so,Ri,0);Lr.set(Ri,Ri,1)}for(var Ba=ye-1;Ba>=0;Ba--)if(ur[Ba]!==0){for(var Zi=Ba+1;Zi<un;Zi++){for(var Fo=0,uo=Ba;uo<M;uo++)Fo+=Lr.get(uo,Ba)*Lr.get(uo,Zi);Fo=-Fo/Lr.get(Ba,Ba);for(var oi=Ba;oi<M;oi++)Lr.set(oi,Zi,Lr.get(oi,Zi)+Fo*Lr.get(oi,Ba))}for(var Li=Ba;Li<M;Li++)Lr.set(Li,Ba,-Lr.get(Li,Ba));Lr.set(Ba,Ba,1+Lr.get(Ba,Ba));for(var Gi=0;Gi<Ba-1;Gi++)Lr.set(Gi,Ba,0)}else{for(var Zo=0;Zo<M;Zo++)Lr.set(Zo,Ba,0);Lr.set(Ba,Ba,1)}}if(We)for(var si=O-1;si>=0;si--){if(si<Ne&&ce[si]!==0)for(var Ai=si+1;Ai<O;Ai++){for(var Qn=0,Jt=si+1;Jt<O;Jt++)Qn+=Or.get(Jt,si)*Or.get(Jt,Ai);Qn=-Qn/Or.get(si+1,si);for(var fe=si+1;fe<O;fe++)Or.set(fe,Ai,Or.get(fe,Ai)+Qn*Or.get(fe,si))}for(var Pe=0;Pe<O;Pe++)Or.set(Pe,si,0);Or.set(si,si,1)}for(var ar=ga-1,Tr=0,Sr=Number.EPSILON;ga>0;){var xr=void 0,Kr=void 0;for(xr=ga-2;xr>=-1&&xr!==-1;xr--){var cn=Number.MIN_VALUE+Sr*Math.abs(ur[xr]+Math.abs(ur[xr+1]));if(Math.abs(ce[xr])<=cn||Number.isNaN(ce[xr])){ce[xr]=0;break}}if(xr===ga-2)Kr=4;else{var Mn=void 0;for(Mn=ga-1;Mn>=xr&&Mn!==xr;Mn--){var Zn=(Mn!==ga?Math.abs(ce[Mn]):0)+(Mn!==xr+1?Math.abs(ce[Mn-1]):0);if(Math.abs(ur[Mn])<=Sr*Zn){ur[Mn]=0;break}}Mn===xr?Kr=3:Mn===ga-1?Kr=1:(Kr=2,xr=Mn)}switch(xr++,Kr){case 1:{var Un=ce[ga-2];ce[ga-2]=0;for(var na=ga-2;na>=xr;na--){var aa=xn(ur[na],Un),Ya=ur[na]/aa,ua=Un/aa;if(ur[na]=aa,na!==xr&&(Un=-ua*ce[na-1],ce[na-1]=Ya*ce[na-1]),We)for(var $n=0;$n<O;$n++)aa=Ya*Or.get($n,na)+ua*Or.get($n,ga-1),Or.set($n,ga-1,-ua*Or.get($n,na)+Ya*Or.get($n,ga-1)),Or.set($n,na,aa)}break}case 2:{var Ga=ce[xr-1];ce[xr-1]=0;for(var Pa=xr;Pa<ga;Pa++){var Ea=xn(ur[Pa],Ga),ui=ur[Pa]/Ea,qa=Ga/Ea;if(ur[Pa]=Ea,Ga=-qa*ce[Pa],ce[Pa]=ui*ce[Pa],be)for(var Ra=0;Ra<M;Ra++)Ea=ui*Lr.get(Ra,Pa)+qa*Lr.get(Ra,xr-1),Lr.set(Ra,xr-1,-qa*Lr.get(Ra,Pa)+ui*Lr.get(Ra,xr-1)),Lr.set(Ra,Pa,Ea)}break}case 3:{var Ca=Math.max(Math.abs(ur[ga-1]),Math.abs(ur[ga-2]),Math.abs(ce[ga-2]),Math.abs(ur[xr]),Math.abs(ce[xr])),va=ur[ga-1]/Ca,fi=ur[ga-2]/Ca,ni=ce[ga-2]/Ca,di=ur[xr]/Ca,ki=ce[xr]/Ca,Oi=((fi+va)*(fi-va)+ni*ni)/2,Ui=va*ni*(va*ni),To=0;(Oi!==0||Ui!==0)&&(Oi<0?To=0-Math.sqrt(Oi*Oi+Ui):To=Math.sqrt(Oi*Oi+Ui),To=Ui/(Oi+To));for(var Ao=(di+va)*(di-va)+To,Ni=di*ki,ka=xr;ka<ga-1;ka++){var pi=xn(Ao,Ni);pi===0&&(pi=Number.MIN_VALUE);var Bi=Ao/pi,Ma=Ni/pi;if(ka!==xr&&(ce[ka-1]=pi),Ao=Bi*ur[ka]+Ma*ce[ka],ce[ka]=Bi*ce[ka]-Ma*ur[ka],Ni=Ma*ur[ka+1],ur[ka+1]=Bi*ur[ka+1],We)for(var Wi=0;Wi<O;Wi++)pi=Bi*Or.get(Wi,ka)+Ma*Or.get(Wi,ka+1),Or.set(Wi,ka+1,-Ma*Or.get(Wi,ka)+Bi*Or.get(Wi,ka+1)),Or.set(Wi,ka,pi);if(pi=xn(Ao,Ni),pi===0&&(pi=Number.MIN_VALUE),Bi=Ao/pi,Ma=Ni/pi,ur[ka]=pi,Ao=Bi*ce[ka]+Ma*ur[ka+1],ur[ka+1]=-Ma*ce[ka]+Bi*ur[ka+1],Ni=Ma*ce[ka+1],ce[ka+1]=Bi*ce[ka+1],be&&ka<M-1)for(var lo=0;lo<M;lo++)pi=Bi*Lr.get(lo,ka)+Ma*Lr.get(lo,ka+1),Lr.set(lo,ka+1,-Ma*Lr.get(lo,ka)+Bi*Lr.get(lo,ka+1)),Lr.set(lo,ka,pi)}ce[ga-2]=Ao,Tr=Tr+1;break}case 4:{if(ur[xr]<=0&&(ur[xr]=ur[xr]<0?-ur[xr]:0,We))for(var _i=0;_i<=ar;_i++)Or.set(_i,xr,-Or.get(_i,xr));for(;xr<ar&&!(ur[xr]>=ur[xr+1]);){var Do=ur[xr];if(ur[xr]=ur[xr+1],ur[xr+1]=Do,We&&xr<O-1)for(var gi=0;gi<O;gi++)Do=Or.get(gi,xr+1),Or.set(gi,xr+1,Or.get(gi,xr)),Or.set(gi,xr,Do);if(be&&xr<M-1)for(var co=0;co<M;co++)Do=Lr.get(co,xr+1),Lr.set(co,xr+1,Lr.get(co,xr)),Lr.set(co,xr,Do);xr++}Tr=0,ga--;break}}}if(fr){var zo=Or;Or=Lr,Lr=zo}this.m=M,this.n=O,this.s=ur,this.U=Lr,this.V=Or}return A()(at,[{key:"solve",value:function(F){for(var M=F,O=this.threshold,$=this.s.length,mt=Fe.zeros($,$),zt=0;zt<$;zt++)Math.abs(this.s[zt])<=O?mt.set(zt,zt,0):mt.set(zt,zt,1/this.s[zt]);for(var Rt=this.U,Kt=this.rightSingularVectors,Te=Kt.mmul(mt),be=Kt.rows,We=Rt.rows,fr=Fe.zeros(be,We),He=0;He<be;He++)for(var Pr=0;Pr<We;Pr++){for(var un=0,Ue=0;Ue<$;Ue++)un+=Te.get(He,Ue)*Rt.get(Pr,Ue);fr.set(He,Pr,un)}return fr.mmul(M)}},{key:"solveForDiagonal",value:function(F){return this.solve(Fe.diag(F))}},{key:"inverse",value:function(){for(var F=this.V,M=this.threshold,O=F.rows,$=F.columns,mt=new Fe(O,this.s.length),zt=0;zt<O;zt++)for(var Rt=0;Rt<$;Rt++)Math.abs(this.s[Rt])>M&&mt.set(zt,Rt,F.get(zt,Rt)/this.s[Rt]);for(var Kt=this.U,Te=Kt.rows,be=Kt.columns,We=new Fe(O,Te),fr=0;fr<O;fr++)for(var He=0;He<Te;He++){for(var Pr=0,un=0;un<be;un++)Pr+=mt.get(fr,un)*Kt.get(He,un);We.set(fr,He,Pr)}return We}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var F=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,M=0,O=this.s,$=0,mt=O.length;$<mt;$++)O[$]>F&&M++;return M}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Fe.diag(this.s)}}]),at}();function Nr(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return at=Ir.checkMatrix(at),ct?new jr(at).inverse():kn(at,Fe.eye(at.rows))}function kn(at,ct){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return at=Ir.checkMatrix(at),ct=Ir.checkMatrix(ct),F?new jr(at).solve(ct):at.isSquare()?new qe(at).solve(ct):new rr(at).solve(ct)}function an(at){if(at=Fe.checkMatrix(at),at.isSquare()){if(at.columns===0)return 1;var ct,F,M,O;if(at.columns===2)return ct=at.get(0,0),F=at.get(0,1),M=at.get(1,0),O=at.get(1,1),ct*O-F*M;if(at.columns===3){var $,mt,zt;return $=new Rr(at,[1,2],[1,2]),mt=new Rr(at,[1,2],[0,2]),zt=new Rr(at,[1,2],[0,1]),ct=at.get(0,0),F=at.get(0,1),M=at.get(0,2),ct*an($)-F*an(mt)+M*an(zt)}else return new qe(at).determinant}else throw Error("determinant can only be calculated for a square matrix")}function dn(at,ct){for(var F=[],M=0;M<at;M++)M!==ct&&F.push(M);return F}function Sn(at,ct,F){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(at>O)return new Array(ct.rows+1).fill(0);for(var $=ct.addRow(F,[0]),mt=0;mt<$.rows;mt++)Math.abs($.get(mt,0))<M&&$.set(mt,0,0);return $.to1DArray()}function Dn(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=ct.thresholdValue,M=F===void 0?1e-9:F,O=ct.thresholdError,$=O===void 0?1e-9:O;at=Fe.checkMatrix(at);for(var mt=at.rows,zt=new Fe(mt,mt),Rt=0;Rt<mt;Rt++){var Kt=Fe.columnVector(at.getRow(Rt)),Te=at.subMatrixRow(dn(mt,Rt)).transpose(),be=new jr(Te),We=be.solve(Kt),fr=Fe.sub(Kt,Te.mmul(We)).abs().max();zt.setRow(Rt,Sn(fr,We,Rt,M,$))}return zt}function Nn(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(at=Fe.checkMatrix(at),at.isEmpty())return at.transpose();for(var F=new jr(at,{autoTranspose:!0}),M=F.leftSingularVectors,O=F.rightSingularVectors,$=F.diagonal,mt=0;mt<$.length;mt++)Math.abs($[mt])>ct?$[mt]=1/$[mt]:$[mt]=0;return O.mmul(Fe.diag($).mmul(M.transpose()))}function rt(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};at=new Fe(at);var M=!1;if(m()(ct)==="object"&&!Fe.isMatrix(ct)&&!D(ct)?(F=ct,ct=at,M=!0):ct=new Fe(ct),at.rows!==ct.rows)throw new TypeError("Both matrices must have the same number of rows");var O=F,$=O.center,mt=$===void 0?!0:$;mt&&(at=at.center("column"),M||(ct=ct.center("column")));for(var zt=at.transpose().mmul(ct),Rt=0;Rt<zt.rows;Rt++)for(var Kt=0;Kt<zt.columns;Kt++)zt.set(Rt,Kt,zt.get(Rt,Kt)*(1/(at.rows-1)));return zt}function Xe(at){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};at=new Fe(at);var M=!1;if(m()(ct)==="object"&&!Fe.isMatrix(ct)&&!D(ct)?(F=ct,ct=at,M=!0):ct=new Fe(ct),at.rows!==ct.rows)throw new TypeError("Both matrices must have the same number of rows");var O=F,$=O.center,mt=$===void 0?!0:$,zt=O.scale,Rt=zt===void 0?!0:zt;mt&&(at.center("column"),M||ct.center("column")),Rt&&(at.scale("column"),M||ct.scale("column"));for(var Kt=at.standardDeviation("column",{unbiased:!0}),Te=M?Kt:ct.standardDeviation("column",{unbiased:!0}),be=at.transpose().mmul(ct),We=0;We<be.rows;We++)for(var fr=0;fr<be.columns;fr++)be.set(We,fr,be.get(We,fr)*(1/(Kt[We]*Te[fr]))*(1/(at.rows-1)));return be}var Xt=function(){function at(ct){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(this,at);var M=F.assumeSymmetric,O=M===void 0?!1:M;if(ct=Ir.checkMatrix(ct),!ct.isSquare())throw new Error("Matrix is not a square matrix");if(ct.isEmpty())throw new Error("Matrix must be non-empty");var $=ct.columns,mt=new Fe($,$),zt=new Float64Array($),Rt=new Float64Array($),Kt=ct,Te,be,We=!1;if(O?We=!0:We=ct.isSymmetric(),We){for(Te=0;Te<$;Te++)for(be=0;be<$;be++)mt.set(Te,be,Kt.get(Te,be));te($,Rt,zt,mt),ot($,Rt,zt,mt)}else{var fr=new Fe($,$),He=new Float64Array($);for(be=0;be<$;be++)for(Te=0;Te<$;Te++)fr.set(Te,be,Kt.get(Te,be));Ft($,fr,He,mt),ft($,Rt,zt,mt,fr)}this.n=$,this.e=Rt,this.d=zt,this.V=mt}return A()(at,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var F=this.n,M=this.e,O=this.d,$=new Fe(F,F),mt,zt;for(mt=0;mt<F;mt++){for(zt=0;zt<F;zt++)$.set(mt,zt,0);$.set(mt,mt,O[mt]),M[mt]>0?$.set(mt,mt+1,M[mt]):M[mt]<0&&$.set(mt,mt-1,M[mt])}return $}}]),at}();function te(at,ct,F,M){var O,$,mt,zt,Rt,Kt,Te,be;for(Rt=0;Rt<at;Rt++)F[Rt]=M.get(at-1,Rt);for(zt=at-1;zt>0;zt--){for(be=0,mt=0,Kt=0;Kt<zt;Kt++)be=be+Math.abs(F[Kt]);if(be===0)for(ct[zt]=F[zt-1],Rt=0;Rt<zt;Rt++)F[Rt]=M.get(zt-1,Rt),M.set(zt,Rt,0),M.set(Rt,zt,0);else{for(Kt=0;Kt<zt;Kt++)F[Kt]/=be,mt+=F[Kt]*F[Kt];for(O=F[zt-1],$=Math.sqrt(mt),O>0&&($=-$),ct[zt]=be*$,mt=mt-O*$,F[zt-1]=O-$,Rt=0;Rt<zt;Rt++)ct[Rt]=0;for(Rt=0;Rt<zt;Rt++){for(O=F[Rt],M.set(Rt,zt,O),$=ct[Rt]+M.get(Rt,Rt)*O,Kt=Rt+1;Kt<=zt-1;Kt++)$+=M.get(Kt,Rt)*F[Kt],ct[Kt]+=M.get(Kt,Rt)*O;ct[Rt]=$}for(O=0,Rt=0;Rt<zt;Rt++)ct[Rt]/=mt,O+=ct[Rt]*F[Rt];for(Te=O/(mt+mt),Rt=0;Rt<zt;Rt++)ct[Rt]-=Te*F[Rt];for(Rt=0;Rt<zt;Rt++){for(O=F[Rt],$=ct[Rt],Kt=Rt;Kt<=zt-1;Kt++)M.set(Kt,Rt,M.get(Kt,Rt)-(O*ct[Kt]+$*F[Kt]));F[Rt]=M.get(zt-1,Rt),M.set(zt,Rt,0)}}F[zt]=mt}for(zt=0;zt<at-1;zt++){if(M.set(at-1,zt,M.get(zt,zt)),M.set(zt,zt,1),mt=F[zt+1],mt!==0){for(Kt=0;Kt<=zt;Kt++)F[Kt]=M.get(Kt,zt+1)/mt;for(Rt=0;Rt<=zt;Rt++){for($=0,Kt=0;Kt<=zt;Kt++)$+=M.get(Kt,zt+1)*M.get(Kt,Rt);for(Kt=0;Kt<=zt;Kt++)M.set(Kt,Rt,M.get(Kt,Rt)-$*F[Kt])}}for(Kt=0;Kt<=zt;Kt++)M.set(Kt,zt+1,0)}for(Rt=0;Rt<at;Rt++)F[Rt]=M.get(at-1,Rt),M.set(at-1,Rt,0);M.set(at-1,at-1,1),ct[0]=0}function ot(at,ct,F,M){var O,$,mt,zt,Rt,Kt,Te,be,We,fr,He,Pr,un,Ue,ur,Lr,Or;for(mt=1;mt<at;mt++)ct[mt-1]=ct[mt];ct[at-1]=0;var ce=0,Yt=0,he=Number.EPSILON;for(Kt=0;Kt<at;Kt++){for(Yt=Math.max(Yt,Math.abs(F[Kt])+Math.abs(ct[Kt])),Te=Kt;Te<at&&!(Math.abs(ct[Te])<=he*Yt);)Te++;if(Te>Kt){Or=0;do{for(Or=Or+1,O=F[Kt],be=(F[Kt+1]-O)/(2*ct[Kt]),We=xn(be,1),be<0&&(We=-We),F[Kt]=ct[Kt]/(be+We),F[Kt+1]=ct[Kt]*(be+We),fr=F[Kt+1],$=O-F[Kt],mt=Kt+2;mt<at;mt++)F[mt]-=$;for(ce=ce+$,be=F[Te],He=1,Pr=He,un=He,Ue=ct[Kt+1],ur=0,Lr=0,mt=Te-1;mt>=Kt;mt--)for(un=Pr,Pr=He,Lr=ur,O=He*ct[mt],$=He*be,We=xn(be,ct[mt]),ct[mt+1]=ur*We,ur=ct[mt]/We,He=be/We,be=He*F[mt]-ur*O,F[mt+1]=$+ur*(He*O+ur*F[mt]),Rt=0;Rt<at;Rt++)$=M.get(Rt,mt+1),M.set(Rt,mt+1,ur*M.get(Rt,mt)+He*$),M.set(Rt,mt,He*M.get(Rt,mt)-ur*$);be=-ur*Lr*un*Ue*ct[Kt]/fr,ct[Kt]=ur*be,F[Kt]=He*be}while(Math.abs(ct[Kt])>he*Yt)}F[Kt]=F[Kt]+ce,ct[Kt]=0}for(mt=0;mt<at-1;mt++){for(Rt=mt,be=F[mt],zt=mt+1;zt<at;zt++)F[zt]<be&&(Rt=zt,be=F[zt]);if(Rt!==mt)for(F[Rt]=F[mt],F[mt]=be,zt=0;zt<at;zt++)be=M.get(zt,mt),M.set(zt,mt,M.get(zt,Rt)),M.set(zt,Rt,be)}}function Ft(at,ct,F,M){var O=0,$=at-1,mt,zt,Rt,Kt,Te,be,We;for(be=O+1;be<=$-1;be++){for(We=0,Kt=be;Kt<=$;Kt++)We=We+Math.abs(ct.get(Kt,be-1));if(We!==0){for(Rt=0,Kt=$;Kt>=be;Kt--)F[Kt]=ct.get(Kt,be-1)/We,Rt+=F[Kt]*F[Kt];for(zt=Math.sqrt(Rt),F[be]>0&&(zt=-zt),Rt=Rt-F[be]*zt,F[be]=F[be]-zt,Te=be;Te<at;Te++){for(mt=0,Kt=$;Kt>=be;Kt--)mt+=F[Kt]*ct.get(Kt,Te);for(mt=mt/Rt,Kt=be;Kt<=$;Kt++)ct.set(Kt,Te,ct.get(Kt,Te)-mt*F[Kt])}for(Kt=0;Kt<=$;Kt++){for(mt=0,Te=$;Te>=be;Te--)mt+=F[Te]*ct.get(Kt,Te);for(mt=mt/Rt,Te=be;Te<=$;Te++)ct.set(Kt,Te,ct.get(Kt,Te)-mt*F[Te])}F[be]=We*F[be],ct.set(be,be-1,We*zt)}}for(Kt=0;Kt<at;Kt++)for(Te=0;Te<at;Te++)M.set(Kt,Te,Kt===Te?1:0);for(be=$-1;be>=O+1;be--)if(ct.get(be,be-1)!==0){for(Kt=be+1;Kt<=$;Kt++)F[Kt]=ct.get(Kt,be-1);for(Te=be;Te<=$;Te++){for(zt=0,Kt=be;Kt<=$;Kt++)zt+=F[Kt]*M.get(Kt,Te);for(zt=zt/F[be]/ct.get(be,be-1),Kt=be;Kt<=$;Kt++)M.set(Kt,Te,M.get(Kt,Te)+zt*F[Kt])}}}function ft(at,ct,F,M,O){var $=at-1,mt=0,zt=at-1,Rt=Number.EPSILON,Kt=0,Te=0,be=0,We=0,fr=0,He=0,Pr=0,un=0,Ue,ur,Lr,Or,ce,Yt,he,Me,ye,Ne,nr,cr,rn,An,ln;for(Ue=0;Ue<at;Ue++)for((Ue<mt||Ue>zt)&&(F[Ue]=O.get(Ue,Ue),ct[Ue]=0),ur=Math.max(Ue-1,0);ur<at;ur++)Te=Te+Math.abs(O.get(Ue,ur));for(;$>=mt;){for(Or=$;Or>mt&&(He=Math.abs(O.get(Or-1,Or-1))+Math.abs(O.get(Or,Or)),He===0&&(He=Te),!(Math.abs(O.get(Or,Or-1))<Rt*He));)Or--;if(Or===$)O.set($,$,O.get($,$)+Kt),F[$]=O.get($,$),ct[$]=0,$--,un=0;else if(Or===$-1){if(he=O.get($,$-1)*O.get($-1,$),be=(O.get($-1,$-1)-O.get($,$))/2,We=be*be+he,Pr=Math.sqrt(Math.abs(We)),O.set($,$,O.get($,$)+Kt),O.set($-1,$-1,O.get($-1,$-1)+Kt),Me=O.get($,$),We>=0){for(Pr=be>=0?be+Pr:be-Pr,F[$-1]=Me+Pr,F[$]=F[$-1],Pr!==0&&(F[$]=Me-he/Pr),ct[$-1]=0,ct[$]=0,Me=O.get($,$-1),He=Math.abs(Me)+Math.abs(Pr),be=Me/He,We=Pr/He,fr=Math.sqrt(be*be+We*We),be=be/fr,We=We/fr,ur=$-1;ur<at;ur++)Pr=O.get($-1,ur),O.set($-1,ur,We*Pr+be*O.get($,ur)),O.set($,ur,We*O.get($,ur)-be*Pr);for(Ue=0;Ue<=$;Ue++)Pr=O.get(Ue,$-1),O.set(Ue,$-1,We*Pr+be*O.get(Ue,$)),O.set(Ue,$,We*O.get(Ue,$)-be*Pr);for(Ue=mt;Ue<=zt;Ue++)Pr=M.get(Ue,$-1),M.set(Ue,$-1,We*Pr+be*M.get(Ue,$)),M.set(Ue,$,We*M.get(Ue,$)-be*Pr)}else F[$-1]=Me+be,F[$]=Me+be,ct[$-1]=Pr,ct[$]=-Pr;$=$-2,un=0}else{if(Me=O.get($,$),ye=0,he=0,Or<$&&(ye=O.get($-1,$-1),he=O.get($,$-1)*O.get($-1,$)),un===10){for(Kt+=Me,Ue=mt;Ue<=$;Ue++)O.set(Ue,Ue,O.get(Ue,Ue)-Me);He=Math.abs(O.get($,$-1))+Math.abs(O.get($-1,$-2)),Me=ye=.75*He,he=-.4375*He*He}if(un===30&&(He=(ye-Me)/2,He=He*He+he,He>0)){for(He=Math.sqrt(He),ye<Me&&(He=-He),He=Me-he/((ye-Me)/2+He),Ue=mt;Ue<=$;Ue++)O.set(Ue,Ue,O.get(Ue,Ue)-He);Kt+=He,Me=ye=he=.964}for(un=un+1,ce=$-2;ce>=Or&&(Pr=O.get(ce,ce),fr=Me-Pr,He=ye-Pr,be=(fr*He-he)/O.get(ce+1,ce)+O.get(ce,ce+1),We=O.get(ce+1,ce+1)-Pr-fr-He,fr=O.get(ce+2,ce+1),He=Math.abs(be)+Math.abs(We)+Math.abs(fr),be=be/He,We=We/He,fr=fr/He,!(ce===Or||Math.abs(O.get(ce,ce-1))*(Math.abs(We)+Math.abs(fr))<Rt*(Math.abs(be)*(Math.abs(O.get(ce-1,ce-1))+Math.abs(Pr)+Math.abs(O.get(ce+1,ce+1))))));)ce--;for(Ue=ce+2;Ue<=$;Ue++)O.set(Ue,Ue-2,0),Ue>ce+2&&O.set(Ue,Ue-3,0);for(Lr=ce;Lr<=$-1&&(An=Lr!==$-1,Lr!==ce&&(be=O.get(Lr,Lr-1),We=O.get(Lr+1,Lr-1),fr=An?O.get(Lr+2,Lr-1):0,Me=Math.abs(be)+Math.abs(We)+Math.abs(fr),Me!==0&&(be=be/Me,We=We/Me,fr=fr/Me)),Me!==0);Lr++)if(He=Math.sqrt(be*be+We*We+fr*fr),be<0&&(He=-He),He!==0){for(Lr!==ce?O.set(Lr,Lr-1,-He*Me):Or!==ce&&O.set(Lr,Lr-1,-O.get(Lr,Lr-1)),be=be+He,Me=be/He,ye=We/He,Pr=fr/He,We=We/be,fr=fr/be,ur=Lr;ur<at;ur++)be=O.get(Lr,ur)+We*O.get(Lr+1,ur),An&&(be=be+fr*O.get(Lr+2,ur),O.set(Lr+2,ur,O.get(Lr+2,ur)-be*Pr)),O.set(Lr,ur,O.get(Lr,ur)-be*Me),O.set(Lr+1,ur,O.get(Lr+1,ur)-be*ye);for(Ue=0;Ue<=Math.min($,Lr+3);Ue++)be=Me*O.get(Ue,Lr)+ye*O.get(Ue,Lr+1),An&&(be=be+Pr*O.get(Ue,Lr+2),O.set(Ue,Lr+2,O.get(Ue,Lr+2)-be*fr)),O.set(Ue,Lr,O.get(Ue,Lr)-be),O.set(Ue,Lr+1,O.get(Ue,Lr+1)-be*We);for(Ue=mt;Ue<=zt;Ue++)be=Me*M.get(Ue,Lr)+ye*M.get(Ue,Lr+1),An&&(be=be+Pr*M.get(Ue,Lr+2),M.set(Ue,Lr+2,M.get(Ue,Lr+2)-be*fr)),M.set(Ue,Lr,M.get(Ue,Lr)-be),M.set(Ue,Lr+1,M.get(Ue,Lr+1)-be*We)}}}if(Te!==0){for($=at-1;$>=0;$--)if(be=F[$],We=ct[$],We===0)for(Or=$,O.set($,$,1),Ue=$-1;Ue>=0;Ue--){for(he=O.get(Ue,Ue)-be,fr=0,ur=Or;ur<=$;ur++)fr=fr+O.get(Ue,ur)*O.get(ur,$);if(ct[Ue]<0)Pr=he,He=fr;else if(Or=Ue,ct[Ue]===0?O.set(Ue,$,he!==0?-fr/he:-fr/(Rt*Te)):(Me=O.get(Ue,Ue+1),ye=O.get(Ue+1,Ue),We=(F[Ue]-be)*(F[Ue]-be)+ct[Ue]*ct[Ue],Yt=(Me*He-Pr*fr)/We,O.set(Ue,$,Yt),O.set(Ue+1,$,Math.abs(Me)>Math.abs(Pr)?(-fr-he*Yt)/Me:(-He-ye*Yt)/Pr)),Yt=Math.abs(O.get(Ue,$)),Rt*Yt*Yt>1)for(ur=Ue;ur<=$;ur++)O.set(ur,$,O.get(ur,$)/Yt)}else if(We<0)for(Or=$-1,Math.abs(O.get($,$-1))>Math.abs(O.get($-1,$))?(O.set($-1,$-1,We/O.get($,$-1)),O.set($-1,$,-(O.get($,$)-be)/O.get($,$-1))):(ln=Ut(0,-O.get($-1,$),O.get($-1,$-1)-be,We),O.set($-1,$-1,ln[0]),O.set($-1,$,ln[1])),O.set($,$-1,0),O.set($,$,1),Ue=$-2;Ue>=0;Ue--){for(Ne=0,nr=0,ur=Or;ur<=$;ur++)Ne=Ne+O.get(Ue,ur)*O.get(ur,$-1),nr=nr+O.get(Ue,ur)*O.get(ur,$);if(he=O.get(Ue,Ue)-be,ct[Ue]<0)Pr=he,fr=Ne,He=nr;else if(Or=Ue,ct[Ue]===0?(ln=Ut(-Ne,-nr,he,We),O.set(Ue,$-1,ln[0]),O.set(Ue,$,ln[1])):(Me=O.get(Ue,Ue+1),ye=O.get(Ue+1,Ue),cr=(F[Ue]-be)*(F[Ue]-be)+ct[Ue]*ct[Ue]-We*We,rn=(F[Ue]-be)*2*We,cr===0&&rn===0&&(cr=Rt*Te*(Math.abs(he)+Math.abs(We)+Math.abs(Me)+Math.abs(ye)+Math.abs(Pr))),ln=Ut(Me*fr-Pr*Ne+We*nr,Me*He-Pr*nr-We*Ne,cr,rn),O.set(Ue,$-1,ln[0]),O.set(Ue,$,ln[1]),Math.abs(Me)>Math.abs(Pr)+Math.abs(We)?(O.set(Ue+1,$-1,(-Ne-he*O.get(Ue,$-1)+We*O.get(Ue,$))/Me),O.set(Ue+1,$,(-nr-he*O.get(Ue,$)-We*O.get(Ue,$-1))/Me)):(ln=Ut(-fr-ye*O.get(Ue,$-1),-He-ye*O.get(Ue,$),Pr,We),O.set(Ue+1,$-1,ln[0]),O.set(Ue+1,$,ln[1]))),Yt=Math.max(Math.abs(O.get(Ue,$-1)),Math.abs(O.get(Ue,$))),Rt*Yt*Yt>1)for(ur=Ue;ur<=$;ur++)O.set(ur,$-1,O.get(ur,$-1)/Yt),O.set(ur,$,O.get(ur,$)/Yt)}for(Ue=0;Ue<at;Ue++)if(Ue<mt||Ue>zt)for(ur=Ue;ur<at;ur++)M.set(Ue,ur,O.get(Ue,ur));for(ur=at-1;ur>=mt;ur--)for(Ue=mt;Ue<=zt;Ue++){for(Pr=0,Lr=mt;Lr<=Math.min(ur,zt);Lr++)Pr=Pr+M.get(Ue,Lr)*O.get(Lr,ur);M.set(Ue,ur,Pr)}}}function Ut(at,ct,F,M){var O,$;return Math.abs(F)>Math.abs(M)?(O=M/F,$=F+O*M,[(at+O*ct)/$,(ct-O*at)/$]):(O=F/M,$=M+O*F,[(O*at+ct)/$,(O*ct-at)/$])}var re=function(){function at(ct){if(E()(this,at),ct=Ir.checkMatrix(ct),!ct.isSymmetric())throw new Error("Matrix is not symmetric");var F=ct,M=F.rows,O=new Fe(M,M),$=!0,mt,zt,Rt;for(zt=0;zt<M;zt++){var Kt=0;for(Rt=0;Rt<zt;Rt++){var Te=0;for(mt=0;mt<Rt;mt++)Te+=O.get(Rt,mt)*O.get(zt,mt);Te=(F.get(zt,Rt)-Te)/O.get(Rt,Rt),O.set(zt,Rt,Te),Kt=Kt+Te*Te}for(Kt=F.get(zt,zt)-Kt,$&=Kt>0,O.set(zt,zt,Math.sqrt(Math.max(Kt,0))),Rt=zt+1;Rt<M;Rt++)O.set(zt,Rt,0)}this.L=O,this.positiveDefinite=Boolean($)}return A()(at,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(F){F=Ir.checkMatrix(F);var M=this.L,O=M.rows;if(F.rows!==O)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var $=F.columns,mt=F.clone(),zt,Rt,Kt;for(Kt=0;Kt<O;Kt++)for(Rt=0;Rt<$;Rt++){for(zt=0;zt<Kt;zt++)mt.set(Kt,Rt,mt.get(Kt,Rt)-mt.get(zt,Rt)*M.get(Kt,zt));mt.set(Kt,Rt,mt.get(Kt,Rt)/M.get(Kt,Kt))}for(Kt=O-1;Kt>=0;Kt--)for(Rt=0;Rt<$;Rt++){for(zt=Kt+1;zt<O;zt++)mt.set(Kt,Rt,mt.get(Kt,Rt)-mt.get(zt,Rt)*M.get(zt,Kt));mt.set(Kt,Rt,mt.get(Kt,Rt)/M.get(Kt,Kt))}return mt}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),at}(),ae=A()(function at(ct){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(this,at),ct=Ir.checkMatrix(ct);var M=F.Y,O=F.scaleScores,$=O===void 0?!1:O,mt=F.maxIterations,zt=mt===void 0?1e3:mt,Rt=F.terminationCriteria,Kt=Rt===void 0?1e-10:Rt,Te;if(M){if(D(M)&&typeof M[0]=="number"?M=Fe.columnVector(M):M=Ir.checkMatrix(M),M.rows!==ct.rows)throw new Error("Y should have the same number of rows as X");Te=M.getColumnVector(0)}else Te=ct.getColumnVector(0);for(var be=1,We,fr,He,Pr,un=0;un<zt&&be>Kt;un++)He=ct.transpose().mmul(Te).div(Te.transpose().mmul(Te).get(0,0)),He=He.div(He.norm()),We=ct.mmul(He).div(He.transpose().mmul(He).get(0,0)),un>0&&(be=We.clone().sub(Pr).pow(2).sum()),Pr=We.clone(),M?(fr=M.transpose().mmul(We).div(We.transpose().mmul(We).get(0,0)),fr=fr.div(fr.norm()),Te=M.mmul(fr).div(fr.transpose().mmul(fr).get(0,0))):Te=We;if(M){var Ue=ct.transpose().mmul(We).div(We.transpose().mmul(We).get(0,0));Ue=Ue.div(Ue.norm());var ur=ct.clone().sub(We.clone().mmul(Ue.transpose())),Lr=Te.transpose().mmul(We).div(We.transpose().mmul(We).get(0,0)),Or=M.clone().sub(We.clone().mulS(Lr.get(0,0)).mmul(fr.transpose()));this.t=We,this.p=Ue.transpose(),this.w=He.transpose(),this.q=fr,this.u=Te,this.s=We.transpose().mmul(We),this.xResidual=ur,this.yResidual=Or,this.betas=Lr}else this.w=He.transpose(),this.s=We.transpose().mmul(We).sqrt(),$?this.t=We.clone().div(this.s.get(0,0)):this.t=We,this.xResidual=ct.sub(We.mmul(He.transpose()))})},988824:function(Ge,W,C){"use strict";C.d(W,{Z:function(){return te}});var y=C(570655),R=C(785893),w=C(667294),_=C(767159),L=C(669400),P=C(375991);const p=(ot,Ft)=>{const ft=A(ot),Ut=A(Ft),re=ft.pop(),ae=Ut.pop(),at=f(ft,Ut);return at!==0?at:re&&ae?f(re.split("."),ae.split(".")):re||ae?re?-1:1:0},m=ot=>typeof ot=="string"&&/^[v\d]/.test(ot)&&b.test(ot),S=(ot,Ft,ft)=>{U(ft);const Ut=p(ot,Ft);return z[ft].includes(Ut)},E=(ot,Ft)=>{if(Ft.includes("||"))return Ft.split("||").some(Te=>E(ot,Te));if(Ft.includes(" "))return Ft.trim().replace(/\s{2,}/g," ").split(" ").every(Te=>E(ot,Te));const ft=Ft.match(/^([<>=~^]+)/),Ut=ft?ft[1]:"=";if(Ut!=="^"&&Ut!=="~")return S(ot,Ft,Ut);const[re,ae,at,,ct]=A(ot),[F,M,O,,$]=A(Ft),mt=[re,ae,at],zt=[F,M!=null?M:"x",O!=null?O:"x"];if($&&(!ct||f(mt,zt)!==0||f(ct.split("."),$.split("."))===-1))return!1;const Rt=zt.findIndex(Te=>Te!=="0")+1,Kt=Ut==="~"?2:Rt>1?Rt:1;return!(f(mt.slice(0,Kt),zt.slice(0,Kt))!==0||f(mt.slice(Kt),zt.slice(Kt))===-1)},b=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,A=ot=>{if(typeof ot!="string")throw new TypeError("Invalid argument expected string");const Ft=ot.match(b);if(!Ft)throw new Error(`Invalid argument not valid semver ('${ot}' received)`);return Ft.shift(),Ft},x=ot=>ot==="*"||ot==="x"||ot==="X",D=ot=>{const Ft=parseInt(ot,10);return isNaN(Ft)?ot:Ft},k=(ot,Ft)=>typeof ot!=typeof Ft?[String(ot),String(Ft)]:[ot,Ft],g=(ot,Ft)=>{if(x(ot)||x(Ft))return 0;const[ft,Ut]=k(D(ot),D(Ft));return ft>Ut?1:ft<Ut?-1:0},f=(ot,Ft)=>{for(let ft=0;ft<Math.max(ot.length,Ft.length);ft++){const Ut=g(ot[ft]||"0",Ft[ft]||"0");if(Ut!==0)return Ut}return 0},z={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},Y=Object.keys(z),U=ot=>{if(typeof ot!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof ot}`);if(Y.indexOf(ot)===-1)throw new Error(`Invalid operator, expected one of ${Y.join("|")}`)};var G=function(ot,Ft){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,Ut){ft.__proto__=Ut}||function(ft,Ut){for(var re in Ut)Object.prototype.hasOwnProperty.call(Ut,re)&&(ft[re]=Ut[re])},G(ot,Ft)};function j(ot,Ft){G(ot,Ft);function ft(){this.constructor=ot}ot.prototype=Ft===null?Object.create(Ft):(ft.prototype=Ft.prototype,new ft)}var K=function(){return K=Object.assign||function(Ft){for(var ft,Ut=1,re=arguments.length;Ut<re;Ut++){ft=arguments[Ut];for(var ae in ft)Object.prototype.hasOwnProperty.call(ft,ae)&&(Ft[ae]=ft[ae])}return Ft},K.apply(this,arguments)};function nt(ot,Ft){var ft={};for(var Ut in ot)Object.prototype.hasOwnProperty.call(ot,Ut)&&Ft.indexOf(Ut)<0&&(ft[Ut]=ot[Ut]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,Ut=Object.getOwnPropertySymbols(ot);re<Ut.length;re++)Ft.indexOf(Ut[re])<0&&Object.prototype.propertyIsEnumerable.call(ot,Ut[re])&&(ft[Ut[re]]=ot[Ut[re]]);return ft}function q(ot,Ft,ft,Ut){var re=arguments.length,ae=re<3?Ft:Ut===null?Ut=Object.getOwnPropertyDescriptor(Ft,ft):Ut,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(ot,Ft,ft,Ut);else for(var ct=ot.length-1;ct>=0;ct--)(at=ot[ct])&&(ae=(re<3?at(ae):re>3?at(Ft,ft,ae):at(Ft,ft))||ae);return re>3&&ae&&Object.defineProperty(Ft,ft,ae),ae}function J(ot,Ft){return function(ft,Ut){Ft(ft,Ut,ot)}}function ut(ot,Ft){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ot,Ft)}function st(ot,Ft,ft,Ut){function re(ae){return ae instanceof ft?ae:new ft(function(at){at(ae)})}return new(ft||(ft=Promise))(function(ae,at){function ct(O){try{M(Ut.next(O))}catch($){at($)}}function F(O){try{M(Ut.throw(O))}catch($){at($)}}function M(O){O.done?ae(O.value):re(O.value).then(ct,F)}M((Ut=Ut.apply(ot,Ft||[])).next())})}function bt(ot,Ft){var ft={label:0,sent:function(){if(ae[0]&1)throw ae[1];return ae[1]},trys:[],ops:[]},Ut,re,ae,at;return at={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function ct(M){return function(O){return F([M,O])}}function F(M){if(Ut)throw new TypeError("Generator is already executing.");for(;ft;)try{if(Ut=1,re&&(ae=M[0]&2?re.return:M[0]?re.throw||((ae=re.return)&&ae.call(re),0):re.next)&&!(ae=ae.call(re,M[1])).done)return ae;switch(re=0,ae&&(M=[M[0]&2,ae.value]),M[0]){case 0:case 1:ae=M;break;case 4:return ft.label++,{value:M[1],done:!1};case 5:ft.label++,re=M[1],M=[0];continue;case 7:M=ft.ops.pop(),ft.trys.pop();continue;default:if(ae=ft.trys,!(ae=ae.length>0&&ae[ae.length-1])&&(M[0]===6||M[0]===2)){ft=0;continue}if(M[0]===3&&(!ae||M[1]>ae[0]&&M[1]<ae[3])){ft.label=M[1];break}if(M[0]===6&&ft.label<ae[1]){ft.label=ae[1],ae=M;break}if(ae&&ft.label<ae[2]){ft.label=ae[2],ft.ops.push(M);break}ae[2]&&ft.ops.pop(),ft.trys.pop();continue}M=Ft.call(ot,ft)}catch(O){M=[6,O],re=0}finally{Ut=ae=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}}var ht=Object.create?function(ot,Ft,ft,Ut){Ut===void 0&&(Ut=ft),Object.defineProperty(ot,Ut,{enumerable:!0,get:function(){return Ft[ft]}})}:function(ot,Ft,ft,Ut){Ut===void 0&&(Ut=ft),ot[Ut]=Ft[ft]};function kt(ot,Ft){for(var ft in ot)ft!=="default"&&!Object.prototype.hasOwnProperty.call(Ft,ft)&&ht(Ft,ot,ft)}function Mt(ot){var Ft=typeof Symbol=="function"&&Symbol.iterator,ft=Ft&&ot[Ft],Ut=0;if(ft)return ft.call(ot);if(ot&&typeof ot.length=="number")return{next:function(){return ot&&Ut>=ot.length&&(ot=void 0),{value:ot&&ot[Ut++],done:!ot}}};throw new TypeError(Ft?"Object is not iterable.":"Symbol.iterator is not defined.")}function St(ot,Ft){var ft=typeof Symbol=="function"&&ot[Symbol.iterator];if(!ft)return ot;var Ut=ft.call(ot),re,ae=[],at;try{for(;(Ft===void 0||Ft-- >0)&&!(re=Ut.next()).done;)ae.push(re.value)}catch(ct){at={error:ct}}finally{try{re&&!re.done&&(ft=Ut.return)&&ft.call(Ut)}finally{if(at)throw at.error}}return ae}function V(){for(var ot=[],Ft=0;Ft<arguments.length;Ft++)ot=ot.concat(St(arguments[Ft]));return ot}function Q(){for(var ot=0,Ft=0,ft=arguments.length;Ft<ft;Ft++)ot+=arguments[Ft].length;for(var Ut=Array(ot),re=0,Ft=0;Ft<ft;Ft++)for(var ae=arguments[Ft],at=0,ct=ae.length;at<ct;at++,re++)Ut[re]=ae[at];return Ut}function xt(ot){return this instanceof xt?(this.v=ot,this):new xt(ot)}function Ct(ot,Ft,ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ut=ft.apply(ot,Ft||[]),re,ae=[];return re={},at("next"),at("throw"),at("return"),re[Symbol.asyncIterator]=function(){return this},re;function at(mt){Ut[mt]&&(re[mt]=function(zt){return new Promise(function(Rt,Kt){ae.push([mt,zt,Rt,Kt])>1||ct(mt,zt)})})}function ct(mt,zt){try{F(Ut[mt](zt))}catch(Rt){$(ae[0][3],Rt)}}function F(mt){mt.value instanceof xt?Promise.resolve(mt.value.v).then(M,O):$(ae[0][2],mt)}function M(mt){ct("next",mt)}function O(mt){ct("throw",mt)}function $(mt,zt){mt(zt),ae.shift(),ae.length&&ct(ae[0][0],ae[0][1])}}function et(ot){var Ft,ft;return Ft={},Ut("next"),Ut("throw",function(re){throw re}),Ut("return"),Ft[Symbol.iterator]=function(){return this},Ft;function Ut(re,ae){Ft[re]=ot[re]?function(at){return(ft=!ft)?{value:xt(ot[re](at)),done:re==="return"}:ae?ae(at):at}:ae}}function vt(ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ft=ot[Symbol.asyncIterator],ft;return Ft?Ft.call(ot):(ot=typeof Mt=="function"?Mt(ot):ot[Symbol.iterator](),ft={},Ut("next"),Ut("throw"),Ut("return"),ft[Symbol.asyncIterator]=function(){return this},ft);function Ut(ae){ft[ae]=ot[ae]&&function(at){return new Promise(function(ct,F){at=ot[ae](at),re(ct,F,at.done,at.value)})}}function re(ae,at,ct,F){Promise.resolve(F).then(function(M){ae({value:M,done:ct})},at)}}function Tt(ot,Ft){return Object.defineProperty?Object.defineProperty(ot,"raw",{value:Ft}):ot.raw=Ft,ot}var Ot=Object.create?function(ot,Ft){Object.defineProperty(ot,"default",{enumerable:!0,value:Ft})}:function(ot,Ft){ot.default=Ft};function Et(ot){if(ot&&ot.__esModule)return ot;var Ft={};if(ot!=null)for(var ft in ot)ft!=="default"&&Object.prototype.hasOwnProperty.call(ot,ft)&&ht(Ft,ot,ft);return Ot(Ft,ot),Ft}function Dt(ot){return ot&&ot.__esModule?ot:{default:ot}}function Vt(ot,Ft){if(!Ft.has(ot))throw new TypeError("attempted to get private field on non-instance");return Ft.get(ot)}function ue(ot,Ft,ft){if(!Ft.has(ot))throw new TypeError("attempted to set private field on non-instance");return Ft.set(ot,ft),ft}var ee=C(252796),It=C.n(ee);function ne(ot,Ft,ft,Ut,re,ae){ae===void 0&&(ae=0);var at=nn(ot,Ft,ae),ct=at.width,F=at.height,M=Math.min(ct,ft),O=Math.min(F,Ut);return M>O*re?{width:O*re,height:O}:{width:M,height:M/re}}function pe(ot){return ot.width>ot.height?ot.width/ot.naturalWidth:ot.height/ot.naturalHeight}function Gt(ot,Ft,ft,Ut,re){re===void 0&&(re=0);var ae=nn(Ft.width,Ft.height,re),at=ae.width,ct=ae.height;return{x:qt(ot.x,at,ft.width,Ut),y:qt(ot.y,ct,ft.height,Ut)}}function qt(ot,Ft,ft,Ut){var re=Ft*Ut/2-ft/2;return on(ot,-re,re)}function $t(ot,Ft){return Math.sqrt(Math.pow(ot.y-Ft.y,2)+Math.pow(ot.x-Ft.x,2))}function Zt(ot,Ft){return Math.atan2(Ft.y-ot.y,Ft.x-ot.x)*180/Math.PI}function se(ot,Ft,ft,Ut,re,ae,at){ae===void 0&&(ae=0),at===void 0&&(at=!0);var ct=at?Se:Pt,F=nn(Ft.width,Ft.height,ae),M=nn(Ft.naturalWidth,Ft.naturalHeight,ae),O={x:ct(100,((F.width-ft.width/re)/2-ot.x/re)/F.width*100),y:ct(100,((F.height-ft.height/re)/2-ot.y/re)/F.height*100),width:ct(100,ft.width/F.width*100/re),height:ct(100,ft.height/F.height*100/re)},$=Math.round(ct(M.width,O.width*M.width/100)),mt=Math.round(ct(M.height,O.height*M.height/100)),zt=M.width>=M.height*Ut,Rt=zt?{width:Math.round(mt*Ut),height:mt}:{width:$,height:Math.round($/Ut)},Kt=K(K({},Rt),{x:Math.round(ct(M.width-Rt.width,O.x*M.width/100)),y:Math.round(ct(M.height-Rt.height,O.y*M.height/100))});return{croppedAreaPercentages:O,croppedAreaPixels:Kt}}function Se(ot,Ft){return Math.min(ot,Math.max(0,Ft))}function Pt(ot,Ft){return Ft}function Fe(ot,Ft,ft,Ut,re,ae){var at=nn(Ft.width,Ft.height,ft),ct=on(Ut.width/at.width*(100/ot.width),re,ae),F={x:ct*at.width/2-Ut.width/2-at.width*ct*(ot.x/100),y:ct*at.height/2-Ut.height/2-at.height*ct*(ot.y/100)};return{crop:F,zoom:ct}}function vr(ot,Ft,ft){var Ut=pe(Ft);return ft.height>ft.width?ft.height/(ot.height*Ut):ft.width/(ot.width*Ut)}function Cr(ot,Ft,ft,Ut,re,ae){ft===void 0&&(ft=0);var at=nn(Ft.naturalWidth,Ft.naturalHeight,ft),ct=on(vr(ot,Ft,Ut),re,ae),F=Ut.height>Ut.width?Ut.height/ot.height:Ut.width/ot.width,M={x:((at.width-ot.width)/2-ot.x)*F,y:((at.height-ot.height)/2-ot.y)*F};return{crop:M,zoom:ct}}function _r(ot,Ft){return{x:(Ft.x+ot.x)/2,y:(Ft.y+ot.y)/2}}function Ur(ot){return ot*Math.PI/180}function nn(ot,Ft,ft){var Ut=Ur(ft);return{width:Math.abs(Math.cos(Ut)*ot)+Math.abs(Math.sin(Ut)*Ft),height:Math.abs(Math.sin(Ut)*ot)+Math.abs(Math.cos(Ut)*Ft)}}function on(ot,Ft,ft){return Math.min(Math.max(ot,Ft),ft)}function tr(){for(var ot=[],Ft=0;Ft<arguments.length;Ft++)ot[Ft]=arguments[Ft];return ot.filter(function(ft){return typeof ft=="string"&&ft.length>0}).join(" ").trim()}var Rr=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,qr=1,br=3,zr=function(ot){j(Ft,ot);function Ft(){var ft=ot!==null&&ot.apply(this,arguments)||this;return ft.imageRef=w.createRef(),ft.videoRef=w.createRef(),ft.containerRef=null,ft.styleRef=null,ft.containerRect=null,ft.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},ft.dragStartPosition={x:0,y:0},ft.dragStartCrop={x:0,y:0},ft.gestureZoomStart=0,ft.gestureRotationStart=0,ft.isTouching=!1,ft.lastPinchDistance=0,ft.lastPinchRotation=0,ft.rafDragTimeout=null,ft.rafPinchTimeout=null,ft.wheelTimer=null,ft.currentDoc=typeof document!="undefined"?document:null,ft.currentWindow=typeof window!="undefined"?window:null,ft.resizeObserver=null,ft.state={cropSize:null,hasWheelJustStarted:!1},ft.initResizeObserver=function(){if(!(typeof window.ResizeObserver=="undefined"||!ft.containerRef)){var Ut=!0;ft.resizeObserver=new window.ResizeObserver(function(re){if(Ut){Ut=!1;return}ft.computeSizes()}),ft.resizeObserver.observe(ft.containerRef)}},ft.preventZoomSafari=function(Ut){return Ut.preventDefault()},ft.cleanEvents=function(){ft.currentDoc&&(ft.currentDoc.removeEventListener("mousemove",ft.onMouseMove),ft.currentDoc.removeEventListener("mouseup",ft.onDragStopped),ft.currentDoc.removeEventListener("touchmove",ft.onTouchMove),ft.currentDoc.removeEventListener("touchend",ft.onDragStopped),ft.currentDoc.removeEventListener("gesturemove",ft.onGestureMove),ft.currentDoc.removeEventListener("gestureend",ft.onGestureEnd))},ft.clearScrollEvent=function(){ft.containerRef&&ft.containerRef.removeEventListener("wheel",ft.onWheel),ft.wheelTimer&&clearTimeout(ft.wheelTimer)},ft.onMediaLoad=function(){var Ut=ft.computeSizes();Ut&&(ft.emitCropData(),ft.setInitialCrop(Ut)),ft.props.onMediaLoaded&&ft.props.onMediaLoaded(ft.mediaSize)},ft.setInitialCrop=function(Ut){if(ft.props.initialCroppedAreaPercentages){var re=Fe(ft.props.initialCroppedAreaPercentages,ft.mediaSize,ft.props.rotation,Ut,ft.props.minZoom,ft.props.maxZoom),ae=re.crop,at=re.zoom;ft.props.onCropChange(ae),ft.props.onZoomChange&&ft.props.onZoomChange(at)}else if(ft.props.initialCroppedAreaPixels){var ct=Cr(ft.props.initialCroppedAreaPixels,ft.mediaSize,ft.props.rotation,Ut,ft.props.minZoom,ft.props.maxZoom),ae=ct.crop,at=ct.zoom;ft.props.onCropChange(ae),ft.props.onZoomChange&&ft.props.onZoomChange(at)}},ft.computeSizes=function(){var Ut,re,ae,at,ct,F,M=ft.imageRef.current||ft.videoRef.current;if(M&&ft.containerRef){ft.containerRect=ft.containerRef.getBoundingClientRect();var O=ft.containerRect.width/ft.containerRect.height,$=((Ut=ft.imageRef.current)===null||Ut===void 0?void 0:Ut.naturalWidth)||((re=ft.videoRef.current)===null||re===void 0?void 0:re.videoWidth)||0,mt=((ae=ft.imageRef.current)===null||ae===void 0?void 0:ae.naturalHeight)||((at=ft.videoRef.current)===null||at===void 0?void 0:at.videoHeight)||0,zt=M.offsetWidth<$||M.offsetHeight<mt,Rt=$/mt,Kt=void 0;if(zt)switch(ft.props.objectFit){default:case"contain":Kt=O>Rt?{width:ft.containerRect.height*Rt,height:ft.containerRect.height}:{width:ft.containerRect.width,height:ft.containerRect.width/Rt};break;case"horizontal-cover":Kt={width:ft.containerRect.width,height:ft.containerRect.width/Rt};break;case"vertical-cover":Kt={width:ft.containerRect.height*Rt,height:ft.containerRect.height};break;case"auto-cover":Kt=$>mt?{width:ft.containerRect.width,height:ft.containerRect.width/Rt}:{width:ft.containerRect.height*Rt,height:ft.containerRect.height};break}else Kt={width:M.offsetWidth,height:M.offsetHeight};ft.mediaSize=K(K({},Kt),{naturalWidth:$,naturalHeight:mt}),ft.props.setMediaSize&&ft.props.setMediaSize(ft.mediaSize);var Te=ft.props.cropSize?ft.props.cropSize:ne(ft.mediaSize.width,ft.mediaSize.height,ft.containerRect.width,ft.containerRect.height,ft.props.aspect,ft.props.rotation);return(((ct=ft.state.cropSize)===null||ct===void 0?void 0:ct.height)!==Te.height||((F=ft.state.cropSize)===null||F===void 0?void 0:F.width)!==Te.width)&&ft.props.onCropSizeChange&&ft.props.onCropSizeChange(Te),ft.setState({cropSize:Te},ft.recomputeCropPosition),ft.props.setCropSize&&ft.props.setCropSize(Te),Te}},ft.onMouseDown=function(Ut){ft.currentDoc&&(Ut.preventDefault(),ft.currentDoc.addEventListener("mousemove",ft.onMouseMove),ft.currentDoc.addEventListener("mouseup",ft.onDragStopped),ft.onDragStart(Ft.getMousePoint(Ut)))},ft.onMouseMove=function(Ut){return ft.onDrag(Ft.getMousePoint(Ut))},ft.onTouchStart=function(Ut){ft.currentDoc&&(ft.isTouching=!0,!(ft.props.onTouchRequest&&!ft.props.onTouchRequest(Ut))&&(ft.currentDoc.addEventListener("touchmove",ft.onTouchMove,{passive:!1}),ft.currentDoc.addEventListener("touchend",ft.onDragStopped),Ut.touches.length===2?ft.onPinchStart(Ut):Ut.touches.length===1&&ft.onDragStart(Ft.getTouchPoint(Ut.touches[0]))))},ft.onTouchMove=function(Ut){Ut.preventDefault(),Ut.touches.length===2?ft.onPinchMove(Ut):Ut.touches.length===1&&ft.onDrag(Ft.getTouchPoint(Ut.touches[0]))},ft.onGestureStart=function(Ut){ft.currentDoc&&(Ut.preventDefault(),ft.currentDoc.addEventListener("gesturechange",ft.onGestureMove),ft.currentDoc.addEventListener("gestureend",ft.onGestureEnd),ft.gestureZoomStart=ft.props.zoom,ft.gestureRotationStart=ft.props.rotation)},ft.onGestureMove=function(Ut){if(Ut.preventDefault(),!ft.isTouching){var re=Ft.getMousePoint(Ut),ae=ft.gestureZoomStart-1+Ut.scale;if(ft.setNewZoom(ae,re,{shouldUpdatePosition:!0}),ft.props.onRotationChange){var at=ft.gestureRotationStart+Ut.rotation;ft.props.onRotationChange(at)}}},ft.onGestureEnd=function(Ut){ft.cleanEvents()},ft.onDragStart=function(Ut){var re,ae,at=Ut.x,ct=Ut.y;ft.dragStartPosition={x:at,y:ct},ft.dragStartCrop=K({},ft.props.crop),(ae=(re=ft.props).onInteractionStart)===null||ae===void 0||ae.call(re)},ft.onDrag=function(Ut){var re=Ut.x,ae=Ut.y;ft.currentWindow&&(ft.rafDragTimeout&&ft.currentWindow.cancelAnimationFrame(ft.rafDragTimeout),ft.rafDragTimeout=ft.currentWindow.requestAnimationFrame(function(){if(ft.state.cropSize&&!(re===void 0||ae===void 0)){var at=re-ft.dragStartPosition.x,ct=ae-ft.dragStartPosition.y,F={x:ft.dragStartCrop.x+at,y:ft.dragStartCrop.y+ct},M=ft.props.restrictPosition?Gt(F,ft.mediaSize,ft.state.cropSize,ft.props.zoom,ft.props.rotation):F;ft.props.onCropChange(M)}}))},ft.onDragStopped=function(){var Ut,re;ft.isTouching=!1,ft.cleanEvents(),ft.emitCropData(),(re=(Ut=ft.props).onInteractionEnd)===null||re===void 0||re.call(Ut)},ft.onWheel=function(Ut){if(ft.currentWindow&&!(ft.props.onWheelRequest&&!ft.props.onWheelRequest(Ut))){Ut.preventDefault();var re=Ft.getMousePoint(Ut),ae=It()(Ut).pixelY,at=ft.props.zoom-ae*ft.props.zoomSpeed/200;ft.setNewZoom(at,re,{shouldUpdatePosition:!0}),ft.state.hasWheelJustStarted||ft.setState({hasWheelJustStarted:!0},function(){var ct,F;return(F=(ct=ft.props).onInteractionStart)===null||F===void 0?void 0:F.call(ct)}),ft.wheelTimer&&clearTimeout(ft.wheelTimer),ft.wheelTimer=ft.currentWindow.setTimeout(function(){return ft.setState({hasWheelJustStarted:!1},function(){var ct,F;return(F=(ct=ft.props).onInteractionEnd)===null||F===void 0?void 0:F.call(ct)})},250)}},ft.getPointOnContainer=function(Ut){var re=Ut.x,ae=Ut.y;if(!ft.containerRect)throw new Error("The Cropper is not mounted");return{x:ft.containerRect.width/2-(re-ft.containerRect.left),y:ft.containerRect.height/2-(ae-ft.containerRect.top)}},ft.getPointOnMedia=function(Ut){var re=Ut.x,ae=Ut.y,at=ft.props,ct=at.crop,F=at.zoom;return{x:(re+ct.x)/F,y:(ae+ct.y)/F}},ft.setNewZoom=function(Ut,re,ae){var at=ae===void 0?{}:ae,ct=at.shouldUpdatePosition,F=ct===void 0?!0:ct;if(!(!ft.state.cropSize||!ft.props.onZoomChange)){var M=on(Ut,ft.props.minZoom,ft.props.maxZoom);if(F){var O=ft.getPointOnContainer(re),$=ft.getPointOnMedia(O),mt={x:$.x*M-O.x,y:$.y*M-O.y},zt=ft.props.restrictPosition?Gt(mt,ft.mediaSize,ft.state.cropSize,M,ft.props.rotation):mt;ft.props.onCropChange(zt)}ft.props.onZoomChange(M)}},ft.getCropData=function(){if(!ft.state.cropSize)return null;var Ut=ft.props.restrictPosition?Gt(ft.props.crop,ft.mediaSize,ft.state.cropSize,ft.props.zoom,ft.props.rotation):ft.props.crop;return se(Ut,ft.mediaSize,ft.state.cropSize,ft.getAspect(),ft.props.zoom,ft.props.rotation,ft.props.restrictPosition)},ft.emitCropData=function(){var Ut=ft.getCropData();if(Ut){var re=Ut.croppedAreaPercentages,ae=Ut.croppedAreaPixels;ft.props.onCropComplete&&ft.props.onCropComplete(re,ae),ft.props.onCropAreaChange&&ft.props.onCropAreaChange(re,ae)}},ft.emitCropAreaChange=function(){var Ut=ft.getCropData();if(Ut){var re=Ut.croppedAreaPercentages,ae=Ut.croppedAreaPixels;ft.props.onCropAreaChange&&ft.props.onCropAreaChange(re,ae)}},ft.recomputeCropPosition=function(){if(ft.state.cropSize){var Ut=ft.props.restrictPosition?Gt(ft.props.crop,ft.mediaSize,ft.state.cropSize,ft.props.zoom,ft.props.rotation):ft.props.crop;ft.props.onCropChange(Ut),ft.emitCropData()}},ft}return Ft.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver=="undefined"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Rr,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},Ft.prototype.componentWillUnmount=function(){var ft,Ut;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver=="undefined"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(ft=this.resizeObserver)===null||ft===void 0||ft.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((Ut=this.styleRef.parentNode)===null||Ut===void 0||Ut.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},Ft.prototype.componentDidUpdate=function(ft){var Ut,re,ae,at,ct,F,M,O,$;ft.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):ft.aspect!==this.props.aspect?this.computeSizes():ft.zoom!==this.props.zoom?this.recomputeCropPosition():((Ut=ft.cropSize)===null||Ut===void 0?void 0:Ut.height)!==((re=this.props.cropSize)===null||re===void 0?void 0:re.height)||((ae=ft.cropSize)===null||ae===void 0?void 0:ae.width)!==((at=this.props.cropSize)===null||at===void 0?void 0:at.width)?this.computeSizes():(((ct=ft.crop)===null||ct===void 0?void 0:ct.x)!==((F=this.props.crop)===null||F===void 0?void 0:F.x)||((M=ft.crop)===null||M===void 0?void 0:M.y)!==((O=this.props.crop)===null||O===void 0?void 0:O.y))&&this.emitCropAreaChange(),ft.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),ft.video!==this.props.video&&(($=this.videoRef.current)===null||$===void 0||$.load())},Ft.prototype.getAspect=function(){var ft=this.props,Ut=ft.cropSize,re=ft.aspect;return Ut?Ut.width/Ut.height:re},Ft.prototype.onPinchStart=function(ft){var Ut=Ft.getTouchPoint(ft.touches[0]),re=Ft.getTouchPoint(ft.touches[1]);this.lastPinchDistance=$t(Ut,re),this.lastPinchRotation=Zt(Ut,re),this.onDragStart(_r(Ut,re))},Ft.prototype.onPinchMove=function(ft){var Ut=this;if(!(!this.currentDoc||!this.currentWindow)){var re=Ft.getTouchPoint(ft.touches[0]),ae=Ft.getTouchPoint(ft.touches[1]),at=_r(re,ae);this.onDrag(at),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var ct=$t(re,ae),F=Ut.props.zoom*(ct/Ut.lastPinchDistance);Ut.setNewZoom(F,at,{shouldUpdatePosition:!1}),Ut.lastPinchDistance=ct;var M=Zt(re,ae),O=Ut.props.rotation+(M-Ut.lastPinchRotation);Ut.props.onRotationChange&&Ut.props.onRotationChange(O),Ut.lastPinchRotation=M})}},Ft.prototype.render=function(){var ft=this,Ut=this.props,re=Ut.image,ae=Ut.video,at=Ut.mediaProps,ct=Ut.transform,F=Ut.crop,M=F.x,O=F.y,$=Ut.rotation,mt=Ut.zoom,zt=Ut.cropShape,Rt=Ut.showGrid,Kt=Ut.style,Te=Kt.containerStyle,be=Kt.cropAreaStyle,We=Kt.mediaStyle,fr=Ut.classes,He=fr.containerClassName,Pr=fr.cropAreaClassName,un=fr.mediaClassName,Ue=Ut.objectFit;return w.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Lr){return ft.containerRef=Lr},"data-testid":"container",style:Te,className:tr("reactEasyCrop_Container",He)},re?w.createElement("img",K({alt:"",className:tr("reactEasyCrop_Image",Ue==="contain"&&"reactEasyCrop_Contain",Ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Ue==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),un)},at,{src:re,ref:this.imageRef,style:K(K({},We),{transform:ct||"translate(".concat(M,"px, ").concat(O,"px) rotate(").concat($,"deg) scale(").concat(mt,")")}),onLoad:this.onMediaLoad})):ae&&w.createElement("video",K({autoPlay:!0,loop:!0,muted:!0,className:tr("reactEasyCrop_Video",Ue==="contain"&&"reactEasyCrop_Contain",Ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Ue==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),un)},at,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:K(K({},We),{transform:ct||"translate(".concat(M,"px, ").concat(O,"px) rotate(").concat($,"deg) scale(").concat(mt,")")}),controls:!1}),(Array.isArray(ae)?ae:[{src:ae}]).map(function(ur){return w.createElement("source",K({key:ur.src},ur))})),this.state.cropSize&&w.createElement("div",{style:K(K({},be),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:tr("reactEasyCrop_CropArea",zt==="round"&&"reactEasyCrop_CropAreaRound",Rt&&"reactEasyCrop_CropAreaGrid",Pr)}))},Ft.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:br,minZoom:qr,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},Ft.getMousePoint=function(ft){return{x:Number(ft.clientX),y:Number(ft.clientY)}},Ft.getTouchPoint=function(ft){return{x:Number(ft.clientX),y:Number(ft.clientY)}},Ft}(w.Component),Ir=C(815771);function je(ot){if(ot&&typeof window!="undefined"){var Ft=document.createElement("style");return Ft.setAttribute("media","screen"),Ft.innerHTML=ot,document.head.appendChild(Ft),ot}}const qe="img-crop",xn=1,rr=.1,jr=0,Nr=-180,kn=180,an=1,dn=.5,Sn=2,Dn=.01,Nn=(0,w.forwardRef)((ot,Ft)=>{const{cropperRef:ft,zoomSlider:Ut,rotationSlider:re,aspectSlider:ae,image:at,aspect:ct,minZoom:F,maxZoom:M,cropShape:O,showGrid:$,cropperProps:mt}=ot,[zt,Rt]=(0,w.useState)({x:0,y:0}),[Kt,Te]=(0,w.useState)(xn),[be,We]=(0,w.useState)(jr),[fr,He]=(0,w.useState)(ct),Pr=(0,w.useRef)({width:0,height:0,x:0,y:0}),un=(0,w.useCallback)((Ue,ur)=>{Pr.current=ur},[]);return(0,w.useImperativeHandle)(Ft,()=>({setZoom:Te,rotation:be,setRotation:We,cropPixelsRef:Pr})),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(zr,Object.assign({},mt,{ref:ft,image:at,crop:zt,zoom:Kt,rotation:be,aspect:fr,minZoom:F,maxZoom:M,zoomWithScroll:Ut,cropShape:O,showGrid:$,onCropChange:Rt,onZoomChange:Te,onRotationChange:We,onCropComplete:un,classes:{containerClassName:`${qe}-container`,mediaClassName:`${qe}-media`}})),Ut&&(0,R.jsxs)("section",Object.assign({className:`${qe}-control ${qe}-control-zoom`},{children:[(0,R.jsx)("button",Object.assign({onClick:()=>Te(Kt-rr),disabled:Kt-rr<F},{children:"\uFF0D"})),(0,R.jsx)(Ir.Z,{min:F,max:M,step:rr,value:Kt,onChange:Te}),(0,R.jsx)("button",Object.assign({onClick:()=>Te(Kt+rr),disabled:Kt+rr>M},{children:"\uFF0B"}))]})),re&&(0,R.jsxs)("section",Object.assign({className:`${qe}-control ${qe}-control-rotation`},{children:[(0,R.jsx)("button",Object.assign({onClick:()=>We(be-an),disabled:be===Nr},{children:"\u21BA"})),(0,R.jsx)(Ir.Z,{min:Nr,max:kn,step:an,value:be,onChange:We}),(0,R.jsx)("button",Object.assign({onClick:()=>We(be+an),disabled:be===kn},{children:"\u21BB"}))]})),ae&&(0,R.jsxs)("section",Object.assign({className:`${qe}-control ${qe}-control-aspect`},{children:[(0,R.jsx)("button",Object.assign({onClick:()=>He(fr-Dn),disabled:fr-Dn<dn},{children:"\u2195\uFE0F"})),(0,R.jsx)(Ir.Z,{min:dn,max:Sn,step:Dn,value:fr,onChange:He}),(0,R.jsx)("button",Object.assign({onClick:()=>He(fr+Dn),disabled:fr+Dn>Sn},{children:"\u2194\uFE0F"}))]}))]})});var rt=(0,w.memo)(Nn);je(`.img-crop-modal .img-crop-container {
  position: relative;
  width: 100%;
  height: 40vh;
}
.img-crop-modal .img-crop-control {
  display: flex;
  align-items: center;
  width: 60%;
  margin-left: auto;
  margin-right: auto;
}
.img-crop-modal .img-crop-control:first-of-type {
  margin-top: 16px;
}
.img-crop-modal .img-crop-control:last-of-type {
  margin-bottom: -8px;
}
.img-crop-modal .img-crop-control button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  padding: 0;
  font-style: normal;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
}
.img-crop-modal .img-crop-control button[disabled] {
  cursor: default;
}
.img-crop-modal .img-crop-control button + div:only-of-type {
  flex: 1;
  margin: 0 8px;
}
.img-crop-modal .img-crop-control-zoom button {
  font-size: 18px;
}
.img-crop-modal .img-crop-control-rotation button {
  font-size: 16px;
}
.img-crop-modal .img-crop-control-rotation button:first-of-type {
  transform: rotate(-20deg);
}
.img-crop-modal .img-crop-control-rotation button:last-of-type {
  transform: rotate(20deg);
}
`);const Xe=p(_.Z,"4.23.0")===-1?"visible":"open",Xt=(ot,Ft,ft)=>Ft in ot?(console.error(`\`${Ft}\` is deprecated, please use \`${ft}\` instead`),ot[Ft]):ot[ft],te=(0,w.forwardRef)((ot,Ft)=>{const{quality:ft=.4,fillColor:Ut="white",zoomSlider:re=!0,rotationSlider:ae=!1,aspectSlider:at=!1,aspect:ct=1,minZoom:F=1,maxZoom:M=3,cropShape:O="rect",showGrid:$=!1,cropperProps:mt,modalClassName:zt,modalTitle:Rt,modalWidth:Kt,modalOk:Te,modalCancel:be,onModalOk:We,onModalCancel:fr,modalProps:He,beforeCrop:Pr,onUploadFail:un,children:Ue}=ot,ur=Xt(ot,"shape","cropShape"),Lr=Xt(ot,"grid","showGrid"),Or=Xt(ot,"zoom","zoomSlider"),ce=Xt(ot,"rotate","rotationSlider");Xt(ot,"modalMaskTransitionName","modalProps.maskTransitionName"),Xt(ot,"modalTransitionName","modalProps.transitionName");const Yt=(0,w.useRef)({});Yt.current.onModalOk=We,Yt.current.onModalCancel=fr,Yt.current.beforeCrop=Pr,Yt.current.onUploadFail=un;const[he,Me]=(0,w.useState)(""),ye=(0,w.useRef)({}),Ne=(0,w.useRef)(),nr=(0,w.useRef)(()=>{}),cr=(0,w.useRef)(()=>{}),rn=(0,w.useMemo)(()=>{const qn=Array.isArray(Ue)?Ue[0]:Ue,Za=qn.props,{beforeUpload:za,accept:xa}=Za,Ei=(0,y.__rest)(Za,["beforeUpload","accept"]);return Ne.current=za,Object.assign(Object.assign({},qn),{props:Object.assign(Object.assign({},Ei),{accept:xa||"image/*",beforeUpload:(_o,Mi)=>new Promise((Ti,ga)=>(0,y.__awaiter)(void 0,void 0,void 0,function*(){if(Yt.current.beforeCrop&&!(yield Yt.current.beforeCrop(_o,Mi)))return ga();ye.current=_o,nr.current=so=>{var Ba,Zi;(Zi=(Ba=Yt.current).onModalOk)===null||Zi===void 0||Zi.call(Ba,so),Ti(so)},cr.current=so=>{var Ba,Zi;(Zi=(Ba=Yt.current).onUploadFail)===null||Zi===void 0||Zi.call(Ba,so),ga()};const Ri=new FileReader;Ri.addEventListener("load",()=>{typeof Ri.result=="string"&&Me(Ri.result)}),Ri.readAsDataURL(_o)}))})})},[Ue]),An=(0,w.useRef)({}),ln=(0,w.useMemo)(()=>{const qn={};return Kt!==void 0&&(qn.width=Kt),Te!==void 0&&(qn.okText=Te),be!==void 0&&(qn.cancelText=be),qn},[be,Te,Kt]),Yn=()=>{Me(""),An.current.setZoom(xn),An.current.setRotation(jr)},sn=(0,w.useCallback)(()=>{var qn,Za;(Za=(qn=Yt.current).onModalCancel)===null||Za===void 0||Za.call(qn),Yn()},[]),Bn=(0,w.useCallback)(qn=>(0,y.__awaiter)(void 0,void 0,void 0,function*(){var Za;Yn();const za=document.createElement("canvas"),xa=za.getContext("2d"),Ei=qn.target,Mi=(((Za=Ei==null?void 0:Ei.getRootNode)===null||Za===void 0?void 0:Za.call(Ei))||document).querySelector(`.${qe}-media`),{width:Ti,height:ga,x:Ri,y:so}=An.current.cropPixelsRef.current;if(ce&&An.current.rotation!==jr){const{naturalWidth:uo,naturalHeight:oi}=Mi,Li=An.current.rotation*(Math.PI/180),Gi=Math.abs(Math.sin(Li)),Zo=Math.abs(Math.cos(Li)),si=uo*Zo+oi*Gi,Ai=oi*Zo+uo*Gi;za.width=si,za.height=Ai,xa.fillStyle=Ut,xa.fillRect(0,0,si,Ai);const Qn=si/2,Jt=Ai/2;xa.translate(Qn,Jt),xa.rotate(Li),xa.translate(-Qn,-Jt);const fe=(si-uo)/2,Pe=(Ai-oi)/2;xa.drawImage(Mi,0,0,uo,oi,fe,Pe,uo,oi);const ar=xa.getImageData(0,0,si,Ai);za.width=Ti,za.height=ga,xa.putImageData(ar,-Ri,-so)}else za.width=Ti,za.height=ga,xa.fillStyle=Ut,xa.fillRect(0,0,Ti,ga),xa.drawImage(Mi,Ri,so,Ti,ga,0,0,Ti,ga);const{type:Ba,name:Zi,uid:Fo}=ye.current;za.toBlob(uo=>(0,y.__awaiter)(void 0,void 0,void 0,function*(){const oi=Object.assign(new File([uo],Zi,{type:Ba}),{uid:Fo});if(!Ne.current)return nr.current(oi);const Li=oi,Gi=yield Ne.current(Li,[Li]);if(Gi===!0)return nr.current(oi);if(Gi===!1)return cr.current(new Error("beforeUpload return false"));if(delete oi[P.Z.LIST_IGNORE],Gi===P.Z.LIST_IGNORE)return Object.defineProperty(oi,P.Z.LIST_IGNORE,{value:!0,configurable:!0}),cr.current(new Error("beforeUpload return LIST_IGNORE"));if(typeof Gi=="object"&&Gi!==null)return nr.current(Gi)}),Ba,ft)}),[Ut,ft,ce]),Jn=`${qe}-modal${zt?` ${zt}`:""}`,sa=(0,w.useMemo)(()=>Rt||((typeof window!="undefined"?window.navigator.language:"")==="zh-CN"?"\u7F16\u8F91\u56FE\u7247":"Edit image"),[Rt]);return(0,R.jsxs)(R.Fragment,{children:[rn,he&&(0,R.jsx)(L.Z,Object.assign({},He,ln,{[Xe]:!0},{title:sa,onOk:Bn,onCancel:sn,wrapClassName:Jn,maskClosable:!1,destroyOnClose:!0},{children:(0,R.jsx)(rt,{ref:An,cropperRef:Ft,zoomSlider:Or,rotationSlider:ce,aspectSlider:at,image:he,aspect:ct,minZoom:F,maxZoom:M,cropShape:ur,showGrid:Lr,cropperProps:mt})}))]})})},921924:function(Ge,W,C){"use strict";var y=C(340210),R=C(155559),w=R(y("String.prototype.indexOf"));Ge.exports=function(L,P){var p=y(L,!!P);return typeof p=="function"&&w(L,".prototype.")>-1?R(p):p}},155559:function(Ge,W,C){"use strict";var y=C(158612),R=C(340210),w=R("%Function.prototype.apply%"),_=R("%Function.prototype.call%"),L=R("%Reflect.apply%",!0)||y.call(_,w),P=R("%Object.getOwnPropertyDescriptor%",!0),p=R("%Object.defineProperty%",!0),m=R("%Math.max%");if(p)try{p({},"a",{value:1})}catch(E){p=null}Ge.exports=function(b){var A=L(y,_,arguments);if(P&&p){var x=P(A,"length");x.configurable&&p(A,"length",{value:1+m(0,b.length-(arguments.length-1))})}return A};var S=function(){return L(y,w,arguments)};p?p(Ge.exports,"apply",{value:S}):Ge.exports.apply=S},386010:function(Ge,W,C){"use strict";C.r(W),C.d(W,{clsx:function(){return R}});function y(w){var _,L,P="";if(typeof w=="string"||typeof w=="number")P+=w;else if(typeof w=="object")if(Array.isArray(w))for(_=0;_<w.length;_++)w[_]&&(L=y(w[_]))&&(P&&(P+=" "),P+=L);else for(_ in w)w[_]&&(P&&(P+=" "),P+=_);return P}function R(){for(var w,_,L=0,P="";L<arguments.length;)(w=arguments[L++])&&(_=y(w))&&(P&&(P+=" "),P+=_);return P}W.default=R},308273:function(Ge,W,C){"use strict";C.r(W),C.d(W,{CountUp:function(){return R}});var y=function(){return(y=Object.assign||function(w){for(var _,L=1,P=arguments.length;L<P;L++)for(var p in _=arguments[L])Object.prototype.hasOwnProperty.call(_,p)&&(w[p]=_[p]);return w}).apply(this,arguments)},R=function(){function w(_,L,P){var p=this;this.endVal=L,this.options=P,this.version="2.6.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(m){p.startTime||(p.startTime=m);var S=m-p.startTime;p.remaining=p.duration-S,p.useEasing?p.countDown?p.frameVal=p.startVal-p.easingFn(S,0,p.startVal-p.endVal,p.duration):p.frameVal=p.easingFn(S,p.startVal,p.endVal-p.startVal,p.duration):p.frameVal=p.startVal+(p.endVal-p.startVal)*(S/p.duration);var E=p.countDown?p.frameVal<p.endVal:p.frameVal>p.endVal;p.frameVal=E?p.endVal:p.frameVal,p.frameVal=Number(p.frameVal.toFixed(p.options.decimalPlaces)),p.printValue(p.frameVal),S<p.duration?p.rAF=requestAnimationFrame(p.count):p.finalEndVal!==null?p.update(p.finalEndVal):p.options.onCompleteCallback&&p.options.onCompleteCallback()},this.formatNumber=function(m){var S,E,b,A,x=m<0?"-":"";S=Math.abs(m).toFixed(p.options.decimalPlaces);var D=(S+="").split(".");if(E=D[0],b=D.length>1?p.options.decimal+D[1]:"",p.options.useGrouping){A="";for(var k=3,g=0,f=0,z=E.length;f<z;++f)p.options.useIndianSeparators&&f===4&&(k=2,g=1),f!==0&&g%k==0&&(A=p.options.separator+A),g++,A=E[z-f-1]+A;E=A}return p.options.numerals&&p.options.numerals.length&&(E=E.replace(/[0-9]/g,function(Y){return p.options.numerals[+Y]}),b=b.replace(/[0-9]/g,function(Y){return p.options.numerals[+Y]})),x+p.options.prefix+E+b+p.options.suffix},this.easeOutExpo=function(m,S,E,b){return E*(1-Math.pow(2,-10*m/b))*1024/1023+S},this.options=y(y({},this.defaults),P),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(L),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof _=="string"?document.getElementById(_):_,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window!="undefined"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,_):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return p.handleScroll(p)}),window.onscroll=function(){window.onScrollFns.forEach(function(m){return m()})},this.handleScroll(this)))}return w.prototype.handleScroll=function(_){if(_&&window&&!_.once){var L=window.innerHeight+window.scrollY,P=_.el.getBoundingClientRect(),p=P.top+window.pageYOffset,m=P.top+P.height+window.pageYOffset;m<L&&m>window.scrollY&&_.paused?(_.paused=!1,setTimeout(function(){return _.start()},_.options.scrollSpyDelay),_.options.scrollSpyOnce&&(_.once=!0)):(window.scrollY>m||p>L)&&!_.paused&&_.reset()}},w.prototype.determineDirectionAndSmartEasing=function(){var _=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>_;var L=_-this.startVal;if(Math.abs(L)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=_;var P=this.countDown?1:-1;this.endVal=_+P*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=_,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},w.prototype.start=function(_){this.error||(_&&(this.options.onCompleteCallback=_),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},w.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},w.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},w.prototype.update=function(_){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(_),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},w.prototype.printValue=function(_){var L;if(this.el){var P=this.formattingFn(_);(L=this.options.plugin)!==null&&L!==void 0&&L.render?this.options.plugin.render(this.el,P):this.el.tagName==="INPUT"?this.el.value=P:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=P:this.el.innerHTML=P}},w.prototype.ensureNumber=function(_){return typeof _=="number"&&!isNaN(_)},w.prototype.validateValue=function(_){var L=Number(_);return this.ensureNumber(L)?L:(this.error="[CountUp] invalid start or end value: ".concat(_),null)},w.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},w}()},971829:function(Ge,W,C){"use strict";C.r(W),C.d(W,{quadtree:function(){return y.Z}});var y=C(547148)},547148:function(Ge,W,C){"use strict";C.d(W,{Z:function(){return Y}});function y(K){const nt=+this._x.call(null,K),q=+this._y.call(null,K);return R(this.cover(nt,q),nt,q,K)}function R(K,nt,q,J){if(isNaN(nt)||isNaN(q))return K;var ut,st=K._root,bt={data:J},ht=K._x0,kt=K._y0,Mt=K._x1,St=K._y1,V,Q,xt,Ct,et,vt,Tt,Ot;if(!st)return K._root=bt,K;for(;st.length;)if((et=nt>=(V=(ht+Mt)/2))?ht=V:Mt=V,(vt=q>=(Q=(kt+St)/2))?kt=Q:St=Q,ut=st,!(st=st[Tt=vt<<1|et]))return ut[Tt]=bt,K;if(xt=+K._x.call(null,st.data),Ct=+K._y.call(null,st.data),nt===xt&&q===Ct)return bt.next=st,ut?ut[Tt]=bt:K._root=bt,K;do ut=ut?ut[Tt]=new Array(4):K._root=new Array(4),(et=nt>=(V=(ht+Mt)/2))?ht=V:Mt=V,(vt=q>=(Q=(kt+St)/2))?kt=Q:St=Q;while((Tt=vt<<1|et)===(Ot=(Ct>=Q)<<1|xt>=V));return ut[Ot]=st,ut[Tt]=bt,K}function w(K){var nt,q,J=K.length,ut,st,bt=new Array(J),ht=new Array(J),kt=1/0,Mt=1/0,St=-1/0,V=-1/0;for(q=0;q<J;++q)isNaN(ut=+this._x.call(null,nt=K[q]))||isNaN(st=+this._y.call(null,nt))||(bt[q]=ut,ht[q]=st,ut<kt&&(kt=ut),ut>St&&(St=ut),st<Mt&&(Mt=st),st>V&&(V=st));if(kt>St||Mt>V)return this;for(this.cover(kt,Mt).cover(St,V),q=0;q<J;++q)R(this,bt[q],ht[q],K[q]);return this}function _(K,nt){if(isNaN(K=+K)||isNaN(nt=+nt))return this;var q=this._x0,J=this._y0,ut=this._x1,st=this._y1;if(isNaN(q))ut=(q=Math.floor(K))+1,st=(J=Math.floor(nt))+1;else{for(var bt=ut-q||1,ht=this._root,kt,Mt;q>K||K>=ut||J>nt||nt>=st;)switch(Mt=(nt<J)<<1|K<q,kt=new Array(4),kt[Mt]=ht,ht=kt,bt*=2,Mt){case 0:ut=q+bt,st=J+bt;break;case 1:q=ut-bt,st=J+bt;break;case 2:ut=q+bt,J=st-bt;break;case 3:q=ut-bt,J=st-bt;break}this._root&&this._root.length&&(this._root=ht)}return this._x0=q,this._y0=J,this._x1=ut,this._y1=st,this}function L(){var K=[];return this.visit(function(nt){if(!nt.length)do K.push(nt.data);while(nt=nt.next)}),K}function P(K){return arguments.length?this.cover(+K[0][0],+K[0][1]).cover(+K[1][0],+K[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(K,nt,q,J,ut){this.node=K,this.x0=nt,this.y0=q,this.x1=J,this.y1=ut}function m(K,nt,q){var J,ut=this._x0,st=this._y0,bt,ht,kt,Mt,St=this._x1,V=this._y1,Q=[],xt=this._root,Ct,et;for(xt&&Q.push(new p(xt,ut,st,St,V)),q==null?q=1/0:(ut=K-q,st=nt-q,St=K+q,V=nt+q,q*=q);Ct=Q.pop();)if(!(!(xt=Ct.node)||(bt=Ct.x0)>St||(ht=Ct.y0)>V||(kt=Ct.x1)<ut||(Mt=Ct.y1)<st))if(xt.length){var vt=(bt+kt)/2,Tt=(ht+Mt)/2;Q.push(new p(xt[3],vt,Tt,kt,Mt),new p(xt[2],bt,Tt,vt,Mt),new p(xt[1],vt,ht,kt,Tt),new p(xt[0],bt,ht,vt,Tt)),(et=(nt>=Tt)<<1|K>=vt)&&(Ct=Q[Q.length-1],Q[Q.length-1]=Q[Q.length-1-et],Q[Q.length-1-et]=Ct)}else{var Ot=K-+this._x.call(null,xt.data),Et=nt-+this._y.call(null,xt.data),Dt=Ot*Ot+Et*Et;if(Dt<q){var Vt=Math.sqrt(q=Dt);ut=K-Vt,st=nt-Vt,St=K+Vt,V=nt+Vt,J=xt.data}}return J}function S(K){if(isNaN(St=+this._x.call(null,K))||isNaN(V=+this._y.call(null,K)))return this;var nt,q=this._root,J,ut,st,bt=this._x0,ht=this._y0,kt=this._x1,Mt=this._y1,St,V,Q,xt,Ct,et,vt,Tt;if(!q)return this;if(q.length)for(;;){if((Ct=St>=(Q=(bt+kt)/2))?bt=Q:kt=Q,(et=V>=(xt=(ht+Mt)/2))?ht=xt:Mt=xt,nt=q,!(q=q[vt=et<<1|Ct]))return this;if(!q.length)break;(nt[vt+1&3]||nt[vt+2&3]||nt[vt+3&3])&&(J=nt,Tt=vt)}for(;q.data!==K;)if(ut=q,!(q=q.next))return this;return(st=q.next)&&delete q.next,ut?(st?ut.next=st:delete ut.next,this):nt?(st?nt[vt]=st:delete nt[vt],(q=nt[0]||nt[1]||nt[2]||nt[3])&&q===(nt[3]||nt[2]||nt[1]||nt[0])&&!q.length&&(J?J[Tt]=q:this._root=q),this):(this._root=st,this)}function E(K){for(var nt=0,q=K.length;nt<q;++nt)this.remove(K[nt]);return this}function b(){return this._root}function A(){var K=0;return this.visit(function(nt){if(!nt.length)do++K;while(nt=nt.next)}),K}function x(K){var nt=[],q,J=this._root,ut,st,bt,ht,kt;for(J&&nt.push(new p(J,this._x0,this._y0,this._x1,this._y1));q=nt.pop();)if(!K(J=q.node,st=q.x0,bt=q.y0,ht=q.x1,kt=q.y1)&&J.length){var Mt=(st+ht)/2,St=(bt+kt)/2;(ut=J[3])&&nt.push(new p(ut,Mt,St,ht,kt)),(ut=J[2])&&nt.push(new p(ut,st,St,Mt,kt)),(ut=J[1])&&nt.push(new p(ut,Mt,bt,ht,St)),(ut=J[0])&&nt.push(new p(ut,st,bt,Mt,St))}return this}function D(K){var nt=[],q=[],J;for(this._root&&nt.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));J=nt.pop();){var ut=J.node;if(ut.length){var st,bt=J.x0,ht=J.y0,kt=J.x1,Mt=J.y1,St=(bt+kt)/2,V=(ht+Mt)/2;(st=ut[0])&&nt.push(new p(st,bt,ht,St,V)),(st=ut[1])&&nt.push(new p(st,St,ht,kt,V)),(st=ut[2])&&nt.push(new p(st,bt,V,St,Mt)),(st=ut[3])&&nt.push(new p(st,St,V,kt,Mt))}q.push(J)}for(;J=q.pop();)K(J.node,J.x0,J.y0,J.x1,J.y1);return this}function k(K){return K[0]}function g(K){return arguments.length?(this._x=K,this):this._x}function f(K){return K[1]}function z(K){return arguments.length?(this._y=K,this):this._y}function Y(K,nt,q){var J=new U(nt==null?k:nt,q==null?f:q,NaN,NaN,NaN,NaN);return K==null?J:J.addAll(K)}function U(K,nt,q,J,ut,st){this._x=K,this._y=nt,this._x0=q,this._y0=J,this._x1=ut,this._y1=st,this._root=void 0}function G(K){for(var nt={data:K.data},q=nt;K=K.next;)q=q.next={data:K.data};return nt}var j=Y.prototype=U.prototype;j.copy=function(){var K=new U(this._x,this._y,this._x0,this._y0,this._x1,this._y1),nt=this._root,q,J;if(!nt)return K;if(!nt.length)return K._root=G(nt),K;for(q=[{source:nt,target:K._root=new Array(4)}];nt=q.pop();)for(var ut=0;ut<4;++ut)(J=nt.source[ut])&&(J.length?q.push({source:J,target:nt.target[ut]=new Array(4)}):nt.target[ut]=G(J));return K},j.add=y,j.addAll=w,j.cover=_,j.data=L,j.extent=P,j.find=m,j.remove=S,j.removeAll=E,j.root=b,j.size=A,j.visit=x,j.visitAfter=D,j.x=g,j.y=z},235374:function(Ge,W,C){"use strict";C.d(W,{HT:function(){return k}});var y=0,R=0,w=0,_=1e3,L,P,p=0,m=0,S=0,E=typeof performance=="object"&&performance.now?performance:Date,b=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(G){setTimeout(G,17)};function A(){return m||(b(x),m=E.now()+S)}function x(){m=0}function D(){this._call=this._time=this._next=null}D.prototype=k.prototype={constructor:D,restart:function(G,j,K){if(typeof G!="function")throw new TypeError("callback is not a function");K=(K==null?A():+K)+(j==null?0:+j),!this._next&&P!==this&&(P?P._next=this:L=this,P=this),this._call=G,this._time=K,U()},stop:function(){this._call&&(this._call=null,this._time=1/0,U())}};function k(G,j,K){var nt=new D;return nt.restart(G,j,K),nt}function g(){A(),++y;for(var G=L,j;G;)(j=m-G._time)>=0&&G._call.call(null,j),G=G._next;--y}function f(){m=(p=E.now())+S,y=R=0;try{g()}finally{y=0,Y(),m=0}}function z(){var G=E.now(),j=G-p;j>_&&(S-=j,p=G)}function Y(){for(var G,j=L,K,nt=1/0;j;)j._call?(nt>j._time&&(nt=j._time),G=j,j=j._next):(K=j._next,j._next=null,j=G?G._next=K:L=K);P=G,U(nt)}function U(G){if(!y){R&&(R=clearTimeout(R));var j=G-m;j>24?(G<1/0&&(R=setTimeout(f,G-E.now()-S)),w&&(w=clearInterval(w))):(w||(p=E.now(),w=setInterval(z,_)),y=1,b(f))}}},631969:function(Ge,W,C){"use strict";C.r(W),C.d(W,{BRIDGE_GRAPH_NAME:function(){return L},GraphType:function(){return m},HierarchyNodeType:function(){return S},InclusionType:function(){return p},LAYOUT_CONFIG:function(){return y},NodeType:function(){return P},ROOT_NAME:function(){return _},buildGraph:function(){return Gr},flatGraph:function(){return vn},getEdges:function(){return mn},mergeConfig:function(){return R}});const y={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function R(v={},N=y){var Z,it,pt,yt;const At=JSON.parse(JSON.stringify(N)),Nt=((Z=v==null?void 0:v.graph)===null||Z===void 0?void 0:Z.meta)||{},jt=((it=v==null?void 0:v.subScene)===null||it===void 0?void 0:it.meta)||{},le=((pt=v==null?void 0:v.nodeSize)===null||pt===void 0?void 0:pt.meta)||{},xe=((yt=v==null?void 0:v.nodeSize)===null||yt===void 0?void 0:yt.node)||{},ge=At.nodeSize.bridge;return{graph:{meta:Object.assign(At.graph.meta,Nt)},subScene:{meta:Object.assign(At.subScene.meta,jt)},nodeSize:{meta:Object.assign(At.nodeSize.meta,le),node:Object.assign(At.nodeSize.node,xe),bridge:ge}}}function w(v){return`\u25EC${v}\u25EC`}const _=w("ROOT"),L=w("BRIDGE_GRAPH");var P,p,m,S;(function(v){v[v.META=0]="META",v[v.NODE=1]="NODE",v[v.BRIDGE=2]="BRIDGE"})(P||(P={})),function(v){v[v.INCLUDE=0]="INCLUDE",v[v.EXCLUDE=1]="EXCLUDE",v[v.UNSPECIFIED=2]="UNSPECIFIED"}(p||(p={})),function(v){v[v.META=0]="META",v[v.CORE=1]="CORE",v[v.BRIDGE=2]="BRIDGE"}(m||(m={})),function(v){v[v.META=0]="META",v[v.OP=1]="OP",v[v.SERIES=2]="SERIES"}(S||(S={}));var E=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof C.g!="undefined"?C.g:typeof self!="undefined"?self:{};function b(v,N){return v(N={exports:{}},N.exports),N.exports}var A=function(){this.__data__=[],this.size=0},x=function(v,N){return v===N||v!=v&&N!=N},D=function(v,N){for(var Z=v.length;Z--;)if(x(v[Z][0],N))return Z;return-1},k=Array.prototype.splice,g=function(v){var N=this.__data__,Z=D(N,v);return!(Z<0)&&(Z==N.length-1?N.pop():k.call(N,Z,1),--this.size,!0)},f=function(v){var N=this.__data__,Z=D(N,v);return Z<0?void 0:N[Z][1]},z=function(v){return D(this.__data__,v)>-1},Y=function(v,N){var Z=this.__data__,it=D(Z,v);return it<0?(++this.size,Z.push([v,N])):Z[it][1]=N,this};function U(v){var N=-1,Z=v==null?0:v.length;for(this.clear();++N<Z;){var it=v[N];this.set(it[0],it[1])}}U.prototype.clear=A,U.prototype.delete=g,U.prototype.get=f,U.prototype.has=z,U.prototype.set=Y;var G=U,j=function(){this.__data__=new G,this.size=0},K=function(v){var N=this.__data__,Z=N.delete(v);return this.size=N.size,Z},nt=function(v){return this.__data__.get(v)},q=function(v){return this.__data__.has(v)},J=typeof E=="object"&&E&&E.Object===Object&&E,ut=typeof self=="object"&&self&&self.Object===Object&&self,st=J||ut||Function("return this")(),bt=st.Symbol,ht=Object.prototype,kt=ht.hasOwnProperty,Mt=ht.toString,St=bt?bt.toStringTag:void 0,V=function(v){var N=kt.call(v,St),Z=v[St];try{v[St]=void 0;var it=!0}catch(yt){}var pt=Mt.call(v);return it&&(N?v[St]=Z:delete v[St]),pt},Q=Object.prototype.toString,xt=function(v){return Q.call(v)},Ct=bt?bt.toStringTag:void 0,et=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":Ct&&Ct in Object(v)?V(v):xt(v)},vt=function(v){var N=typeof v;return v!=null&&(N=="object"||N=="function")},Tt,Ot=function(v){if(!vt(v))return!1;var N=et(v);return N=="[object Function]"||N=="[object GeneratorFunction]"||N=="[object AsyncFunction]"||N=="[object Proxy]"},Et=st["__core-js_shared__"],Dt=(Tt=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+Tt:"",Vt=function(v){return!!Dt&&Dt in v},ue=Function.prototype.toString,ee=function(v){if(v!=null){try{return ue.call(v)}catch(N){}try{return v+""}catch(N){}}return""},It=/^\[object .+?Constructor\]$/,ne=Function.prototype,pe=Object.prototype,Gt=ne.toString,qt=pe.hasOwnProperty,$t=RegExp("^"+Gt.call(qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=function(v){return!(!vt(v)||Vt(v))&&(Ot(v)?$t:It).test(ee(v))},se=function(v,N){return v==null?void 0:v[N]},Se=function(v,N){var Z=se(v,N);return Zt(Z)?Z:void 0},Pt=Se(st,"Map"),Fe=Se(Object,"create"),vr=function(){this.__data__=Fe?Fe(null):{},this.size=0},Cr=function(v){var N=this.has(v)&&delete this.__data__[v];return this.size-=N?1:0,N},_r=Object.prototype.hasOwnProperty,Ur=function(v){var N=this.__data__;if(Fe){var Z=N[v];return Z==="__lodash_hash_undefined__"?void 0:Z}return _r.call(N,v)?N[v]:void 0},nn=Object.prototype.hasOwnProperty,on=function(v){var N=this.__data__;return Fe?N[v]!==void 0:nn.call(N,v)},tr=function(v,N){var Z=this.__data__;return this.size+=this.has(v)?0:1,Z[v]=Fe&&N===void 0?"__lodash_hash_undefined__":N,this};function Rr(v){var N=-1,Z=v==null?0:v.length;for(this.clear();++N<Z;){var it=v[N];this.set(it[0],it[1])}}Rr.prototype.clear=vr,Rr.prototype.delete=Cr,Rr.prototype.get=Ur,Rr.prototype.has=on,Rr.prototype.set=tr;var qr=Rr,br=function(){this.size=0,this.__data__={hash:new qr,map:new(Pt||G),string:new qr}},zr=function(v){var N=typeof v;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?v!=="__proto__":v===null},Ir=function(v,N){var Z=v.__data__;return zr(N)?Z[typeof N=="string"?"string":"hash"]:Z.map},je=function(v){var N=Ir(this,v).delete(v);return this.size-=N?1:0,N},qe=function(v){return Ir(this,v).get(v)},xn=function(v){return Ir(this,v).has(v)},rr=function(v,N){var Z=Ir(this,v),it=Z.size;return Z.set(v,N),this.size+=Z.size==it?0:1,this};function jr(v){var N=-1,Z=v==null?0:v.length;for(this.clear();++N<Z;){var it=v[N];this.set(it[0],it[1])}}jr.prototype.clear=br,jr.prototype.delete=je,jr.prototype.get=qe,jr.prototype.has=xn,jr.prototype.set=rr;var Nr=jr,kn=function(v,N){var Z=this.__data__;if(Z instanceof G){var it=Z.__data__;if(!Pt||it.length<199)return it.push([v,N]),this.size=++Z.size,this;Z=this.__data__=new Nr(it)}return Z.set(v,N),this.size=Z.size,this};function an(v){var N=this.__data__=new G(v);this.size=N.size}an.prototype.clear=j,an.prototype.delete=K,an.prototype.get=nt,an.prototype.has=q,an.prototype.set=kn;var dn=an,Sn=function(v,N){for(var Z=-1,it=v==null?0:v.length;++Z<it&&N(v[Z],Z,v)!==!1;);return v},Dn=function(){try{var v=Se(Object,"defineProperty");return v({},"",{}),v}catch(N){}}(),Nn=function(v,N,Z){N=="__proto__"&&Dn?Dn(v,N,{configurable:!0,enumerable:!0,value:Z,writable:!0}):v[N]=Z},rt=Object.prototype.hasOwnProperty,Xe=function(v,N,Z){var it=v[N];rt.call(v,N)&&x(it,Z)&&(Z!==void 0||N in v)||Nn(v,N,Z)},Xt=function(v,N,Z,it){var pt=!Z;Z||(Z={});for(var yt=-1,At=N.length;++yt<At;){var Nt=N[yt],jt=it?it(Z[Nt],v[Nt],Nt,Z,v):void 0;jt===void 0&&(jt=v[Nt]),pt?Nn(Z,Nt,jt):Xe(Z,Nt,jt)}return Z},te=function(v,N){for(var Z=-1,it=Array(v);++Z<v;)it[Z]=N(Z);return it},ot=function(v){return v!=null&&typeof v=="object"},Ft=function(v){return ot(v)&&et(v)=="[object Arguments]"},ft=Object.prototype,Ut=ft.hasOwnProperty,re=ft.propertyIsEnumerable,ae=Ft(function(){return arguments}())?Ft:function(v){return ot(v)&&Ut.call(v,"callee")&&!re.call(v,"callee")},at=Array.isArray,ct=function(){return!1},F=b(function(v,N){var Z=N&&!N.nodeType&&N,it=Z&&v&&!v.nodeType&&v,pt=it&&it.exports===Z?st.Buffer:void 0,yt=(pt?pt.isBuffer:void 0)||ct;v.exports=yt}),M=/^(?:0|[1-9]\d*)$/,O=function(v,N){var Z=typeof v;return!!(N=N==null?9007199254740991:N)&&(Z=="number"||Z!="symbol"&&M.test(v))&&v>-1&&v%1==0&&v<N},$=function(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=9007199254740991},mt={};mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt["[object Arguments]"]=mt["[object Array]"]=mt["[object ArrayBuffer]"]=mt["[object Boolean]"]=mt["[object DataView]"]=mt["[object Date]"]=mt["[object Error]"]=mt["[object Function]"]=mt["[object Map]"]=mt["[object Number]"]=mt["[object Object]"]=mt["[object RegExp]"]=mt["[object Set]"]=mt["[object String]"]=mt["[object WeakMap]"]=!1;var zt=function(v){return ot(v)&&$(v.length)&&!!mt[et(v)]},Rt=function(v){return function(N){return v(N)}},Kt=b(function(v,N){var Z=N&&!N.nodeType&&N,it=Z&&v&&!v.nodeType&&v,pt=it&&it.exports===Z&&J.process,yt=function(){try{var At=it&&it.require&&it.require("util").types;return At||pt&&pt.binding&&pt.binding("util")}catch(Nt){}}();v.exports=yt}),Te=Kt&&Kt.isTypedArray,be=Te?Rt(Te):zt,We=Object.prototype.hasOwnProperty,fr=function(v,N){var Z=at(v),it=!Z&&ae(v),pt=!Z&&!it&&F(v),yt=!Z&&!it&&!pt&&be(v),At=Z||it||pt||yt,Nt=At?te(v.length,String):[],jt=Nt.length;for(var le in v)!N&&!We.call(v,le)||At&&(le=="length"||pt&&(le=="offset"||le=="parent")||yt&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||O(le,jt))||Nt.push(le);return Nt},He=Object.prototype,Pr=function(v){var N=v&&v.constructor;return v===(typeof N=="function"&&N.prototype||He)},un=function(v,N){return function(Z){return v(N(Z))}},Ue=un(Object.keys,Object),ur=Object.prototype.hasOwnProperty,Lr=function(v){if(!Pr(v))return Ue(v);var N=[];for(var Z in Object(v))ur.call(v,Z)&&Z!="constructor"&&N.push(Z);return N},Or=function(v){return v!=null&&$(v.length)&&!Ot(v)},ce=function(v){return Or(v)?fr(v):Lr(v)},Yt=function(v,N){return v&&Xt(N,ce(N),v)},he=function(v){var N=[];if(v!=null)for(var Z in Object(v))N.push(Z);return N},Me=Object.prototype.hasOwnProperty,ye=function(v){if(!vt(v))return he(v);var N=Pr(v),Z=[];for(var it in v)(it!="constructor"||!N&&Me.call(v,it))&&Z.push(it);return Z},Ne=function(v){return Or(v)?fr(v,!0):ye(v)},nr=function(v,N){return v&&Xt(N,Ne(N),v)},cr=b(function(v,N){var Z=N&&!N.nodeType&&N,it=Z&&v&&!v.nodeType&&v,pt=it&&it.exports===Z?st.Buffer:void 0,yt=pt?pt.allocUnsafe:void 0;v.exports=function(At,Nt){if(Nt)return At.slice();var jt=At.length,le=yt?yt(jt):new At.constructor(jt);return At.copy(le),le}}),rn=function(v,N){var Z=-1,it=v.length;for(N||(N=Array(it));++Z<it;)N[Z]=v[Z];return N},An=function(v,N){for(var Z=-1,it=v==null?0:v.length,pt=0,yt=[];++Z<it;){var At=v[Z];N(At,Z,v)&&(yt[pt++]=At)}return yt},ln=function(){return[]},Yn=Object.prototype.propertyIsEnumerable,sn=Object.getOwnPropertySymbols,Bn=sn?function(v){return v==null?[]:(v=Object(v),An(sn(v),function(N){return Yn.call(v,N)}))}:ln,Jn=function(v,N){return Xt(v,Bn(v),N)},sa=function(v,N){for(var Z=-1,it=N.length,pt=v.length;++Z<it;)v[pt+Z]=N[Z];return v},qn=un(Object.getPrototypeOf,Object),Za=Object.getOwnPropertySymbols?function(v){for(var N=[];v;)sa(N,Bn(v)),v=qn(v);return N}:ln,za=function(v,N){return Xt(v,Za(v),N)},xa=function(v,N,Z){var it=N(v);return at(v)?it:sa(it,Z(v))},Ei=function(v){return xa(v,ce,Bn)},_o=function(v){return xa(v,Ne,Za)},Mi=Se(st,"DataView"),Ti=Se(st,"Promise"),ga=Se(st,"Set"),Ri=Se(st,"WeakMap"),so=ee(Mi),Ba=ee(Pt),Zi=ee(Ti),Fo=ee(ga),uo=ee(Ri),oi=et;(Mi&&oi(new Mi(new ArrayBuffer(1)))!="[object DataView]"||Pt&&oi(new Pt)!="[object Map]"||Ti&&oi(Ti.resolve())!="[object Promise]"||ga&&oi(new ga)!="[object Set]"||Ri&&oi(new Ri)!="[object WeakMap]")&&(oi=function(v){var N=et(v),Z=N=="[object Object]"?v.constructor:void 0,it=Z?ee(Z):"";if(it)switch(it){case so:return"[object DataView]";case Ba:return"[object Map]";case Zi:return"[object Promise]";case Fo:return"[object Set]";case uo:return"[object WeakMap]"}return N});var Li=oi,Gi=Object.prototype.hasOwnProperty,Zo=function(v){var N=v.length,Z=new v.constructor(N);return N&&typeof v[0]=="string"&&Gi.call(v,"index")&&(Z.index=v.index,Z.input=v.input),Z},si=st.Uint8Array,Ai=function(v){var N=new v.constructor(v.byteLength);return new si(N).set(new si(v)),N},Qn=function(v,N){var Z=N?Ai(v.buffer):v.buffer;return new v.constructor(Z,v.byteOffset,v.byteLength)},Jt=/\w*$/,fe=function(v){var N=new v.constructor(v.source,Jt.exec(v));return N.lastIndex=v.lastIndex,N},Pe=bt?bt.prototype:void 0,ar=Pe?Pe.valueOf:void 0,Tr=function(v){return ar?Object(ar.call(v)):{}},Sr=function(v,N){var Z=N?Ai(v.buffer):v.buffer;return new v.constructor(Z,v.byteOffset,v.length)},xr=function(v,N,Z){var it=v.constructor;switch(N){case"[object ArrayBuffer]":return Ai(v);case"[object Boolean]":case"[object Date]":return new it(+v);case"[object DataView]":return Qn(v,Z);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Sr(v,Z);case"[object Map]":return new it;case"[object Number]":case"[object String]":return new it(v);case"[object RegExp]":return fe(v);case"[object Set]":return new it;case"[object Symbol]":return Tr(v)}},Kr=Object.create,cn=function(){function v(){}return function(N){if(!vt(N))return{};if(Kr)return Kr(N);v.prototype=N;var Z=new v;return v.prototype=void 0,Z}}(),Mn=function(v){return typeof v.constructor!="function"||Pr(v)?{}:cn(qn(v))},Zn=function(v){return ot(v)&&Li(v)=="[object Map]"},Un=Kt&&Kt.isMap,na=Un?Rt(Un):Zn,aa=function(v){return ot(v)&&Li(v)=="[object Set]"},Ya=Kt&&Kt.isSet,ua=Ya?Rt(Ya):aa,$n={};$n["[object Arguments]"]=$n["[object Array]"]=$n["[object ArrayBuffer]"]=$n["[object DataView]"]=$n["[object Boolean]"]=$n["[object Date]"]=$n["[object Float32Array]"]=$n["[object Float64Array]"]=$n["[object Int8Array]"]=$n["[object Int16Array]"]=$n["[object Int32Array]"]=$n["[object Map]"]=$n["[object Number]"]=$n["[object Object]"]=$n["[object RegExp]"]=$n["[object Set]"]=$n["[object String]"]=$n["[object Symbol]"]=$n["[object Uint8Array]"]=$n["[object Uint8ClampedArray]"]=$n["[object Uint16Array]"]=$n["[object Uint32Array]"]=!0,$n["[object Error]"]=$n["[object Function]"]=$n["[object WeakMap]"]=!1;var Ga=function v(N,Z,it,pt,yt,At){var Nt,jt=1&Z,le=2&Z,xe=4&Z;if(it&&(Nt=yt?it(N,pt,yt,At):it(N)),Nt!==void 0)return Nt;if(!vt(N))return N;var ge=at(N);if(ge){if(Nt=Zo(N),!jt)return rn(N,Nt)}else{var Be=Li(N),ir=Be=="[object Function]"||Be=="[object GeneratorFunction]";if(F(N))return cr(N,jt);if(Be=="[object Object]"||Be=="[object Arguments]"||ir&&!yt){if(Nt=le||ir?{}:Mn(N),!jt)return le?za(N,nr(Nt,N)):Jn(N,Yt(Nt,N))}else{if(!$n[Be])return yt?N:{};Nt=xr(N,Be,jt)}}At||(At=new dn);var Yr=At.get(N);if(Yr)return Yr;At.set(N,Nt),ua(N)?N.forEach(function(pr){Nt.add(v(pr,Z,it,pr,N,At))}):na(N)&&N.forEach(function(pr,gr){Nt.set(gr,v(pr,Z,it,gr,N,At))});var dr=ge?void 0:(xe?le?_o:Ei:le?Ne:ce)(N);return Sn(dr||N,function(pr,gr){dr&&(pr=N[gr=pr]),Xe(Nt,gr,v(pr,Z,it,gr,N,At))}),Nt},Pa=function(v){return Ga(v,4)},Ea=function(v){return function(){return v}},ui=function(v){return function(N,Z,it){for(var pt=-1,yt=Object(N),At=it(N),Nt=At.length;Nt--;){var jt=At[v?Nt:++pt];if(Z(yt[jt],jt,yt)===!1)break}return N}}(),qa=function(v,N){return v&&ui(v,N,ce)},Ra=function(v,N){return function(Z,it){if(Z==null)return Z;if(!Or(Z))return v(Z,it);for(var pt=Z.length,yt=N?pt:-1,At=Object(Z);(N?yt--:++yt<pt)&&it(At[yt],yt,At)!==!1;);return Z}}(qa),Ca=function(v){return v},va=function(v){return typeof v=="function"?v:Ca},fi=function(v,N){return(at(v)?Sn:Ra)(v,va(N))},ni=fi,di=function(v,N){var Z=[];return Ra(v,function(it,pt,yt){N(it,pt,yt)&&Z.push(it)}),Z},ki=function(v){return this.__data__.set(v,"__lodash_hash_undefined__"),this},Oi=function(v){return this.__data__.has(v)};function Ui(v){var N=-1,Z=v==null?0:v.length;for(this.__data__=new Nr;++N<Z;)this.add(v[N])}Ui.prototype.add=Ui.prototype.push=ki,Ui.prototype.has=Oi;var To=Ui,Ao=function(v,N){for(var Z=-1,it=v==null?0:v.length;++Z<it;)if(N(v[Z],Z,v))return!0;return!1},Ni=function(v,N){return v.has(N)},ka=function(v,N,Z,it,pt,yt){var At=1&Z,Nt=v.length,jt=N.length;if(Nt!=jt&&!(At&&jt>Nt))return!1;var le=yt.get(v),xe=yt.get(N);if(le&&xe)return le==N&&xe==v;var ge=-1,Be=!0,ir=2&Z?new To:void 0;for(yt.set(v,N),yt.set(N,v);++ge<Nt;){var Yr=v[ge],dr=N[ge];if(it)var pr=At?it(dr,Yr,ge,N,v,yt):it(Yr,dr,ge,v,N,yt);if(pr!==void 0){if(pr)continue;Be=!1;break}if(ir){if(!Ao(N,function(gr,bn){if(!Ni(ir,bn)&&(Yr===gr||pt(Yr,gr,Z,it,yt)))return ir.push(bn)})){Be=!1;break}}else if(Yr!==dr&&!pt(Yr,dr,Z,it,yt)){Be=!1;break}}return yt.delete(v),yt.delete(N),Be},pi=function(v){var N=-1,Z=Array(v.size);return v.forEach(function(it,pt){Z[++N]=[pt,it]}),Z},Bi=function(v){var N=-1,Z=Array(v.size);return v.forEach(function(it){Z[++N]=it}),Z},Ma=bt?bt.prototype:void 0,Wi=Ma?Ma.valueOf:void 0,lo=function(v,N,Z,it,pt,yt,At){switch(Z){case"[object DataView]":if(v.byteLength!=N.byteLength||v.byteOffset!=N.byteOffset)return!1;v=v.buffer,N=N.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=N.byteLength||!yt(new si(v),new si(N)));case"[object Boolean]":case"[object Date]":case"[object Number]":return x(+v,+N);case"[object Error]":return v.name==N.name&&v.message==N.message;case"[object RegExp]":case"[object String]":return v==N+"";case"[object Map]":var Nt=pi;case"[object Set]":var jt=1&it;if(Nt||(Nt=Bi),v.size!=N.size&&!jt)return!1;var le=At.get(v);if(le)return le==N;it|=2,At.set(v,N);var xe=ka(Nt(v),Nt(N),it,pt,yt,At);return At.delete(v),xe;case"[object Symbol]":if(Wi)return Wi.call(v)==Wi.call(N)}return!1},_i=Object.prototype.hasOwnProperty,Do=function(v,N,Z,it,pt,yt){var At=1&Z,Nt=Ei(v),jt=Nt.length;if(jt!=Ei(N).length&&!At)return!1;for(var le=jt;le--;){var xe=Nt[le];if(!(At?xe in N:_i.call(N,xe)))return!1}var ge=yt.get(v),Be=yt.get(N);if(ge&&Be)return ge==N&&Be==v;var ir=!0;yt.set(v,N),yt.set(N,v);for(var Yr=At;++le<jt;){var dr=v[xe=Nt[le]],pr=N[xe];if(it)var gr=At?it(pr,dr,xe,N,v,yt):it(dr,pr,xe,v,N,yt);if(!(gr===void 0?dr===pr||pt(dr,pr,Z,it,yt):gr)){ir=!1;break}Yr||(Yr=xe=="constructor")}if(ir&&!Yr){var bn=v.constructor,Ln=N.constructor;bn==Ln||!("constructor"in v)||!("constructor"in N)||typeof bn=="function"&&bn instanceof bn&&typeof Ln=="function"&&Ln instanceof Ln||(ir=!1)}return yt.delete(v),yt.delete(N),ir},gi=Object.prototype.hasOwnProperty,co=function(v,N,Z,it,pt,yt){var At=at(v),Nt=at(N),jt=At?"[object Array]":Li(v),le=Nt?"[object Array]":Li(N),xe=(jt=jt=="[object Arguments]"?"[object Object]":jt)=="[object Object]",ge=(le=le=="[object Arguments]"?"[object Object]":le)=="[object Object]",Be=jt==le;if(Be&&F(v)){if(!F(N))return!1;At=!0,xe=!1}if(Be&&!xe)return yt||(yt=new dn),At||be(v)?ka(v,N,Z,it,pt,yt):lo(v,N,jt,Z,it,pt,yt);if(!(1&Z)){var ir=xe&&gi.call(v,"__wrapped__"),Yr=ge&&gi.call(N,"__wrapped__");if(ir||Yr){var dr=ir?v.value():v,pr=Yr?N.value():N;return yt||(yt=new dn),pt(dr,pr,Z,it,yt)}}return!!Be&&(yt||(yt=new dn),Do(v,N,Z,it,pt,yt))},zo=function v(N,Z,it,pt,yt){return N===Z||(N==null||Z==null||!ot(N)&&!ot(Z)?N!=N&&Z!=Z:co(N,Z,it,pt,v,yt))},ts=function(v,N,Z,it){var pt=Z.length,yt=pt,At=!it;if(v==null)return!yt;for(v=Object(v);pt--;){var Nt=Z[pt];if(At&&Nt[2]?Nt[1]!==v[Nt[0]]:!(Nt[0]in v))return!1}for(;++pt<yt;){var jt=(Nt=Z[pt])[0],le=v[jt],xe=Nt[1];if(At&&Nt[2]){if(le===void 0&&!(jt in v))return!1}else{var ge=new dn;if(it)var Be=it(le,xe,jt,v,N,ge);if(!(Be===void 0?zo(xe,le,3,it,ge):Be))return!1}}return!0},Yi=function(v){return v==v&&!vt(v)},Go=function(v){for(var N=ce(v),Z=N.length;Z--;){var it=N[Z],pt=v[it];N[Z]=[it,pt,Yi(pt)]}return N},Uo=function(v,N){return function(Z){return Z!=null&&Z[v]===N&&(N!==void 0||v in Object(Z))}},fs=function(v){var N=Go(v);return N.length==1&&N[0][2]?Uo(N[0][0],N[0][1]):function(Z){return Z===v||ts(Z,v,N)}},ha=function(v){return typeof v=="symbol"||ot(v)&&et(v)=="[object Symbol]"},Wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,Je=function(v,N){if(at(v))return!1;var Z=typeof v;return!(Z!="number"&&Z!="symbol"&&Z!="boolean"&&v!=null&&!ha(v))||Le.test(v)||!Wt.test(v)||N!=null&&v in Object(N)};function mr(v,N){if(typeof v!="function"||N!=null&&typeof N!="function")throw new TypeError("Expected a function");var Z=function(){var it=arguments,pt=N?N.apply(this,it):it[0],yt=Z.cache;if(yt.has(pt))return yt.get(pt);var At=v.apply(this,it);return Z.cache=yt.set(pt,At)||yt,At};return Z.cache=new(mr.Cache||Nr),Z}mr.Cache=Nr;var Zr=mr,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fn=/\\(\\)?/g,Da=function(v){var N=Zr(v,function(it){return Z.size===500&&Z.clear(),it}),Z=N.cache;return N}(function(v){var N=[];return v.charCodeAt(0)===46&&N.push(""),v.replace(fn,function(Z,it,pt,yt){N.push(pt?yt.replace(Fn,"$1"):it||Z)}),N}),hi=function(v,N){for(var Z=-1,it=v==null?0:v.length,pt=Array(it);++Z<it;)pt[Z]=N(v[Z],Z,v);return pt},to=bt?bt.prototype:void 0,bo=to?to.toString:void 0,ds=function v(N){if(typeof N=="string")return N;if(at(N))return hi(N,v)+"";if(ha(N))return bo?bo.call(N):"";var Z=N+"";return Z=="0"&&1/N==-1/0?"-0":Z},Ii=function(v){return v==null?"":ds(v)},eo=function(v,N){return at(v)?v:Je(v,N)?[v]:Da(Ii(v))},Wo=function(v){if(typeof v=="string"||ha(v))return v;var N=v+"";return N=="0"&&1/v==-1/0?"-0":N},hs=function(v,N){for(var Z=0,it=(N=eo(N,v)).length;v!=null&&Z<it;)v=v[Wo(N[Z++])];return Z&&Z==it?v:void 0},qo=function(v,N,Z){var it=v==null?void 0:hs(v,N);return it===void 0?Z:it},Es=function(v,N){return v!=null&&N in Object(v)},As=function(v,N,Z){for(var it=-1,pt=(N=eo(N,v)).length,yt=!1;++it<pt;){var At=Wo(N[it]);if(!(yt=v!=null&&Z(v,At)))break;v=v[At]}return yt||++it!=pt?yt:!!(pt=v==null?0:v.length)&&$(pt)&&O(At,pt)&&(at(v)||ae(v))},ws=function(v,N){return v!=null&&As(v,N,Es)},nu=function(v,N){return Je(v)&&Yi(N)?Uo(Wo(v),N):function(Z){var it=qo(Z,v);return it===void 0&&it===N?ws(Z,v):zo(N,it,3)}},Ko=function(v){return function(N){return N==null?void 0:N[v]}},is=function(v){return function(N){return hs(N,v)}},vs=function(v){return Je(v)?Ko(Wo(v)):is(v)},Po=function(v){return typeof v=="function"?v:v==null?Ca:typeof v=="object"?at(v)?nu(v[0],v[1]):fs(v):vs(v)},xu=function(v,N){return(at(v)?An:di)(v,Po(N))},Eu=Object.prototype.hasOwnProperty,Xi=function(v,N){return v!=null&&Eu.call(v,N)},xo=function(v,N){return v!=null&&As(v,N,Xi)},Lo=Object.prototype.hasOwnProperty,h=function(v){if(v==null)return!0;if(Or(v)&&(at(v)||typeof v=="string"||typeof v.splice=="function"||F(v)||be(v)||ae(v)))return!v.length;var N=Li(v);if(N=="[object Map]"||N=="[object Set]")return!v.size;if(Pr(v))return!Lr(v).length;for(var Z in v)if(Lo.call(v,Z))return!1;return!0},X=function(v){return v===void 0},wt=function(v,N){var Z=-1,it=Or(v)?Array(v.length):[];return Ra(v,function(pt,yt,At){it[++Z]=N(pt,yt,At)}),it},Bt=function(v,N){return(at(v)?hi:wt)(v,Po(N))},Qt=function(v,N,Z,it){var pt=-1,yt=v==null?0:v.length;for(it&&yt&&(Z=v[++pt]);++pt<yt;)Z=N(Z,v[pt],pt,v);return Z},de=function(v,N,Z,it,pt){return pt(v,function(yt,At,Nt){Z=it?(it=!1,yt):N(Z,yt,At,Nt)}),Z},ve=function(v,N,Z){var it=at(v)?Qt:de,pt=arguments.length<3;return it(v,Po(N),Z,pt,Ra)},_e=function(v){return typeof v=="string"||!at(v)&&ot(v)&&et(v)=="[object String]"},De=Ko("length"),Ye=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),or=function(v){return Ye.test(v)},Br="[\\ud800-\\udfff]",Wr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Fr="\\ud83c[\\udffb-\\udfff]",gn="[^\\ud800-\\udfff]",Pn="(?:\\ud83c[\\udde6-\\uddff]){2}",Qr="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="(?:"+Wr+"|"+Fr+")?",Aa="[\\ufe0e\\ufe0f]?"+Vn+("(?:\\u200d(?:"+[gn,Pn,Qr].join("|")+")[\\ufe0e\\ufe0f]?"+Vn+")*"),Ia="(?:"+[gn+Wr+"?",Wr,Pn,Qr,Br].join("|")+")",wa=RegExp(Fr+"(?="+Fr+")|"+Ia+Aa,"g"),ca=function(v){for(var N=wa.lastIndex=0;wa.test(v);)++N;return N},ma=function(v){return or(v)?ca(v):De(v)},ro=function(v){if(v==null)return 0;if(Or(v))return _e(v)?ma(v):v.length;var N=Li(v);return N=="[object Map]"||N=="[object Set]"?v.size:Lr(v).length},Ki=function(v,N,Z){var it=at(v),pt=it||F(v)||be(v);if(N=Po(N),Z==null){var yt=v&&v.constructor;Z=pt?it?new yt:[]:vt(v)&&Ot(yt)?cn(qn(v)):{}}return(pt?Sn:qa)(v,function(At,Nt,jt){return N(Z,At,Nt,jt)}),Z},ji=bt?bt.isConcatSpreadable:void 0,$i=function(v){return at(v)||ae(v)||!!(ji&&v&&v[ji])},Qi=function v(N,Z,it,pt,yt){var At=-1,Nt=N.length;for(it||(it=$i),yt||(yt=[]);++At<Nt;){var jt=N[At];Z>0&&it(jt)?Z>1?v(jt,Z-1,it,pt,yt):sa(yt,jt):pt||(yt[yt.length]=jt)}return yt},fo=function(v,N,Z){switch(Z.length){case 0:return v.call(N);case 1:return v.call(N,Z[0]);case 2:return v.call(N,Z[0],Z[1]);case 3:return v.call(N,Z[0],Z[1],Z[2])}return v.apply(N,Z)},Eo=Math.max,Xa=function(v,N,Z){return N=Eo(N===void 0?v.length-1:N,0),function(){for(var it=arguments,pt=-1,yt=Eo(it.length-N,0),At=Array(yt);++pt<yt;)At[pt]=it[N+pt];pt=-1;for(var Nt=Array(N+1);++pt<N;)Nt[pt]=it[pt];return Nt[N]=Z(At),fo(v,this,Nt)}},vi=Dn?function(v,N){return Dn(v,"toString",{configurable:!0,enumerable:!1,value:Ea(N),writable:!0})}:Ca,Os=Date.now,ps=function(v){var N=0,Z=0;return function(){var it=Os(),pt=16-(it-Z);if(Z=it,pt>0){if(++N>=800)return arguments[0]}else N=0;return v.apply(void 0,arguments)}}(vi),es=function(v,N){return ps(Xa(v,N,Ca),v+"")},au=function(v,N,Z,it){for(var pt=v.length,yt=Z+(it?1:-1);it?yt--:++yt<pt;)if(N(v[yt],yt,v))return yt;return-1},xc=function(v){return v!=v},sf=function(v,N,Z){for(var it=Z-1,pt=v.length;++it<pt;)if(v[it]===N)return it;return-1},uf=function(v,N,Z){return N==N?sf(v,N,Z):au(v,xc,Z)},Ec=function(v,N){return!!(v!=null&&v.length)&&uf(v,N,0)>-1},rd=function(v,N,Z){for(var it=-1,pt=v==null?0:v.length;++it<pt;)if(Z(N,v[it]))return!0;return!1},wc=function(){},Ju=ga&&1/Bi(new ga([,-0]))[1]==1/0?function(v){return new ga(v)}:wc,lf=function(v,N,Z){var it=-1,pt=Ec,yt=v.length,At=!0,Nt=[],jt=Nt;if(Z)At=!1,pt=rd;else if(yt>=200){var le=N?null:Ju(v);if(le)return Bi(le);At=!1,pt=Ni,jt=new To}else jt=N?[]:Nt;t:for(;++it<yt;){var xe=v[it],ge=N?N(xe):xe;if(xe=Z||xe!==0?xe:0,At&&ge==ge){for(var Be=jt.length;Be--;)if(jt[Be]===ge)continue t;N&&jt.push(ge),Nt.push(xe)}else pt(jt,ge,Z)||(jt!==Nt&&jt.push(ge),Nt.push(xe))}return Nt},Sc=function(v){return ot(v)&&Or(v)},cf=es(function(v){return lf(Qi(v,1,Sc,!0))}),nd=function(v,N){return hi(N,function(Z){return v[Z]})},iu,ff=function(v){return v==null?[]:nd(v,ce(v))};try{iu={clone:Pa,constant:Ea,each:ni,filter:xu,has:xo,isArray:at,isEmpty:h,isFunction:Ot,isUndefined:X,keys:ce,map:Bt,reduce:ve,size:ro,transform:Ki,union:cf,values:ff}}catch(v){}iu||(iu=window._);var Wn=iu,wu=ja;function ja(v){this._isDirected=!Wn.has(v,"directed")||v.directed,this._isMultigraph=!!Wn.has(v,"multigraph")&&v.multigraph,this._isCompound=!!Wn.has(v,"compound")&&v.compound,this._label=void 0,this._defaultNodeLabelFn=Wn.constant(void 0),this._defaultEdgeLabelFn=Wn.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Mc(v,N){v[N]?v[N]++:v[N]=1}function Pl(v,N){--v[N]||delete v[N]}function ou(v,N,Z,it){var pt=""+N,yt=""+Z;if(!v&&pt>yt){var At=pt;pt=yt,yt=At}return pt+""+yt+""+(Wn.isUndefined(it)?"\0":it)}function _c(v,N,Z,it){var pt=""+N,yt=""+Z;if(!v&&pt>yt){var At=pt;pt=yt,yt=At}var Nt={v:pt,w:yt};return it&&(Nt.name=it),Nt}function Cc(v,N){return ou(v,N.v,N.w,N.name)}ja.prototype._nodeCount=0,ja.prototype._edgeCount=0,ja.prototype.isDirected=function(){return this._isDirected},ja.prototype.isMultigraph=function(){return this._isMultigraph},ja.prototype.isCompound=function(){return this._isCompound},ja.prototype.setGraph=function(v){return this._label=v,this},ja.prototype.graph=function(){return this._label},ja.prototype.setDefaultNodeLabel=function(v){return Wn.isFunction(v)||(v=Wn.constant(v)),this._defaultNodeLabelFn=v,this},ja.prototype.nodeCount=function(){return this._nodeCount},ja.prototype.nodes=function(){return Wn.keys(this._nodes)},ja.prototype.sources=function(){var v=this;return Wn.filter(this.nodes(),function(N){return Wn.isEmpty(v._in[N])})},ja.prototype.sinks=function(){var v=this;return Wn.filter(this.nodes(),function(N){return Wn.isEmpty(v._out[N])})},ja.prototype.setNodes=function(v,N){var Z=arguments,it=this;return Wn.each(v,function(pt){Z.length>1?it.setNode(pt,N):it.setNode(pt)}),this},ja.prototype.setNode=function(v,N){return Wn.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=N),this):(this._nodes[v]=arguments.length>1?N:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]="\0",this._children[v]={},this._children["\0"][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},ja.prototype.node=function(v){return this._nodes[v]},ja.prototype.hasNode=function(v){return Wn.has(this._nodes,v)},ja.prototype.removeNode=function(v){var N=this;if(Wn.has(this._nodes,v)){var Z=function(it){N.removeEdge(N._edgeObjs[it])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],Wn.each(this.children(v),function(it){N.setParent(it)}),delete this._children[v]),Wn.each(Wn.keys(this._in[v]),Z),delete this._in[v],delete this._preds[v],Wn.each(Wn.keys(this._out[v]),Z),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},ja.prototype.setParent=function(v,N){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Wn.isUndefined(N))N="\0";else{for(var Z=N+="";!Wn.isUndefined(Z);Z=this.parent(Z))if(Z===v)throw new Error("Setting "+N+" as parent of "+v+" would create a cycle");this.setNode(N)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=N,this._children[N][v]=!0,this},ja.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},ja.prototype.parent=function(v){if(this._isCompound){var N=this._parent[v];if(N!=="\0")return N}},ja.prototype.children=function(v){if(Wn.isUndefined(v)&&(v="\0"),this._isCompound){var N=this._children[v];if(N)return Wn.keys(N)}else{if(v==="\0")return this.nodes();if(this.hasNode(v))return[]}},ja.prototype.predecessors=function(v){var N=this._preds[v];if(N)return Wn.keys(N)},ja.prototype.successors=function(v){var N=this._sucs[v];if(N)return Wn.keys(N)},ja.prototype.neighbors=function(v){var N=this.predecessors(v);if(N)return Wn.union(N,this.successors(v))},ja.prototype.isLeaf=function(v){return(this.isDirected()?this.successors(v):this.neighbors(v)).length===0},ja.prototype.filterNodes=function(v){var N=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});N.setGraph(this.graph());var Z=this;Wn.each(this._nodes,function(yt,At){v(At)&&N.setNode(At,yt)}),Wn.each(this._edgeObjs,function(yt){N.hasNode(yt.v)&&N.hasNode(yt.w)&&N.setEdge(yt,Z.edge(yt))});var it={};function pt(yt){var At=Z.parent(yt);return At===void 0||N.hasNode(At)?(it[yt]=At,At):At in it?it[At]:pt(At)}return this._isCompound&&Wn.each(N.nodes(),function(yt){N.setParent(yt,pt(yt))}),N},ja.prototype.setDefaultEdgeLabel=function(v){return Wn.isFunction(v)||(v=Wn.constant(v)),this._defaultEdgeLabelFn=v,this},ja.prototype.edgeCount=function(){return this._edgeCount},ja.prototype.edges=function(){return Wn.values(this._edgeObjs)},ja.prototype.setPath=function(v,N){var Z=this,it=arguments;return Wn.reduce(v,function(pt,yt){return it.length>1?Z.setEdge(pt,yt,N):Z.setEdge(pt,yt),yt}),this},ja.prototype.setEdge=function(){var v,N,Z,it,pt=!1,yt=arguments[0];typeof yt=="object"&&yt!==null&&"v"in yt?(v=yt.v,N=yt.w,Z=yt.name,arguments.length===2&&(it=arguments[1],pt=!0)):(v=yt,N=arguments[1],Z=arguments[3],arguments.length>2&&(it=arguments[2],pt=!0)),v=""+v,N=""+N,Wn.isUndefined(Z)||(Z=""+Z);var At=ou(this._isDirected,v,N,Z);if(Wn.has(this._edgeLabels,At))return pt&&(this._edgeLabels[At]=it),this;if(!Wn.isUndefined(Z)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(N),this._edgeLabels[At]=pt?it:this._defaultEdgeLabelFn(v,N,Z);var Nt=_c(this._isDirected,v,N,Z);return v=Nt.v,N=Nt.w,Object.freeze(Nt),this._edgeObjs[At]=Nt,Mc(this._preds[N],v),Mc(this._sucs[v],N),this._in[N][At]=Nt,this._out[v][At]=Nt,this._edgeCount++,this},ja.prototype.edge=function(v,N,Z){var it=arguments.length===1?Cc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,Z);return this._edgeLabels[it]},ja.prototype.hasEdge=function(v,N,Z){var it=arguments.length===1?Cc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,Z);return Wn.has(this._edgeLabels,it)},ja.prototype.removeEdge=function(v,N,Z){var it=arguments.length===1?Cc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,Z),pt=this._edgeObjs[it];return pt&&(v=pt.v,N=pt.w,delete this._edgeLabels[it],delete this._edgeObjs[it],Pl(this._preds[N],v),Pl(this._sucs[v],N),delete this._in[N][it],delete this._out[v][it],this._edgeCount--),this},ja.prototype.inEdges=function(v,N){var Z=this._in[v];if(Z){var it=Wn.values(Z);return N?Wn.filter(it,function(pt){return pt.v===N}):it}},ja.prototype.outEdges=function(v,N){var Z=this._out[v];if(Z){var it=Wn.values(Z);return N?Wn.filter(it,function(pt){return pt.w===N}):it}},ja.prototype.nodeEdges=function(v,N){var Z=this.inEdges(v,N);if(Z)return Z.concat(this.outEdges(v,N))};var Ll={Graph:wu,version:"2.1.8"},df={write:function(v){var N={options:{directed:v.isDirected(),multigraph:v.isMultigraph(),compound:v.isCompound()},nodes:hf(v),edges:gs(v)};return Wn.isUndefined(v.graph())||(N.value=Wn.clone(v.graph())),N},read:function(v){var N=new wu(v.options).setGraph(v.value);return Wn.each(v.nodes,function(Z){N.setNode(Z.v,Z.value),Z.parent&&N.setParent(Z.v,Z.parent)}),Wn.each(v.edges,function(Z){N.setEdge({v:Z.v,w:Z.w,name:Z.name},Z.value)}),N}};function hf(v){return Wn.map(v.nodes(),function(N){var Z=v.node(N),it=v.parent(N),pt={v:N};return Wn.isUndefined(Z)||(pt.value=Z),Wn.isUndefined(it)||(pt.parent=it),pt})}function gs(v){return Wn.map(v.edges(),function(N){var Z=v.edge(N),it={v:N.v,w:N.w};return Wn.isUndefined(N.name)||(it.name=N.name),Wn.isUndefined(Z)||(it.value=Z),it})}var Tc=function(v){var N,Z={},it=[];function pt(yt){Wn.has(Z,yt)||(Z[yt]=!0,N.push(yt),Wn.each(v.successors(yt),pt),Wn.each(v.predecessors(yt),pt))}return Wn.each(v.nodes(),function(yt){N=[],pt(yt),N.length&&it.push(N)}),it},Ws=po;function po(){this._arr=[],this._keyIndices={}}po.prototype.size=function(){return this._arr.length},po.prototype.keys=function(){return this._arr.map(function(v){return v.key})},po.prototype.has=function(v){return Wn.has(this._keyIndices,v)},po.prototype.priority=function(v){var N=this._keyIndices[v];if(N!==void 0)return this._arr[N].priority},po.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},po.prototype.add=function(v,N){var Z=this._keyIndices;if(v=String(v),!Wn.has(Z,v)){var it=this._arr,pt=it.length;return Z[v]=pt,it.push({key:v,priority:N}),this._decrease(pt),!0}return!1},po.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var v=this._arr.pop();return delete this._keyIndices[v.key],this._heapify(0),v.key},po.prototype.decrease=function(v,N){var Z=this._keyIndices[v];if(N>this._arr[Z].priority)throw new Error("New priority is greater than current priority. Key: "+v+" Old: "+this._arr[Z].priority+" New: "+N);this._arr[Z].priority=N,this._decrease(Z)},po.prototype._heapify=function(v){var N=this._arr,Z=2*v,it=Z+1,pt=v;Z<N.length&&(pt=N[Z].priority<N[pt].priority?Z:pt,it<N.length&&(pt=N[it].priority<N[pt].priority?it:pt),pt!==v&&(this._swap(v,pt),this._heapify(pt)))},po.prototype._decrease=function(v){for(var N,Z=this._arr,it=Z[v].priority;v!==0&&!(Z[N=v>>1].priority<it);)this._swap(v,N),v=N},po.prototype._swap=function(v,N){var Z=this._arr,it=this._keyIndices,pt=Z[v],yt=Z[N];Z[v]=yt,Z[N]=pt,it[yt.key]=v,it[pt.key]=N};var Ys=function(v,N,Z,it){return function(pt,yt,At,Nt){var jt,le,xe={},ge=new Ws,Be=function(ir){var Yr=ir.v!==jt?ir.v:ir.w,dr=xe[Yr],pr=At(ir),gr=le.distance+pr;if(pr<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ir+" Weight: "+pr);gr<dr.distance&&(dr.distance=gr,dr.predecessor=jt,ge.decrease(Yr,gr))};for(pt.nodes().forEach(function(ir){var Yr=ir===yt?0:Number.POSITIVE_INFINITY;xe[ir]={distance:Yr},ge.add(ir,Yr)});ge.size()>0&&(jt=ge.removeMin(),(le=xe[jt]).distance!==Number.POSITIVE_INFINITY);)Nt(jt).forEach(Be);return xe}(v,String(N),Z||Is,it||function(pt){return v.outEdges(pt)})},Is=Wn.constant(1),Nl=function(v,N,Z){return Wn.transform(v.nodes(),function(it,pt){it[pt]=Ys(v,pt,N,Z)},{})},Ac=function(v){var N=0,Z=[],it={},pt=[];function yt(At){var Nt=it[At]={onStack:!0,lowlink:N,index:N++};if(Z.push(At),v.successors(At).forEach(function(xe){Wn.has(it,xe)?it[xe].onStack&&(Nt.lowlink=Math.min(Nt.lowlink,it[xe].index)):(yt(xe),Nt.lowlink=Math.min(Nt.lowlink,it[xe].lowlink))}),Nt.lowlink===Nt.index){var jt,le=[];do jt=Z.pop(),it[jt].onStack=!1,le.push(jt);while(At!==jt);pt.push(le)}}return v.nodes().forEach(function(At){Wn.has(it,At)||yt(At)}),pt},vf=function(v){return Wn.filter(Ac(v),function(N){return N.length>1||N.length===1&&v.hasEdge(N[0],N[0])})},pf=function(v,N,Z){return function(it,pt,yt){var At={},Nt=it.nodes();return Nt.forEach(function(jt){At[jt]={},At[jt][jt]={distance:0},Nt.forEach(function(le){jt!==le&&(At[jt][le]={distance:Number.POSITIVE_INFINITY})}),yt(jt).forEach(function(le){var xe=le.v===jt?le.w:le.v,ge=pt(le);At[jt][xe]={distance:ge,predecessor:jt}})}),Nt.forEach(function(jt){var le=At[jt];Nt.forEach(function(xe){var ge=At[xe];Nt.forEach(function(Be){var ir=ge[jt],Yr=le[Be],dr=ge[Be],pr=ir.distance+Yr.distance;pr<dr.distance&&(dr.distance=pr,dr.predecessor=Yr.predecessor)})})}),At}(v,N||gf,Z||function(it){return v.outEdges(it)})},gf=Wn.constant(1),Rl=mf;function mf(v){var N={},Z={},it=[];if(Wn.each(v.sinks(),function pt(yt){if(Wn.has(Z,yt))throw new kl;Wn.has(N,yt)||(Z[yt]=!0,N[yt]=!0,Wn.each(v.predecessors(yt),pt),delete Z[yt],it.push(yt))}),Wn.size(N)!==v.nodeCount())throw new kl;return it}function kl(){}mf.CycleException=kl,kl.prototype=new Error;var yf=function(v,N,Z){Wn.isArray(N)||(N=[N]);var it=(v.isDirected()?v.successors:v.neighbors).bind(v),pt=[],yt={};return Wn.each(N,function(At){if(!v.hasNode(At))throw new Error("Graph does not have node: "+At);Oc(v,At,Z==="post",yt,it,pt)}),pt};function Oc(v,N,Z,it,pt,yt){Wn.has(it,N)||(it[N]=!0,Z||yt.push(N),Wn.each(pt(N),function(At){Oc(v,At,Z,it,pt,yt)}),Z&&yt.push(N))}var tl,Ic={Graph:Ll.Graph,json:df,alg:{components:Tc,dijkstra:Ys,dijkstraAll:Nl,findCycles:vf,floydWarshall:pf,isAcyclic:function(v){try{Rl(v)}catch(N){if(N instanceof Rl.CycleException)return!1;throw N}return!0},postorder:function(v,N){return yf(v,N,"post")},preorder:function(v,N){return yf(v,N,"pre")},prim:function(v,N){var Z,it=new wu,pt={},yt=new Ws;function At(jt){var le=jt.v===Z?jt.w:jt.v,xe=yt.priority(le);if(xe!==void 0){var ge=N(jt);ge<xe&&(pt[le]=Z,yt.decrease(le,ge))}}if(v.nodeCount()===0)return it;Wn.each(v.nodes(),function(jt){yt.add(jt,Number.POSITIVE_INFINITY),it.setNode(jt)}),yt.decrease(v.nodes()[0],0);for(var Nt=!1;yt.size()>0;){if(Z=yt.removeMin(),Wn.has(pt,Z))it.setEdge(Z,pt[Z]);else{if(Nt)throw new Error("Input graph is not connected: "+v);Nt=!0}v.nodeEdges(Z).forEach(At)}return it},tarjan:Ac,topsort:Rl},version:Ll.version};try{tl=Ic}catch(v){}tl||(tl=window.graphlib);var os=tl,Dc=function(v){return Ga(v,5)},el=function(v,N,Z){if(!vt(Z))return!1;var it=typeof N;return!!(it=="number"?Or(Z)&&O(N,Z.length):it=="string"&&N in Z)&&x(Z[N],v)},bf=Object.prototype,ad=bf.hasOwnProperty,Pc=es(function(v,N){v=Object(v);var Z=-1,it=N.length,pt=it>2?N[2]:void 0;for(pt&&el(N[0],N[1],pt)&&(it=1);++Z<it;)for(var yt=N[Z],At=Ne(yt),Nt=-1,jt=At.length;++Nt<jt;){var le=At[Nt],xe=v[le];(xe===void 0||x(xe,bf[le])&&!ad.call(v,le))&&(v[le]=yt[le])}return v}),rl=function(v){return function(N,Z,it){var pt=Object(N);if(!Or(N)){var yt=Po(Z);N=ce(N),Z=function(Nt){return yt(pt[Nt],Nt,pt)}}var At=v(N,Z,it);return At>-1?pt[yt?N[At]:At]:void 0}},id=/^\s+|\s+$/g,Lc=/^[-+]0x[0-9a-f]+$/i,Nc=/^0b[01]+$/i,xf=/^0o[0-7]+$/i,nl=parseInt,Su=function(v){if(typeof v=="number")return v;if(ha(v))return NaN;if(vt(v)){var N=typeof v.valueOf=="function"?v.valueOf():v;v=vt(N)?N+"":N}if(typeof v!="string")return v===0?v:+v;v=v.replace(id,"");var Z=Nc.test(v);return Z||xf.test(v)?nl(v.slice(2),Z?2:8):Lc.test(v)?NaN:+v},su=function(v){return v?(v=Su(v))===1/0||v===-1/0?17976931348623157e292*(v<0?-1:1):v==v?v:0:v===0?v:0},Mu=function(v){var N=su(v),Z=N%1;return N==N?Z?N-Z:N:0},al=Math.max,Ss=rl(function(v,N,Z){var it=v==null?0:v.length;if(!it)return-1;var pt=Z==null?0:Mu(Z);return pt<0&&(pt=al(it+pt,0)),au(v,Po(N),pt)}),Ef=function(v){return v!=null&&v.length?Qi(v,1):[]},_u=function(v,N){return v==null?v:ui(v,va(N),Ne)},od=function(v){var N=v==null?0:v.length;return N?v[N-1]:void 0},sd=function(v,N){var Z={};return N=Po(N),qa(v,function(it,pt,yt){Nn(Z,pt,N(it,pt,yt))}),Z},Bl=function(v,N,Z){for(var it=-1,pt=v.length;++it<pt;){var yt=v[it],At=N(yt);if(At!=null&&(Nt===void 0?At==At&&!ha(At):Z(At,Nt)))var Nt=At,jt=yt}return jt},Rc=function(v,N){return v>N},ud=function(v){return v&&v.length?Bl(v,Ca,Rc):void 0},il=function(v,N,Z){(Z!==void 0&&!x(v[N],Z)||Z===void 0&&!(N in v))&&Nn(v,N,Z)},wf=Function.prototype,ld=Object.prototype,Sf=wf.toString,Mf=ld.hasOwnProperty,ol=Sf.call(Object),Cu=function(v){if(!ot(v)||et(v)!="[object Object]")return!1;var N=qn(v);if(N===null)return!0;var Z=Mf.call(N,"constructor")&&N.constructor;return typeof Z=="function"&&Z instanceof Z&&Sf.call(Z)==ol},Tu=function(v,N){if((N!=="constructor"||typeof v[N]!="function")&&N!="__proto__")return v[N]},Fl=function(v){return Xt(v,Ne(v))},zl=function(v,N,Z,it,pt,yt,At){var Nt=Tu(v,Z),jt=Tu(N,Z),le=At.get(jt);if(le)il(v,Z,le);else{var xe=yt?yt(Nt,jt,Z+"",v,N,At):void 0,ge=xe===void 0;if(ge){var Be=at(jt),ir=!Be&&F(jt),Yr=!Be&&!ir&&be(jt);xe=jt,Be||ir||Yr?at(Nt)?xe=Nt:Sc(Nt)?xe=rn(Nt):ir?(ge=!1,xe=cr(jt,!0)):Yr?(ge=!1,xe=Sr(jt,!0)):xe=[]:Cu(jt)||ae(jt)?(xe=Nt,ae(Nt)?xe=Fl(Nt):vt(Nt)&&!Ot(Nt)||(xe=Mn(jt))):ge=!1}ge&&(At.set(jt,xe),pt(xe,jt,it,yt,At),At.delete(jt)),il(v,Z,xe)}},Co=function v(N,Z,it,pt,yt){N!==Z&&ui(Z,function(At,Nt){if(yt||(yt=new dn),vt(At))zl(N,Z,Nt,it,v,pt,yt);else{var jt=pt?pt(Tu(N,Nt),At,Nt+"",N,Z,yt):void 0;jt===void 0&&(jt=At),il(N,Nt,jt)}},Ne)},uu=function(v){return es(function(N,Z){var it=-1,pt=Z.length,yt=pt>1?Z[pt-1]:void 0,At=pt>2?Z[2]:void 0;for(yt=v.length>3&&typeof yt=="function"?(pt--,yt):void 0,At&&el(Z[0],Z[1],At)&&(yt=pt<3?void 0:yt,pt=1),N=Object(N);++it<pt;){var Nt=Z[it];Nt&&v(N,Nt,it,yt)}return N})}(function(v,N,Z){Co(v,N,Z)}),_f=function(v,N){return v<N},lu=function(v){return v&&v.length?Bl(v,Ca,_f):void 0},sl=function(v,N){return v&&v.length?Bl(v,Po(N),_f):void 0},ss=function(){return st.Date.now()},Ds=function(v,N,Z,it){if(!vt(v))return v;for(var pt=-1,yt=(N=eo(N,v)).length,At=yt-1,Nt=v;Nt!=null&&++pt<yt;){var jt=Wo(N[pt]),le=Z;if(jt==="__proto__"||jt==="constructor"||jt==="prototype")return v;if(pt!=At){var xe=Nt[jt];(le=it?it(xe,jt,Nt):void 0)===void 0&&(le=vt(xe)?xe:O(N[pt+1])?[]:{})}Xe(Nt,jt,le),Nt=Nt[jt]}return v},Gl=function(v,N,Z){for(var it=-1,pt=N.length,yt={};++it<pt;){var At=N[it],Nt=hs(v,At);Z(Nt,At)&&Ds(yt,eo(At,v),Nt)}return yt},Ul=function(v,N){return Gl(v,N,function(Z,it){return ws(v,it)})},kc=function(v){return ps(Xa(v,void 0,Ef),v+"")}(function(v,N){return v==null?{}:Ul(v,N)}),rs=Math.ceil,ul=Math.max,ll=function(v,N,Z,it){for(var pt=-1,yt=ul(rs((N-v)/(Z||1)),0),At=Array(yt);yt--;)At[it?yt:++pt]=v,v+=Z;return At},Wl=function(v){return function(N,Z,it){return it&&typeof it!="number"&&el(N,Z,it)&&(Z=it=void 0),N=su(N),Z===void 0?(Z=N,N=0):Z=su(Z),it=it===void 0?N<Z?1:-1:su(it),ll(N,Z,it,v)}}(),Bc=function(v,N){var Z=v.length;for(v.sort(N);Z--;)v[Z]=v[Z].value;return v},Cf=function(v,N){if(v!==N){var Z=v!==void 0,it=v===null,pt=v==v,yt=ha(v),At=N!==void 0,Nt=N===null,jt=N==N,le=ha(N);if(!Nt&&!le&&!yt&&v>N||yt&&At&&jt&&!Nt&&!le||it&&At&&jt||!Z&&jt||!pt)return 1;if(!it&&!yt&&!le&&v<N||le&&Z&&pt&&!it&&!yt||Nt&&Z&&pt||!At&&pt||!jt)return-1}return 0},Tf=function(v,N,Z){for(var it=-1,pt=v.criteria,yt=N.criteria,At=pt.length,Nt=Z.length;++it<At;){var jt=Cf(pt[it],yt[it]);if(jt)return it>=Nt?jt:jt*(Z[it]=="desc"?-1:1)}return v.index-N.index},cl=function(v,N,Z){N=N.length?hi(N,function(yt){return at(yt)?function(At){return hs(At,yt.length===1?yt[0]:yt)}:yt}):[Ca];var it=-1;N=hi(N,Rt(Po));var pt=wt(v,function(yt,At,Nt){return{criteria:hi(N,function(jt){return jt(yt)}),index:++it,value:yt}});return Bc(pt,function(yt,At){return Tf(yt,At,Z)})},Yl=es(function(v,N){if(v==null)return[];var Z=N.length;return Z>1&&el(v,N[0],N[1])?N=[]:Z>2&&el(N[0],N[1],N[2])&&(N=[N[0]]),cl(v,Qi(N,1),[])}),Af=0,cd=function(v){var N=++Af;return Ii(v)+N},Of=function(v,N,Z){for(var it=-1,pt=v.length,yt=N.length,At={};++it<pt;){var Nt=it<yt?N[it]:void 0;Z(At,v[it],Nt)}return At},Au,Xl=function(v,N){return Of(v||[],N||[],Xe)};try{Au={cloneDeep:Dc,constant:Ea,defaults:Pc,each:ni,filter:xu,find:Ss,flatten:Ef,forEach:fi,forIn:_u,has:xo,isUndefined:X,last:od,map:Bt,mapValues:sd,max:ud,merge:uu,min:lu,minBy:sl,now:ss,pick:kc,range:Wl,reduce:ve,sortBy:Yl,uniqueId:cd,values:ff,zipObject:Xl}}catch(v){}Au||(Au=window._);var $e=Au,fd=fl;function fl(){var v={};v._next=v._prev=v,this._sentinel=v}function dl(v){v._prev._next=v._next,v._next._prev=v._prev,delete v._next,delete v._prev}function Fc(v,N){if(v!=="_next"&&v!=="_prev")return N}fl.prototype.dequeue=function(){var v=this._sentinel,N=v._prev;if(N!==v)return dl(N),N},fl.prototype.enqueue=function(v){var N=this._sentinel;v._prev&&v._next&&dl(v),v._next=N._next,N._next._prev=v,N._next=v,v._prev=N},fl.prototype.toString=function(){for(var v=[],N=this._sentinel,Z=N._prev;Z!==N;)v.push(JSON.stringify(Z,Fc)),Z=Z._prev;return"["+v.join(", ")+"]"};var zc=os.Graph,Gc=function(v,N){if(v.nodeCount()<=1)return[];var Z=function(pt,yt){var At=new zc,Nt=0,jt=0;$e.forEach(pt.nodes(),function(ge){At.setNode(ge,{v:ge,in:0,out:0})}),$e.forEach(pt.edges(),function(ge){var Be=At.edge(ge.v,ge.w)||0,ir=yt(ge),Yr=Be+ir;At.setEdge(ge.v,ge.w,Yr),jt=Math.max(jt,At.node(ge.v).out+=ir),Nt=Math.max(Nt,At.node(ge.w).in+=ir)});var le=$e.range(jt+Nt+3).map(function(){return new fd}),xe=Nt+1;return $e.forEach(At.nodes(),function(ge){jl(le,xe,At.node(ge))}),{graph:At,buckets:le,zeroIdx:xe}}(v,N||If),it=function(pt,yt,At){for(var Nt,jt=[],le=yt[yt.length-1],xe=yt[0];pt.nodeCount();){for(;Nt=xe.dequeue();)cu(pt,yt,At,Nt);for(;Nt=le.dequeue();)cu(pt,yt,At,Nt);if(pt.nodeCount()){for(var ge=yt.length-2;ge>0;--ge)if(Nt=yt[ge].dequeue()){jt=jt.concat(cu(pt,yt,At,Nt,!0));break}}}return jt}(Z.graph,Z.buckets,Z.zeroIdx);return $e.flatten($e.map(it,function(pt){return v.outEdges(pt.v,pt.w)}),!0)},If=$e.constant(1);function cu(v,N,Z,it,pt){var yt=pt?[]:void 0;return $e.forEach(v.inEdges(it.v),function(At){var Nt=v.edge(At),jt=v.node(At.v);pt&&yt.push({v:At.v,w:At.w}),jt.out-=Nt,jl(N,Z,jt)}),$e.forEach(v.outEdges(it.v),function(At){var Nt=v.edge(At),jt=At.w,le=v.node(jt);le.in-=Nt,jl(N,Z,le)}),v.removeNode(it.v),yt}function jl(v,N,Z){Z.out?Z.in?v[Z.out-Z.in+N].enqueue(Z):v[v.length-1].enqueue(Z):v[0].enqueue(Z)}var hl={run:function(v){var N=v.graph().acyclicer==="greedy"?Gc(v,function(Z){return function(it){return Z.edge(it).weight}}(v)):function(Z){var it=[],pt={},yt={};function At(Nt){$e.has(yt,Nt)||(yt[Nt]=!0,pt[Nt]=!0,$e.forEach(Z.outEdges(Nt),function(jt){$e.has(pt,jt.w)?it.push(jt):At(jt.w)}),delete pt[Nt])}return $e.forEach(Z.nodes(),At),it}(v);$e.forEach(N,function(Z){var it=v.edge(Z);v.removeEdge(Z),it.forwardName=Z.name,it.reversed=!0,v.setEdge(Z.w,Z.v,it,$e.uniqueId("rev"))})},undo:function(v){$e.forEach(v.edges(),function(N){var Z=v.edge(N);if(Z.reversed){v.removeEdge(N);var it=Z.forwardName;delete Z.reversed,delete Z.forwardName,v.setEdge(N.w,N.v,Z,it)}})}},Ou=os.Graph,wo={addDummyNode:Iu,simplify:function(v){var N=new Ou().setGraph(v.graph());return $e.forEach(v.nodes(),function(Z){N.setNode(Z,v.node(Z))}),$e.forEach(v.edges(),function(Z){var it=N.edge(Z.v,Z.w)||{weight:0,minlen:1},pt=v.edge(Z);N.setEdge(Z.v,Z.w,{weight:it.weight+pt.weight,minlen:Math.max(it.minlen,pt.minlen)})}),N},asNonCompoundGraph:function(v){var N=new Ou({multigraph:v.isMultigraph()}).setGraph(v.graph());return $e.forEach(v.nodes(),function(Z){v.children(Z).length||N.setNode(Z,v.node(Z))}),$e.forEach(v.edges(),function(Z){N.setEdge(Z,v.edge(Z))}),N},successorWeights:function(v){var N=$e.map(v.nodes(),function(Z){var it={};return $e.forEach(v.outEdges(Z),function(pt){it[pt.w]=(it[pt.w]||0)+v.edge(pt).weight}),it});return $e.zipObject(v.nodes(),N)},predecessorWeights:function(v){var N=$e.map(v.nodes(),function(Z){var it={};return $e.forEach(v.inEdges(Z),function(pt){it[pt.v]=(it[pt.v]||0)+v.edge(pt).weight}),it});return $e.zipObject(v.nodes(),N)},intersectRect:function(v,N){var Z,it,pt=v.x,yt=v.y,At=N.x-pt,Nt=N.y-yt,jt=v.width/2,le=v.height/2;if(!At&&!Nt)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Nt)*jt>Math.abs(At)*le?(Nt<0&&(le=-le),Z=le*At/Nt,it=le):(At<0&&(jt=-jt),Z=jt,it=jt*Nt/At),{x:pt+Z,y:yt+it}},buildLayerMatrix:function(v){var N=$e.map($e.range(Uc(v)+1),function(){return[]});return $e.forEach(v.nodes(),function(Z){var it=v.node(Z),pt=it.rank;$e.isUndefined(pt)||(N[pt][it.order]=Z)}),N},normalizeRanks:function(v){var N=$e.min($e.map(v.nodes(),function(Z){return v.node(Z).rank}));$e.forEach(v.nodes(),function(Z){var it=v.node(Z);$e.has(it,"rank")&&(it.rank-=N)})},removeEmptyRanks:function(v){var N=$e.min($e.map(v.nodes(),function(yt){return v.node(yt).rank})),Z=[];$e.forEach(v.nodes(),function(yt){var At=v.node(yt).rank-N;Z[At]||(Z[At]=[]),Z[At].push(yt)});var it=0,pt=v.graph().nodeRankFactor;$e.forEach(Z,function(yt,At){$e.isUndefined(yt)&&At%pt!=0?--it:it&&$e.forEach(yt,function(Nt){v.node(Nt).rank+=it})})},addBorderNode:function(v,N,Z,it){var pt={width:0,height:0};return arguments.length>=4&&(pt.rank=Z,pt.order=it),Iu(v,"border",pt,N)},maxRank:Uc,partition:function(v,N){var Z={lhs:[],rhs:[]};return $e.forEach(v,function(it){N(it)?Z.lhs.push(it):Z.rhs.push(it)}),Z},time:function(v,N){var Z=$e.now();try{return N()}finally{console.log(v+" time: "+($e.now()-Z)+"ms")}},notime:function(v,N){return N()}};function Iu(v,N,Z,it){var pt;do pt=$e.uniqueId(it);while(v.hasNode(pt));return Z.dummy=N,v.setNode(pt,Z),pt}function Uc(v){return $e.max($e.map(v.nodes(),function(N){var Z=v.node(N).rank;if(!$e.isUndefined(Z))return Z}))}var Xs={run:function(v){v.graph().dummyChains=[],$e.forEach(v.edges(),function(N){(function(Z,it){var pt,yt,At,Nt=it.v,jt=Z.node(Nt).rank,le=it.w,xe=Z.node(le).rank,ge=it.name,Be=Z.edge(it),ir=Be.labelRank;if(xe!==jt+1){for(Z.removeEdge(it),At=0,++jt;jt<xe;++At,++jt)Be.points=[],yt={width:0,height:0,edgeLabel:Be,edgeObj:it,rank:jt},pt=wo.addDummyNode(Z,"edge",yt,"_d"),jt===ir&&(yt.width=Be.width,yt.height=Be.height,yt.dummy="edge-label",yt.labelpos=Be.labelpos),Z.setEdge(Nt,pt,{weight:Be.weight},ge),At===0&&Z.graph().dummyChains.push(pt),Nt=pt;Z.setEdge(Nt,le,{weight:Be.weight},ge)}})(v,N)})},undo:function(v){$e.forEach(v.graph().dummyChains,function(N){var Z,it=v.node(N),pt=it.edgeLabel;for(v.setEdge(it.edgeObj,pt);it.dummy;)Z=v.successors(N)[0],v.removeNode(N),pt.points.push({x:it.x,y:it.y}),it.dummy==="edge-label"&&(pt.x=it.x,pt.y=it.y,pt.width=it.width,pt.height=it.height),N=Z,it=v.node(N)})}},Ms=function(v){var N={};$e.forEach(v.sources(),function Z(it){var pt=v.node(it);if($e.has(N,it))return pt.rank;N[it]=!0;var yt=$e.min($e.map(v.outEdges(it),function(At){return Z(At.w)-v.edge(At).minlen}));return yt!==Number.POSITIVE_INFINITY&&yt!=null||(yt=0),pt.rank=yt})},Du=function(v,N){return v.node(N.w).rank-v.node(N.v).rank-v.edge(N).minlen},fu=os.Graph,Ps=Du,Pu=function(v){var N,Z,it=new fu({directed:!1}),pt=v.nodes()[0],yt=v.nodeCount();for(it.setNode(pt,{});du(it,v)<yt;)N=js(it,v),Z=it.hasNode(N.v)?Ps(v,N):-Ps(v,N),Ls(it,v,Z);return it};function du(v,N){return $e.forEach(v.nodes(),function Z(it){$e.forEach(N.nodeEdges(it),function(pt){var yt=pt.v,At=it===yt?pt.w:yt;v.hasNode(At)||Ps(N,pt)||(v.setNode(At,{}),v.setEdge(it,At,{}),Z(At))})}),v.nodeCount()}function js(v,N){return $e.minBy(N.edges(),function(Z){if(v.hasNode(Z.v)!==v.hasNode(Z.w))return Ps(N,Z)})}function Ls(v,N,Z){$e.forEach(v.nodes(),function(it){N.node(it).rank+=Z})}var Vl=Du,Hl=Ms,Lu=os.alg.preorder,Zl=os.alg.postorder,Kl=wo.simplify,Nu=us;function us(v){v=Kl(v),Hl(v);var N,Z=Pu(v);for(Ql(Z),$l(Z,v);N=ql(Z);)hu(Z,v,N,Df(Z,v,N))}function $l(v,N){var Z=Zl(v,v.nodes());Z=Z.slice(0,Z.length-1),$e.forEach(Z,function(it){(function(pt,yt,At){var Nt=pt.node(At).parent;pt.edge(At,Nt).cutvalue=Ns(pt,yt,At)})(v,N,it)})}function Ns(v,N,Z){var it=v.node(Z).parent,pt=!0,yt=N.edge(Z,it),At=0;return yt||(pt=!1,yt=N.edge(it,Z)),At=yt.weight,$e.forEach(N.nodeEdges(Z),function(Nt){var jt,le,xe=Nt.v===Z,ge=xe?Nt.w:Nt.v;if(ge!==it){var Be=xe===pt,ir=N.edge(Nt).weight;if(At+=Be?ir:-ir,jt=Z,le=ge,v.hasEdge(jt,le)){var Yr=v.edge(Z,ge).cutvalue;At+=Be?-Yr:Yr}}}),At}function Ql(v,N){arguments.length<2&&(N=v.nodes()[0]),Wc(v,{},1,N)}function Wc(v,N,Z,it,pt){var yt=Z,At=v.node(it);return N[it]=!0,$e.forEach(v.neighbors(it),function(Nt){$e.has(N,Nt)||(Z=Wc(v,N,Z,Nt,it))}),At.low=yt,At.lim=Z++,pt?At.parent=pt:delete At.parent,Z}function ql(v){return $e.find(v.edges(),function(N){return v.edge(N).cutvalue<0})}function Df(v,N,Z){var it=Z.v,pt=Z.w;N.hasEdge(it,pt)||(it=Z.w,pt=Z.v);var yt=v.node(it),At=v.node(pt),Nt=yt,jt=!1;yt.lim>At.lim&&(Nt=At,jt=!0);var le=$e.filter(N.edges(),function(xe){return jt===Yc(v,v.node(xe.v),Nt)&&jt!==Yc(v,v.node(xe.w),Nt)});return $e.minBy(le,function(xe){return Vl(N,xe)})}function hu(v,N,Z,it){var pt=Z.v,yt=Z.w;v.removeEdge(pt,yt),v.setEdge(it.v,it.w,{}),Ql(v),$l(v,N),function(At,Nt){var jt=$e.find(At.nodes(),function(xe){return!Nt.node(xe).parent}),le=Lu(At,jt);le=le.slice(1),$e.forEach(le,function(xe){var ge=At.node(xe).parent,Be=Nt.edge(xe,ge),ir=!1;Be||(Be=Nt.edge(ge,xe),ir=!0),Nt.node(xe).rank=Nt.node(ge).rank+(ir?Be.minlen:-Be.minlen)})}(v,N)}function Yc(v,N,Z){return Z.low<=N.lim&&N.lim<=Z.lim}us.initLowLimValues=Ql,us.initCutValues=$l,us.calcCutValue=Ns,us.leaveEdge=ql,us.enterEdge=Df,us.exchangeEdges=hu;var Jl=Ms,dd=function(v){switch(v.graph().ranker){case"network-simplex":Lf(v);break;case"tight-tree":(function(N){Jl(N),Pu(N)})(v);break;case"longest-path":Pf(v);break;default:Lf(v)}},Pf=Jl;function Lf(v){Nu(v)}var hd=function(v){var N=function(Z){var it={},pt=0;function yt(At){var Nt=pt;$e.forEach(Z.children(At),yt),it[At]={low:Nt,lim:pt++}}return $e.forEach(Z.children(),yt),it}(v);$e.forEach(v.graph().dummyChains,function(Z){for(var it=v.node(Z),pt=it.edgeObj,yt=function(ge,Be,ir,Yr){var dr,pr,gr=[],bn=[],Ln=Math.min(Be[ir].low,Be[Yr].low),Cn=Math.max(Be[ir].lim,Be[Yr].lim);dr=ir;do dr=ge.parent(dr),gr.push(dr);while(dr&&(Be[dr].low>Ln||Cn>Be[dr].lim));for(pr=dr,dr=Yr;(dr=ge.parent(dr))!==pr;)bn.push(dr);return{path:gr.concat(bn.reverse()),lca:pr}}(v,N,pt.v,pt.w),At=yt.path,Nt=yt.lca,jt=0,le=At[jt],xe=!0;Z!==pt.w;){if(it=v.node(Z),xe){for(;(le=At[jt])!==Nt&&v.node(le).maxRank<it.rank;)jt++;le===Nt&&(xe=!1)}if(!xe){for(;jt<At.length-1&&v.node(le=At[jt+1]).minRank<=it.rank;)jt++;le=At[jt]}v.setParent(Z,le),Z=v.successors(Z)[0]}})},Nf={run:function(v){var N=wo.addDummyNode(v,"root",{},"_root"),Z=function(At){var Nt={};function jt(le,xe){var ge=At.children(le);ge&&ge.length&&$e.forEach(ge,function(Be){jt(Be,xe+1)}),Nt[le]=xe}return $e.forEach(At.children(),function(le){jt(le,1)}),Nt}(v),it=$e.max($e.values(Z))-1,pt=2*it+1;v.graph().nestingRoot=N,$e.forEach(v.edges(),function(At){v.edge(At).minlen*=pt});var yt=function(At){return $e.reduce(At.edges(),function(Nt,jt){return Nt+At.edge(jt).weight},0)}(v)+1;$e.forEach(v.children(),function(At){Rf(v,N,pt,yt,it,Z,At)}),v.graph().nodeRankFactor=pt},cleanup:function(v){var N=v.graph();v.removeNode(N.nestingRoot),delete N.nestingRoot,$e.forEach(v.edges(),function(Z){v.edge(Z).nestingEdge&&v.removeEdge(Z)})}};function Rf(v,N,Z,it,pt,yt,At){var Nt=v.children(At);if(Nt.length){var jt=wo.addBorderNode(v,"_bt"),le=wo.addBorderNode(v,"_bb"),xe=v.node(At);v.setParent(jt,At),xe.borderTop=jt,v.setParent(le,At),xe.borderBottom=le,$e.forEach(Nt,function(ge){Rf(v,N,Z,it,pt,yt,ge);var Be=v.node(ge),ir=Be.borderTop?Be.borderTop:ge,Yr=Be.borderBottom?Be.borderBottom:ge,dr=Be.borderTop?it:2*it,pr=ir!==Yr?1:pt-yt[At]+1;v.setEdge(jt,ir,{weight:dr,minlen:pr,nestingEdge:!0}),v.setEdge(Yr,le,{weight:dr,minlen:pr,nestingEdge:!0})}),v.parent(At)||v.setEdge(N,jt,{weight:0,minlen:pt+yt[At]})}else At!==N&&v.setEdge(N,At,{weight:0,minlen:Z})}var vd=function(v){$e.forEach(v.children(),function N(Z){var it=v.children(Z),pt=v.node(Z);if(it.length&&$e.forEach(it,N),$e.has(pt,"minRank")){pt.borderLeft=[],pt.borderRight=[];for(var yt=pt.minRank,At=pt.maxRank+1;yt<At;++yt)kf(v,"borderLeft","_bl",Z,pt,yt),kf(v,"borderRight","_br",Z,pt,yt)}})};function kf(v,N,Z,it,pt,yt){var At={width:0,height:0,rank:yt,borderType:N},Nt=pt[N][yt-1],jt=wo.addDummyNode(v,"border",At,Z);pt[N][yt]=jt,v.setParent(jt,it),Nt&&v.setEdge(Nt,jt,{weight:1})}var vl={adjust:function(v){var N=v.graph().rankdir.toLowerCase();N!=="lr"&&N!=="rl"||Bf(v)},undo:function(v){var N=v.graph().rankdir.toLowerCase();N!=="bt"&&N!=="rl"||function(Z){$e.forEach(Z.nodes(),function(it){Xc(Z.node(it))}),$e.forEach(Z.edges(),function(it){var pt=Z.edge(it);$e.forEach(pt.points,Xc),$e.has(pt,"y")&&Xc(pt)})}(v),N!=="lr"&&N!=="rl"||(function(Z){$e.forEach(Z.nodes(),function(it){vu(Z.node(it))}),$e.forEach(Z.edges(),function(it){var pt=Z.edge(it);$e.forEach(pt.points,vu),$e.has(pt,"x")&&vu(pt)})}(v),Bf(v))}};function Bf(v){$e.forEach(v.nodes(),function(N){Ru(v.node(N))}),$e.forEach(v.edges(),function(N){Ru(v.edge(N))})}function Ru(v){var N=v.width;v.width=v.height,v.height=N}function Xc(v){v.y=-v.y}function vu(v){var N=v.x;v.x=v.y,v.y=N}var tc=function(v){var N={},Z=$e.filter(v.nodes(),function(Nt){return!v.children(Nt).length}),it=$e.max($e.map(Z,function(Nt){return v.node(Nt).rank})),pt=$e.map($e.range(it+1),function(){return[]});function yt(Nt){if(!$e.has(N,Nt)){N[Nt]=!0;var jt=v.node(Nt);pt[jt.rank].push(Nt),$e.forEach(v.successors(Nt),yt)}}var At=$e.sortBy(Z,function(Nt){return v.node(Nt).rank});return $e.forEach(At,yt),pt},ec=function(v,N){for(var Z=0,it=1;it<N.length;++it)Z+=pl(v,N[it-1],N[it]);return Z};function pl(v,N,Z){for(var it=$e.zipObject(Z,$e.map(Z,function(le,xe){return xe})),pt=$e.flatten($e.map(N,function(le){return $e.sortBy($e.map(v.outEdges(le),function(xe){return{pos:it[xe.w],weight:v.edge(xe).weight}}),"pos")}),!0),yt=1;yt<Z.length;)yt<<=1;var At=2*yt-1;yt-=1;var Nt=$e.map(new Array(At),function(){return 0}),jt=0;return $e.forEach(pt.forEach(function(le){var xe=le.pos+yt;Nt[xe]+=le.weight;for(var ge=0;xe>0;)xe%2&&(ge+=Nt[xe+1]),Nt[xe=xe-1>>1]+=le.weight;jt+=le.weight*ge})),jt}var Vs=function(v,N){return $e.map(N,function(Z){var it=v.inEdges(Z);if(it.length){var pt=$e.reduce(it,function(yt,At){var Nt=v.edge(At),jt=v.node(At.v);return{sum:yt.sum+Nt.weight*jt.order,weight:yt.weight+Nt.weight}},{sum:0,weight:0});return{v:Z,barycenter:pt.sum/pt.weight,weight:pt.weight}}return{v:Z}})},ku=function(v,N){var Z={};return $e.forEach(v,function(it,pt){var yt=Z[it.v]={indegree:0,in:[],out:[],vs:[it.v],i:pt};$e.isUndefined(it.barycenter)||(yt.barycenter=it.barycenter,yt.weight=it.weight)}),$e.forEach(N.edges(),function(it){var pt=Z[it.v],yt=Z[it.w];$e.isUndefined(pt)||$e.isUndefined(yt)||(yt.indegree++,pt.out.push(Z[it.w]))}),function(it){var pt=[];function yt(jt){return function(le){le.merged||($e.isUndefined(le.barycenter)||$e.isUndefined(jt.barycenter)||le.barycenter>=jt.barycenter)&&function(xe,ge){var Be=0,ir=0;xe.weight&&(Be+=xe.barycenter*xe.weight,ir+=xe.weight),ge.weight&&(Be+=ge.barycenter*ge.weight,ir+=ge.weight),xe.vs=ge.vs.concat(xe.vs),xe.barycenter=Be/ir,xe.weight=ir,xe.i=Math.min(ge.i,xe.i),ge.merged=!0}(jt,le)}}function At(jt){return function(le){le.in.push(jt),--le.indegree==0&&it.push(le)}}for(;it.length;){var Nt=it.pop();pt.push(Nt),$e.forEach(Nt.in.reverse(),yt(Nt)),$e.forEach(Nt.out,At(Nt))}return $e.map($e.filter(pt,function(jt){return!jt.merged}),function(jt){return $e.pick(jt,["vs","i","barycenter","weight"])})}($e.filter(Z,function(it){return!it.indegree}))},Bu=function(v,N){var Z=wo.partition(v,function(ge){return $e.has(ge,"barycenter")}),it=Z.lhs,pt=$e.sortBy(Z.rhs,function(ge){return-ge.i}),yt=[],At=0,Nt=0,jt=0;it.sort((le=!!N,function(ge,Be){return ge.barycenter<Be.barycenter?-1:ge.barycenter>Be.barycenter?1:le?Be.i-ge.i:ge.i-Be.i})),jt=gl(yt,pt,jt),$e.forEach(it,function(ge){jt+=ge.vs.length,yt.push(ge.vs),At+=ge.barycenter*ge.weight,Nt+=ge.weight,jt=gl(yt,pt,jt)});var le,xe={vs:$e.flatten(yt,!0)};return Nt&&(xe.barycenter=At/Nt,xe.weight=Nt),xe};function gl(v,N,Z){for(var it;N.length&&(it=$e.last(N)).i<=Z;)N.pop(),v.push(it.vs),Z++;return Z}var rc=function v(N,Z,it,pt){var yt=N.children(Z),At=N.node(Z),Nt=At?At.borderLeft:void 0,jt=At?At.borderRight:void 0,le={};Nt&&(yt=$e.filter(yt,function(dr){return dr!==Nt&&dr!==jt}));var xe=Vs(N,yt);$e.forEach(xe,function(dr){if(N.children(dr.v).length){var pr=v(N,dr.v,it,pt);le[dr.v]=pr,$e.has(pr,"barycenter")&&(gr=dr,bn=pr,$e.isUndefined(gr.barycenter)?(gr.barycenter=bn.barycenter,gr.weight=bn.weight):(gr.barycenter=(gr.barycenter*gr.weight+bn.barycenter*bn.weight)/(gr.weight+bn.weight),gr.weight+=bn.weight))}var gr,bn});var ge=ku(xe,it);(function(dr,pr){$e.forEach(dr,function(gr){gr.vs=$e.flatten(gr.vs.map(function(bn){return pr[bn]?pr[bn].vs:bn}),!0)})})(ge,le);var Be=Bu(ge,pt);if(Nt&&(Be.vs=$e.flatten([Nt,Be.vs,jt],!0),N.predecessors(Nt).length)){var ir=N.node(N.predecessors(Nt)[0]),Yr=N.node(N.predecessors(jt)[0]);$e.has(Be,"barycenter")||(Be.barycenter=0,Be.weight=0),Be.barycenter=(Be.barycenter*Be.weight+ir.order+Yr.order)/(Be.weight+2),Be.weight+=2}return Be},nc=os.Graph,ml=function(v,N,Z){var it=function(yt){for(var At;yt.hasNode(At=$e.uniqueId("_root")););return At}(v),pt=new nc({compound:!0}).setGraph({root:it}).setDefaultNodeLabel(function(yt){return v.node(yt)});return $e.forEach(v.nodes(),function(yt){var At=v.node(yt),Nt=v.parent(yt);(At.rank===N||At.minRank<=N&&N<=At.maxRank)&&(pt.setNode(yt),pt.setParent(yt,Nt||it),$e.forEach(v[Z](yt),function(jt){var le=jt.v===yt?jt.w:jt.v,xe=pt.edge(le,yt),ge=$e.isUndefined(xe)?0:xe.weight;pt.setEdge(le,yt,{weight:v.edge(jt).weight+ge})}),$e.has(At,"minRank")&&pt.setNode(yt,{borderLeft:At.borderLeft[N],borderRight:At.borderRight[N]}))}),pt},ac=function(v,N,Z){var it,pt={};$e.forEach(Z,function(yt){for(var At,Nt,jt=v.parent(yt);jt;){if((At=v.parent(jt))?(Nt=pt[At],pt[At]=jt):(Nt=it,it=jt),Nt&&Nt!==jt)return void N.setEdge(Nt,jt);jt=At}})},ic=os.Graph,yl=function(v){var N=wo.maxRank(v),Z=Fu(v,$e.range(1,N+1),"inEdges"),it=Fu(v,$e.range(N-1,-1,-1),"outEdges"),pt=tc(v);Gu(v,pt);for(var yt,At=Number.POSITIVE_INFINITY,Nt=0,jt=0;jt<4;++Nt,++jt){zu(Nt%2?Z:it,Nt%4>=2),pt=wo.buildLayerMatrix(v);var le=ec(v,pt);le<At&&(jt=0,yt=$e.cloneDeep(pt),At=le)}Gu(v,yt)};function Fu(v,N,Z){return $e.map(N,function(it){return ml(v,it,Z)})}function zu(v,N){var Z=new ic;$e.forEach(v,function(it){var pt=it.graph().root,yt=rc(it,pt,Z,N);$e.forEach(yt.vs,function(At,Nt){it.node(At).order=Nt}),ac(it,Z,yt.vs)})}function Gu(v,N){$e.forEach(N,function(Z){$e.forEach(Z,function(it,pt){v.node(it).order=pt})})}var Ff=os.Graph,bl=function(v){var N,Z=wo.buildLayerMatrix(v),it=$e.merge(pu(v,Z),zf(v,Z)),pt={};$e.forEach(["u","d"],function(At){N=At==="u"?Z:$e.values(Z).reverse(),$e.forEach(["l","r"],function(Nt){Nt==="r"&&(N=$e.map(N,function(ge){return $e.values(ge).reverse()}));var jt=(At==="u"?v.predecessors:v.successors).bind(v),le=Gf(v,N,it,jt),xe=Ud(v,N,le.root,le.align,Nt==="r");Nt==="r"&&(xe=$e.mapValues(xe,function(ge){return-ge})),pt[At+Nt]=xe})});var yt=Rs(v,pt);return Uf(pt,yt),Wf(pt,v.graph().align)};function pu(v,N){var Z={};return $e.reduce(N,function(it,pt){var yt=0,At=0,Nt=it.length,jt=$e.last(pt);return $e.forEach(pt,function(le,xe){var ge=function(ir,Yr){if(ir.node(Yr).dummy)return $e.find(ir.predecessors(Yr),function(dr){return ir.node(dr).dummy})}(v,le),Be=ge?v.node(ge).order:Nt;(ge||le===jt)&&($e.forEach(pt.slice(At,xe+1),function(ir){$e.forEach(v.predecessors(ir),function(Yr){var dr=v.node(Yr),pr=dr.order;!(pr<yt||Be<pr)||dr.dummy&&v.node(ir).dummy||xl(Z,Yr,ir)})}),At=xe+1,yt=Be)}),pt}),Z}function zf(v,N){var Z={};function it(pt,yt,At,Nt,jt){var le;$e.forEach($e.range(yt,At),function(xe){le=pt[xe],v.node(le).dummy&&$e.forEach(v.predecessors(le),function(ge){var Be=v.node(ge);Be.dummy&&(Be.order<Nt||Be.order>jt)&&xl(Z,ge,le)})})}return $e.reduce(N,function(pt,yt){var At,Nt=-1,jt=0;return $e.forEach(yt,function(le,xe){if(v.node(le).dummy==="border"){var ge=v.predecessors(le);ge.length&&(At=v.node(ge[0]).order,it(yt,jt,xe,Nt,At),jt=xe,Nt=At)}it(yt,jt,yt.length,At,pt.length)}),yt}),Z}function xl(v,N,Z){if(N>Z){var it=N;N=Z,Z=it}var pt=v[N];pt||(v[N]=pt={}),pt[Z]=!0}function pd(v,N,Z){if(N>Z){var it=N;N=Z,Z=it}return $e.has(v[N],Z)}function Gf(v,N,Z,it){var pt={},yt={},At={};return $e.forEach(N,function(Nt){$e.forEach(Nt,function(jt,le){pt[jt]=jt,yt[jt]=jt,At[jt]=le})}),$e.forEach(N,function(Nt){var jt=-1;$e.forEach(Nt,function(le){var xe=it(le);if(xe.length)for(var ge=((xe=$e.sortBy(xe,function(dr){return At[dr]})).length-1)/2,Be=Math.floor(ge),ir=Math.ceil(ge);Be<=ir;++Be){var Yr=xe[Be];yt[le]===le&&jt<At[Yr]&&!pd(Z,le,Yr)&&(yt[Yr]=le,yt[le]=pt[le]=pt[Yr],jt=At[Yr])}})}),{root:pt,align:yt}}function Ud(v,N,Z,it,pt){var yt={},At=function(le,xe,ge,Be){var ir=new Ff,Yr=le.graph(),dr=function(pr,gr,bn){return function(Ln,Cn,ta){var Kn,ia=Ln.node(Cn),pa=Ln.node(ta),da=0;if(da+=ia.width/2,$e.has(ia,"labelpos"))switch(ia.labelpos.toLowerCase()){case"l":Kn=-ia.width/2;break;case"r":Kn=ia.width/2}if(Kn&&(da+=bn?Kn:-Kn),Kn=0,da+=(ia.dummy?gr:pr)/2,da+=(pa.dummy?gr:pr)/2,da+=pa.width/2,$e.has(pa,"labelpos"))switch(pa.labelpos.toLowerCase()){case"l":Kn=pa.width/2;break;case"r":Kn=-pa.width/2}return Kn&&(da+=bn?Kn:-Kn),Kn=0,da}}(Yr.nodesep,Yr.edgesep,Be);return $e.forEach(xe,function(pr){var gr;$e.forEach(pr,function(bn){var Ln=ge[bn];if(ir.setNode(Ln),gr){var Cn=ge[gr],ta=ir.edge(Cn,Ln);ir.setEdge(Cn,Ln,Math.max(dr(le,bn,gr),ta||0))}gr=bn})}),ir}(v,N,Z,pt),Nt=pt?"borderLeft":"borderRight";function jt(le,xe){for(var ge=At.nodes(),Be=ge.pop(),ir={};Be;)ir[Be]?le(Be):(ir[Be]=!0,ge.push(Be),ge=ge.concat(xe(Be))),Be=ge.pop()}return jt(function(le){yt[le]=At.inEdges(le).reduce(function(xe,ge){return Math.max(xe,yt[ge.v]+At.edge(ge))},0)},At.predecessors.bind(At)),jt(function(le){var xe=At.outEdges(le).reduce(function(Be,ir){return Math.min(Be,yt[ir.w]-At.edge(ir))},Number.POSITIVE_INFINITY),ge=v.node(le);xe!==Number.POSITIVE_INFINITY&&ge.borderType!==Nt&&(yt[le]=Math.max(yt[le],xe))},At.successors.bind(At)),$e.forEach(it,function(le){yt[le]=yt[Z[le]]}),yt}function Rs(v,N){return $e.minBy($e.values(N),function(Z){var it=Number.NEGATIVE_INFINITY,pt=Number.POSITIVE_INFINITY;return $e.forIn(Z,function(yt,At){var Nt=function(jt,le){return jt.node(le).width}(v,At)/2;it=Math.max(yt+Nt,it),pt=Math.min(yt-Nt,pt)}),it-pt})}function Uf(v,N){var Z=$e.values(N),it=$e.min(Z),pt=$e.max(Z);$e.forEach(["u","d"],function(yt){$e.forEach(["l","r"],function(At){var Nt,jt=yt+At,le=v[jt];if(le!==N){var xe=$e.values(le);(Nt=At==="l"?it-$e.min(xe):pt-$e.max(xe))&&(v[jt]=$e.mapValues(le,function(ge){return ge+Nt}))}})})}function Wf(v,N){return $e.mapValues(v.ul,function(Z,it){if(N)return v[N.toLowerCase()][it];var pt=$e.sortBy($e.map(v,it));return(pt[1]+pt[2])/2})}var Yf=bl,Xf=function(v){(function(N){var Z=wo.buildLayerMatrix(N),it=N.graph().ranksep,pt=0;$e.forEach(Z,function(yt){var At=$e.max($e.map(yt,function(Nt){return N.node(Nt).height}));$e.forEach(yt,function(Nt){N.node(Nt).y=pt+At/2}),pt+=At+it})})(v=wo.asNonCompoundGraph(v)),$e.forEach(Yf(v),function(N,Z){v.node(Z).x=N})},jc=wo.normalizeRanks,gd=wo.removeEmptyRanks,No=wo,Vc=os.Graph,Uu=function(v,N){var Z=N&&N.debugTiming?No.time:No.notime;Z("layout",function(){var it=Z("  buildLayoutGraph",function(){return function(pt){var yt=new Vc({multigraph:!0,compound:!0}),At=gu(pt.graph());return yt.setGraph($e.merge({},jf,mi(At,ks),$e.pick(At,oc))),$e.forEach(pt.nodes(),function(Nt){var jt=gu(pt.node(Nt));yt.setNode(Nt,$e.defaults(mi(jt,El),ms)),yt.setParent(Nt,pt.parent(Nt))}),$e.forEach(pt.edges(),function(Nt){var jt=gu(pt.edge(Nt));yt.setEdge(Nt,$e.merge({},Bs,mi(jt,Yo),$e.pick(jt,no)))}),yt}(v)});Z("  runLayout",function(){(function(pt,yt){yt("    makeSpaceForEdgeLabels",function(){(function(At){var Nt=At.graph();Nt.ranksep/=2,$e.forEach(At.edges(),function(jt){var le=At.edge(jt);le.minlen*=2,le.labelpos.toLowerCase()!=="c"&&(Nt.rankdir==="TB"||Nt.rankdir==="BT"?le.width+=le.labeloffset:le.height+=le.labeloffset)})})(pt)}),yt("    removeSelfEdges",function(){(function(At){$e.forEach(At.edges(),function(Nt){if(Nt.v===Nt.w){var jt=At.node(Nt.v);jt.selfEdges||(jt.selfEdges=[]),jt.selfEdges.push({e:Nt,label:At.edge(Nt)}),At.removeEdge(Nt)}})})(pt)}),yt("    acyclic",function(){hl.run(pt)}),yt("    nestingGraph.run",function(){Nf.run(pt)}),yt("    rank",function(){dd(No.asNonCompoundGraph(pt))}),yt("    injectEdgeLabelProxies",function(){(function(At){$e.forEach(At.edges(),function(Nt){var jt=At.edge(Nt);if(jt.width&&jt.height){var le=At.node(Nt.v),xe={rank:(At.node(Nt.w).rank-le.rank)/2+le.rank,e:Nt};No.addDummyNode(At,"edge-proxy",xe,"_ep")}})})(pt)}),yt("    removeEmptyRanks",function(){gd(pt)}),yt("    nestingGraph.cleanup",function(){Nf.cleanup(pt)}),yt("    normalizeRanks",function(){jc(pt)}),yt("    assignRankMinMax",function(){(function(At){var Nt=0;$e.forEach(At.nodes(),function(jt){var le=At.node(jt);le.borderTop&&(le.minRank=At.node(le.borderTop).rank,le.maxRank=At.node(le.borderBottom).rank,Nt=$e.max(Nt,le.maxRank))}),At.graph().maxRank=Nt})(pt)}),yt("    removeEdgeLabelProxies",function(){(function(At){$e.forEach(At.nodes(),function(Nt){var jt=At.node(Nt);jt.dummy==="edge-proxy"&&(At.edge(jt.e).labelRank=jt.rank,At.removeNode(Nt))})})(pt)}),yt("    normalize.run",function(){Xs.run(pt)}),yt("    parentDummyChains",function(){hd(pt)}),yt("    addBorderSegments",function(){vd(pt)}),yt("    order",function(){yl(pt)}),yt("    insertSelfEdges",function(){(function(At){var Nt=No.buildLayerMatrix(At);$e.forEach(Nt,function(jt){var le=0;$e.forEach(jt,function(xe,ge){var Be=At.node(xe);Be.order=ge+le,$e.forEach(Be.selfEdges,function(ir){No.addDummyNode(At,"selfedge",{width:ir.label.width,height:ir.label.height,rank:Be.rank,order:ge+ ++le,e:ir.e,label:ir.label},"_se")}),delete Be.selfEdges})})})(pt)}),yt("    adjustCoordinateSystem",function(){vl.adjust(pt)}),yt("    position",function(){Xf(pt)}),yt("    positionSelfEdges",function(){(function(At){$e.forEach(At.nodes(),function(Nt){var jt=At.node(Nt);if(jt.dummy==="selfedge"){var le=At.node(jt.e.v),xe=le.x+le.width/2,ge=le.y,Be=jt.x-xe,ir=le.height/2;At.setEdge(jt.e,jt.label),At.removeNode(Nt),jt.label.points=[{x:xe+2*Be/3,y:ge-ir},{x:xe+5*Be/6,y:ge-ir},{x:xe+Be,y:ge},{x:xe+5*Be/6,y:ge+ir},{x:xe+2*Be/3,y:ge+ir}],jt.label.x=jt.x,jt.label.y=jt.y}})})(pt)}),yt("    removeBorderNodes",function(){(function(At){$e.forEach(At.nodes(),function(Nt){if(At.children(Nt).length){var jt=At.node(Nt),le=At.node(jt.borderTop),xe=At.node(jt.borderBottom),ge=At.node($e.last(jt.borderLeft)),Be=At.node($e.last(jt.borderRight));jt.width=Math.abs(Be.x-ge.x),jt.height=Math.abs(xe.y-le.y),jt.x=ge.x+jt.width/2,jt.y=le.y+jt.height/2}}),$e.forEach(At.nodes(),function(Nt){At.node(Nt).dummy==="border"&&At.removeNode(Nt)})})(pt)}),yt("    normalize.undo",function(){Xs.undo(pt)}),yt("    fixupEdgeLabelCoords",function(){(function(At){$e.forEach(At.edges(),function(Nt){var jt=At.edge(Nt);if($e.has(jt,"x"))switch(jt.labelpos!=="l"&&jt.labelpos!=="r"||(jt.width-=jt.labeloffset),jt.labelpos){case"l":jt.x-=jt.width/2+jt.labeloffset;break;case"r":jt.x+=jt.width/2+jt.labeloffset}})})(pt)}),yt("    undoCoordinateSystem",function(){vl.undo(pt)}),yt("    translateGraph",function(){(function(At){var Nt=Number.POSITIVE_INFINITY,jt=0,le=Number.POSITIVE_INFINITY,xe=0,ge=At.graph(),Be=ge.marginx||0,ir=ge.marginy||0;function Yr(dr){var pr=dr.x,gr=dr.y,bn=dr.width,Ln=dr.height;Nt=Math.min(Nt,pr-bn/2),jt=Math.max(jt,pr+bn/2),le=Math.min(le,gr-Ln/2),xe=Math.max(xe,gr+Ln/2)}$e.forEach(At.nodes(),function(dr){Yr(At.node(dr))}),$e.forEach(At.edges(),function(dr){var pr=At.edge(dr);$e.has(pr,"x")&&Yr(pr)}),Nt-=Be,le-=ir,$e.forEach(At.nodes(),function(dr){var pr=At.node(dr);pr.x-=Nt,pr.y-=le}),$e.forEach(At.edges(),function(dr){var pr=At.edge(dr);$e.forEach(pr.points,function(gr){gr.x-=Nt,gr.y-=le}),$e.has(pr,"x")&&(pr.x-=Nt),$e.has(pr,"y")&&(pr.y-=le)}),ge.width=jt-Nt+Be,ge.height=xe-le+ir})(pt)}),yt("    assignNodeIntersects",function(){(function(At){$e.forEach(At.edges(),function(Nt){var jt,le,xe=At.edge(Nt),ge=At.node(Nt.v),Be=At.node(Nt.w);xe.points?(jt=xe.points[0],le=xe.points[xe.points.length-1]):(xe.points=[],jt=Be,le=ge),xe.points.unshift(No.intersectRect(ge,jt)),xe.points.push(No.intersectRect(Be,le))})})(pt)}),yt("    reversePoints",function(){(function(At){$e.forEach(At.edges(),function(Nt){var jt=At.edge(Nt);jt.reversed&&jt.points.reverse()})})(pt)}),yt("    acyclic.undo",function(){hl.undo(pt)})})(it,Z)}),Z("  updateInputGraph",function(){(function(pt,yt){$e.forEach(pt.nodes(),function(At){var Nt=pt.node(At),jt=yt.node(At);Nt&&(Nt.x=jt.x,Nt.y=jt.y,yt.children(At).length&&(Nt.width=jt.width,Nt.height=jt.height))}),$e.forEach(pt.edges(),function(At){var Nt=pt.edge(At),jt=yt.edge(At);Nt.points=jt.points,$e.has(jt,"x")&&(Nt.x=jt.x,Nt.y=jt.y)}),pt.graph().width=yt.graph().width,pt.graph().height=yt.graph().height})(v,it)})})},ks=["nodesep","edgesep","ranksep","marginx","marginy"],jf={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},oc=["acyclicer","ranker","rankdir","align"],El=["width","height"],ms={width:0,height:0},Yo=["minlen","weight","width","height","labeloffset"],Bs={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},no=["labelpos"];function mi(v,N){return $e.mapValues($e.pick(v,N),Number)}function gu(v){var N={};return $e.forEach(v,function(Z,it){N[it.toLowerCase()]=Z}),N}var Wu=os.Graph,md={graphlib:os,layout:Uu,debug:{debugOrdering:function(v){var N=wo.buildLayerMatrix(v),Z=new Wu({compound:!0,multigraph:!0}).setGraph({});return $e.forEach(v.nodes(),function(it){Z.setNode(it,{label:it}),Z.setParent(it,"layer"+v.node(it).rank)}),$e.forEach(v.edges(),function(it){Z.setEdge(it.v,it.w,{},it.name)}),$e.forEach(N,function(it,pt){var yt="layer"+pt;Z.setNode(yt,{rank:"same"}),$e.reduce(it,function(At,Nt){return Z.setEdge(At,Nt,{style:"invis"}),Nt})}),Z}},util:{time:wo.time,notime:wo.notime},version:"0.8.5"},sc=md.graphlib,Oo=md.layout;class Vf{constructor(N){this.cardinality=1,this.include=p.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=P.NODE,this.name=N.name,this.attr=N.attr||{},this.inputs=N.inputs,this.path=N.path||[],this.width=N.width,this.height=N.height}}class Hf{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}function yd(v){const N=new Hf;return v.nodes.map(Z=>new Vf(Z)).forEach(Z=>{N.nodes[Z.name]=Z,Z.inputs.forEach(it=>{(function(pt,yt,At){At.name!==yt.name&&pt.edges.push(Object.assign(Object.assign({},At.attr),{v:At.name,w:yt.name}))})(N,Z,it)})}),N}class Hs{constructor(N,Z={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=p.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=P.META,this.path=[],this.name=N,this.metaGraph=Yu(N,m.META,Z)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(N=>this.metaGraph.node(N))}leaves(){let N,Z=[],it=[this];for(;it.length;){let pt=it.shift();pt.isGroupNode?(N=pt.metaGraph,N.nodes().forEach(yt=>it.push(N.node(yt)))):Z.push(pt.name)}return Z}}class Zf{constructor(N,Z){this.v=N,this.w=Z,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(N,Z){this.baseEdgeList.push(N)}}function Hc(v,N={}){return new Hs(v,N)}function uc(v,N){return new Zf(v,N)}function Yu(v,N,Z){const it=Z||{},pt=new sc.Graph(it);return pt.setGraph({name:v,rankdir:it.rankdir,type:N,align:it.align}),pt}class Zc{constructor(N={}){this.graphOptions=N,this.index={},this.graphOptions.compound=!0,this.root=Hc(_,this.graphOptions),this.index[_]=this.root}getNodeMap(){return this.index}node(N){return this.index[N]}setNode(N,Z){this.index[N]=Z}getBridgeGraph(N){const Z=this.index[N];if(!Z)throw Error("Could not find node in hierarchy: "+N);if(!("metaGraph"in Z))return null;const it=Z;if(it.bridgeGraph)return it.bridgeGraph;const pt=Yu(L,m.BRIDGE,this.graphOptions);if(it.bridgeGraph=pt,!Z.parentNode||!("metaGraph"in Z.parentNode))return pt;const yt=Z.parentNode;return[yt.metaGraph,this.getBridgeGraph(yt.name)].forEach(At=>{At.edges().filter(Nt=>Nt.v===N||Nt.w===N).forEach(Nt=>{const jt=Nt.w===N;At.edge(Nt).baseEdgeList.forEach(le=>{const[xe,ge]=jt?[le.w,Nt.v]:[le.v,Nt.w],Be=this.getChildName(N,xe),ir={v:jt?ge:Be,w:jt?Be:ge};let Yr=pt.edge(ir);Yr||(Yr=uc(ir.v,ir.w),Yr.inbound=jt,pt.setEdge(ir.v,ir.w,Yr)),Yr.addBaseEdge(le,this)})})}),pt}getChildName(N,Z){let it=this.index[Z];for(;it;){if(it.parentNode&&it.parentNode.name===N)return it.name;it=it.parentNode}throw Error("Could not find immediate child for descendant: "+Z)}getPredecessors(N){const Z=this.index[N];if(!Z)throw Error("Could not find node with name: "+N);return this.getOneWayEdges(Z,!0)}getSuccessors(N){const Z=this.index[N];if(!Z)throw Error("Could not find node with name: "+N);return this.getOneWayEdges(Z,!1)}getOneWayEdges(N,Z){const it=[];if(!N.parentNode||!N.parentNode.isGroupNode)return it;const pt=N.parentNode,yt=pt.metaGraph,At=this.getBridgeGraph(pt.name);return Kc(yt,N,Z,it),Kc(At,N,Z,it),it}}function Zs(v,N){const{rankDirection:Z,align:it}=N,pt=new Zc({rankdir:Z,align:it});return function(yt,At){Object.keys(At.nodes).forEach(Nt=>{const jt=At.nodes[Nt],le=jt.path;let xe=yt.root;xe.depth=Math.max(le.length,xe.depth);for(let ge=0;ge<le.length&&(xe.depth=Math.max(xe.depth,le.length-ge),xe.cardinality+=jt.cardinality,ge!==le.length-1);ge++){const Be=le[ge];let ir=yt.node(Be);ir||(ir=Hc(Be,yt.graphOptions),ir.path=jt.path.slice(0,ge+1),ir.parentNode=xe,yt.setNode(Be,ir),xe.metaGraph.setNode(Be,ir)),xe=ir}yt.setNode(jt.name,jt),jt.parentNode=xe,xe.metaGraph.setNode(jt.name,jt)})}(pt,v),function(yt,At){const Nt=yt.getNodeMap();let jt=[],le=[];const xe=(ge,Be)=>{let ir=0;for(;ge;)Be[ir++]=ge.name,ge=ge.parentNode;return ir-1};At.edges.forEach(ge=>{jt=[],le=[];let Be=xe(At.nodes[ge.v],jt),ir=xe(At.nodes[ge.w],le);for(;jt[Be]===le[ir];)if(Be--,ir--,Be<0||ir<0)throw Error("No difference found between ancestor paths.");const Yr=Nt[jt[Be+1]],dr=jt[Be],pr=le[ir];let gr=Yr.metaGraph.edge(dr,pr);gr||(gr=uc(dr,pr),Yr.metaGraph.setEdge(dr,pr,gr)),gr.addBaseEdge(ge,yt)})}(pt,v),pt}function Kc(v,N,Z,it){(Z?v.inEdges(N.name):v.outEdges(N.name)).forEach(pt=>{const yt=v.edge(pt);it.push(yt)})}class lc{constructor(N){this.hierarchy=N,this.index={},this.hasSubHierarchy={},this.root=new we(this.hierarchy.root,this.hierarchy.graphOptions),this.index[N.root.name]=this.root,this.buildSubHierarchy(N.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(N){if(N in this.hasSubHierarchy)return;this.hasSubHierarchy[N]=!0;const Z=this.index[N];if(Z.node.type!==P.META)return;const it=Z,pt=it.node.metaGraph,yt=it.coreGraph;pt.nodes().forEach(xe=>{const ge=this.getOrCreateRenderNodeByName(xe);yt.setNode(xe,ge)}),pt.edges().forEach(xe=>{const ge=pt.edge(xe),Be=new Lt(ge);yt.setEdge(xe.v,xe.w,Be)});const At=it.node.parentNode;if(!At)return;const Nt=this.getRenderNodeByName(At.name),jt=(xe,...ge)=>ge.concat([xe?"IN":"OUT"]).join("~~"),le=this.hierarchy.getBridgeGraph(N);le.edges().forEach(xe=>{const ge=le.edge(xe),Be=!!pt.node(xe.w),[ir,Yr]=Be?[xe.w,xe.v]:[xe.v,xe.w],dr=ta=>{const Kn=Be?{v:ta,w:N}:{v:N,w:ta};return Nt.coreGraph.edge(Kn)};let pr=dr(Yr);pr||(pr=dr(jt(Be,Yr,At.name)));const gr=jt(Be,N),bn=jt(Be,Yr,N);let Ln=yt.node(bn);if(!Ln){let ta=yt.node(gr);if(!ta){const ia={name:gr,type:P.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:p.UNSPECIFIED,inbound:Be,attr:{}};ta=new wl(ia),this.index[gr]=ta,yt.setNode(gr,ta)}const Kn={name:bn,type:P.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:p.UNSPECIFIED,inbound:Be,attr:{}};Ln=new wl(Kn),this.index[bn]=Ln,yt.setNode(bn,Ln),yt.setParent(bn,gr),ta.node.cardinality++}const Cn=new Lt(ge);Cn.adjoiningMetaEdge=pr,Be?yt.setEdge(bn,ir,Cn):yt.setEdge(ir,bn,Cn)})}getOrCreateRenderNodeByName(N){if(!N)return null;if(N in this.index)return this.index[N];const Z=this.getNodeByName(N);return Z?(this.index[N]=Z.isGroupNode?new we(Z,this.hierarchy.graphOptions):new wl(Z),this.index[N]):null}getRenderNodeByName(N){return this.index[N]}getNodeByName(N){return this.hierarchy.node(N)}}class wl{constructor(N){this.node=N,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=N.width||0,this.height=N.height||0,this.displayName=N.name,this.attr=N.attr}}class Lt{constructor(N){this.metaEdge=N,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class we extends wl{constructor(N,Z){super(N);const it=N.metaGraph.graph();Z.compound=!0,this.coreGraph=Yu(it.name,m.CORE,Z)}}function ze(v,N){v.node.isGroupNode&&function(Z,it){const pt=R(it);Z.coreGraph.nodes().map(yt=>Z.coreGraph.node(yt)).forEach(yt=>{var At,Nt,jt,le,xe,ge;const{height:Be,width:ir}=yt;switch(yt.node.type){case P.NODE:Object.assign(yt,pt.nodeSize.node),yt.height=Be||pt.nodeSize.node.height,yt.width=ir||pt.nodeSize.node.width;break;case P.BRIDGE:Object.assign(yt,pt.nodeSize.bridge);break;case P.META:yt.expanded?ze(yt,it):(Object.assign(yt,pt.nodeSize.meta),yt.height=pt.nodeSize.meta.height,yt.width=pt.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+yt.node.type)}if(!yt.expanded){const Yr=yt.attr;(function(dr,pr=!1){if(dr.coreBox.width=dr.width,dr.coreBox.height=dr.height,!pr){const gr=`${dr.displayName}`.length,bn=3;dr.width=Math.max(dr.coreBox.width,gr*bn)}})(yt,it&&(yt.node.type===0&&!!(!((Nt=(At=it==null?void 0:it.nodeSize)===null||At===void 0?void 0:At.meta)===null||Nt===void 0)&&Nt.width)||yt.node.type===1&&(!!(!((le=(jt=it==null?void 0:it.nodeSize)===null||jt===void 0?void 0:jt.node)===null||le===void 0)&&le.width)||!!Yr.width)||yt.node.type===2&&!!(!((ge=(xe=it==null?void 0:it.nodeSize)===null||xe===void 0?void 0:xe.bridge)===null||ge===void 0)&&ge.width)))}})}(v,N),v.node.type===P.META&&function(Z,it){const pt=R(it),yt=pt.subScene.meta;Object.assign(Z,yt);const{nodeSep:At,rankSep:Nt,edgeSep:jt,align:le}=pt.graph.meta,xe={nodesep:At,ranksep:Nt,edgesep:jt,align:le};Object.assign(Z.coreBox,function(ir,Yr){const{ranksep:dr,nodesep:pr,edgesep:gr,align:bn}=Yr;Object.assign(ir.graph(),{ranksep:dr,nodesep:pr,edgesep:gr,align:bn});const Ln=[];if(ir.nodes().forEach(pa=>{ir.node(pa).node.type!==P.BRIDGE&&Ln.push(pa)}),!Ln.length)return{width:0,height:0};Oo(ir);let Cn=1/0,ta=1/0,Kn=-1/0,ia=-1/0;return Ln.forEach(pa=>{const da=ir.node(pa),Di=.5*da.width,ya=da.x-Di,qi=da.x+Di;Cn=ya<Cn?ya:Cn,Kn=qi>Kn?qi:Kn;const yi=.5*da.height,Ua=da.y-yi,Ci=da.y+yi;ta=Ua<ta?Ua:ta,ia=Ci>ia?Ci:ia}),ir.edges().forEach(pa=>{const da=ir.edge(pa),Di=ir.node(da.metaEdge.v),ya=ir.node(da.metaEdge.w);if(da.points.length===3&&function(Ua){let Ci=Dr(Ua[0],Ua[1]);for(let Ji=1;Ji<Ua.length-1;Ji++){const So=Dr(Ua[Ji],Ua[Ji+1]);if(Math.abs(So-Ci)>1)return!1;Ci=So}return!0}(da.points)){if(Di!=null){const Ua=Di.expanded?Di.x:Jr(Di);da.points[0].x=Ua}if(ya!=null){const Ua=ya.expanded?ya.x:Jr(ya);da.points[2].x=Ua}da.points=[da.points[0],da.points[1]]}const qi=da.points[da.points.length-2];ya!=null&&(da.points[da.points.length-1]=Ar(qi,ya));const yi=da.points[1];Di!=null&&(da.points[0]=Ar(yi,Di)),da.points.forEach(Ua=>{Cn=Ua.x<Cn?Ua.x:Cn,Kn=Ua.x>Kn?Ua.x:Kn,ta=Ua.y<ta?Ua.y:ta,ia=Ua.y>ia?Ua.y:ia})}),ir.nodes().forEach(pa=>{const da=ir.node(pa);da.x-=Cn,da.y-=ta}),ir.edges().forEach(pa=>{ir.edge(pa).points.forEach(da=>{da.x-=Cn,da.y-=ta})}),{width:Kn-Cn,height:ia-ta}}(Z.coreGraph,xe));let ge=0;Z.coreGraph.nodeCount()>0&&ge++;const Be=ge<=1?0:ge;Z.coreBox.width+=Be+Be,Z.coreBox.height=yt.labelHeight+Z.coreBox.height,Z.width=Z.coreBox.width+yt.paddingLeft+yt.paddingRight,Z.height=Z.paddingTop+Z.coreBox.height+Z.paddingBottom}(v,N)}function Dr(v,N){const Z=N.x-v.x,it=N.y-v.y;return 180*Math.atan(it/Z)/Math.PI}function Jr(v){return v.expanded?v.x:v.x-v.width/2+0+v.coreBox.width/2}function Ar(v,N){const Z=N.expanded?N.x:Jr(N),it=N.y,pt=v.x-Z,yt=v.y-it;let At,Nt,jt=N.expanded?N.width:N.coreBox.width,le=N.expanded?N.height:N.coreBox.height;return Math.abs(yt)*jt/2>Math.abs(pt)*le/2?(yt<0&&(le=-le),At=yt===0?0:le/2*pt/yt,Nt=le/2):(pt<0&&(jt=-jt),At=jt/2,Nt=pt===0?0:jt/2*yt/pt),{x:Z+At,y:it+Nt}}function Gr(v,N,Z){var it,pt,yt,At;const Nt=v.nodes.filter((ge,Be,ir)=>ir.findIndex(Yr=>Yr.id===ge.id)!==Be).map(ge=>ge.id);if(Nt.length)throw new Error(`Duplicated ids found: ${Nt.join(", ")}`);const jt=function(ge){const Be={nodes:[]},ir=ge.compound,Yr=Object.keys(ir||{}),dr=new Map,pr=(bn,Ln=[])=>{if(dr.has(bn))return dr.get(bn);for(let Cn=0;Cn<Yr.length;Cn++){let ta=Yr[Cn];if(ir&&ir[ta].indexOf(bn)!==-1)return Ln.unshift(ta),pr(ta,Ln)}return Ln.length===0&&dr.set(bn,Ln),Ln},gr=bn=>ge.edges.filter(Ln=>Ln.w===bn).map(Ln=>({name:Ln.v}));return ge.nodes.forEach(bn=>{const Ln=bn.id,Cn=[...pr(Ln),Ln];let ta=gr(Ln);Be.nodes.push({name:Ln,path:Cn,inputs:ta,width:bn.width,height:bn.height,attr:Object.assign({},bn)})}),Be}(v),le=function(ge,Be){const ir=(dr,pr)=>{for(let gr of pr.values())if(gr.includes(dr))return!0;return!1},Yr=(dr,pr=[])=>{if(Object.keys(dr).length===0)return[...new Set(pr)];const gr=new Map(Object.keys(dr).map(Ln=>[Ln,dr[Ln]])),bn={};for(let[Ln,Cn]of gr)ir(Ln,gr)?bn[Ln]=Cn:pr=pr.concat(Ln,Cn);return Yr(bn,pr)};return Yr(ge).filter(dr=>Be.includes(dr))}(v.compound||{},(N==null?void 0:N.expanded)||[]),xe=function(ge,Be){return function(ir){return new lc(ir)}(Zs(yd(ge),Be))}(jt,{rankDirection:((pt=(it=Z==null?void 0:Z.graph)===null||it===void 0?void 0:it.meta)===null||pt===void 0?void 0:pt.rankDir)||(N==null?void 0:N.rankDirection)||y.graph.meta.rankDir,align:((At=(yt=Z==null?void 0:Z.graph)===null||yt===void 0?void 0:yt.meta)===null||At===void 0?void 0:At.align)||y.graph.meta.align});return function(ge,Be){Be.forEach(ir=>{const Yr=ge.getRenderInfoNodes().find(gr=>gr.displayName===ir);let dr=Yr&&Yr.node&&Yr.node.name||"";const pr=ge.getRenderNodeByName(dr);if(!pr)throw new Error(`No nodes found: ${dr}`);pr.expanded=!0,ge.buildSubHierarchy(dr)})}(xe,le),ze(xe.root,Z),En(xe.root)}function vn(v,N=!1){const Z=JSON.parse(JSON.stringify(v)),it={nodes:[Z],edges:[...Z.edges]};return Z.nodes.forEach(function pt(yt){(yt.type===0||yt.type===1)&&it.nodes.push(yt),yt.type===0&&(it.edges=it.edges.concat(yt.edges)),Array.isArray(yt.nodes)&&yt.nodes.forEach(pt)}),N&&it.nodes.forEach(pt=>{const yt=it.nodes.find(At=>At.id===pt.parentNodeName);if(yt){const At=yt.x-yt.width/2+yt.paddingLeft,Nt=yt.y-yt.height/2+yt.labelHeight+yt.paddingTop;yt.id!==_&&(pt.x+=At,pt.y+=Nt),pt.type===0&&pt.edges.forEach(jt=>{jt.points.forEach(le=>{le.x+=pt.x-pt.width/2+pt.paddingLeft,le.y+=pt.y-pt.height/2+pt.labelHeight+pt.paddingTop})})}}),it}function mn(v,N,Z,it){var pt,yt;let At=[];const Nt=((pt=Z.find(ge=>ge.id===v))===null||pt===void 0?void 0:pt.path)||[],jt=((yt=Z.find(ge=>ge.id===N))===null||yt===void 0?void 0:yt.path)||[],le=[_,...Nt].slice(0,Nt.length).reverse(),xe=[_,...jt].slice(0,jt.length);return le.forEach(ge=>{const Be=Z.find(ir=>ir.id===ge);At=At.concat(Be.edges.filter(ir=>ir.baseEdgeList.some(Yr=>Yr.v===((it==null?void 0:it.v)||v)&&Yr.w===((it==null?void 0:it.w)||N))))}),xe.filter(ge=>!le.includes(ge)).forEach(ge=>{const Be=Z.find(ir=>ir.id===ge);At=At.concat(Be.edges.filter(ir=>ir.baseEdgeList.some(Yr=>Yr.v===((it==null?void 0:it.v)||v)&&Yr.w===((it==null?void 0:it.w)||N))))}),At}function En(v){const N=v.coreGraph.nodes().map(it=>v.coreGraph.node(it));return Object.assign(Object.assign({},yn(v)),{expanded:v.expanded,nodes:v.expanded?(Z=N,Z.map(it=>it.node.type===P.META?En(it):yn(it))):[],edges:v.expanded?_n(v):[]});var Z}function yn(v){return{id:v.node.name,name:v.node.name,type:v.node.type,cardinality:v.node.cardinality,attr:v.attr,parentNodeName:v.node.parentNode?v.node.parentNode.name:null,coreBox:Object.assign({},v.coreBox),x:v.x,y:v.y,width:v.width,height:v.height,radius:v.radius,labelHeight:v.labelHeight,labelOffset:v.labelOffset,outboxWidth:v.outboxWidth,paddingLeft:v.paddingLeft,paddingTop:v.paddingTop,paddingRight:v.paddingRight,paddingBottom:v.paddingBottom,path:v.node.path}}function _n(v){return v.coreGraph.edges().map(N=>({renderInfoEdge:v.coreGraph.edge(N),edge:N})).filter(({renderInfoEdge:N})=>N.metaEdge).map(({edge:N,renderInfoEdge:Z})=>{const it=function(pt,yt){const At=yt.points.map(Nt=>Object.assign({},Nt));if(yt.adjoiningMetaEdge){const Nt=yt.adjoiningMetaEdge.points,jt=yt.metaEdge.inbound,le=jt?Nt[Nt.length-1]:Nt[0],xe=At[jt?0:At.length-1],ge=pt.x-pt.width/2,Be=pt.y-pt.height/2,ir=le.x-ge,Yr=le.y-Be,dr=-pt.paddingLeft,pr=-(pt.paddingTop+pt.labelHeight);xe.x=ir+dr,xe.y=Yr+pr}return At}(v,Z);return{adjoiningEdge:Z.adjoiningMetaEdge?{w:Z.adjoiningMetaEdge.metaEdge.w,v:Z.adjoiningMetaEdge.metaEdge.v}:null,inbound:Z.metaEdge.inbound,w:N.w,v:N.v,points:it,weight:Z.weight,baseEdgeList:Z.metaEdge.baseEdgeList,parentNodeName:v.node.name}})}},533852:function(Ge,W,C){(function(y,R){Ge.exports=R(C(727484))})(this,function(y){"use strict";function R(L){return L&&typeof L=="object"&&"default"in L?L:{default:L}}var w=R(y),_={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(L,P){return P==="W"?L+"\u5468":L+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(L,P){var p=100*L+P;return p<600?"\u51CC\u6668":p<900?"\u65E9\u4E0A":p<1100?"\u4E0A\u5348":p<1300?"\u4E2D\u5348":p<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return w.default.locale(_,null,!0),_})},414144:function(Ge,W){var C,y,R;(function(w,_){if(!0)y=[W,Ge],C=_,R=typeof C=="function"?C.apply(W,y):C,R!==void 0&&(Ge.exports=R);else var L})(this,function(w,_){"use strict";var L={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function P(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function p(E){try{delete window[E]}catch(b){window[E]=void 0}}function m(E){var b=document.getElementById(E);b&&document.getElementsByTagName("head")[0].removeChild(b)}function S(E){var b=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],A=E,x=b.timeout||L.timeout,D=b.jsonpCallback||L.jsonpCallback,k=void 0;return new Promise(function(g,f){var z=b.jsonpCallbackFunction||P(),Y=D+"_"+z;window[z]=function(G){g({ok:!0,json:function(){return Promise.resolve(G)}}),k&&clearTimeout(k),m(Y),p(z)},A+=A.indexOf("?")===-1?"?":"&";var U=document.createElement("script");U.setAttribute("src",""+A+D+"="+z),b.charset&&U.setAttribute("charset",b.charset),b.nonce&&U.setAttribute("nonce",b.nonce),b.referrerPolicy&&U.setAttribute("referrerPolicy",b.referrerPolicy),U.id=Y,document.getElementsByTagName("head")[0].appendChild(U),k=setTimeout(function(){f(new Error("JSONP request to "+E+" timed out")),p(z),m(Y),window[z]=function(){p(z)}},x),U.onerror=function(){f(new Error("JSONP request to "+E+" failed")),p(z),m(Y),k&&clearTimeout(k)}})}_.exports=S})},417648:function(Ge){"use strict";var W="Function.prototype.bind called on incompatible ",C=Array.prototype.slice,y=Object.prototype.toString,R="[object Function]";Ge.exports=function(_){var L=this;if(typeof L!="function"||y.call(L)!==R)throw new TypeError(W+L);for(var P=C.call(arguments,1),p,m=function(){if(this instanceof p){var x=L.apply(this,P.concat(C.call(arguments)));return Object(x)===x?x:this}else return L.apply(_,P.concat(C.call(arguments)))},S=Math.max(0,L.length-P.length),E=[],b=0;b<S;b++)E.push("$"+b);if(p=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this,arguments); }")(m),L.prototype){var A=function(){};A.prototype=L.prototype,p.prototype=new A,A.prototype=null}return p}},158612:function(Ge,W,C){"use strict";var y=C(417648);Ge.exports=Function.prototype.bind||y},340210:function(Ge,W,C){"use strict";var y,R=SyntaxError,w=Function,_=TypeError,L=function(st){try{return w('"use strict"; return ('+st+").constructor;")()}catch(bt){}},P=Object.getOwnPropertyDescriptor;if(P)try{P({},"")}catch(st){P=null}var p=function(){throw new _},m=P?function(){try{return arguments.callee,p}catch(st){try{return P(arguments,"callee").get}catch(bt){return p}}}():p,S=C(241405)(),E=Object.getPrototypeOf||function(st){return st.__proto__},b={},A=typeof Uint8Array=="undefined"?y:E(Uint8Array),x={"%AggregateError%":typeof AggregateError=="undefined"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?y:ArrayBuffer,"%ArrayIteratorPrototype%":S?E([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics=="undefined"?y:Atomics,"%BigInt%":typeof BigInt=="undefined"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?y:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?y:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array=="undefined"?y:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?y:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S?E(E([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map=="undefined"?y:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!S?y:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?y:Promise,"%Proxy%":typeof Proxy=="undefined"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?y:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!S?y:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S?E(""[Symbol.iterator]()):y,"%Symbol%":S?Symbol:y,"%SyntaxError%":R,"%ThrowTypeError%":m,"%TypedArray%":A,"%TypeError%":_,"%Uint8Array%":typeof Uint8Array=="undefined"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?y:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?y:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?y:WeakSet};try{null.error}catch(st){var D=E(E(st));x["%Error.prototype%"]=D}var k=function st(bt){var ht;if(bt==="%AsyncFunction%")ht=L("async function () {}");else if(bt==="%GeneratorFunction%")ht=L("function* () {}");else if(bt==="%AsyncGeneratorFunction%")ht=L("async function* () {}");else if(bt==="%AsyncGenerator%"){var kt=st("%AsyncGeneratorFunction%");kt&&(ht=kt.prototype)}else if(bt==="%AsyncIteratorPrototype%"){var Mt=st("%AsyncGenerator%");Mt&&(ht=E(Mt.prototype))}return x[bt]=ht,ht},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},f=C(158612),z=C(117642),Y=f.call(Function.call,Array.prototype.concat),U=f.call(Function.apply,Array.prototype.splice),G=f.call(Function.call,String.prototype.replace),j=f.call(Function.call,String.prototype.slice),K=f.call(Function.call,RegExp.prototype.exec),nt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,J=function(bt){var ht=j(bt,0,1),kt=j(bt,-1);if(ht==="%"&&kt!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(kt==="%"&&ht!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var Mt=[];return G(bt,nt,function(St,V,Q,xt){Mt[Mt.length]=Q?G(xt,q,"$1"):V||St}),Mt},ut=function(bt,ht){var kt=bt,Mt;if(z(g,kt)&&(Mt=g[kt],kt="%"+Mt[0]+"%"),z(x,kt)){var St=x[kt];if(St===b&&(St=k(kt)),typeof St=="undefined"&&!ht)throw new _("intrinsic "+bt+" exists, but is not available. Please file an issue!");return{alias:Mt,name:kt,value:St}}throw new R("intrinsic "+bt+" does not exist!")};Ge.exports=function(bt,ht){if(typeof bt!="string"||bt.length===0)throw new _("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ht!="boolean")throw new _('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,bt)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var kt=J(bt),Mt=kt.length>0?kt[0]:"",St=ut("%"+Mt+"%",ht),V=St.name,Q=St.value,xt=!1,Ct=St.alias;Ct&&(Mt=Ct[0],U(kt,Y([0,1],Ct)));for(var et=1,vt=!0;et<kt.length;et+=1){var Tt=kt[et],Ot=j(Tt,0,1),Et=j(Tt,-1);if((Ot==='"'||Ot==="'"||Ot==="`"||Et==='"'||Et==="'"||Et==="`")&&Ot!==Et)throw new R("property names with quotes must have matching quotes");if((Tt==="constructor"||!vt)&&(xt=!0),Mt+="."+Tt,V="%"+Mt+"%",z(x,V))Q=x[V];else if(Q!=null){if(!(Tt in Q)){if(!ht)throw new _("base intrinsic for "+bt+" exists, but the property is not available.");return}if(P&&et+1>=kt.length){var Dt=P(Q,Tt);vt=!!Dt,vt&&"get"in Dt&&!("originalValue"in Dt.get)?Q=Dt.get:Q=Q[Tt]}else vt=z(Q,Tt),Q=Q[Tt];vt&&!xt&&(x[V]=Q)}}return Q}},73633:function(Ge,W,C){"use strict";C.r(W),C.d(W,{ARRAY_TYPE:function(){return R},EPSILON:function(){return y},RANDOM:function(){return w},equals:function(){return p},setMatrixArrayType:function(){return _},toRadian:function(){return P}});var y=1e-6,R=typeof Float32Array!="undefined"?Float32Array:Array,w=Math.random;function _(m){R=m}var L=Math.PI/180;function P(m){return m*L}function p(m,S){return Math.abs(m-S)<=y*Math.max(1,Math.abs(m),Math.abs(S))}Math.hypot||(Math.hypot=function(){for(var m=0,S=arguments.length;S--;)m+=arguments[S]*arguments[S];return Math.sqrt(m)})},858204:function(Ge,W,C){"use strict";C.r(W),C.d(W,{glMatrix:function(){return p},mat2:function(){return y},mat2d:function(){return R},mat3:function(){return Cr},mat4:function(){return w},quat:function(){return L},quat2:function(){return P},vec2:function(){return Lo},vec3:function(){return Lr},vec4:function(){return _}});var y={};C.r(y),C.d(y,{LDU:function(){return q},add:function(){return J},adjoint:function(){return g},clone:function(){return S},copy:function(){return E},create:function(){return m},determinant:function(){return f},equals:function(){return bt},exactEquals:function(){return st},frob:function(){return nt},fromRotation:function(){return G},fromScaling:function(){return j},fromValues:function(){return A},identity:function(){return b},invert:function(){return k},mul:function(){return Mt},multiply:function(){return z},multiplyScalar:function(){return ht},multiplyScalarAndAdd:function(){return kt},rotate:function(){return Y},scale:function(){return U},set:function(){return x},str:function(){return K},sub:function(){return St},subtract:function(){return ut},transpose:function(){return D}});var R={};C.r(R),C.d(R,{add:function(){return qt},clone:function(){return Q},copy:function(){return xt},create:function(){return V},determinant:function(){return Ot},equals:function(){return Pt},exactEquals:function(){return Se},frob:function(){return Gt},fromRotation:function(){return ee},fromScaling:function(){return It},fromTranslation:function(){return ne},fromValues:function(){return et},identity:function(){return Ct},invert:function(){return Tt},mul:function(){return Fe},multiply:function(){return Et},multiplyScalar:function(){return Zt},multiplyScalarAndAdd:function(){return se},rotate:function(){return Dt},scale:function(){return Vt},set:function(){return vt},str:function(){return pe},sub:function(){return vr},subtract:function(){return $t},translate:function(){return ue}});var w={};C.r(w),C.d(w,{add:function(){return be},adjoint:function(){return zr},clone:function(){return Ur},copy:function(){return nn},create:function(){return _r},determinant:function(){return Ir},equals:function(){return un},exactEquals:function(){return Pr},frob:function(){return Te},fromQuat:function(){return re},fromQuat2:function(){return Xt},fromRotation:function(){return Sn},fromRotationTranslation:function(){return Xe},fromRotationTranslationScale:function(){return ft},fromRotationTranslationScaleOrigin:function(){return Ut},fromScaling:function(){return dn},fromTranslation:function(){return an},fromValues:function(){return on},fromXRotation:function(){return Dn},fromYRotation:function(){return Nn},fromZRotation:function(){return rt},frustum:function(){return ae},getRotation:function(){return Ft},getScaling:function(){return ot},getTranslation:function(){return te},identity:function(){return Rr},invert:function(){return br},lookAt:function(){return zt},mul:function(){return Ue},multiply:function(){return je},multiplyScalar:function(){return fr},multiplyScalarAndAdd:function(){return He},ortho:function(){return $},orthoNO:function(){return O},orthoZO:function(){return mt},perspective:function(){return ct},perspectiveFromFieldOfView:function(){return M},perspectiveNO:function(){return at},perspectiveZO:function(){return F},rotate:function(){return rr},rotateX:function(){return jr},rotateY:function(){return Nr},rotateZ:function(){return kn},scale:function(){return xn},set:function(){return tr},str:function(){return Kt},sub:function(){return ur},subtract:function(){return We},targetTo:function(){return Rt},translate:function(){return qe},transpose:function(){return qr}});var _={};C.r(_),C.d(_,{add:function(){return ye},ceil:function(){return rn},clone:function(){return ce},copy:function(){return he},create:function(){return Or},cross:function(){return Ti},dist:function(){return si},distance:function(){return sa},div:function(){return Zo},divide:function(){return cr},dot:function(){return Mi},equals:function(){return oi},exactEquals:function(){return uo},floor:function(){return An},forEach:function(){return fe},fromValues:function(){return Yt},inverse:function(){return Ei},len:function(){return Qn},length:function(){return Za},lerp:function(){return ga},max:function(){return Yn},min:function(){return ln},mul:function(){return Gi},multiply:function(){return nr},negate:function(){return xa},normalize:function(){return _o},random:function(){return Ri},round:function(){return sn},scale:function(){return Bn},scaleAndAdd:function(){return Jn},set:function(){return Me},sqrDist:function(){return Ai},sqrLen:function(){return Jt},squaredDistance:function(){return qn},squaredLength:function(){return za},str:function(){return Fo},sub:function(){return Li},subtract:function(){return Ne},transformMat4:function(){return so},transformQuat:function(){return Ba},zero:function(){return Zi}});var L={};C.r(L),C.d(L,{add:function(){return ni},calculateW:function(){return Un},clone:function(){return Ra},conjugate:function(){return Pa},copy:function(){return va},create:function(){return Pe},dot:function(){return Oi},equals:function(){return Ma},exactEquals:function(){return Bi},exp:function(){return na},fromEuler:function(){return ui},fromMat3:function(){return Ea},fromValues:function(){return Ca},getAngle:function(){return xr},getAxisAngle:function(){return Sr},identity:function(){return ar},invert:function(){return Ga},len:function(){return Ao},length:function(){return To},lerp:function(){return Ui},ln:function(){return aa},mul:function(){return di},multiply:function(){return Kr},normalize:function(){return pi},pow:function(){return Ya},random:function(){return $n},rotateX:function(){return cn},rotateY:function(){return Mn},rotateZ:function(){return Zn},rotationTo:function(){return Wi},scale:function(){return ki},set:function(){return fi},setAxes:function(){return _i},setAxisAngle:function(){return Tr},slerp:function(){return ua},sqlerp:function(){return lo},sqrLen:function(){return ka},squaredLength:function(){return Ni},str:function(){return qa}});var P={};C.r(P),C.d(P,{add:function(){return eo},clone:function(){return gi},conjugate:function(){return nu},copy:function(){return fs},create:function(){return Do},dot:function(){return Es},equals:function(){return xo},exactEquals:function(){return Xi},fromMat4:function(){return Uo},fromRotation:function(){return Go},fromRotationTranslation:function(){return ts},fromRotationTranslationValues:function(){return zo},fromTranslation:function(){return Yi},fromValues:function(){return co},getDual:function(){return Je},getReal:function(){return Le},getTranslation:function(){return fn},identity:function(){return ha},invert:function(){return ws},len:function(){return is},length:function(){return Ko},lerp:function(){return As},mul:function(){return hs},multiply:function(){return Wo},normalize:function(){return xu},rotateAroundAxis:function(){return Ii},rotateByQuatAppend:function(){return bo},rotateByQuatPrepend:function(){return ds},rotateX:function(){return Da},rotateY:function(){return hi},rotateZ:function(){return to},scale:function(){return qo},set:function(){return Wt},setDual:function(){return Zr},setReal:function(){return mr},sqrLen:function(){return Po},squaredLength:function(){return vs},str:function(){return Eu},translate:function(){return Fn}});var p=C(73633);function m(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h}function S(h){var X=new p.ARRAY_TYPE(4);return X[0]=h[0],X[1]=h[1],X[2]=h[2],X[3]=h[3],X}function E(h,X){return h[0]=X[0],h[1]=X[1],h[2]=X[2],h[3]=X[3],h}function b(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h}function A(h,X,wt,Bt){var Qt=new p.ARRAY_TYPE(4);return Qt[0]=h,Qt[1]=X,Qt[2]=wt,Qt[3]=Bt,Qt}function x(h,X,wt,Bt,Qt){return h[0]=X,h[1]=wt,h[2]=Bt,h[3]=Qt,h}function D(h,X){if(h===X){var wt=X[1];h[1]=X[2],h[2]=wt}else h[0]=X[0],h[1]=X[2],h[2]=X[1],h[3]=X[3];return h}function k(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=wt*de-Qt*Bt;return ve?(ve=1/ve,h[0]=de*ve,h[1]=-Bt*ve,h[2]=-Qt*ve,h[3]=wt*ve,h):null}function g(h,X){var wt=X[0];return h[0]=X[3],h[1]=-X[1],h[2]=-X[2],h[3]=wt,h}function f(h){return h[0]*h[3]-h[2]*h[1]}function z(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=wt[0],De=wt[1],Ye=wt[2],or=wt[3];return h[0]=Bt*_e+de*De,h[1]=Qt*_e+ve*De,h[2]=Bt*Ye+de*or,h[3]=Qt*Ye+ve*or,h}function Y(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=Math.sin(wt),De=Math.cos(wt);return h[0]=Bt*De+de*_e,h[1]=Qt*De+ve*_e,h[2]=Bt*-_e+de*De,h[3]=Qt*-_e+ve*De,h}function U(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=wt[0],De=wt[1];return h[0]=Bt*_e,h[1]=Qt*_e,h[2]=de*De,h[3]=ve*De,h}function G(h,X){var wt=Math.sin(X),Bt=Math.cos(X);return h[0]=Bt,h[1]=wt,h[2]=-wt,h[3]=Bt,h}function j(h,X){return h[0]=X[0],h[1]=0,h[2]=0,h[3]=X[1],h}function K(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}function nt(h){return Math.hypot(h[0],h[1],h[2],h[3])}function q(h,X,wt,Bt){return h[2]=Bt[2]/Bt[0],wt[0]=Bt[0],wt[1]=Bt[1],wt[3]=Bt[3]-h[2]*wt[1],[h,X,wt]}function J(h,X,wt){return h[0]=X[0]+wt[0],h[1]=X[1]+wt[1],h[2]=X[2]+wt[2],h[3]=X[3]+wt[3],h}function ut(h,X,wt){return h[0]=X[0]-wt[0],h[1]=X[1]-wt[1],h[2]=X[2]-wt[2],h[3]=X[3]-wt[3],h}function st(h,X){return h[0]===X[0]&&h[1]===X[1]&&h[2]===X[2]&&h[3]===X[3]}function bt(h,X){var wt=h[0],Bt=h[1],Qt=h[2],de=h[3],ve=X[0],_e=X[1],De=X[2],Ye=X[3];return Math.abs(wt-ve)<=p.EPSILON*Math.max(1,Math.abs(wt),Math.abs(ve))&&Math.abs(Bt-_e)<=p.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(_e))&&Math.abs(Qt-De)<=p.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(De))&&Math.abs(de-Ye)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(Ye))}function ht(h,X,wt){return h[0]=X[0]*wt,h[1]=X[1]*wt,h[2]=X[2]*wt,h[3]=X[3]*wt,h}function kt(h,X,wt,Bt){return h[0]=X[0]+wt[0]*Bt,h[1]=X[1]+wt[1]*Bt,h[2]=X[2]+wt[2]*Bt,h[3]=X[3]+wt[3]*Bt,h}var Mt=z,St=ut;function V(){var h=new p.ARRAY_TYPE(6);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h}function Q(h){var X=new p.ARRAY_TYPE(6);return X[0]=h[0],X[1]=h[1],X[2]=h[2],X[3]=h[3],X[4]=h[4],X[5]=h[5],X}function xt(h,X){return h[0]=X[0],h[1]=X[1],h[2]=X[2],h[3]=X[3],h[4]=X[4],h[5]=X[5],h}function Ct(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h}function et(h,X,wt,Bt,Qt,de){var ve=new p.ARRAY_TYPE(6);return ve[0]=h,ve[1]=X,ve[2]=wt,ve[3]=Bt,ve[4]=Qt,ve[5]=de,ve}function vt(h,X,wt,Bt,Qt,de,ve){return h[0]=X,h[1]=wt,h[2]=Bt,h[3]=Qt,h[4]=de,h[5]=ve,h}function Tt(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=X[4],_e=X[5],De=wt*de-Bt*Qt;return De?(De=1/De,h[0]=de*De,h[1]=-Bt*De,h[2]=-Qt*De,h[3]=wt*De,h[4]=(Qt*_e-de*ve)*De,h[5]=(Bt*ve-wt*_e)*De,h):null}function Ot(h){return h[0]*h[3]-h[1]*h[2]}function Et(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=X[4],De=X[5],Ye=wt[0],or=wt[1],Br=wt[2],Wr=wt[3],Fr=wt[4],gn=wt[5];return h[0]=Bt*Ye+de*or,h[1]=Qt*Ye+ve*or,h[2]=Bt*Br+de*Wr,h[3]=Qt*Br+ve*Wr,h[4]=Bt*Fr+de*gn+_e,h[5]=Qt*Fr+ve*gn+De,h}function Dt(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=X[4],De=X[5],Ye=Math.sin(wt),or=Math.cos(wt);return h[0]=Bt*or+de*Ye,h[1]=Qt*or+ve*Ye,h[2]=Bt*-Ye+de*or,h[3]=Qt*-Ye+ve*or,h[4]=_e,h[5]=De,h}function Vt(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=X[4],De=X[5],Ye=wt[0],or=wt[1];return h[0]=Bt*Ye,h[1]=Qt*Ye,h[2]=de*or,h[3]=ve*or,h[4]=_e,h[5]=De,h}function ue(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=X[4],De=X[5],Ye=wt[0],or=wt[1];return h[0]=Bt,h[1]=Qt,h[2]=de,h[3]=ve,h[4]=Bt*Ye+de*or+_e,h[5]=Qt*Ye+ve*or+De,h}function ee(h,X){var wt=Math.sin(X),Bt=Math.cos(X);return h[0]=Bt,h[1]=wt,h[2]=-wt,h[3]=Bt,h[4]=0,h[5]=0,h}function It(h,X){return h[0]=X[0],h[1]=0,h[2]=0,h[3]=X[1],h[4]=0,h[5]=0,h}function ne(h,X){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=X[0],h[5]=X[1],h}function pe(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"}function Gt(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)}function qt(h,X,wt){return h[0]=X[0]+wt[0],h[1]=X[1]+wt[1],h[2]=X[2]+wt[2],h[3]=X[3]+wt[3],h[4]=X[4]+wt[4],h[5]=X[5]+wt[5],h}function $t(h,X,wt){return h[0]=X[0]-wt[0],h[1]=X[1]-wt[1],h[2]=X[2]-wt[2],h[3]=X[3]-wt[3],h[4]=X[4]-wt[4],h[5]=X[5]-wt[5],h}function Zt(h,X,wt){return h[0]=X[0]*wt,h[1]=X[1]*wt,h[2]=X[2]*wt,h[3]=X[3]*wt,h[4]=X[4]*wt,h[5]=X[5]*wt,h}function se(h,X,wt,Bt){return h[0]=X[0]+wt[0]*Bt,h[1]=X[1]+wt[1]*Bt,h[2]=X[2]+wt[2]*Bt,h[3]=X[3]+wt[3]*Bt,h[4]=X[4]+wt[4]*Bt,h[5]=X[5]+wt[5]*Bt,h}function Se(h,X){return h[0]===X[0]&&h[1]===X[1]&&h[2]===X[2]&&h[3]===X[3]&&h[4]===X[4]&&h[5]===X[5]}function Pt(h,X){var wt=h[0],Bt=h[1],Qt=h[2],de=h[3],ve=h[4],_e=h[5],De=X[0],Ye=X[1],or=X[2],Br=X[3],Wr=X[4],Fr=X[5];return Math.abs(wt-De)<=p.EPSILON*Math.max(1,Math.abs(wt),Math.abs(De))&&Math.abs(Bt-Ye)<=p.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(Ye))&&Math.abs(Qt-or)<=p.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(or))&&Math.abs(de-Br)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(Br))&&Math.abs(ve-Wr)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(Wr))&&Math.abs(_e-Fr)<=p.EPSILON*Math.max(1,Math.abs(_e),Math.abs(Fr))}var Fe=Et,vr=$t,Cr=C(935600);function _r(){var h=new p.ARRAY_TYPE(16);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0),h[0]=1,h[5]=1,h[10]=1,h[15]=1,h}function Ur(h){var X=new p.ARRAY_TYPE(16);return X[0]=h[0],X[1]=h[1],X[2]=h[2],X[3]=h[3],X[4]=h[4],X[5]=h[5],X[6]=h[6],X[7]=h[7],X[8]=h[8],X[9]=h[9],X[10]=h[10],X[11]=h[11],X[12]=h[12],X[13]=h[13],X[14]=h[14],X[15]=h[15],X}function nn(h,X){return h[0]=X[0],h[1]=X[1],h[2]=X[2],h[3]=X[3],h[4]=X[4],h[5]=X[5],h[6]=X[6],h[7]=X[7],h[8]=X[8],h[9]=X[9],h[10]=X[10],h[11]=X[11],h[12]=X[12],h[13]=X[13],h[14]=X[14],h[15]=X[15],h}function on(h,X,wt,Bt,Qt,de,ve,_e,De,Ye,or,Br,Wr,Fr,gn,Pn){var Qr=new p.ARRAY_TYPE(16);return Qr[0]=h,Qr[1]=X,Qr[2]=wt,Qr[3]=Bt,Qr[4]=Qt,Qr[5]=de,Qr[6]=ve,Qr[7]=_e,Qr[8]=De,Qr[9]=Ye,Qr[10]=or,Qr[11]=Br,Qr[12]=Wr,Qr[13]=Fr,Qr[14]=gn,Qr[15]=Pn,Qr}function tr(h,X,wt,Bt,Qt,de,ve,_e,De,Ye,or,Br,Wr,Fr,gn,Pn,Qr){return h[0]=X,h[1]=wt,h[2]=Bt,h[3]=Qt,h[4]=de,h[5]=ve,h[6]=_e,h[7]=De,h[8]=Ye,h[9]=or,h[10]=Br,h[11]=Wr,h[12]=Fr,h[13]=gn,h[14]=Pn,h[15]=Qr,h}function Rr(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function qr(h,X){if(h===X){var wt=X[1],Bt=X[2],Qt=X[3],de=X[6],ve=X[7],_e=X[11];h[1]=X[4],h[2]=X[8],h[3]=X[12],h[4]=wt,h[6]=X[9],h[7]=X[13],h[8]=Bt,h[9]=de,h[11]=X[14],h[12]=Qt,h[13]=ve,h[14]=_e}else h[0]=X[0],h[1]=X[4],h[2]=X[8],h[3]=X[12],h[4]=X[1],h[5]=X[5],h[6]=X[9],h[7]=X[13],h[8]=X[2],h[9]=X[6],h[10]=X[10],h[11]=X[14],h[12]=X[3],h[13]=X[7],h[14]=X[11],h[15]=X[15];return h}function br(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=X[4],_e=X[5],De=X[6],Ye=X[7],or=X[8],Br=X[9],Wr=X[10],Fr=X[11],gn=X[12],Pn=X[13],Qr=X[14],Vn=X[15],Aa=wt*_e-Bt*ve,Ia=wt*De-Qt*ve,wa=wt*Ye-de*ve,ca=Bt*De-Qt*_e,ma=Bt*Ye-de*_e,ro=Qt*Ye-de*De,Ki=or*Pn-Br*gn,ji=or*Qr-Wr*gn,$i=or*Vn-Fr*gn,Qi=Br*Qr-Wr*Pn,fo=Br*Vn-Fr*Pn,Eo=Wr*Vn-Fr*Qr,Xa=Aa*Eo-Ia*fo+wa*Qi+ca*$i-ma*ji+ro*Ki;return Xa?(Xa=1/Xa,h[0]=(_e*Eo-De*fo+Ye*Qi)*Xa,h[1]=(Qt*fo-Bt*Eo-de*Qi)*Xa,h[2]=(Pn*ro-Qr*ma+Vn*ca)*Xa,h[3]=(Wr*ma-Br*ro-Fr*ca)*Xa,h[4]=(De*$i-ve*Eo-Ye*ji)*Xa,h[5]=(wt*Eo-Qt*$i+de*ji)*Xa,h[6]=(Qr*wa-gn*ro-Vn*Ia)*Xa,h[7]=(or*ro-Wr*wa+Fr*Ia)*Xa,h[8]=(ve*fo-_e*$i+Ye*Ki)*Xa,h[9]=(Bt*$i-wt*fo-de*Ki)*Xa,h[10]=(gn*ma-Pn*wa+Vn*Aa)*Xa,h[11]=(Br*wa-or*ma-Fr*Aa)*Xa,h[12]=(_e*ji-ve*Qi-De*Ki)*Xa,h[13]=(wt*Qi-Bt*ji+Qt*Ki)*Xa,h[14]=(Pn*Ia-gn*ca-Qr*Aa)*Xa,h[15]=(or*ca-Br*Ia+Wr*Aa)*Xa,h):null}function zr(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=X[4],_e=X[5],De=X[6],Ye=X[7],or=X[8],Br=X[9],Wr=X[10],Fr=X[11],gn=X[12],Pn=X[13],Qr=X[14],Vn=X[15];return h[0]=_e*(Wr*Vn-Fr*Qr)-Br*(De*Vn-Ye*Qr)+Pn*(De*Fr-Ye*Wr),h[1]=-(Bt*(Wr*Vn-Fr*Qr)-Br*(Qt*Vn-de*Qr)+Pn*(Qt*Fr-de*Wr)),h[2]=Bt*(De*Vn-Ye*Qr)-_e*(Qt*Vn-de*Qr)+Pn*(Qt*Ye-de*De),h[3]=-(Bt*(De*Fr-Ye*Wr)-_e*(Qt*Fr-de*Wr)+Br*(Qt*Ye-de*De)),h[4]=-(ve*(Wr*Vn-Fr*Qr)-or*(De*Vn-Ye*Qr)+gn*(De*Fr-Ye*Wr)),h[5]=wt*(Wr*Vn-Fr*Qr)-or*(Qt*Vn-de*Qr)+gn*(Qt*Fr-de*Wr),h[6]=-(wt*(De*Vn-Ye*Qr)-ve*(Qt*Vn-de*Qr)+gn*(Qt*Ye-de*De)),h[7]=wt*(De*Fr-Ye*Wr)-ve*(Qt*Fr-de*Wr)+or*(Qt*Ye-de*De),h[8]=ve*(Br*Vn-Fr*Pn)-or*(_e*Vn-Ye*Pn)+gn*(_e*Fr-Ye*Br),h[9]=-(wt*(Br*Vn-Fr*Pn)-or*(Bt*Vn-de*Pn)+gn*(Bt*Fr-de*Br)),h[10]=wt*(_e*Vn-Ye*Pn)-ve*(Bt*Vn-de*Pn)+gn*(Bt*Ye-de*_e),h[11]=-(wt*(_e*Fr-Ye*Br)-ve*(Bt*Fr-de*Br)+or*(Bt*Ye-de*_e)),h[12]=-(ve*(Br*Qr-Wr*Pn)-or*(_e*Qr-De*Pn)+gn*(_e*Wr-De*Br)),h[13]=wt*(Br*Qr-Wr*Pn)-or*(Bt*Qr-Qt*Pn)+gn*(Bt*Wr-Qt*Br),h[14]=-(wt*(_e*Qr-De*Pn)-ve*(Bt*Qr-Qt*Pn)+gn*(Bt*De-Qt*_e)),h[15]=wt*(_e*Wr-De*Br)-ve*(Bt*Wr-Qt*Br)+or*(Bt*De-Qt*_e),h}function Ir(h){var X=h[0],wt=h[1],Bt=h[2],Qt=h[3],de=h[4],ve=h[5],_e=h[6],De=h[7],Ye=h[8],or=h[9],Br=h[10],Wr=h[11],Fr=h[12],gn=h[13],Pn=h[14],Qr=h[15],Vn=X*ve-wt*de,Aa=X*_e-Bt*de,Ia=X*De-Qt*de,wa=wt*_e-Bt*ve,ca=wt*De-Qt*ve,ma=Bt*De-Qt*_e,ro=Ye*gn-or*Fr,Ki=Ye*Pn-Br*Fr,ji=Ye*Qr-Wr*Fr,$i=or*Pn-Br*gn,Qi=or*Qr-Wr*gn,fo=Br*Qr-Wr*Pn;return Vn*fo-Aa*Qi+Ia*$i+wa*ji-ca*Ki+ma*ro}function je(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=X[4],De=X[5],Ye=X[6],or=X[7],Br=X[8],Wr=X[9],Fr=X[10],gn=X[11],Pn=X[12],Qr=X[13],Vn=X[14],Aa=X[15],Ia=wt[0],wa=wt[1],ca=wt[2],ma=wt[3];return h[0]=Ia*Bt+wa*_e+ca*Br+ma*Pn,h[1]=Ia*Qt+wa*De+ca*Wr+ma*Qr,h[2]=Ia*de+wa*Ye+ca*Fr+ma*Vn,h[3]=Ia*ve+wa*or+ca*gn+ma*Aa,Ia=wt[4],wa=wt[5],ca=wt[6],ma=wt[7],h[4]=Ia*Bt+wa*_e+ca*Br+ma*Pn,h[5]=Ia*Qt+wa*De+ca*Wr+ma*Qr,h[6]=Ia*de+wa*Ye+ca*Fr+ma*Vn,h[7]=Ia*ve+wa*or+ca*gn+ma*Aa,Ia=wt[8],wa=wt[9],ca=wt[10],ma=wt[11],h[8]=Ia*Bt+wa*_e+ca*Br+ma*Pn,h[9]=Ia*Qt+wa*De+ca*Wr+ma*Qr,h[10]=Ia*de+wa*Ye+ca*Fr+ma*Vn,h[11]=Ia*ve+wa*or+ca*gn+ma*Aa,Ia=wt[12],wa=wt[13],ca=wt[14],ma=wt[15],h[12]=Ia*Bt+wa*_e+ca*Br+ma*Pn,h[13]=Ia*Qt+wa*De+ca*Wr+ma*Qr,h[14]=Ia*de+wa*Ye+ca*Fr+ma*Vn,h[15]=Ia*ve+wa*or+ca*gn+ma*Aa,h}function qe(h,X,wt){var Bt=wt[0],Qt=wt[1],de=wt[2],ve,_e,De,Ye,or,Br,Wr,Fr,gn,Pn,Qr,Vn;return X===h?(h[12]=X[0]*Bt+X[4]*Qt+X[8]*de+X[12],h[13]=X[1]*Bt+X[5]*Qt+X[9]*de+X[13],h[14]=X[2]*Bt+X[6]*Qt+X[10]*de+X[14],h[15]=X[3]*Bt+X[7]*Qt+X[11]*de+X[15]):(ve=X[0],_e=X[1],De=X[2],Ye=X[3],or=X[4],Br=X[5],Wr=X[6],Fr=X[7],gn=X[8],Pn=X[9],Qr=X[10],Vn=X[11],h[0]=ve,h[1]=_e,h[2]=De,h[3]=Ye,h[4]=or,h[5]=Br,h[6]=Wr,h[7]=Fr,h[8]=gn,h[9]=Pn,h[10]=Qr,h[11]=Vn,h[12]=ve*Bt+or*Qt+gn*de+X[12],h[13]=_e*Bt+Br*Qt+Pn*de+X[13],h[14]=De*Bt+Wr*Qt+Qr*de+X[14],h[15]=Ye*Bt+Fr*Qt+Vn*de+X[15]),h}function xn(h,X,wt){var Bt=wt[0],Qt=wt[1],de=wt[2];return h[0]=X[0]*Bt,h[1]=X[1]*Bt,h[2]=X[2]*Bt,h[3]=X[3]*Bt,h[4]=X[4]*Qt,h[5]=X[5]*Qt,h[6]=X[6]*Qt,h[7]=X[7]*Qt,h[8]=X[8]*de,h[9]=X[9]*de,h[10]=X[10]*de,h[11]=X[11]*de,h[12]=X[12],h[13]=X[13],h[14]=X[14],h[15]=X[15],h}function rr(h,X,wt,Bt){var Qt=Bt[0],de=Bt[1],ve=Bt[2],_e=Math.hypot(Qt,de,ve),De,Ye,or,Br,Wr,Fr,gn,Pn,Qr,Vn,Aa,Ia,wa,ca,ma,ro,Ki,ji,$i,Qi,fo,Eo,Xa,vi;return _e<p.EPSILON?null:(_e=1/_e,Qt*=_e,de*=_e,ve*=_e,De=Math.sin(wt),Ye=Math.cos(wt),or=1-Ye,Br=X[0],Wr=X[1],Fr=X[2],gn=X[3],Pn=X[4],Qr=X[5],Vn=X[6],Aa=X[7],Ia=X[8],wa=X[9],ca=X[10],ma=X[11],ro=Qt*Qt*or+Ye,Ki=de*Qt*or+ve*De,ji=ve*Qt*or-de*De,$i=Qt*de*or-ve*De,Qi=de*de*or+Ye,fo=ve*de*or+Qt*De,Eo=Qt*ve*or+de*De,Xa=de*ve*or-Qt*De,vi=ve*ve*or+Ye,h[0]=Br*ro+Pn*Ki+Ia*ji,h[1]=Wr*ro+Qr*Ki+wa*ji,h[2]=Fr*ro+Vn*Ki+ca*ji,h[3]=gn*ro+Aa*Ki+ma*ji,h[4]=Br*$i+Pn*Qi+Ia*fo,h[5]=Wr*$i+Qr*Qi+wa*fo,h[6]=Fr*$i+Vn*Qi+ca*fo,h[7]=gn*$i+Aa*Qi+ma*fo,h[8]=Br*Eo+Pn*Xa+Ia*vi,h[9]=Wr*Eo+Qr*Xa+wa*vi,h[10]=Fr*Eo+Vn*Xa+ca*vi,h[11]=gn*Eo+Aa*Xa+ma*vi,X!==h&&(h[12]=X[12],h[13]=X[13],h[14]=X[14],h[15]=X[15]),h)}function jr(h,X,wt){var Bt=Math.sin(wt),Qt=Math.cos(wt),de=X[4],ve=X[5],_e=X[6],De=X[7],Ye=X[8],or=X[9],Br=X[10],Wr=X[11];return X!==h&&(h[0]=X[0],h[1]=X[1],h[2]=X[2],h[3]=X[3],h[12]=X[12],h[13]=X[13],h[14]=X[14],h[15]=X[15]),h[4]=de*Qt+Ye*Bt,h[5]=ve*Qt+or*Bt,h[6]=_e*Qt+Br*Bt,h[7]=De*Qt+Wr*Bt,h[8]=Ye*Qt-de*Bt,h[9]=or*Qt-ve*Bt,h[10]=Br*Qt-_e*Bt,h[11]=Wr*Qt-De*Bt,h}function Nr(h,X,wt){var Bt=Math.sin(wt),Qt=Math.cos(wt),de=X[0],ve=X[1],_e=X[2],De=X[3],Ye=X[8],or=X[9],Br=X[10],Wr=X[11];return X!==h&&(h[4]=X[4],h[5]=X[5],h[6]=X[6],h[7]=X[7],h[12]=X[12],h[13]=X[13],h[14]=X[14],h[15]=X[15]),h[0]=de*Qt-Ye*Bt,h[1]=ve*Qt-or*Bt,h[2]=_e*Qt-Br*Bt,h[3]=De*Qt-Wr*Bt,h[8]=de*Bt+Ye*Qt,h[9]=ve*Bt+or*Qt,h[10]=_e*Bt+Br*Qt,h[11]=De*Bt+Wr*Qt,h}function kn(h,X,wt){var Bt=Math.sin(wt),Qt=Math.cos(wt),de=X[0],ve=X[1],_e=X[2],De=X[3],Ye=X[4],or=X[5],Br=X[6],Wr=X[7];return X!==h&&(h[8]=X[8],h[9]=X[9],h[10]=X[10],h[11]=X[11],h[12]=X[12],h[13]=X[13],h[14]=X[14],h[15]=X[15]),h[0]=de*Qt+Ye*Bt,h[1]=ve*Qt+or*Bt,h[2]=_e*Qt+Br*Bt,h[3]=De*Qt+Wr*Bt,h[4]=Ye*Qt-de*Bt,h[5]=or*Qt-ve*Bt,h[6]=Br*Qt-_e*Bt,h[7]=Wr*Qt-De*Bt,h}function an(h,X){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=X[0],h[13]=X[1],h[14]=X[2],h[15]=1,h}function dn(h,X){return h[0]=X[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=X[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=X[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Sn(h,X,wt){var Bt=wt[0],Qt=wt[1],de=wt[2],ve=Math.hypot(Bt,Qt,de),_e,De,Ye;return ve<p.EPSILON?null:(ve=1/ve,Bt*=ve,Qt*=ve,de*=ve,_e=Math.sin(X),De=Math.cos(X),Ye=1-De,h[0]=Bt*Bt*Ye+De,h[1]=Qt*Bt*Ye+de*_e,h[2]=de*Bt*Ye-Qt*_e,h[3]=0,h[4]=Bt*Qt*Ye-de*_e,h[5]=Qt*Qt*Ye+De,h[6]=de*Qt*Ye+Bt*_e,h[7]=0,h[8]=Bt*de*Ye+Qt*_e,h[9]=Qt*de*Ye-Bt*_e,h[10]=de*de*Ye+De,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h)}function Dn(h,X){var wt=Math.sin(X),Bt=Math.cos(X);return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=Bt,h[6]=wt,h[7]=0,h[8]=0,h[9]=-wt,h[10]=Bt,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Nn(h,X){var wt=Math.sin(X),Bt=Math.cos(X);return h[0]=Bt,h[1]=0,h[2]=-wt,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=wt,h[9]=0,h[10]=Bt,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function rt(h,X){var wt=Math.sin(X),Bt=Math.cos(X);return h[0]=Bt,h[1]=wt,h[2]=0,h[3]=0,h[4]=-wt,h[5]=Bt,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Xe(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=Bt+Bt,De=Qt+Qt,Ye=de+de,or=Bt*_e,Br=Bt*De,Wr=Bt*Ye,Fr=Qt*De,gn=Qt*Ye,Pn=de*Ye,Qr=ve*_e,Vn=ve*De,Aa=ve*Ye;return h[0]=1-(Fr+Pn),h[1]=Br+Aa,h[2]=Wr-Vn,h[3]=0,h[4]=Br-Aa,h[5]=1-(or+Pn),h[6]=gn+Qr,h[7]=0,h[8]=Wr+Vn,h[9]=gn-Qr,h[10]=1-(or+Fr),h[11]=0,h[12]=wt[0],h[13]=wt[1],h[14]=wt[2],h[15]=1,h}function Xt(h,X){var wt=new p.ARRAY_TYPE(3),Bt=-X[0],Qt=-X[1],de=-X[2],ve=X[3],_e=X[4],De=X[5],Ye=X[6],or=X[7],Br=Bt*Bt+Qt*Qt+de*de+ve*ve;return Br>0?(wt[0]=(_e*ve+or*Bt+De*de-Ye*Qt)*2/Br,wt[1]=(De*ve+or*Qt+Ye*Bt-_e*de)*2/Br,wt[2]=(Ye*ve+or*de+_e*Qt-De*Bt)*2/Br):(wt[0]=(_e*ve+or*Bt+De*de-Ye*Qt)*2,wt[1]=(De*ve+or*Qt+Ye*Bt-_e*de)*2,wt[2]=(Ye*ve+or*de+_e*Qt-De*Bt)*2),Xe(h,X,wt),h}function te(h,X){return h[0]=X[12],h[1]=X[13],h[2]=X[14],h}function ot(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[4],ve=X[5],_e=X[6],De=X[8],Ye=X[9],or=X[10];return h[0]=Math.hypot(wt,Bt,Qt),h[1]=Math.hypot(de,ve,_e),h[2]=Math.hypot(De,Ye,or),h}function Ft(h,X){var wt=new p.ARRAY_TYPE(3);ot(wt,X);var Bt=1/wt[0],Qt=1/wt[1],de=1/wt[2],ve=X[0]*Bt,_e=X[1]*Qt,De=X[2]*de,Ye=X[4]*Bt,or=X[5]*Qt,Br=X[6]*de,Wr=X[8]*Bt,Fr=X[9]*Qt,gn=X[10]*de,Pn=ve+or+gn,Qr=0;return Pn>0?(Qr=Math.sqrt(Pn+1)*2,h[3]=.25*Qr,h[0]=(Br-Fr)/Qr,h[1]=(Wr-De)/Qr,h[2]=(_e-Ye)/Qr):ve>or&&ve>gn?(Qr=Math.sqrt(1+ve-or-gn)*2,h[3]=(Br-Fr)/Qr,h[0]=.25*Qr,h[1]=(_e+Ye)/Qr,h[2]=(Wr+De)/Qr):or>gn?(Qr=Math.sqrt(1+or-ve-gn)*2,h[3]=(Wr-De)/Qr,h[0]=(_e+Ye)/Qr,h[1]=.25*Qr,h[2]=(Br+Fr)/Qr):(Qr=Math.sqrt(1+gn-ve-or)*2,h[3]=(_e-Ye)/Qr,h[0]=(Wr+De)/Qr,h[1]=(Br+Fr)/Qr,h[2]=.25*Qr),h}function ft(h,X,wt,Bt){var Qt=X[0],de=X[1],ve=X[2],_e=X[3],De=Qt+Qt,Ye=de+de,or=ve+ve,Br=Qt*De,Wr=Qt*Ye,Fr=Qt*or,gn=de*Ye,Pn=de*or,Qr=ve*or,Vn=_e*De,Aa=_e*Ye,Ia=_e*or,wa=Bt[0],ca=Bt[1],ma=Bt[2];return h[0]=(1-(gn+Qr))*wa,h[1]=(Wr+Ia)*wa,h[2]=(Fr-Aa)*wa,h[3]=0,h[4]=(Wr-Ia)*ca,h[5]=(1-(Br+Qr))*ca,h[6]=(Pn+Vn)*ca,h[7]=0,h[8]=(Fr+Aa)*ma,h[9]=(Pn-Vn)*ma,h[10]=(1-(Br+gn))*ma,h[11]=0,h[12]=wt[0],h[13]=wt[1],h[14]=wt[2],h[15]=1,h}function Ut(h,X,wt,Bt,Qt){var de=X[0],ve=X[1],_e=X[2],De=X[3],Ye=de+de,or=ve+ve,Br=_e+_e,Wr=de*Ye,Fr=de*or,gn=de*Br,Pn=ve*or,Qr=ve*Br,Vn=_e*Br,Aa=De*Ye,Ia=De*or,wa=De*Br,ca=Bt[0],ma=Bt[1],ro=Bt[2],Ki=Qt[0],ji=Qt[1],$i=Qt[2],Qi=(1-(Pn+Vn))*ca,fo=(Fr+wa)*ca,Eo=(gn-Ia)*ca,Xa=(Fr-wa)*ma,vi=(1-(Wr+Vn))*ma,Os=(Qr+Aa)*ma,ps=(gn+Ia)*ro,es=(Qr-Aa)*ro,au=(1-(Wr+Pn))*ro;return h[0]=Qi,h[1]=fo,h[2]=Eo,h[3]=0,h[4]=Xa,h[5]=vi,h[6]=Os,h[7]=0,h[8]=ps,h[9]=es,h[10]=au,h[11]=0,h[12]=wt[0]+Ki-(Qi*Ki+Xa*ji+ps*$i),h[13]=wt[1]+ji-(fo*Ki+vi*ji+es*$i),h[14]=wt[2]+$i-(Eo*Ki+Os*ji+au*$i),h[15]=1,h}function re(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=wt+wt,_e=Bt+Bt,De=Qt+Qt,Ye=wt*ve,or=Bt*ve,Br=Bt*_e,Wr=Qt*ve,Fr=Qt*_e,gn=Qt*De,Pn=de*ve,Qr=de*_e,Vn=de*De;return h[0]=1-Br-gn,h[1]=or+Vn,h[2]=Wr-Qr,h[3]=0,h[4]=or-Vn,h[5]=1-Ye-gn,h[6]=Fr+Pn,h[7]=0,h[8]=Wr+Qr,h[9]=Fr-Pn,h[10]=1-Ye-Br,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function ae(h,X,wt,Bt,Qt,de,ve){var _e=1/(wt-X),De=1/(Qt-Bt),Ye=1/(de-ve);return h[0]=de*2*_e,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=de*2*De,h[6]=0,h[7]=0,h[8]=(wt+X)*_e,h[9]=(Qt+Bt)*De,h[10]=(ve+de)*Ye,h[11]=-1,h[12]=0,h[13]=0,h[14]=ve*de*2*Ye,h[15]=0,h}function at(h,X,wt,Bt,Qt){var de=1/Math.tan(X/2),ve;return h[0]=de/wt,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=de,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,Qt!=null&&Qt!==1/0?(ve=1/(Bt-Qt),h[10]=(Qt+Bt)*ve,h[14]=2*Qt*Bt*ve):(h[10]=-1,h[14]=-2*Bt),h}var ct=at;function F(h,X,wt,Bt,Qt){var de=1/Math.tan(X/2),ve;return h[0]=de/wt,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=de,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,Qt!=null&&Qt!==1/0?(ve=1/(Bt-Qt),h[10]=Qt*ve,h[14]=Qt*Bt*ve):(h[10]=-1,h[14]=-Bt),h}function M(h,X,wt,Bt){var Qt=Math.tan(X.upDegrees*Math.PI/180),de=Math.tan(X.downDegrees*Math.PI/180),ve=Math.tan(X.leftDegrees*Math.PI/180),_e=Math.tan(X.rightDegrees*Math.PI/180),De=2/(ve+_e),Ye=2/(Qt+de);return h[0]=De,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=Ye,h[6]=0,h[7]=0,h[8]=-((ve-_e)*De*.5),h[9]=(Qt-de)*Ye*.5,h[10]=Bt/(wt-Bt),h[11]=-1,h[12]=0,h[13]=0,h[14]=Bt*wt/(wt-Bt),h[15]=0,h}function O(h,X,wt,Bt,Qt,de,ve){var _e=1/(X-wt),De=1/(Bt-Qt),Ye=1/(de-ve);return h[0]=-2*_e,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*De,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*Ye,h[11]=0,h[12]=(X+wt)*_e,h[13]=(Qt+Bt)*De,h[14]=(ve+de)*Ye,h[15]=1,h}var $=O;function mt(h,X,wt,Bt,Qt,de,ve){var _e=1/(X-wt),De=1/(Bt-Qt),Ye=1/(de-ve);return h[0]=-2*_e,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*De,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=Ye,h[11]=0,h[12]=(X+wt)*_e,h[13]=(Qt+Bt)*De,h[14]=de*Ye,h[15]=1,h}function zt(h,X,wt,Bt){var Qt,de,ve,_e,De,Ye,or,Br,Wr,Fr,gn=X[0],Pn=X[1],Qr=X[2],Vn=Bt[0],Aa=Bt[1],Ia=Bt[2],wa=wt[0],ca=wt[1],ma=wt[2];return Math.abs(gn-wa)<p.EPSILON&&Math.abs(Pn-ca)<p.EPSILON&&Math.abs(Qr-ma)<p.EPSILON?Rr(h):(or=gn-wa,Br=Pn-ca,Wr=Qr-ma,Fr=1/Math.hypot(or,Br,Wr),or*=Fr,Br*=Fr,Wr*=Fr,Qt=Aa*Wr-Ia*Br,de=Ia*or-Vn*Wr,ve=Vn*Br-Aa*or,Fr=Math.hypot(Qt,de,ve),Fr?(Fr=1/Fr,Qt*=Fr,de*=Fr,ve*=Fr):(Qt=0,de=0,ve=0),_e=Br*ve-Wr*de,De=Wr*Qt-or*ve,Ye=or*de-Br*Qt,Fr=Math.hypot(_e,De,Ye),Fr?(Fr=1/Fr,_e*=Fr,De*=Fr,Ye*=Fr):(_e=0,De=0,Ye=0),h[0]=Qt,h[1]=_e,h[2]=or,h[3]=0,h[4]=de,h[5]=De,h[6]=Br,h[7]=0,h[8]=ve,h[9]=Ye,h[10]=Wr,h[11]=0,h[12]=-(Qt*gn+de*Pn+ve*Qr),h[13]=-(_e*gn+De*Pn+Ye*Qr),h[14]=-(or*gn+Br*Pn+Wr*Qr),h[15]=1,h)}function Rt(h,X,wt,Bt){var Qt=X[0],de=X[1],ve=X[2],_e=Bt[0],De=Bt[1],Ye=Bt[2],or=Qt-wt[0],Br=de-wt[1],Wr=ve-wt[2],Fr=or*or+Br*Br+Wr*Wr;Fr>0&&(Fr=1/Math.sqrt(Fr),or*=Fr,Br*=Fr,Wr*=Fr);var gn=De*Wr-Ye*Br,Pn=Ye*or-_e*Wr,Qr=_e*Br-De*or;return Fr=gn*gn+Pn*Pn+Qr*Qr,Fr>0&&(Fr=1/Math.sqrt(Fr),gn*=Fr,Pn*=Fr,Qr*=Fr),h[0]=gn,h[1]=Pn,h[2]=Qr,h[3]=0,h[4]=Br*Qr-Wr*Pn,h[5]=Wr*gn-or*Qr,h[6]=or*Pn-Br*gn,h[7]=0,h[8]=or,h[9]=Br,h[10]=Wr,h[11]=0,h[12]=Qt,h[13]=de,h[14]=ve,h[15]=1,h}function Kt(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"}function Te(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}function be(h,X,wt){return h[0]=X[0]+wt[0],h[1]=X[1]+wt[1],h[2]=X[2]+wt[2],h[3]=X[3]+wt[3],h[4]=X[4]+wt[4],h[5]=X[5]+wt[5],h[6]=X[6]+wt[6],h[7]=X[7]+wt[7],h[8]=X[8]+wt[8],h[9]=X[9]+wt[9],h[10]=X[10]+wt[10],h[11]=X[11]+wt[11],h[12]=X[12]+wt[12],h[13]=X[13]+wt[13],h[14]=X[14]+wt[14],h[15]=X[15]+wt[15],h}function We(h,X,wt){return h[0]=X[0]-wt[0],h[1]=X[1]-wt[1],h[2]=X[2]-wt[2],h[3]=X[3]-wt[3],h[4]=X[4]-wt[4],h[5]=X[5]-wt[5],h[6]=X[6]-wt[6],h[7]=X[7]-wt[7],h[8]=X[8]-wt[8],h[9]=X[9]-wt[9],h[10]=X[10]-wt[10],h[11]=X[11]-wt[11],h[12]=X[12]-wt[12],h[13]=X[13]-wt[13],h[14]=X[14]-wt[14],h[15]=X[15]-wt[15],h}function fr(h,X,wt){return h[0]=X[0]*wt,h[1]=X[1]*wt,h[2]=X[2]*wt,h[3]=X[3]*wt,h[4]=X[4]*wt,h[5]=X[5]*wt,h[6]=X[6]*wt,h[7]=X[7]*wt,h[8]=X[8]*wt,h[9]=X[9]*wt,h[10]=X[10]*wt,h[11]=X[11]*wt,h[12]=X[12]*wt,h[13]=X[13]*wt,h[14]=X[14]*wt,h[15]=X[15]*wt,h}function He(h,X,wt,Bt){return h[0]=X[0]+wt[0]*Bt,h[1]=X[1]+wt[1]*Bt,h[2]=X[2]+wt[2]*Bt,h[3]=X[3]+wt[3]*Bt,h[4]=X[4]+wt[4]*Bt,h[5]=X[5]+wt[5]*Bt,h[6]=X[6]+wt[6]*Bt,h[7]=X[7]+wt[7]*Bt,h[8]=X[8]+wt[8]*Bt,h[9]=X[9]+wt[9]*Bt,h[10]=X[10]+wt[10]*Bt,h[11]=X[11]+wt[11]*Bt,h[12]=X[12]+wt[12]*Bt,h[13]=X[13]+wt[13]*Bt,h[14]=X[14]+wt[14]*Bt,h[15]=X[15]+wt[15]*Bt,h}function Pr(h,X){return h[0]===X[0]&&h[1]===X[1]&&h[2]===X[2]&&h[3]===X[3]&&h[4]===X[4]&&h[5]===X[5]&&h[6]===X[6]&&h[7]===X[7]&&h[8]===X[8]&&h[9]===X[9]&&h[10]===X[10]&&h[11]===X[11]&&h[12]===X[12]&&h[13]===X[13]&&h[14]===X[14]&&h[15]===X[15]}function un(h,X){var wt=h[0],Bt=h[1],Qt=h[2],de=h[3],ve=h[4],_e=h[5],De=h[6],Ye=h[7],or=h[8],Br=h[9],Wr=h[10],Fr=h[11],gn=h[12],Pn=h[13],Qr=h[14],Vn=h[15],Aa=X[0],Ia=X[1],wa=X[2],ca=X[3],ma=X[4],ro=X[5],Ki=X[6],ji=X[7],$i=X[8],Qi=X[9],fo=X[10],Eo=X[11],Xa=X[12],vi=X[13],Os=X[14],ps=X[15];return Math.abs(wt-Aa)<=p.EPSILON*Math.max(1,Math.abs(wt),Math.abs(Aa))&&Math.abs(Bt-Ia)<=p.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(Ia))&&Math.abs(Qt-wa)<=p.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(wa))&&Math.abs(de-ca)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(ca))&&Math.abs(ve-ma)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(ma))&&Math.abs(_e-ro)<=p.EPSILON*Math.max(1,Math.abs(_e),Math.abs(ro))&&Math.abs(De-Ki)<=p.EPSILON*Math.max(1,Math.abs(De),Math.abs(Ki))&&Math.abs(Ye-ji)<=p.EPSILON*Math.max(1,Math.abs(Ye),Math.abs(ji))&&Math.abs(or-$i)<=p.EPSILON*Math.max(1,Math.abs(or),Math.abs($i))&&Math.abs(Br-Qi)<=p.EPSILON*Math.max(1,Math.abs(Br),Math.abs(Qi))&&Math.abs(Wr-fo)<=p.EPSILON*Math.max(1,Math.abs(Wr),Math.abs(fo))&&Math.abs(Fr-Eo)<=p.EPSILON*Math.max(1,Math.abs(Fr),Math.abs(Eo))&&Math.abs(gn-Xa)<=p.EPSILON*Math.max(1,Math.abs(gn),Math.abs(Xa))&&Math.abs(Pn-vi)<=p.EPSILON*Math.max(1,Math.abs(Pn),Math.abs(vi))&&Math.abs(Qr-Os)<=p.EPSILON*Math.max(1,Math.abs(Qr),Math.abs(Os))&&Math.abs(Vn-ps)<=p.EPSILON*Math.max(1,Math.abs(Vn),Math.abs(ps))}var Ue=je,ur=We,Lr=C(277160);function Or(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0),h}function ce(h){var X=new p.ARRAY_TYPE(4);return X[0]=h[0],X[1]=h[1],X[2]=h[2],X[3]=h[3],X}function Yt(h,X,wt,Bt){var Qt=new p.ARRAY_TYPE(4);return Qt[0]=h,Qt[1]=X,Qt[2]=wt,Qt[3]=Bt,Qt}function he(h,X){return h[0]=X[0],h[1]=X[1],h[2]=X[2],h[3]=X[3],h}function Me(h,X,wt,Bt,Qt){return h[0]=X,h[1]=wt,h[2]=Bt,h[3]=Qt,h}function ye(h,X,wt){return h[0]=X[0]+wt[0],h[1]=X[1]+wt[1],h[2]=X[2]+wt[2],h[3]=X[3]+wt[3],h}function Ne(h,X,wt){return h[0]=X[0]-wt[0],h[1]=X[1]-wt[1],h[2]=X[2]-wt[2],h[3]=X[3]-wt[3],h}function nr(h,X,wt){return h[0]=X[0]*wt[0],h[1]=X[1]*wt[1],h[2]=X[2]*wt[2],h[3]=X[3]*wt[3],h}function cr(h,X,wt){return h[0]=X[0]/wt[0],h[1]=X[1]/wt[1],h[2]=X[2]/wt[2],h[3]=X[3]/wt[3],h}function rn(h,X){return h[0]=Math.ceil(X[0]),h[1]=Math.ceil(X[1]),h[2]=Math.ceil(X[2]),h[3]=Math.ceil(X[3]),h}function An(h,X){return h[0]=Math.floor(X[0]),h[1]=Math.floor(X[1]),h[2]=Math.floor(X[2]),h[3]=Math.floor(X[3]),h}function ln(h,X,wt){return h[0]=Math.min(X[0],wt[0]),h[1]=Math.min(X[1],wt[1]),h[2]=Math.min(X[2],wt[2]),h[3]=Math.min(X[3],wt[3]),h}function Yn(h,X,wt){return h[0]=Math.max(X[0],wt[0]),h[1]=Math.max(X[1],wt[1]),h[2]=Math.max(X[2],wt[2]),h[3]=Math.max(X[3],wt[3]),h}function sn(h,X){return h[0]=Math.round(X[0]),h[1]=Math.round(X[1]),h[2]=Math.round(X[2]),h[3]=Math.round(X[3]),h}function Bn(h,X,wt){return h[0]=X[0]*wt,h[1]=X[1]*wt,h[2]=X[2]*wt,h[3]=X[3]*wt,h}function Jn(h,X,wt,Bt){return h[0]=X[0]+wt[0]*Bt,h[1]=X[1]+wt[1]*Bt,h[2]=X[2]+wt[2]*Bt,h[3]=X[3]+wt[3]*Bt,h}function sa(h,X){var wt=X[0]-h[0],Bt=X[1]-h[1],Qt=X[2]-h[2],de=X[3]-h[3];return Math.hypot(wt,Bt,Qt,de)}function qn(h,X){var wt=X[0]-h[0],Bt=X[1]-h[1],Qt=X[2]-h[2],de=X[3]-h[3];return wt*wt+Bt*Bt+Qt*Qt+de*de}function Za(h){var X=h[0],wt=h[1],Bt=h[2],Qt=h[3];return Math.hypot(X,wt,Bt,Qt)}function za(h){var X=h[0],wt=h[1],Bt=h[2],Qt=h[3];return X*X+wt*wt+Bt*Bt+Qt*Qt}function xa(h,X){return h[0]=-X[0],h[1]=-X[1],h[2]=-X[2],h[3]=-X[3],h}function Ei(h,X){return h[0]=1/X[0],h[1]=1/X[1],h[2]=1/X[2],h[3]=1/X[3],h}function _o(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=wt*wt+Bt*Bt+Qt*Qt+de*de;return ve>0&&(ve=1/Math.sqrt(ve)),h[0]=wt*ve,h[1]=Bt*ve,h[2]=Qt*ve,h[3]=de*ve,h}function Mi(h,X){return h[0]*X[0]+h[1]*X[1]+h[2]*X[2]+h[3]*X[3]}function Ti(h,X,wt,Bt){var Qt=wt[0]*Bt[1]-wt[1]*Bt[0],de=wt[0]*Bt[2]-wt[2]*Bt[0],ve=wt[0]*Bt[3]-wt[3]*Bt[0],_e=wt[1]*Bt[2]-wt[2]*Bt[1],De=wt[1]*Bt[3]-wt[3]*Bt[1],Ye=wt[2]*Bt[3]-wt[3]*Bt[2],or=X[0],Br=X[1],Wr=X[2],Fr=X[3];return h[0]=Br*Ye-Wr*De+Fr*_e,h[1]=-(or*Ye)+Wr*ve-Fr*de,h[2]=or*De-Br*ve+Fr*Qt,h[3]=-(or*_e)+Br*de-Wr*Qt,h}function ga(h,X,wt,Bt){var Qt=X[0],de=X[1],ve=X[2],_e=X[3];return h[0]=Qt+Bt*(wt[0]-Qt),h[1]=de+Bt*(wt[1]-de),h[2]=ve+Bt*(wt[2]-ve),h[3]=_e+Bt*(wt[3]-_e),h}function Ri(h,X){X=X||1;var wt,Bt,Qt,de,ve,_e;do wt=p.RANDOM()*2-1,Bt=p.RANDOM()*2-1,ve=wt*wt+Bt*Bt;while(ve>=1);do Qt=p.RANDOM()*2-1,de=p.RANDOM()*2-1,_e=Qt*Qt+de*de;while(_e>=1);var De=Math.sqrt((1-ve)/_e);return h[0]=X*wt,h[1]=X*Bt,h[2]=X*Qt*De,h[3]=X*de*De,h}function so(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3];return h[0]=wt[0]*Bt+wt[4]*Qt+wt[8]*de+wt[12]*ve,h[1]=wt[1]*Bt+wt[5]*Qt+wt[9]*de+wt[13]*ve,h[2]=wt[2]*Bt+wt[6]*Qt+wt[10]*de+wt[14]*ve,h[3]=wt[3]*Bt+wt[7]*Qt+wt[11]*de+wt[15]*ve,h}function Ba(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=wt[0],_e=wt[1],De=wt[2],Ye=wt[3],or=Ye*Bt+_e*de-De*Qt,Br=Ye*Qt+De*Bt-ve*de,Wr=Ye*de+ve*Qt-_e*Bt,Fr=-ve*Bt-_e*Qt-De*de;return h[0]=or*Ye+Fr*-ve+Br*-De-Wr*-_e,h[1]=Br*Ye+Fr*-_e+Wr*-ve-or*-De,h[2]=Wr*Ye+Fr*-De+or*-_e-Br*-ve,h[3]=X[3],h}function Zi(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=0,h}function Fo(h){return"vec4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}function uo(h,X){return h[0]===X[0]&&h[1]===X[1]&&h[2]===X[2]&&h[3]===X[3]}function oi(h,X){var wt=h[0],Bt=h[1],Qt=h[2],de=h[3],ve=X[0],_e=X[1],De=X[2],Ye=X[3];return Math.abs(wt-ve)<=p.EPSILON*Math.max(1,Math.abs(wt),Math.abs(ve))&&Math.abs(Bt-_e)<=p.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(_e))&&Math.abs(Qt-De)<=p.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(De))&&Math.abs(de-Ye)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(Ye))}var Li=Ne,Gi=nr,Zo=cr,si=sa,Ai=qn,Qn=Za,Jt=za,fe=function(){var h=Or();return function(X,wt,Bt,Qt,de,ve){var _e,De;for(wt||(wt=4),Bt||(Bt=0),Qt?De=Math.min(Qt*wt+Bt,X.length):De=X.length,_e=Bt;_e<De;_e+=wt)h[0]=X[_e],h[1]=X[_e+1],h[2]=X[_e+2],h[3]=X[_e+3],de(h,h,ve),X[_e]=h[0],X[_e+1]=h[1],X[_e+2]=h[2],X[_e+3]=h[3];return X}}();function Pe(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h[3]=1,h}function ar(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h}function Tr(h,X,wt){wt=wt*.5;var Bt=Math.sin(wt);return h[0]=Bt*X[0],h[1]=Bt*X[1],h[2]=Bt*X[2],h[3]=Math.cos(wt),h}function Sr(h,X){var wt=Math.acos(X[3])*2,Bt=Math.sin(wt/2);return Bt>p.EPSILON?(h[0]=X[0]/Bt,h[1]=X[1]/Bt,h[2]=X[2]/Bt):(h[0]=1,h[1]=0,h[2]=0),wt}function xr(h,X){var wt=Oi(h,X);return Math.acos(2*wt*wt-1)}function Kr(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=wt[0],De=wt[1],Ye=wt[2],or=wt[3];return h[0]=Bt*or+ve*_e+Qt*Ye-de*De,h[1]=Qt*or+ve*De+de*_e-Bt*Ye,h[2]=de*or+ve*Ye+Bt*De-Qt*_e,h[3]=ve*or-Bt*_e-Qt*De-de*Ye,h}function cn(h,X,wt){wt*=.5;var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=Math.sin(wt),De=Math.cos(wt);return h[0]=Bt*De+ve*_e,h[1]=Qt*De+de*_e,h[2]=de*De-Qt*_e,h[3]=ve*De-Bt*_e,h}function Mn(h,X,wt){wt*=.5;var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=Math.sin(wt),De=Math.cos(wt);return h[0]=Bt*De-de*_e,h[1]=Qt*De+ve*_e,h[2]=de*De+Bt*_e,h[3]=ve*De-Qt*_e,h}function Zn(h,X,wt){wt*=.5;var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=Math.sin(wt),De=Math.cos(wt);return h[0]=Bt*De+Qt*_e,h[1]=Qt*De-Bt*_e,h[2]=de*De+ve*_e,h[3]=ve*De-de*_e,h}function Un(h,X){var wt=X[0],Bt=X[1],Qt=X[2];return h[0]=wt,h[1]=Bt,h[2]=Qt,h[3]=Math.sqrt(Math.abs(1-wt*wt-Bt*Bt-Qt*Qt)),h}function na(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=Math.sqrt(wt*wt+Bt*Bt+Qt*Qt),_e=Math.exp(de),De=ve>0?_e*Math.sin(ve)/ve:0;return h[0]=wt*De,h[1]=Bt*De,h[2]=Qt*De,h[3]=_e*Math.cos(ve),h}function aa(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=Math.sqrt(wt*wt+Bt*Bt+Qt*Qt),_e=ve>0?Math.atan2(ve,de)/ve:0;return h[0]=wt*_e,h[1]=Bt*_e,h[2]=Qt*_e,h[3]=.5*Math.log(wt*wt+Bt*Bt+Qt*Qt+de*de),h}function Ya(h,X,wt){return aa(h,X),ki(h,h,wt),na(h,h),h}function ua(h,X,wt,Bt){var Qt=X[0],de=X[1],ve=X[2],_e=X[3],De=wt[0],Ye=wt[1],or=wt[2],Br=wt[3],Wr,Fr,gn,Pn,Qr;return Fr=Qt*De+de*Ye+ve*or+_e*Br,Fr<0&&(Fr=-Fr,De=-De,Ye=-Ye,or=-or,Br=-Br),1-Fr>p.EPSILON?(Wr=Math.acos(Fr),gn=Math.sin(Wr),Pn=Math.sin((1-Bt)*Wr)/gn,Qr=Math.sin(Bt*Wr)/gn):(Pn=1-Bt,Qr=Bt),h[0]=Pn*Qt+Qr*De,h[1]=Pn*de+Qr*Ye,h[2]=Pn*ve+Qr*or,h[3]=Pn*_e+Qr*Br,h}function $n(h){var X=p.RANDOM(),wt=p.RANDOM(),Bt=p.RANDOM(),Qt=Math.sqrt(1-X),de=Math.sqrt(X);return h[0]=Qt*Math.sin(2*Math.PI*wt),h[1]=Qt*Math.cos(2*Math.PI*wt),h[2]=de*Math.sin(2*Math.PI*Bt),h[3]=de*Math.cos(2*Math.PI*Bt),h}function Ga(h,X){var wt=X[0],Bt=X[1],Qt=X[2],de=X[3],ve=wt*wt+Bt*Bt+Qt*Qt+de*de,_e=ve?1/ve:0;return h[0]=-wt*_e,h[1]=-Bt*_e,h[2]=-Qt*_e,h[3]=de*_e,h}function Pa(h,X){return h[0]=-X[0],h[1]=-X[1],h[2]=-X[2],h[3]=X[3],h}function Ea(h,X){var wt=X[0]+X[4]+X[8],Bt;if(wt>0)Bt=Math.sqrt(wt+1),h[3]=.5*Bt,Bt=.5/Bt,h[0]=(X[5]-X[7])*Bt,h[1]=(X[6]-X[2])*Bt,h[2]=(X[1]-X[3])*Bt;else{var Qt=0;X[4]>X[0]&&(Qt=1),X[8]>X[Qt*3+Qt]&&(Qt=2);var de=(Qt+1)%3,ve=(Qt+2)%3;Bt=Math.sqrt(X[Qt*3+Qt]-X[de*3+de]-X[ve*3+ve]+1),h[Qt]=.5*Bt,Bt=.5/Bt,h[3]=(X[de*3+ve]-X[ve*3+de])*Bt,h[de]=(X[de*3+Qt]+X[Qt*3+de])*Bt,h[ve]=(X[ve*3+Qt]+X[Qt*3+ve])*Bt}return h}function ui(h,X,wt,Bt){var Qt=.5*Math.PI/180;X*=Qt,wt*=Qt,Bt*=Qt;var de=Math.sin(X),ve=Math.cos(X),_e=Math.sin(wt),De=Math.cos(wt),Ye=Math.sin(Bt),or=Math.cos(Bt);return h[0]=de*De*or-ve*_e*Ye,h[1]=ve*_e*or+de*De*Ye,h[2]=ve*De*Ye-de*_e*or,h[3]=ve*De*or+de*_e*Ye,h}function qa(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}var Ra=ce,Ca=Yt,va=he,fi=Me,ni=ye,di=Kr,ki=Bn,Oi=Mi,Ui=ga,To=Za,Ao=To,Ni=za,ka=Ni,pi=_o,Bi=uo,Ma=oi,Wi=function(){var h=Lr.create(),X=Lr.fromValues(1,0,0),wt=Lr.fromValues(0,1,0);return function(Bt,Qt,de){var ve=Lr.dot(Qt,de);return ve<-.999999?(Lr.cross(h,X,Qt),Lr.len(h)<1e-6&&Lr.cross(h,wt,Qt),Lr.normalize(h,h),Tr(Bt,h,Math.PI),Bt):ve>.999999?(Bt[0]=0,Bt[1]=0,Bt[2]=0,Bt[3]=1,Bt):(Lr.cross(h,Qt,de),Bt[0]=h[0],Bt[1]=h[1],Bt[2]=h[2],Bt[3]=1+ve,pi(Bt,Bt))}}(),lo=function(){var h=Pe(),X=Pe();return function(wt,Bt,Qt,de,ve,_e){return ua(h,Bt,ve,_e),ua(X,Qt,de,_e),ua(wt,h,X,2*_e*(1-_e)),wt}}(),_i=function(){var h=Cr.create();return function(X,wt,Bt,Qt){return h[0]=Bt[0],h[3]=Bt[1],h[6]=Bt[2],h[1]=Qt[0],h[4]=Qt[1],h[7]=Qt[2],h[2]=-wt[0],h[5]=-wt[1],h[8]=-wt[2],pi(X,Ea(X,h))}}();function Do(){var h=new p.ARRAY_TYPE(8);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0),h[3]=1,h}function gi(h){var X=new p.ARRAY_TYPE(8);return X[0]=h[0],X[1]=h[1],X[2]=h[2],X[3]=h[3],X[4]=h[4],X[5]=h[5],X[6]=h[6],X[7]=h[7],X}function co(h,X,wt,Bt,Qt,de,ve,_e){var De=new p.ARRAY_TYPE(8);return De[0]=h,De[1]=X,De[2]=wt,De[3]=Bt,De[4]=Qt,De[5]=de,De[6]=ve,De[7]=_e,De}function zo(h,X,wt,Bt,Qt,de,ve){var _e=new p.ARRAY_TYPE(8);_e[0]=h,_e[1]=X,_e[2]=wt,_e[3]=Bt;var De=Qt*.5,Ye=de*.5,or=ve*.5;return _e[4]=De*Bt+Ye*wt-or*X,_e[5]=Ye*Bt+or*h-De*wt,_e[6]=or*Bt+De*X-Ye*h,_e[7]=-De*h-Ye*X-or*wt,_e}function ts(h,X,wt){var Bt=wt[0]*.5,Qt=wt[1]*.5,de=wt[2]*.5,ve=X[0],_e=X[1],De=X[2],Ye=X[3];return h[0]=ve,h[1]=_e,h[2]=De,h[3]=Ye,h[4]=Bt*Ye+Qt*De-de*_e,h[5]=Qt*Ye+de*ve-Bt*De,h[6]=de*Ye+Bt*_e-Qt*ve,h[7]=-Bt*ve-Qt*_e-de*De,h}function Yi(h,X){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h[4]=X[0]*.5,h[5]=X[1]*.5,h[6]=X[2]*.5,h[7]=0,h}function Go(h,X){return h[0]=X[0],h[1]=X[1],h[2]=X[2],h[3]=X[3],h[4]=0,h[5]=0,h[6]=0,h[7]=0,h}function Uo(h,X){var wt=Pe();Ft(wt,X);var Bt=new p.ARRAY_TYPE(3);return te(Bt,X),ts(h,wt,Bt),h}function fs(h,X){return h[0]=X[0],h[1]=X[1],h[2]=X[2],h[3]=X[3],h[4]=X[4],h[5]=X[5],h[6]=X[6],h[7]=X[7],h}function ha(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h[6]=0,h[7]=0,h}function Wt(h,X,wt,Bt,Qt,de,ve,_e,De){return h[0]=X,h[1]=wt,h[2]=Bt,h[3]=Qt,h[4]=de,h[5]=ve,h[6]=_e,h[7]=De,h}var Le=va;function Je(h,X){return h[0]=X[4],h[1]=X[5],h[2]=X[6],h[3]=X[7],h}var mr=va;function Zr(h,X){return h[4]=X[0],h[5]=X[1],h[6]=X[2],h[7]=X[3],h}function fn(h,X){var wt=X[4],Bt=X[5],Qt=X[6],de=X[7],ve=-X[0],_e=-X[1],De=-X[2],Ye=X[3];return h[0]=(wt*Ye+de*ve+Bt*De-Qt*_e)*2,h[1]=(Bt*Ye+de*_e+Qt*ve-wt*De)*2,h[2]=(Qt*Ye+de*De+wt*_e-Bt*ve)*2,h}function Fn(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=wt[0]*.5,De=wt[1]*.5,Ye=wt[2]*.5,or=X[4],Br=X[5],Wr=X[6],Fr=X[7];return h[0]=Bt,h[1]=Qt,h[2]=de,h[3]=ve,h[4]=ve*_e+Qt*Ye-de*De+or,h[5]=ve*De+de*_e-Bt*Ye+Br,h[6]=ve*Ye+Bt*De-Qt*_e+Wr,h[7]=-Bt*_e-Qt*De-de*Ye+Fr,h}function Da(h,X,wt){var Bt=-X[0],Qt=-X[1],de=-X[2],ve=X[3],_e=X[4],De=X[5],Ye=X[6],or=X[7],Br=_e*ve+or*Bt+De*de-Ye*Qt,Wr=De*ve+or*Qt+Ye*Bt-_e*de,Fr=Ye*ve+or*de+_e*Qt-De*Bt,gn=or*ve-_e*Bt-De*Qt-Ye*de;return cn(h,X,wt),Bt=h[0],Qt=h[1],de=h[2],ve=h[3],h[4]=Br*ve+gn*Bt+Wr*de-Fr*Qt,h[5]=Wr*ve+gn*Qt+Fr*Bt-Br*de,h[6]=Fr*ve+gn*de+Br*Qt-Wr*Bt,h[7]=gn*ve-Br*Bt-Wr*Qt-Fr*de,h}function hi(h,X,wt){var Bt=-X[0],Qt=-X[1],de=-X[2],ve=X[3],_e=X[4],De=X[5],Ye=X[6],or=X[7],Br=_e*ve+or*Bt+De*de-Ye*Qt,Wr=De*ve+or*Qt+Ye*Bt-_e*de,Fr=Ye*ve+or*de+_e*Qt-De*Bt,gn=or*ve-_e*Bt-De*Qt-Ye*de;return Mn(h,X,wt),Bt=h[0],Qt=h[1],de=h[2],ve=h[3],h[4]=Br*ve+gn*Bt+Wr*de-Fr*Qt,h[5]=Wr*ve+gn*Qt+Fr*Bt-Br*de,h[6]=Fr*ve+gn*de+Br*Qt-Wr*Bt,h[7]=gn*ve-Br*Bt-Wr*Qt-Fr*de,h}function to(h,X,wt){var Bt=-X[0],Qt=-X[1],de=-X[2],ve=X[3],_e=X[4],De=X[5],Ye=X[6],or=X[7],Br=_e*ve+or*Bt+De*de-Ye*Qt,Wr=De*ve+or*Qt+Ye*Bt-_e*de,Fr=Ye*ve+or*de+_e*Qt-De*Bt,gn=or*ve-_e*Bt-De*Qt-Ye*de;return Zn(h,X,wt),Bt=h[0],Qt=h[1],de=h[2],ve=h[3],h[4]=Br*ve+gn*Bt+Wr*de-Fr*Qt,h[5]=Wr*ve+gn*Qt+Fr*Bt-Br*de,h[6]=Fr*ve+gn*de+Br*Qt-Wr*Bt,h[7]=gn*ve-Br*Bt-Wr*Qt-Fr*de,h}function bo(h,X,wt){var Bt=wt[0],Qt=wt[1],de=wt[2],ve=wt[3],_e=X[0],De=X[1],Ye=X[2],or=X[3];return h[0]=_e*ve+or*Bt+De*de-Ye*Qt,h[1]=De*ve+or*Qt+Ye*Bt-_e*de,h[2]=Ye*ve+or*de+_e*Qt-De*Bt,h[3]=or*ve-_e*Bt-De*Qt-Ye*de,_e=X[4],De=X[5],Ye=X[6],or=X[7],h[4]=_e*ve+or*Bt+De*de-Ye*Qt,h[5]=De*ve+or*Qt+Ye*Bt-_e*de,h[6]=Ye*ve+or*de+_e*Qt-De*Bt,h[7]=or*ve-_e*Bt-De*Qt-Ye*de,h}function ds(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=wt[0],De=wt[1],Ye=wt[2],or=wt[3];return h[0]=Bt*or+ve*_e+Qt*Ye-de*De,h[1]=Qt*or+ve*De+de*_e-Bt*Ye,h[2]=de*or+ve*Ye+Bt*De-Qt*_e,h[3]=ve*or-Bt*_e-Qt*De-de*Ye,_e=wt[4],De=wt[5],Ye=wt[6],or=wt[7],h[4]=Bt*or+ve*_e+Qt*Ye-de*De,h[5]=Qt*or+ve*De+de*_e-Bt*Ye,h[6]=de*or+ve*Ye+Bt*De-Qt*_e,h[7]=ve*or-Bt*_e-Qt*De-de*Ye,h}function Ii(h,X,wt,Bt){if(Math.abs(Bt)<p.EPSILON)return fs(h,X);var Qt=Math.hypot(wt[0],wt[1],wt[2]);Bt=Bt*.5;var de=Math.sin(Bt),ve=de*wt[0]/Qt,_e=de*wt[1]/Qt,De=de*wt[2]/Qt,Ye=Math.cos(Bt),or=X[0],Br=X[1],Wr=X[2],Fr=X[3];h[0]=or*Ye+Fr*ve+Br*De-Wr*_e,h[1]=Br*Ye+Fr*_e+Wr*ve-or*De,h[2]=Wr*Ye+Fr*De+or*_e-Br*ve,h[3]=Fr*Ye-or*ve-Br*_e-Wr*De;var gn=X[4],Pn=X[5],Qr=X[6],Vn=X[7];return h[4]=gn*Ye+Vn*ve+Pn*De-Qr*_e,h[5]=Pn*Ye+Vn*_e+Qr*ve-gn*De,h[6]=Qr*Ye+Vn*De+gn*_e-Pn*ve,h[7]=Vn*Ye-gn*ve-Pn*_e-Qr*De,h}function eo(h,X,wt){return h[0]=X[0]+wt[0],h[1]=X[1]+wt[1],h[2]=X[2]+wt[2],h[3]=X[3]+wt[3],h[4]=X[4]+wt[4],h[5]=X[5]+wt[5],h[6]=X[6]+wt[6],h[7]=X[7]+wt[7],h}function Wo(h,X,wt){var Bt=X[0],Qt=X[1],de=X[2],ve=X[3],_e=wt[4],De=wt[5],Ye=wt[6],or=wt[7],Br=X[4],Wr=X[5],Fr=X[6],gn=X[7],Pn=wt[0],Qr=wt[1],Vn=wt[2],Aa=wt[3];return h[0]=Bt*Aa+ve*Pn+Qt*Vn-de*Qr,h[1]=Qt*Aa+ve*Qr+de*Pn-Bt*Vn,h[2]=de*Aa+ve*Vn+Bt*Qr-Qt*Pn,h[3]=ve*Aa-Bt*Pn-Qt*Qr-de*Vn,h[4]=Bt*or+ve*_e+Qt*Ye-de*De+Br*Aa+gn*Pn+Wr*Vn-Fr*Qr,h[5]=Qt*or+ve*De+de*_e-Bt*Ye+Wr*Aa+gn*Qr+Fr*Pn-Br*Vn,h[6]=de*or+ve*Ye+Bt*De-Qt*_e+Fr*Aa+gn*Vn+Br*Qr-Wr*Pn,h[7]=ve*or-Bt*_e-Qt*De-de*Ye+gn*Aa-Br*Pn-Wr*Qr-Fr*Vn,h}var hs=Wo;function qo(h,X,wt){return h[0]=X[0]*wt,h[1]=X[1]*wt,h[2]=X[2]*wt,h[3]=X[3]*wt,h[4]=X[4]*wt,h[5]=X[5]*wt,h[6]=X[6]*wt,h[7]=X[7]*wt,h}var Es=Oi;function As(h,X,wt,Bt){var Qt=1-Bt;return Es(X,wt)<0&&(Bt=-Bt),h[0]=X[0]*Qt+wt[0]*Bt,h[1]=X[1]*Qt+wt[1]*Bt,h[2]=X[2]*Qt+wt[2]*Bt,h[3]=X[3]*Qt+wt[3]*Bt,h[4]=X[4]*Qt+wt[4]*Bt,h[5]=X[5]*Qt+wt[5]*Bt,h[6]=X[6]*Qt+wt[6]*Bt,h[7]=X[7]*Qt+wt[7]*Bt,h}function ws(h,X){var wt=vs(X);return h[0]=-X[0]/wt,h[1]=-X[1]/wt,h[2]=-X[2]/wt,h[3]=X[3]/wt,h[4]=-X[4]/wt,h[5]=-X[5]/wt,h[6]=-X[6]/wt,h[7]=X[7]/wt,h}function nu(h,X){return h[0]=-X[0],h[1]=-X[1],h[2]=-X[2],h[3]=X[3],h[4]=-X[4],h[5]=-X[5],h[6]=-X[6],h[7]=X[7],h}var Ko=To,is=Ko,vs=Ni,Po=vs;function xu(h,X){var wt=vs(X);if(wt>0){wt=Math.sqrt(wt);var Bt=X[0]/wt,Qt=X[1]/wt,de=X[2]/wt,ve=X[3]/wt,_e=X[4],De=X[5],Ye=X[6],or=X[7],Br=Bt*_e+Qt*De+de*Ye+ve*or;h[0]=Bt,h[1]=Qt,h[2]=de,h[3]=ve,h[4]=(_e-Bt*Br)/wt,h[5]=(De-Qt*Br)/wt,h[6]=(Ye-de*Br)/wt,h[7]=(or-ve*Br)/wt}return h}function Eu(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"}function Xi(h,X){return h[0]===X[0]&&h[1]===X[1]&&h[2]===X[2]&&h[3]===X[3]&&h[4]===X[4]&&h[5]===X[5]&&h[6]===X[6]&&h[7]===X[7]}function xo(h,X){var wt=h[0],Bt=h[1],Qt=h[2],de=h[3],ve=h[4],_e=h[5],De=h[6],Ye=h[7],or=X[0],Br=X[1],Wr=X[2],Fr=X[3],gn=X[4],Pn=X[5],Qr=X[6],Vn=X[7];return Math.abs(wt-or)<=p.EPSILON*Math.max(1,Math.abs(wt),Math.abs(or))&&Math.abs(Bt-Br)<=p.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(Br))&&Math.abs(Qt-Wr)<=p.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(Wr))&&Math.abs(de-Fr)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(Fr))&&Math.abs(ve-gn)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(gn))&&Math.abs(_e-Pn)<=p.EPSILON*Math.max(1,Math.abs(_e),Math.abs(Pn))&&Math.abs(De-Qr)<=p.EPSILON*Math.max(1,Math.abs(De),Math.abs(Qr))&&Math.abs(Ye-Vn)<=p.EPSILON*Math.max(1,Math.abs(Ye),Math.abs(Vn))}var Lo=C(631437)},935600:function(Ge,W,C){"use strict";C.r(W),C.d(W,{add:function(){return J},adjoint:function(){return b},clone:function(){return _},copy:function(){return L},create:function(){return R},determinant:function(){return A},equals:function(){return kt},exactEquals:function(){return ht},frob:function(){return q},fromMat2d:function(){return U},fromMat4:function(){return w},fromQuat:function(){return G},fromRotation:function(){return z},fromScaling:function(){return Y},fromTranslation:function(){return f},fromValues:function(){return P},identity:function(){return m},invert:function(){return E},mul:function(){return Mt},multiply:function(){return x},multiplyScalar:function(){return st},multiplyScalarAndAdd:function(){return bt},normalFromMat4:function(){return j},projection:function(){return K},rotate:function(){return k},scale:function(){return g},set:function(){return p},str:function(){return nt},sub:function(){return St},subtract:function(){return ut},translate:function(){return D},transpose:function(){return S}});var y=C(73633);function R(){var V=new y.ARRAY_TYPE(9);return y.ARRAY_TYPE!=Float32Array&&(V[1]=0,V[2]=0,V[3]=0,V[5]=0,V[6]=0,V[7]=0),V[0]=1,V[4]=1,V[8]=1,V}function w(V,Q){return V[0]=Q[0],V[1]=Q[1],V[2]=Q[2],V[3]=Q[4],V[4]=Q[5],V[5]=Q[6],V[6]=Q[8],V[7]=Q[9],V[8]=Q[10],V}function _(V){var Q=new y.ARRAY_TYPE(9);return Q[0]=V[0],Q[1]=V[1],Q[2]=V[2],Q[3]=V[3],Q[4]=V[4],Q[5]=V[5],Q[6]=V[6],Q[7]=V[7],Q[8]=V[8],Q}function L(V,Q){return V[0]=Q[0],V[1]=Q[1],V[2]=Q[2],V[3]=Q[3],V[4]=Q[4],V[5]=Q[5],V[6]=Q[6],V[7]=Q[7],V[8]=Q[8],V}function P(V,Q,xt,Ct,et,vt,Tt,Ot,Et){var Dt=new y.ARRAY_TYPE(9);return Dt[0]=V,Dt[1]=Q,Dt[2]=xt,Dt[3]=Ct,Dt[4]=et,Dt[5]=vt,Dt[6]=Tt,Dt[7]=Ot,Dt[8]=Et,Dt}function p(V,Q,xt,Ct,et,vt,Tt,Ot,Et,Dt){return V[0]=Q,V[1]=xt,V[2]=Ct,V[3]=et,V[4]=vt,V[5]=Tt,V[6]=Ot,V[7]=Et,V[8]=Dt,V}function m(V){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=1,V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function S(V,Q){if(V===Q){var xt=Q[1],Ct=Q[2],et=Q[5];V[1]=Q[3],V[2]=Q[6],V[3]=xt,V[5]=Q[7],V[6]=Ct,V[7]=et}else V[0]=Q[0],V[1]=Q[3],V[2]=Q[6],V[3]=Q[1],V[4]=Q[4],V[5]=Q[7],V[6]=Q[2],V[7]=Q[5],V[8]=Q[8];return V}function E(V,Q){var xt=Q[0],Ct=Q[1],et=Q[2],vt=Q[3],Tt=Q[4],Ot=Q[5],Et=Q[6],Dt=Q[7],Vt=Q[8],ue=Vt*Tt-Ot*Dt,ee=-Vt*vt+Ot*Et,It=Dt*vt-Tt*Et,ne=xt*ue+Ct*ee+et*It;return ne?(ne=1/ne,V[0]=ue*ne,V[1]=(-Vt*Ct+et*Dt)*ne,V[2]=(Ot*Ct-et*Tt)*ne,V[3]=ee*ne,V[4]=(Vt*xt-et*Et)*ne,V[5]=(-Ot*xt+et*vt)*ne,V[6]=It*ne,V[7]=(-Dt*xt+Ct*Et)*ne,V[8]=(Tt*xt-Ct*vt)*ne,V):null}function b(V,Q){var xt=Q[0],Ct=Q[1],et=Q[2],vt=Q[3],Tt=Q[4],Ot=Q[5],Et=Q[6],Dt=Q[7],Vt=Q[8];return V[0]=Tt*Vt-Ot*Dt,V[1]=et*Dt-Ct*Vt,V[2]=Ct*Ot-et*Tt,V[3]=Ot*Et-vt*Vt,V[4]=xt*Vt-et*Et,V[5]=et*vt-xt*Ot,V[6]=vt*Dt-Tt*Et,V[7]=Ct*Et-xt*Dt,V[8]=xt*Tt-Ct*vt,V}function A(V){var Q=V[0],xt=V[1],Ct=V[2],et=V[3],vt=V[4],Tt=V[5],Ot=V[6],Et=V[7],Dt=V[8];return Q*(Dt*vt-Tt*Et)+xt*(-Dt*et+Tt*Ot)+Ct*(Et*et-vt*Ot)}function x(V,Q,xt){var Ct=Q[0],et=Q[1],vt=Q[2],Tt=Q[3],Ot=Q[4],Et=Q[5],Dt=Q[6],Vt=Q[7],ue=Q[8],ee=xt[0],It=xt[1],ne=xt[2],pe=xt[3],Gt=xt[4],qt=xt[5],$t=xt[6],Zt=xt[7],se=xt[8];return V[0]=ee*Ct+It*Tt+ne*Dt,V[1]=ee*et+It*Ot+ne*Vt,V[2]=ee*vt+It*Et+ne*ue,V[3]=pe*Ct+Gt*Tt+qt*Dt,V[4]=pe*et+Gt*Ot+qt*Vt,V[5]=pe*vt+Gt*Et+qt*ue,V[6]=$t*Ct+Zt*Tt+se*Dt,V[7]=$t*et+Zt*Ot+se*Vt,V[8]=$t*vt+Zt*Et+se*ue,V}function D(V,Q,xt){var Ct=Q[0],et=Q[1],vt=Q[2],Tt=Q[3],Ot=Q[4],Et=Q[5],Dt=Q[6],Vt=Q[7],ue=Q[8],ee=xt[0],It=xt[1];return V[0]=Ct,V[1]=et,V[2]=vt,V[3]=Tt,V[4]=Ot,V[5]=Et,V[6]=ee*Ct+It*Tt+Dt,V[7]=ee*et+It*Ot+Vt,V[8]=ee*vt+It*Et+ue,V}function k(V,Q,xt){var Ct=Q[0],et=Q[1],vt=Q[2],Tt=Q[3],Ot=Q[4],Et=Q[5],Dt=Q[6],Vt=Q[7],ue=Q[8],ee=Math.sin(xt),It=Math.cos(xt);return V[0]=It*Ct+ee*Tt,V[1]=It*et+ee*Ot,V[2]=It*vt+ee*Et,V[3]=It*Tt-ee*Ct,V[4]=It*Ot-ee*et,V[5]=It*Et-ee*vt,V[6]=Dt,V[7]=Vt,V[8]=ue,V}function g(V,Q,xt){var Ct=xt[0],et=xt[1];return V[0]=Ct*Q[0],V[1]=Ct*Q[1],V[2]=Ct*Q[2],V[3]=et*Q[3],V[4]=et*Q[4],V[5]=et*Q[5],V[6]=Q[6],V[7]=Q[7],V[8]=Q[8],V}function f(V,Q){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=1,V[5]=0,V[6]=Q[0],V[7]=Q[1],V[8]=1,V}function z(V,Q){var xt=Math.sin(Q),Ct=Math.cos(Q);return V[0]=Ct,V[1]=xt,V[2]=0,V[3]=-xt,V[4]=Ct,V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function Y(V,Q){return V[0]=Q[0],V[1]=0,V[2]=0,V[3]=0,V[4]=Q[1],V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function U(V,Q){return V[0]=Q[0],V[1]=Q[1],V[2]=0,V[3]=Q[2],V[4]=Q[3],V[5]=0,V[6]=Q[4],V[7]=Q[5],V[8]=1,V}function G(V,Q){var xt=Q[0],Ct=Q[1],et=Q[2],vt=Q[3],Tt=xt+xt,Ot=Ct+Ct,Et=et+et,Dt=xt*Tt,Vt=Ct*Tt,ue=Ct*Ot,ee=et*Tt,It=et*Ot,ne=et*Et,pe=vt*Tt,Gt=vt*Ot,qt=vt*Et;return V[0]=1-ue-ne,V[3]=Vt-qt,V[6]=ee+Gt,V[1]=Vt+qt,V[4]=1-Dt-ne,V[7]=It-pe,V[2]=ee-Gt,V[5]=It+pe,V[8]=1-Dt-ue,V}function j(V,Q){var xt=Q[0],Ct=Q[1],et=Q[2],vt=Q[3],Tt=Q[4],Ot=Q[5],Et=Q[6],Dt=Q[7],Vt=Q[8],ue=Q[9],ee=Q[10],It=Q[11],ne=Q[12],pe=Q[13],Gt=Q[14],qt=Q[15],$t=xt*Ot-Ct*Tt,Zt=xt*Et-et*Tt,se=xt*Dt-vt*Tt,Se=Ct*Et-et*Ot,Pt=Ct*Dt-vt*Ot,Fe=et*Dt-vt*Et,vr=Vt*pe-ue*ne,Cr=Vt*Gt-ee*ne,_r=Vt*qt-It*ne,Ur=ue*Gt-ee*pe,nn=ue*qt-It*pe,on=ee*qt-It*Gt,tr=$t*on-Zt*nn+se*Ur+Se*_r-Pt*Cr+Fe*vr;return tr?(tr=1/tr,V[0]=(Ot*on-Et*nn+Dt*Ur)*tr,V[1]=(Et*_r-Tt*on-Dt*Cr)*tr,V[2]=(Tt*nn-Ot*_r+Dt*vr)*tr,V[3]=(et*nn-Ct*on-vt*Ur)*tr,V[4]=(xt*on-et*_r+vt*Cr)*tr,V[5]=(Ct*_r-xt*nn-vt*vr)*tr,V[6]=(pe*Fe-Gt*Pt+qt*Se)*tr,V[7]=(Gt*se-ne*Fe-qt*Zt)*tr,V[8]=(ne*Pt-pe*se+qt*$t)*tr,V):null}function K(V,Q,xt){return V[0]=2/Q,V[1]=0,V[2]=0,V[3]=0,V[4]=-2/xt,V[5]=0,V[6]=-1,V[7]=1,V[8]=1,V}function nt(V){return"mat3("+V[0]+", "+V[1]+", "+V[2]+", "+V[3]+", "+V[4]+", "+V[5]+", "+V[6]+", "+V[7]+", "+V[8]+")"}function q(V){return Math.hypot(V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],V[8])}function J(V,Q,xt){return V[0]=Q[0]+xt[0],V[1]=Q[1]+xt[1],V[2]=Q[2]+xt[2],V[3]=Q[3]+xt[3],V[4]=Q[4]+xt[4],V[5]=Q[5]+xt[5],V[6]=Q[6]+xt[6],V[7]=Q[7]+xt[7],V[8]=Q[8]+xt[8],V}function ut(V,Q,xt){return V[0]=Q[0]-xt[0],V[1]=Q[1]-xt[1],V[2]=Q[2]-xt[2],V[3]=Q[3]-xt[3],V[4]=Q[4]-xt[4],V[5]=Q[5]-xt[5],V[6]=Q[6]-xt[6],V[7]=Q[7]-xt[7],V[8]=Q[8]-xt[8],V}function st(V,Q,xt){return V[0]=Q[0]*xt,V[1]=Q[1]*xt,V[2]=Q[2]*xt,V[3]=Q[3]*xt,V[4]=Q[4]*xt,V[5]=Q[5]*xt,V[6]=Q[6]*xt,V[7]=Q[7]*xt,V[8]=Q[8]*xt,V}function bt(V,Q,xt,Ct){return V[0]=Q[0]+xt[0]*Ct,V[1]=Q[1]+xt[1]*Ct,V[2]=Q[2]+xt[2]*Ct,V[3]=Q[3]+xt[3]*Ct,V[4]=Q[4]+xt[4]*Ct,V[5]=Q[5]+xt[5]*Ct,V[6]=Q[6]+xt[6]*Ct,V[7]=Q[7]+xt[7]*Ct,V[8]=Q[8]+xt[8]*Ct,V}function ht(V,Q){return V[0]===Q[0]&&V[1]===Q[1]&&V[2]===Q[2]&&V[3]===Q[3]&&V[4]===Q[4]&&V[5]===Q[5]&&V[6]===Q[6]&&V[7]===Q[7]&&V[8]===Q[8]}function kt(V,Q){var xt=V[0],Ct=V[1],et=V[2],vt=V[3],Tt=V[4],Ot=V[5],Et=V[6],Dt=V[7],Vt=V[8],ue=Q[0],ee=Q[1],It=Q[2],ne=Q[3],pe=Q[4],Gt=Q[5],qt=Q[6],$t=Q[7],Zt=Q[8];return Math.abs(xt-ue)<=y.EPSILON*Math.max(1,Math.abs(xt),Math.abs(ue))&&Math.abs(Ct-ee)<=y.EPSILON*Math.max(1,Math.abs(Ct),Math.abs(ee))&&Math.abs(et-It)<=y.EPSILON*Math.max(1,Math.abs(et),Math.abs(It))&&Math.abs(vt-ne)<=y.EPSILON*Math.max(1,Math.abs(vt),Math.abs(ne))&&Math.abs(Tt-pe)<=y.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(pe))&&Math.abs(Ot-Gt)<=y.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(Gt))&&Math.abs(Et-qt)<=y.EPSILON*Math.max(1,Math.abs(Et),Math.abs(qt))&&Math.abs(Dt-$t)<=y.EPSILON*Math.max(1,Math.abs(Dt),Math.abs($t))&&Math.abs(Vt-Zt)<=y.EPSILON*Math.max(1,Math.abs(Vt),Math.abs(Zt))}var Mt=x,St=ut},631437:function(Ge,W,C){"use strict";C.r(W),C.d(W,{add:function(){return p},angle:function(){return V},ceil:function(){return b},clone:function(){return w},copy:function(){return L},create:function(){return R},cross:function(){return J},dist:function(){return Dt},distance:function(){return z},div:function(){return Et},divide:function(){return E},dot:function(){return q},equals:function(){return et},exactEquals:function(){return Ct},floor:function(){return A},forEach:function(){return ee},fromValues:function(){return _},inverse:function(){return K},len:function(){return vt},length:function(){return U},lerp:function(){return ut},max:function(){return D},min:function(){return x},mul:function(){return Ot},multiply:function(){return S},negate:function(){return j},normalize:function(){return nt},random:function(){return st},rotate:function(){return St},round:function(){return k},scale:function(){return g},scaleAndAdd:function(){return f},set:function(){return P},sqrDist:function(){return Vt},sqrLen:function(){return ue},squaredDistance:function(){return Y},squaredLength:function(){return G},str:function(){return xt},sub:function(){return Tt},subtract:function(){return m},transformMat2:function(){return bt},transformMat2d:function(){return ht},transformMat3:function(){return kt},transformMat4:function(){return Mt},zero:function(){return Q}});var y=C(73633);function R(){var It=new y.ARRAY_TYPE(2);return y.ARRAY_TYPE!=Float32Array&&(It[0]=0,It[1]=0),It}function w(It){var ne=new y.ARRAY_TYPE(2);return ne[0]=It[0],ne[1]=It[1],ne}function _(It,ne){var pe=new y.ARRAY_TYPE(2);return pe[0]=It,pe[1]=ne,pe}function L(It,ne){return It[0]=ne[0],It[1]=ne[1],It}function P(It,ne,pe){return It[0]=ne,It[1]=pe,It}function p(It,ne,pe){return It[0]=ne[0]+pe[0],It[1]=ne[1]+pe[1],It}function m(It,ne,pe){return It[0]=ne[0]-pe[0],It[1]=ne[1]-pe[1],It}function S(It,ne,pe){return It[0]=ne[0]*pe[0],It[1]=ne[1]*pe[1],It}function E(It,ne,pe){return It[0]=ne[0]/pe[0],It[1]=ne[1]/pe[1],It}function b(It,ne){return It[0]=Math.ceil(ne[0]),It[1]=Math.ceil(ne[1]),It}function A(It,ne){return It[0]=Math.floor(ne[0]),It[1]=Math.floor(ne[1]),It}function x(It,ne,pe){return It[0]=Math.min(ne[0],pe[0]),It[1]=Math.min(ne[1],pe[1]),It}function D(It,ne,pe){return It[0]=Math.max(ne[0],pe[0]),It[1]=Math.max(ne[1],pe[1]),It}function k(It,ne){return It[0]=Math.round(ne[0]),It[1]=Math.round(ne[1]),It}function g(It,ne,pe){return It[0]=ne[0]*pe,It[1]=ne[1]*pe,It}function f(It,ne,pe,Gt){return It[0]=ne[0]+pe[0]*Gt,It[1]=ne[1]+pe[1]*Gt,It}function z(It,ne){var pe=ne[0]-It[0],Gt=ne[1]-It[1];return Math.hypot(pe,Gt)}function Y(It,ne){var pe=ne[0]-It[0],Gt=ne[1]-It[1];return pe*pe+Gt*Gt}function U(It){var ne=It[0],pe=It[1];return Math.hypot(ne,pe)}function G(It){var ne=It[0],pe=It[1];return ne*ne+pe*pe}function j(It,ne){return It[0]=-ne[0],It[1]=-ne[1],It}function K(It,ne){return It[0]=1/ne[0],It[1]=1/ne[1],It}function nt(It,ne){var pe=ne[0],Gt=ne[1],qt=pe*pe+Gt*Gt;return qt>0&&(qt=1/Math.sqrt(qt)),It[0]=ne[0]*qt,It[1]=ne[1]*qt,It}function q(It,ne){return It[0]*ne[0]+It[1]*ne[1]}function J(It,ne,pe){var Gt=ne[0]*pe[1]-ne[1]*pe[0];return It[0]=It[1]=0,It[2]=Gt,It}function ut(It,ne,pe,Gt){var qt=ne[0],$t=ne[1];return It[0]=qt+Gt*(pe[0]-qt),It[1]=$t+Gt*(pe[1]-$t),It}function st(It,ne){ne=ne||1;var pe=y.RANDOM()*2*Math.PI;return It[0]=Math.cos(pe)*ne,It[1]=Math.sin(pe)*ne,It}function bt(It,ne,pe){var Gt=ne[0],qt=ne[1];return It[0]=pe[0]*Gt+pe[2]*qt,It[1]=pe[1]*Gt+pe[3]*qt,It}function ht(It,ne,pe){var Gt=ne[0],qt=ne[1];return It[0]=pe[0]*Gt+pe[2]*qt+pe[4],It[1]=pe[1]*Gt+pe[3]*qt+pe[5],It}function kt(It,ne,pe){var Gt=ne[0],qt=ne[1];return It[0]=pe[0]*Gt+pe[3]*qt+pe[6],It[1]=pe[1]*Gt+pe[4]*qt+pe[7],It}function Mt(It,ne,pe){var Gt=ne[0],qt=ne[1];return It[0]=pe[0]*Gt+pe[4]*qt+pe[12],It[1]=pe[1]*Gt+pe[5]*qt+pe[13],It}function St(It,ne,pe,Gt){var qt=ne[0]-pe[0],$t=ne[1]-pe[1],Zt=Math.sin(Gt),se=Math.cos(Gt);return It[0]=qt*se-$t*Zt+pe[0],It[1]=qt*Zt+$t*se+pe[1],It}function V(It,ne){var pe=It[0],Gt=It[1],qt=ne[0],$t=ne[1],Zt=Math.sqrt(pe*pe+Gt*Gt)*Math.sqrt(qt*qt+$t*$t),se=Zt&&(pe*qt+Gt*$t)/Zt;return Math.acos(Math.min(Math.max(se,-1),1))}function Q(It){return It[0]=0,It[1]=0,It}function xt(It){return"vec2("+It[0]+", "+It[1]+")"}function Ct(It,ne){return It[0]===ne[0]&&It[1]===ne[1]}function et(It,ne){var pe=It[0],Gt=It[1],qt=ne[0],$t=ne[1];return Math.abs(pe-qt)<=y.EPSILON*Math.max(1,Math.abs(pe),Math.abs(qt))&&Math.abs(Gt-$t)<=y.EPSILON*Math.max(1,Math.abs(Gt),Math.abs($t))}var vt=U,Tt=m,Ot=S,Et=E,Dt=z,Vt=Y,ue=G,ee=function(){var It=R();return function(ne,pe,Gt,qt,$t,Zt){var se,Se;for(pe||(pe=2),Gt||(Gt=0),qt?Se=Math.min(qt*pe+Gt,ne.length):Se=ne.length,se=Gt;se<Se;se+=pe)It[0]=ne[se],It[1]=ne[se+1],$t(It,It,Zt),ne[se]=It[0],ne[se+1]=It[1];return ne}}()},277160:function(Ge,W,C){"use strict";C.r(W),C.d(W,{add:function(){return m},angle:function(){return Ct},bezier:function(){return bt},ceil:function(){return A},clone:function(){return w},copy:function(){return P},create:function(){return R},cross:function(){return J},dist:function(){return ue},distance:function(){return Y},div:function(){return Vt},divide:function(){return b},dot:function(){return q},equals:function(){return Ot},exactEquals:function(){return Tt},floor:function(){return x},forEach:function(){return pe},fromValues:function(){return L},hermite:function(){return st},inverse:function(){return K},len:function(){return It},length:function(){return _},lerp:function(){return ut},max:function(){return k},min:function(){return D},mul:function(){return Dt},multiply:function(){return E},negate:function(){return j},normalize:function(){return nt},random:function(){return ht},rotateX:function(){return V},rotateY:function(){return Q},rotateZ:function(){return xt},round:function(){return g},scale:function(){return f},scaleAndAdd:function(){return z},set:function(){return p},sqrDist:function(){return ee},sqrLen:function(){return ne},squaredDistance:function(){return U},squaredLength:function(){return G},str:function(){return vt},sub:function(){return Et},subtract:function(){return S},transformMat3:function(){return Mt},transformMat4:function(){return kt},transformQuat:function(){return St},zero:function(){return et}});var y=C(73633);function R(){var Gt=new y.ARRAY_TYPE(3);return y.ARRAY_TYPE!=Float32Array&&(Gt[0]=0,Gt[1]=0,Gt[2]=0),Gt}function w(Gt){var qt=new y.ARRAY_TYPE(3);return qt[0]=Gt[0],qt[1]=Gt[1],qt[2]=Gt[2],qt}function _(Gt){var qt=Gt[0],$t=Gt[1],Zt=Gt[2];return Math.hypot(qt,$t,Zt)}function L(Gt,qt,$t){var Zt=new y.ARRAY_TYPE(3);return Zt[0]=Gt,Zt[1]=qt,Zt[2]=$t,Zt}function P(Gt,qt){return Gt[0]=qt[0],Gt[1]=qt[1],Gt[2]=qt[2],Gt}function p(Gt,qt,$t,Zt){return Gt[0]=qt,Gt[1]=$t,Gt[2]=Zt,Gt}function m(Gt,qt,$t){return Gt[0]=qt[0]+$t[0],Gt[1]=qt[1]+$t[1],Gt[2]=qt[2]+$t[2],Gt}function S(Gt,qt,$t){return Gt[0]=qt[0]-$t[0],Gt[1]=qt[1]-$t[1],Gt[2]=qt[2]-$t[2],Gt}function E(Gt,qt,$t){return Gt[0]=qt[0]*$t[0],Gt[1]=qt[1]*$t[1],Gt[2]=qt[2]*$t[2],Gt}function b(Gt,qt,$t){return Gt[0]=qt[0]/$t[0],Gt[1]=qt[1]/$t[1],Gt[2]=qt[2]/$t[2],Gt}function A(Gt,qt){return Gt[0]=Math.ceil(qt[0]),Gt[1]=Math.ceil(qt[1]),Gt[2]=Math.ceil(qt[2]),Gt}function x(Gt,qt){return Gt[0]=Math.floor(qt[0]),Gt[1]=Math.floor(qt[1]),Gt[2]=Math.floor(qt[2]),Gt}function D(Gt,qt,$t){return Gt[0]=Math.min(qt[0],$t[0]),Gt[1]=Math.min(qt[1],$t[1]),Gt[2]=Math.min(qt[2],$t[2]),Gt}function k(Gt,qt,$t){return Gt[0]=Math.max(qt[0],$t[0]),Gt[1]=Math.max(qt[1],$t[1]),Gt[2]=Math.max(qt[2],$t[2]),Gt}function g(Gt,qt){return Gt[0]=Math.round(qt[0]),Gt[1]=Math.round(qt[1]),Gt[2]=Math.round(qt[2]),Gt}function f(Gt,qt,$t){return Gt[0]=qt[0]*$t,Gt[1]=qt[1]*$t,Gt[2]=qt[2]*$t,Gt}function z(Gt,qt,$t,Zt){return Gt[0]=qt[0]+$t[0]*Zt,Gt[1]=qt[1]+$t[1]*Zt,Gt[2]=qt[2]+$t[2]*Zt,Gt}function Y(Gt,qt){var $t=qt[0]-Gt[0],Zt=qt[1]-Gt[1],se=qt[2]-Gt[2];return Math.hypot($t,Zt,se)}function U(Gt,qt){var $t=qt[0]-Gt[0],Zt=qt[1]-Gt[1],se=qt[2]-Gt[2];return $t*$t+Zt*Zt+se*se}function G(Gt){var qt=Gt[0],$t=Gt[1],Zt=Gt[2];return qt*qt+$t*$t+Zt*Zt}function j(Gt,qt){return Gt[0]=-qt[0],Gt[1]=-qt[1],Gt[2]=-qt[2],Gt}function K(Gt,qt){return Gt[0]=1/qt[0],Gt[1]=1/qt[1],Gt[2]=1/qt[2],Gt}function nt(Gt,qt){var $t=qt[0],Zt=qt[1],se=qt[2],Se=$t*$t+Zt*Zt+se*se;return Se>0&&(Se=1/Math.sqrt(Se)),Gt[0]=qt[0]*Se,Gt[1]=qt[1]*Se,Gt[2]=qt[2]*Se,Gt}function q(Gt,qt){return Gt[0]*qt[0]+Gt[1]*qt[1]+Gt[2]*qt[2]}function J(Gt,qt,$t){var Zt=qt[0],se=qt[1],Se=qt[2],Pt=$t[0],Fe=$t[1],vr=$t[2];return Gt[0]=se*vr-Se*Fe,Gt[1]=Se*Pt-Zt*vr,Gt[2]=Zt*Fe-se*Pt,Gt}function ut(Gt,qt,$t,Zt){var se=qt[0],Se=qt[1],Pt=qt[2];return Gt[0]=se+Zt*($t[0]-se),Gt[1]=Se+Zt*($t[1]-Se),Gt[2]=Pt+Zt*($t[2]-Pt),Gt}function st(Gt,qt,$t,Zt,se,Se){var Pt=Se*Se,Fe=Pt*(2*Se-3)+1,vr=Pt*(Se-2)+Se,Cr=Pt*(Se-1),_r=Pt*(3-2*Se);return Gt[0]=qt[0]*Fe+$t[0]*vr+Zt[0]*Cr+se[0]*_r,Gt[1]=qt[1]*Fe+$t[1]*vr+Zt[1]*Cr+se[1]*_r,Gt[2]=qt[2]*Fe+$t[2]*vr+Zt[2]*Cr+se[2]*_r,Gt}function bt(Gt,qt,$t,Zt,se,Se){var Pt=1-Se,Fe=Pt*Pt,vr=Se*Se,Cr=Fe*Pt,_r=3*Se*Fe,Ur=3*vr*Pt,nn=vr*Se;return Gt[0]=qt[0]*Cr+$t[0]*_r+Zt[0]*Ur+se[0]*nn,Gt[1]=qt[1]*Cr+$t[1]*_r+Zt[1]*Ur+se[1]*nn,Gt[2]=qt[2]*Cr+$t[2]*_r+Zt[2]*Ur+se[2]*nn,Gt}function ht(Gt,qt){qt=qt||1;var $t=y.RANDOM()*2*Math.PI,Zt=y.RANDOM()*2-1,se=Math.sqrt(1-Zt*Zt)*qt;return Gt[0]=Math.cos($t)*se,Gt[1]=Math.sin($t)*se,Gt[2]=Zt*qt,Gt}function kt(Gt,qt,$t){var Zt=qt[0],se=qt[1],Se=qt[2],Pt=$t[3]*Zt+$t[7]*se+$t[11]*Se+$t[15];return Pt=Pt||1,Gt[0]=($t[0]*Zt+$t[4]*se+$t[8]*Se+$t[12])/Pt,Gt[1]=($t[1]*Zt+$t[5]*se+$t[9]*Se+$t[13])/Pt,Gt[2]=($t[2]*Zt+$t[6]*se+$t[10]*Se+$t[14])/Pt,Gt}function Mt(Gt,qt,$t){var Zt=qt[0],se=qt[1],Se=qt[2];return Gt[0]=Zt*$t[0]+se*$t[3]+Se*$t[6],Gt[1]=Zt*$t[1]+se*$t[4]+Se*$t[7],Gt[2]=Zt*$t[2]+se*$t[5]+Se*$t[8],Gt}function St(Gt,qt,$t){var Zt=$t[0],se=$t[1],Se=$t[2],Pt=$t[3],Fe=qt[0],vr=qt[1],Cr=qt[2],_r=se*Cr-Se*vr,Ur=Se*Fe-Zt*Cr,nn=Zt*vr-se*Fe,on=se*nn-Se*Ur,tr=Se*_r-Zt*nn,Rr=Zt*Ur-se*_r,qr=Pt*2;return _r*=qr,Ur*=qr,nn*=qr,on*=2,tr*=2,Rr*=2,Gt[0]=Fe+_r+on,Gt[1]=vr+Ur+tr,Gt[2]=Cr+nn+Rr,Gt}function V(Gt,qt,$t,Zt){var se=[],Se=[];return se[0]=qt[0]-$t[0],se[1]=qt[1]-$t[1],se[2]=qt[2]-$t[2],Se[0]=se[0],Se[1]=se[1]*Math.cos(Zt)-se[2]*Math.sin(Zt),Se[2]=se[1]*Math.sin(Zt)+se[2]*Math.cos(Zt),Gt[0]=Se[0]+$t[0],Gt[1]=Se[1]+$t[1],Gt[2]=Se[2]+$t[2],Gt}function Q(Gt,qt,$t,Zt){var se=[],Se=[];return se[0]=qt[0]-$t[0],se[1]=qt[1]-$t[1],se[2]=qt[2]-$t[2],Se[0]=se[2]*Math.sin(Zt)+se[0]*Math.cos(Zt),Se[1]=se[1],Se[2]=se[2]*Math.cos(Zt)-se[0]*Math.sin(Zt),Gt[0]=Se[0]+$t[0],Gt[1]=Se[1]+$t[1],Gt[2]=Se[2]+$t[2],Gt}function xt(Gt,qt,$t,Zt){var se=[],Se=[];return se[0]=qt[0]-$t[0],se[1]=qt[1]-$t[1],se[2]=qt[2]-$t[2],Se[0]=se[0]*Math.cos(Zt)-se[1]*Math.sin(Zt),Se[1]=se[0]*Math.sin(Zt)+se[1]*Math.cos(Zt),Se[2]=se[2],Gt[0]=Se[0]+$t[0],Gt[1]=Se[1]+$t[1],Gt[2]=Se[2]+$t[2],Gt}function Ct(Gt,qt){var $t=Gt[0],Zt=Gt[1],se=Gt[2],Se=qt[0],Pt=qt[1],Fe=qt[2],vr=Math.sqrt($t*$t+Zt*Zt+se*se),Cr=Math.sqrt(Se*Se+Pt*Pt+Fe*Fe),_r=vr*Cr,Ur=_r&&q(Gt,qt)/_r;return Math.acos(Math.min(Math.max(Ur,-1),1))}function et(Gt){return Gt[0]=0,Gt[1]=0,Gt[2]=0,Gt}function vt(Gt){return"vec3("+Gt[0]+", "+Gt[1]+", "+Gt[2]+")"}function Tt(Gt,qt){return Gt[0]===qt[0]&&Gt[1]===qt[1]&&Gt[2]===qt[2]}function Ot(Gt,qt){var $t=Gt[0],Zt=Gt[1],se=Gt[2],Se=qt[0],Pt=qt[1],Fe=qt[2];return Math.abs($t-Se)<=y.EPSILON*Math.max(1,Math.abs($t),Math.abs(Se))&&Math.abs(Zt-Pt)<=y.EPSILON*Math.max(1,Math.abs(Zt),Math.abs(Pt))&&Math.abs(se-Fe)<=y.EPSILON*Math.max(1,Math.abs(se),Math.abs(Fe))}var Et=S,Dt=E,Vt=b,ue=Y,ee=U,It=_,ne=G,pe=function(){var Gt=R();return function(qt,$t,Zt,se,Se,Pt){var Fe,vr;for($t||($t=3),Zt||(Zt=0),se?vr=Math.min(se*$t+Zt,qt.length):vr=qt.length,Fe=Zt;Fe<vr;Fe+=$t)Gt[0]=qt[Fe],Gt[1]=qt[Fe+1],Gt[2]=qt[Fe+2],Se(Gt,Gt,Pt),qt[Fe]=Gt[0],qt[Fe+1]=Gt[1],qt[Fe+2]=Gt[2];return qt}}()},241405:function(Ge,W,C){"use strict";var y=typeof Symbol!="undefined"&&Symbol,R=C(455419);Ge.exports=function(){return typeof y!="function"||typeof Symbol!="function"||typeof y("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R()}},455419:function(Ge){"use strict";Ge.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var C={},y=Symbol("test"),R=Object(y);if(typeof y=="string"||Object.prototype.toString.call(y)!=="[object Symbol]"||Object.prototype.toString.call(R)!=="[object Symbol]")return!1;var w=42;C[y]=w;for(y in C)return!1;if(typeof Object.keys=="function"&&Object.keys(C).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(C).length!==0)return!1;var _=Object.getOwnPropertySymbols(C);if(_.length!==1||_[0]!==y||!Object.prototype.propertyIsEnumerable.call(C,y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var L=Object.getOwnPropertyDescriptor(C,y);if(L.value!==w||L.enumerable!==!0)return!1}return!0}},117642:function(Ge,W,C){"use strict";var y=C(158612);Ge.exports=y.call(Function.call,Object.prototype.hasOwnProperty)},738186:function(Ge){var W=[],C=[],y="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function R(_,L){if(L=L||{},_===void 0)throw new Error(y);var P=L.prepend===!0?"prepend":"append",p=L.container!==void 0?L.container:document.querySelector("head"),m=W.indexOf(p);m===-1&&(m=W.push(p)-1,C[m]={});var S;return C[m]!==void 0&&C[m][P]!==void 0?S=C[m][P]:(S=C[m][P]=w(),P==="prepend"?p.insertBefore(S,p.childNodes[0]):p.appendChild(S)),_.charCodeAt(0)===65279&&(_=_.substr(1,_.length)),S.styleSheet?S.styleSheet.cssText+=_:S.textContent+=_,S}function w(){var _=document.createElement("style");return _.setAttribute("type","text/css"),_}Ge.exports=R,Ge.exports.insertCss=R},896874:function(Ge){function W(C,y,R){switch(R.length){case 0:return C.call(y);case 1:return C.call(y,R[0]);case 2:return C.call(y,R[0],R[1]);case 3:return C.call(y,R[0],R[1],R[2])}return C.apply(y,R)}Ge.exports=W},920731:function(Ge,W,C){var y=C(288668),R=C(447443),w=C(301196),_=C(829932),L=C(307518),P=C(274757),p=200;function m(S,E,b,A){var x=-1,D=R,k=!0,g=S.length,f=[],z=E.length;if(!g)return f;b&&(E=_(E,L(b))),A?(D=w,k=!1):E.length>=p&&(D=P,k=!1,E=new y(E));t:for(;++x<g;){var Y=S[x],U=b==null?Y:b(Y);if(Y=A||Y!==0?Y:0,k&&U===U){for(var G=z;G--;)if(E[G]===U)continue t;f.push(Y)}else D(E,U,A)||f.push(Y)}return f}Ge.exports=m},105976:function(Ge,W,C){var y=C(406557),R=C(545357),w=C(430061);function _(L,P){return w(R(L,P,y),L+"")}Ge.exports=_},356560:function(Ge,W,C){var y=C(575703),R=C(538777),w=C(406557),_=R?function(L,P){return R(L,"toString",{configurable:!0,enumerable:!1,value:y(P),writable:!0})}:w;Ge.exports=_},545357:function(Ge,W,C){var y=C(896874),R=Math.max;function w(_,L,P){return L=R(L===void 0?_.length-1:L,0),function(){for(var p=arguments,m=-1,S=R(p.length-L,0),E=Array(S);++m<S;)E[m]=p[L+m];m=-1;for(var b=Array(L+1);++m<L;)b[m]=p[m];return b[L]=P(E),y(_,this,b)}}Ge.exports=w},430061:function(Ge,W,C){var y=C(356560),R=C(521275),w=R(y);Ge.exports=w},521275:function(Ge){var W=800,C=16,y=Date.now;function R(w){var _=0,L=0;return function(){var P=y(),p=C-(P-L);if(L=P,p>0){if(++_>=W)return arguments[0]}else _=0;return w.apply(void 0,arguments)}}Ge.exports=R},575703:function(Ge){function W(C){return function(){return C}}Ge.exports=W},291966:function(Ge,W,C){var y=C(920731),R=C(121078),w=C(105976),_=C(229246),L=w(function(P,p){return _(P)?y(P,R(p,1,_,!0)):[]});Ge.exports=L},229246:function(Ge,W,C){var y=C(498612),R=C(637005);function w(_){return R(_)&&y(_)}Ge.exports=w},281763:function(Ge,W,C){var y=C(644239),R=C(637005),w="[object Number]";function _(L){return typeof L=="number"||R(L)&&y(L)==w}Ge.exports=_},252796:function(Ge,W,C){Ge.exports=C(410643)},913264:function(Ge){"use strict";var W=!!(typeof window!="undefined"&&window.document&&window.document.createElement),C={canUseDOM:W,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:W&&!!(window.addEventListener||window.attachEvent),canUseViewport:W&&!!window.screen,isInWorker:!W};Ge.exports=C},784518:function(Ge){var W=!1,C,y,R,w,_,L,P,p,m,S,E,b,A,x,D;function k(){if(!W){W=!0;var f=navigator.userAgent,z=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(f),Y=/(Mac OS X)|(Windows)|(Linux)/.exec(f);if(b=/\b(iPhone|iP[ao]d)/.exec(f),A=/\b(iP[ao]d)/.exec(f),S=/Android/i.exec(f),x=/FBAN\/\w+;/i.exec(f),D=/Mobile/i.exec(f),E=!!/Win64/.exec(f),z){C=z[1]?parseFloat(z[1]):z[5]?parseFloat(z[5]):NaN,C&&document&&document.documentMode&&(C=document.documentMode);var U=/(?:Trident\/(\d+.\d+))/.exec(f);L=U?parseFloat(U[1])+4:C,y=z[2]?parseFloat(z[2]):NaN,R=z[3]?parseFloat(z[3]):NaN,w=z[4]?parseFloat(z[4]):NaN,w?(z=/(?:Chrome\/(\d+\.\d+))/.exec(f),_=z&&z[1]?parseFloat(z[1]):NaN):_=NaN}else C=y=R=_=w=NaN;if(Y){if(Y[1]){var G=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(f);P=G?parseFloat(G[1].replace("_",".")):!0}else P=!1;p=!!Y[2],m=!!Y[3]}else P=p=m=!1}}var g={ie:function(){return k()||C},ieCompatibilityMode:function(){return k()||L>C},ie64:function(){return g.ie()&&E},firefox:function(){return k()||y},opera:function(){return k()||R},webkit:function(){return k()||w},safari:function(){return g.webkit()},chrome:function(){return k()||_},windows:function(){return k()||p},osx:function(){return k()||P},linux:function(){return k()||m},iphone:function(){return k()||b},mobile:function(){return k()||b||A||S||D},nativeApp:function(){return k()||x},android:function(){return k()||S},ipad:function(){return k()||A}};Ge.exports=g},396534:function(Ge,W,C){"use strict";var y=C(913264),R;y.canUseDOM&&(R=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function w(_,L){if(!y.canUseDOM||L&&!("addEventListener"in document))return!1;var P="on"+_,p=P in document;if(!p){var m=document.createElement("div");m.setAttribute(P,"return;"),p=typeof m[P]=="function"}return!p&&R&&_==="wheel"&&(p=document.implementation.hasFeature("Events.wheel","3.0")),p}Ge.exports=w},410643:function(Ge,W,C){"use strict";var y=C(784518),R=C(396534),w=10,_=40,L=800;function P(p){var m=0,S=0,E=0,b=0;return"detail"in p&&(S=p.detail),"wheelDelta"in p&&(S=-p.wheelDelta/120),"wheelDeltaY"in p&&(S=-p.wheelDeltaY/120),"wheelDeltaX"in p&&(m=-p.wheelDeltaX/120),"axis"in p&&p.axis===p.HORIZONTAL_AXIS&&(m=S,S=0),E=m*w,b=S*w,"deltaY"in p&&(b=p.deltaY),"deltaX"in p&&(E=p.deltaX),(E||b)&&p.deltaMode&&(p.deltaMode==1?(E*=_,b*=_):(E*=L,b*=L)),E&&!m&&(m=E<1?-1:1),b&&!S&&(S=b<1?-1:1),{spinX:m,spinY:S,pixelX:E,pixelY:b}}P.getEventType=function(){return y.firefox()?"DOMMouseScroll":R("wheel")?"wheel":"mousewheel"},Ge.exports=P},470631:function(Ge,W,C){var y=typeof Map=="function"&&Map.prototype,R=Object.getOwnPropertyDescriptor&&y?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,w=y&&R&&typeof R.get=="function"?R.get:null,_=y&&Map.prototype.forEach,L=typeof Set=="function"&&Set.prototype,P=Object.getOwnPropertyDescriptor&&L?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,p=L&&P&&typeof P.get=="function"?P.get:null,m=L&&Set.prototype.forEach,S=typeof WeakMap=="function"&&WeakMap.prototype,E=S?WeakMap.prototype.has:null,b=typeof WeakSet=="function"&&WeakSet.prototype,A=b?WeakSet.prototype.has:null,x=typeof WeakRef=="function"&&WeakRef.prototype,D=x?WeakRef.prototype.deref:null,k=Boolean.prototype.valueOf,g=Object.prototype.toString,f=Function.prototype.toString,z=String.prototype.match,Y=String.prototype.slice,U=String.prototype.replace,G=String.prototype.toUpperCase,j=String.prototype.toLowerCase,K=RegExp.prototype.test,nt=Array.prototype.concat,q=Array.prototype.join,J=Array.prototype.slice,ut=Math.floor,st=typeof BigInt=="function"?BigInt.prototype.valueOf:null,bt=Object.getOwnPropertySymbols,ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,kt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===kt||"symbol")?Symbol.toStringTag:null,St=Object.prototype.propertyIsEnumerable,V=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(je){return je.__proto__}:null);function Q(je,qe){if(je===1/0||je===-1/0||je!==je||je&&je>-1e3&&je<1e3||K.call(/e/,qe))return qe;var xn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof je=="number"){var rr=je<0?-ut(-je):ut(je);if(rr!==je){var jr=String(rr),Nr=Y.call(qe,jr.length+1);return U.call(jr,xn,"$&_")+"."+U.call(U.call(Nr,/([0-9]{3})/g,"$&_"),/_$/,"")}}return U.call(qe,xn,"$&_")}var xt=C(824654),Ct=xt.custom,et=ne(Ct)?Ct:null;Ge.exports=function je(qe,xn,rr,jr){var Nr=xn||{};if(qt(Nr,"quoteStyle")&&Nr.quoteStyle!=="single"&&Nr.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(qt(Nr,"maxStringLength")&&(typeof Nr.maxStringLength=="number"?Nr.maxStringLength<0&&Nr.maxStringLength!==1/0:Nr.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var kn=qt(Nr,"customInspect")?Nr.customInspect:!0;if(typeof kn!="boolean"&&kn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(qt(Nr,"indent")&&Nr.indent!==null&&Nr.indent!=="	"&&!(parseInt(Nr.indent,10)===Nr.indent&&Nr.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(qt(Nr,"numericSeparator")&&typeof Nr.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var an=Nr.numericSeparator;if(typeof qe=="undefined")return"undefined";if(qe===null)return"null";if(typeof qe=="boolean")return qe?"true":"false";if(typeof qe=="string")return Ur(qe,Nr);if(typeof qe=="number"){if(qe===0)return 1/0/qe>0?"0":"-0";var dn=String(qe);return an?Q(qe,dn):dn}if(typeof qe=="bigint"){var Sn=String(qe)+"n";return an?Q(qe,Sn):Sn}var Dn=typeof Nr.depth=="undefined"?5:Nr.depth;if(typeof rr=="undefined"&&(rr=0),rr>=Dn&&Dn>0&&typeof qe=="object")return Ot(qe)?"[Array]":"[Object]";var Nn=br(Nr,rr);if(typeof jr=="undefined")jr=[];else if(se(jr,qe)>=0)return"[Circular]";function rt(zt,Rt,Kt){if(Rt&&(jr=J.call(jr),jr.push(Rt)),Kt){var Te={depth:Nr.depth};return qt(Nr,"quoteStyle")&&(Te.quoteStyle=Nr.quoteStyle),je(zt,Te,rr+1,jr)}return je(zt,Nr,rr+1,jr)}if(typeof qe=="function"&&!Dt(qe)){var Xe=Zt(qe),Xt=Ir(qe,rt);return"[Function"+(Xe?": "+Xe:" (anonymous)")+"]"+(Xt.length>0?" { "+q.call(Xt,", ")+" }":"")}if(ne(qe)){var te=kt?U.call(String(qe),/^(Symbol\(.*\))_[^)]*$/,"$1"):ht.call(qe);return typeof qe=="object"&&!kt?on(te):te}if(_r(qe)){for(var ot="<"+j.call(String(qe.nodeName)),Ft=qe.attributes||[],ft=0;ft<Ft.length;ft++)ot+=" "+Ft[ft].name+"="+vt(Tt(Ft[ft].value),"double",Nr);return ot+=">",qe.childNodes&&qe.childNodes.length&&(ot+="..."),ot+="</"+j.call(String(qe.nodeName))+">",ot}if(Ot(qe)){if(qe.length===0)return"[]";var Ut=Ir(qe,rt);return Nn&&!qr(Ut)?"["+zr(Ut,Nn)+"]":"[ "+q.call(Ut,", ")+" ]"}if(Vt(qe)){var re=Ir(qe,rt);return!("cause"in Error.prototype)&&"cause"in qe&&!St.call(qe,"cause")?"{ ["+String(qe)+"] "+q.call(nt.call("[cause]: "+rt(qe.cause),re),", ")+" }":re.length===0?"["+String(qe)+"]":"{ ["+String(qe)+"] "+q.call(re,", ")+" }"}if(typeof qe=="object"&&kn){if(et&&typeof qe[et]=="function"&&xt)return xt(qe,{depth:Dn-rr});if(kn!=="symbol"&&typeof qe.inspect=="function")return qe.inspect()}if(Se(qe)){var ae=[];return _&&_.call(qe,function(zt,Rt){ae.push(rt(Rt,qe,!0)+" => "+rt(zt,qe))}),Rr("Map",w.call(qe),ae,Nn)}if(vr(qe)){var at=[];return m&&m.call(qe,function(zt){at.push(rt(zt,qe))}),Rr("Set",p.call(qe),at,Nn)}if(Pt(qe))return tr("WeakMap");if(Cr(qe))return tr("WeakSet");if(Fe(qe))return tr("WeakRef");if(ee(qe))return on(rt(Number(qe)));if(pe(qe))return on(rt(st.call(qe)));if(It(qe))return on(k.call(qe));if(ue(qe))return on(rt(String(qe)));if(!Et(qe)&&!Dt(qe)){var ct=Ir(qe,rt),F=V?V(qe)===Object.prototype:qe instanceof Object||qe.constructor===Object,M=qe instanceof Object?"":"null prototype",O=!F&&Mt&&Object(qe)===qe&&Mt in qe?Y.call($t(qe),8,-1):M?"Object":"",$=F||typeof qe.constructor!="function"?"":qe.constructor.name?qe.constructor.name+" ":"",mt=$+(O||M?"["+q.call(nt.call([],O||[],M||[]),": ")+"] ":"");return ct.length===0?mt+"{}":Nn?mt+"{"+zr(ct,Nn)+"}":mt+"{ "+q.call(ct,", ")+" }"}return String(qe)};function vt(je,qe,xn){var rr=(xn.quoteStyle||qe)==="double"?'"':"'";return rr+je+rr}function Tt(je){return U.call(String(je),/"/g,"&quot;")}function Ot(je){return $t(je)==="[object Array]"&&(!Mt||!(typeof je=="object"&&Mt in je))}function Et(je){return $t(je)==="[object Date]"&&(!Mt||!(typeof je=="object"&&Mt in je))}function Dt(je){return $t(je)==="[object RegExp]"&&(!Mt||!(typeof je=="object"&&Mt in je))}function Vt(je){return $t(je)==="[object Error]"&&(!Mt||!(typeof je=="object"&&Mt in je))}function ue(je){return $t(je)==="[object String]"&&(!Mt||!(typeof je=="object"&&Mt in je))}function ee(je){return $t(je)==="[object Number]"&&(!Mt||!(typeof je=="object"&&Mt in je))}function It(je){return $t(je)==="[object Boolean]"&&(!Mt||!(typeof je=="object"&&Mt in je))}function ne(je){if(kt)return je&&typeof je=="object"&&je instanceof Symbol;if(typeof je=="symbol")return!0;if(!je||typeof je!="object"||!ht)return!1;try{return ht.call(je),!0}catch(qe){}return!1}function pe(je){if(!je||typeof je!="object"||!st)return!1;try{return st.call(je),!0}catch(qe){}return!1}var Gt=Object.prototype.hasOwnProperty||function(je){return je in this};function qt(je,qe){return Gt.call(je,qe)}function $t(je){return g.call(je)}function Zt(je){if(je.name)return je.name;var qe=z.call(f.call(je),/^function\s*([\w$]+)/);return qe?qe[1]:null}function se(je,qe){if(je.indexOf)return je.indexOf(qe);for(var xn=0,rr=je.length;xn<rr;xn++)if(je[xn]===qe)return xn;return-1}function Se(je){if(!w||!je||typeof je!="object")return!1;try{w.call(je);try{p.call(je)}catch(qe){return!0}return je instanceof Map}catch(qe){}return!1}function Pt(je){if(!E||!je||typeof je!="object")return!1;try{E.call(je,E);try{A.call(je,A)}catch(qe){return!0}return je instanceof WeakMap}catch(qe){}return!1}function Fe(je){if(!D||!je||typeof je!="object")return!1;try{return D.call(je),!0}catch(qe){}return!1}function vr(je){if(!p||!je||typeof je!="object")return!1;try{p.call(je);try{w.call(je)}catch(qe){return!0}return je instanceof Set}catch(qe){}return!1}function Cr(je){if(!A||!je||typeof je!="object")return!1;try{A.call(je,A);try{E.call(je,E)}catch(qe){return!0}return je instanceof WeakSet}catch(qe){}return!1}function _r(je){return!je||typeof je!="object"?!1:typeof HTMLElement!="undefined"&&je instanceof HTMLElement?!0:typeof je.nodeName=="string"&&typeof je.getAttribute=="function"}function Ur(je,qe){if(je.length>qe.maxStringLength){var xn=je.length-qe.maxStringLength,rr="... "+xn+" more character"+(xn>1?"s":"");return Ur(Y.call(je,0,qe.maxStringLength),qe)+rr}var jr=U.call(U.call(je,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,nn);return vt(jr,"single",qe)}function nn(je){var qe=je.charCodeAt(0),xn={8:"b",9:"t",10:"n",12:"f",13:"r"}[qe];return xn?"\\"+xn:"\\x"+(qe<16?"0":"")+G.call(qe.toString(16))}function on(je){return"Object("+je+")"}function tr(je){return je+" { ? }"}function Rr(je,qe,xn,rr){var jr=rr?zr(xn,rr):q.call(xn,", ");return je+" ("+qe+") {"+jr+"}"}function qr(je){for(var qe=0;qe<je.length;qe++)if(se(je[qe],`
`)>=0)return!1;return!0}function br(je,qe){var xn;if(je.indent==="	")xn="	";else if(typeof je.indent=="number"&&je.indent>0)xn=q.call(Array(je.indent+1)," ");else return null;return{base:xn,prev:q.call(Array(qe+1),xn)}}function zr(je,qe){if(je.length===0)return"";var xn=`
`+qe.prev+qe.base;return xn+q.call(je,","+xn)+`
`+qe.prev}function Ir(je,qe){var xn=Ot(je),rr=[];if(xn){rr.length=je.length;for(var jr=0;jr<je.length;jr++)rr[jr]=qt(je,jr)?qe(je[jr],je):""}var Nr=typeof bt=="function"?bt(je):[],kn;if(kt){kn={};for(var an=0;an<Nr.length;an++)kn["$"+Nr[an]]=Nr[an]}for(var dn in je)qt(je,dn)&&(xn&&String(Number(dn))===dn&&dn<je.length||kt&&kn["$"+dn]instanceof Symbol||(K.call(/[^\w$]/,dn)?rr.push(qe(dn,je)+": "+qe(je[dn],je)):rr.push(dn+": "+qe(je[dn],je))));if(typeof bt=="function")for(var Sn=0;Sn<Nr.length;Sn++)St.call(je,Nr[Sn])&&rr.push("["+qe(Nr[Sn])+"]: "+qe(je[Nr[Sn]],je));return rr}},75:function(Ge,W,C){var y=C(734155);(function(){var R,w,_,L,P,p;typeof performance!="undefined"&&performance!==null&&performance.now?Ge.exports=function(){return performance.now()}:typeof y!="undefined"&&y!==null&&y.hrtime?(Ge.exports=function(){return(R()-P)/1e6},w=y.hrtime,R=function(){var m;return m=w(),m[0]*1e9+m[1]},L=R(),p=y.uptime()*1e9,P=L-p):Date.now?(Ge.exports=function(){return Date.now()-_},_=Date.now()):(Ge.exports=function(){return new Date().getTime()-_},_=new Date().getTime())}).call(this)},134569:function(Ge){"use strict";var W=String.prototype.replace,C=/%20/g,y={RFC1738:"RFC1738",RFC3986:"RFC3986"};Ge.exports={default:y.RFC3986,formatters:{RFC1738:function(R){return W.call(R,C,"+")},RFC3986:function(R){return String(R)}},RFC1738:y.RFC1738,RFC3986:y.RFC3986}},280129:function(Ge,W,C){"use strict";var y=C(458261),R=C(355235),w=C(134569);Ge.exports={formats:w,parse:R,stringify:y}},355235:function(Ge,W,C){"use strict";var y=C(412769),R=Object.prototype.hasOwnProperty,w=Array.isArray,_={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:y.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},L=function(x){return x.replace(/&#(\d+);/g,function(D,k){return String.fromCharCode(parseInt(k,10))})},P=function(x,D){return x&&typeof x=="string"&&D.comma&&x.indexOf(",")>-1?x.split(","):x},p="utf8=%26%2310003%3B",m="utf8=%E2%9C%93",S=function(D,k){var g={},f=k.ignoreQueryPrefix?D.replace(/^\?/,""):D,z=k.parameterLimit===1/0?void 0:k.parameterLimit,Y=f.split(k.delimiter,z),U=-1,G,j=k.charset;if(k.charsetSentinel)for(G=0;G<Y.length;++G)Y[G].indexOf("utf8=")===0&&(Y[G]===m?j="utf-8":Y[G]===p&&(j="iso-8859-1"),U=G,G=Y.length);for(G=0;G<Y.length;++G)if(G!==U){var K=Y[G],nt=K.indexOf("]="),q=nt===-1?K.indexOf("="):nt+1,J,ut;q===-1?(J=k.decoder(K,_.decoder,j,"key"),ut=k.strictNullHandling?null:""):(J=k.decoder(K.slice(0,q),_.decoder,j,"key"),ut=y.maybeMap(P(K.slice(q+1),k),function(st){return k.decoder(st,_.decoder,j,"value")})),ut&&k.interpretNumericEntities&&j==="iso-8859-1"&&(ut=L(ut)),K.indexOf("[]=")>-1&&(ut=w(ut)?[ut]:ut),R.call(g,J)?g[J]=y.combine(g[J],ut):g[J]=ut}return g},E=function(x,D,k,g){for(var f=g?D:P(D,k),z=x.length-1;z>=0;--z){var Y,U=x[z];if(U==="[]"&&k.parseArrays)Y=[].concat(f);else{Y=k.plainObjects?Object.create(null):{};var G=U.charAt(0)==="["&&U.charAt(U.length-1)==="]"?U.slice(1,-1):U,j=parseInt(G,10);!k.parseArrays&&G===""?Y={0:f}:!isNaN(j)&&U!==G&&String(j)===G&&j>=0&&k.parseArrays&&j<=k.arrayLimit?(Y=[],Y[j]=f):G!=="__proto__"&&(Y[G]=f)}f=Y}return f},b=function(D,k,g,f){if(D){var z=g.allowDots?D.replace(/\.([^.[]+)/g,"[$1]"):D,Y=/(\[[^[\]]*])/,U=/(\[[^[\]]*])/g,G=g.depth>0&&Y.exec(z),j=G?z.slice(0,G.index):z,K=[];if(j){if(!g.plainObjects&&R.call(Object.prototype,j)&&!g.allowPrototypes)return;K.push(j)}for(var nt=0;g.depth>0&&(G=U.exec(z))!==null&&nt<g.depth;){if(nt+=1,!g.plainObjects&&R.call(Object.prototype,G[1].slice(1,-1))&&!g.allowPrototypes)return;K.push(G[1])}return G&&K.push("["+z.slice(G.index)+"]"),E(K,k,g,f)}},A=function(D){if(!D)return _;if(D.decoder!==null&&D.decoder!==void 0&&typeof D.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof D.charset!="undefined"&&D.charset!=="utf-8"&&D.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var k=typeof D.charset=="undefined"?_.charset:D.charset;return{allowDots:typeof D.allowDots=="undefined"?_.allowDots:!!D.allowDots,allowPrototypes:typeof D.allowPrototypes=="boolean"?D.allowPrototypes:_.allowPrototypes,allowSparse:typeof D.allowSparse=="boolean"?D.allowSparse:_.allowSparse,arrayLimit:typeof D.arrayLimit=="number"?D.arrayLimit:_.arrayLimit,charset:k,charsetSentinel:typeof D.charsetSentinel=="boolean"?D.charsetSentinel:_.charsetSentinel,comma:typeof D.comma=="boolean"?D.comma:_.comma,decoder:typeof D.decoder=="function"?D.decoder:_.decoder,delimiter:typeof D.delimiter=="string"||y.isRegExp(D.delimiter)?D.delimiter:_.delimiter,depth:typeof D.depth=="number"||D.depth===!1?+D.depth:_.depth,ignoreQueryPrefix:D.ignoreQueryPrefix===!0,interpretNumericEntities:typeof D.interpretNumericEntities=="boolean"?D.interpretNumericEntities:_.interpretNumericEntities,parameterLimit:typeof D.parameterLimit=="number"?D.parameterLimit:_.parameterLimit,parseArrays:D.parseArrays!==!1,plainObjects:typeof D.plainObjects=="boolean"?D.plainObjects:_.plainObjects,strictNullHandling:typeof D.strictNullHandling=="boolean"?D.strictNullHandling:_.strictNullHandling}};Ge.exports=function(x,D){var k=A(D);if(x===""||x===null||typeof x=="undefined")return k.plainObjects?Object.create(null):{};for(var g=typeof x=="string"?S(x,k):x,f=k.plainObjects?Object.create(null):{},z=Object.keys(g),Y=0;Y<z.length;++Y){var U=z[Y],G=b(U,g[U],k,typeof x=="string");f=y.merge(f,G,k)}return k.allowSparse===!0?f:y.compact(f)}},458261:function(Ge,W,C){"use strict";var y=C(937478),R=C(412769),w=C(134569),_=Object.prototype.hasOwnProperty,L={brackets:function(f){return f+"[]"},comma:"comma",indices:function(f,z){return f+"["+z+"]"},repeat:function(f){return f}},P=Array.isArray,p=Array.prototype.push,m=function(g,f){p.apply(g,P(f)?f:[f])},S=Date.prototype.toISOString,E=w.default,b={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:R.encode,encodeValuesOnly:!1,format:E,formatter:w.formatters[E],indices:!1,serializeDate:function(f){return S.call(f)},skipNulls:!1,strictNullHandling:!1},A=function(f){return typeof f=="string"||typeof f=="number"||typeof f=="boolean"||typeof f=="symbol"||typeof f=="bigint"},x={},D=function g(f,z,Y,U,G,j,K,nt,q,J,ut,st,bt,ht,kt,Mt){for(var St=f,V=Mt,Q=0,xt=!1;(V=V.get(x))!==void 0&&!xt;){var Ct=V.get(f);if(Q+=1,typeof Ct!="undefined"){if(Ct===Q)throw new RangeError("Cyclic object value");xt=!0}typeof V.get(x)=="undefined"&&(Q=0)}if(typeof nt=="function"?St=nt(z,St):St instanceof Date?St=ut(St):Y==="comma"&&P(St)&&(St=R.maybeMap(St,function(ne){return ne instanceof Date?ut(ne):ne})),St===null){if(G)return K&&!ht?K(z,b.encoder,kt,"key",st):z;St=""}if(A(St)||R.isBuffer(St)){if(K){var et=ht?z:K(z,b.encoder,kt,"key",st);return[bt(et)+"="+bt(K(St,b.encoder,kt,"value",st))]}return[bt(z)+"="+bt(String(St))]}var vt=[];if(typeof St=="undefined")return vt;var Tt;if(Y==="comma"&&P(St))ht&&K&&(St=R.maybeMap(St,K)),Tt=[{value:St.length>0?St.join(",")||null:void 0}];else if(P(nt))Tt=nt;else{var Ot=Object.keys(St);Tt=q?Ot.sort(q):Ot}for(var Et=U&&P(St)&&St.length===1?z+"[]":z,Dt=0;Dt<Tt.length;++Dt){var Vt=Tt[Dt],ue=typeof Vt=="object"&&typeof Vt.value!="undefined"?Vt.value:St[Vt];if(!(j&&ue===null)){var ee=P(St)?typeof Y=="function"?Y(Et,Vt):Et:Et+(J?"."+Vt:"["+Vt+"]");Mt.set(f,Q);var It=y();It.set(x,Mt),m(vt,g(ue,ee,Y,U,G,j,Y==="comma"&&ht&&P(St)?null:K,nt,q,J,ut,st,bt,ht,kt,It))}}return vt},k=function(f){if(!f)return b;if(f.encoder!==null&&typeof f.encoder!="undefined"&&typeof f.encoder!="function")throw new TypeError("Encoder has to be a function.");var z=f.charset||b.charset;if(typeof f.charset!="undefined"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Y=w.default;if(typeof f.format!="undefined"){if(!_.call(w.formatters,f.format))throw new TypeError("Unknown format option provided.");Y=f.format}var U=w.formatters[Y],G=b.filter;return(typeof f.filter=="function"||P(f.filter))&&(G=f.filter),{addQueryPrefix:typeof f.addQueryPrefix=="boolean"?f.addQueryPrefix:b.addQueryPrefix,allowDots:typeof f.allowDots=="undefined"?b.allowDots:!!f.allowDots,charset:z,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:b.charsetSentinel,delimiter:typeof f.delimiter=="undefined"?b.delimiter:f.delimiter,encode:typeof f.encode=="boolean"?f.encode:b.encode,encoder:typeof f.encoder=="function"?f.encoder:b.encoder,encodeValuesOnly:typeof f.encodeValuesOnly=="boolean"?f.encodeValuesOnly:b.encodeValuesOnly,filter:G,format:Y,formatter:U,serializeDate:typeof f.serializeDate=="function"?f.serializeDate:b.serializeDate,skipNulls:typeof f.skipNulls=="boolean"?f.skipNulls:b.skipNulls,sort:typeof f.sort=="function"?f.sort:null,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:b.strictNullHandling}};Ge.exports=function(g,f){var z=g,Y=k(f),U,G;typeof Y.filter=="function"?(G=Y.filter,z=G("",z)):P(Y.filter)&&(G=Y.filter,U=G);var j=[];if(typeof z!="object"||z===null)return"";var K;f&&f.arrayFormat in L?K=f.arrayFormat:f&&"indices"in f?K=f.indices?"indices":"repeat":K="indices";var nt=L[K];if(f&&"commaRoundTrip"in f&&typeof f.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var q=nt==="comma"&&f&&f.commaRoundTrip;U||(U=Object.keys(z)),Y.sort&&U.sort(Y.sort);for(var J=y(),ut=0;ut<U.length;++ut){var st=U[ut];Y.skipNulls&&z[st]===null||m(j,D(z[st],st,nt,q,Y.strictNullHandling,Y.skipNulls,Y.encode?Y.encoder:null,Y.filter,Y.sort,Y.allowDots,Y.serializeDate,Y.format,Y.formatter,Y.encodeValuesOnly,Y.charset,J))}var bt=j.join(Y.delimiter),ht=Y.addQueryPrefix===!0?"?":"";return Y.charsetSentinel&&(Y.charset==="iso-8859-1"?ht+="utf8=%26%2310003%3B&":ht+="utf8=%E2%9C%93&"),bt.length>0?ht+bt:""}},412769:function(Ge,W,C){"use strict";var y=C(134569),R=Object.prototype.hasOwnProperty,w=Array.isArray,_=function(){for(var g=[],f=0;f<256;++f)g.push("%"+((f<16?"0":"")+f.toString(16)).toUpperCase());return g}(),L=function(f){for(;f.length>1;){var z=f.pop(),Y=z.obj[z.prop];if(w(Y)){for(var U=[],G=0;G<Y.length;++G)typeof Y[G]!="undefined"&&U.push(Y[G]);z.obj[z.prop]=U}}},P=function(f,z){for(var Y=z&&z.plainObjects?Object.create(null):{},U=0;U<f.length;++U)typeof f[U]!="undefined"&&(Y[U]=f[U]);return Y},p=function g(f,z,Y){if(!z)return f;if(typeof z!="object"){if(w(f))f.push(z);else if(f&&typeof f=="object")(Y&&(Y.plainObjects||Y.allowPrototypes)||!R.call(Object.prototype,z))&&(f[z]=!0);else return[f,z];return f}if(!f||typeof f!="object")return[f].concat(z);var U=f;return w(f)&&!w(z)&&(U=P(f,Y)),w(f)&&w(z)?(z.forEach(function(G,j){if(R.call(f,j)){var K=f[j];K&&typeof K=="object"&&G&&typeof G=="object"?f[j]=g(K,G,Y):f.push(G)}else f[j]=G}),f):Object.keys(z).reduce(function(G,j){var K=z[j];return R.call(G,j)?G[j]=g(G[j],K,Y):G[j]=K,G},U)},m=function(f,z){return Object.keys(z).reduce(function(Y,U){return Y[U]=z[U],Y},f)},S=function(g,f,z){var Y=g.replace(/\+/g," ");if(z==="iso-8859-1")return Y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Y)}catch(U){return Y}},E=function(f,z,Y,U,G){if(f.length===0)return f;var j=f;if(typeof f=="symbol"?j=Symbol.prototype.toString.call(f):typeof f!="string"&&(j=String(f)),Y==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(J){return"%26%23"+parseInt(J.slice(2),16)+"%3B"});for(var K="",nt=0;nt<j.length;++nt){var q=j.charCodeAt(nt);if(q===45||q===46||q===95||q===126||q>=48&&q<=57||q>=65&&q<=90||q>=97&&q<=122||G===y.RFC1738&&(q===40||q===41)){K+=j.charAt(nt);continue}if(q<128){K=K+_[q];continue}if(q<2048){K=K+(_[192|q>>6]+_[128|q&63]);continue}if(q<55296||q>=57344){K=K+(_[224|q>>12]+_[128|q>>6&63]+_[128|q&63]);continue}nt+=1,q=65536+((q&1023)<<10|j.charCodeAt(nt)&1023),K+=_[240|q>>18]+_[128|q>>12&63]+_[128|q>>6&63]+_[128|q&63]}return K},b=function(f){for(var z=[{obj:{o:f},prop:"o"}],Y=[],U=0;U<z.length;++U)for(var G=z[U],j=G.obj[G.prop],K=Object.keys(j),nt=0;nt<K.length;++nt){var q=K[nt],J=j[q];typeof J=="object"&&J!==null&&Y.indexOf(J)===-1&&(z.push({obj:j,prop:q}),Y.push(J))}return L(z),f},A=function(f){return Object.prototype.toString.call(f)==="[object RegExp]"},x=function(f){return!f||typeof f!="object"?!1:!!(f.constructor&&f.constructor.isBuffer&&f.constructor.isBuffer(f))},D=function(f,z){return[].concat(f,z)},k=function(f,z){if(w(f)){for(var Y=[],U=0;U<f.length;U+=1)Y.push(z(f[U]));return Y}return z(f)};Ge.exports={arrayToObject:P,assign:m,combine:D,compact:b,decode:S,encode:E,isBuffer:x,isRegExp:A,maybeMap:k,merge:p}},654087:function(Ge,W,C){for(var y=C(75),R=typeof window=="undefined"?C.g:window,w=["moz","webkit"],_="AnimationFrame",L=R["request"+_],P=R["cancel"+_]||R["cancelRequest"+_],p=0;!L&&p<w.length;p++)L=R[w[p]+"Request"+_],P=R[w[p]+"Cancel"+_]||R[w[p]+"CancelRequest"+_];if(!L||!P){var m=0,S=0,E=[],b=1e3/60;L=function(A){if(E.length===0){var x=y(),D=Math.max(0,b-(x-m));m=D+x,setTimeout(function(){var k=E.slice(0);E.length=0;for(var g=0;g<k.length;g++)if(!k[g].cancelled)try{k[g].callback(m)}catch(f){setTimeout(function(){throw f},0)}},Math.round(D))}return E.push({handle:++S,callback:A,cancelled:!1}),S},P=function(A){for(var x=0;x<E.length;x++)E[x].handle===A&&(E[x].cancelled=!0)}}Ge.exports=function(A){return L.call(R,A)},Ge.exports.cancel=function(){P.apply(R,arguments)},Ge.exports.polyfill=function(A){A||(A=R),A.requestAnimationFrame=L,A.cancelAnimationFrame=P}},174219:function(Ge,W){"use strict";var C;C={value:!0},W.Z=void 0;var y={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};W.Z=y},585369:function(Ge,W){"use strict";var C;C={value:!0},W.Z=void 0;var y={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},R=y;W.Z=R},752376:function(Ge,W,C){"use strict";C.d(W,{Z:function(){return Xe}});var y=C(671002),R=C(601413),w=C(297685),_=C(700091),L=C(667294);function P(Xt){var te=[];return L.Children.forEach(Xt,function(ot){te.push(ot)}),te}function p(Xt,te){var ot=null;return Xt&&Xt.forEach(function(Ft){ot||!Ft||Ft.key===te&&(ot=Ft)}),ot}function m(Xt,te){var ot=[],Ft={},ft=[],Ut=null;return Xt.forEach(function(re){re&&(re.key&&p(te,re.key)?(ft.length&&(Ft[re.key]=ft,ft=[]),Ut=re.key):re.key&&ft.push(re))}),Ut||(ot=ot.concat(ft)),te.forEach(function(re){re&&(re.key&&Ft.hasOwnProperty(re.key)&&(ot=ot.concat(Ft[re.key])),ot.push(re),re.key===Ut&&(ot=ot.concat(ft)))}),ot}function S(Xt,te,ot){var Ft;return typeof Xt=="function"?Ft=Xt({key:te,index:ot}):Ft=Xt,Ft}function E(Xt){return Xt&&Xt.children}var b=!(typeof window!="undefined"&&window.document&&window.document.createElement),A=b?L.useEffect:L.useLayoutEffect,x=C(974902),D=C(973935),k=C(364687),g=C.n(k),f=C(115861),z=C(215671),Y=C(143144),U=C(952191);function G(){}var j=U.rV,K=/.*shadow$/gi,nt=!(typeof window!="undefined"&&window.document&&window.document.createElement),q=Date.now;function J(Xt){if(typeof Xt=="string"){if(Xt.charAt(0).match(/m/i)){var te=document.createElementNS("http://www.w3.org/2000/svg","path");return te.setAttributeNS(null,"d",Xt),te}return document.querySelector(Xt)}else if(Xt.style)return Xt;throw new Error("Error while parsing the path")}var ut={type:"to",duration:450,delay:0,repeat:0,repeatDelay:0,appearTo:0,yoyo:!1,ease:"easeInOutQuad",onStart:G,onUpdate:G,onComplete:G,onRepeat:G,startAt:{}},st={animation:{},paused:!1,reverse:!1,delay:0,repeat:0,repeatDelay:0,yoyo:!1,moment:null,resetStyle:!1,regionStartTime:0,regionEndTime:void 0,onChange:G,onChangeTimeline:G},bt=function(te){var ot={};return Object.keys(st).forEach(function(Ft){ot[Ft]=typeof te[Ft]=="undefined"?st[Ft]:te[Ft]}),ot.delay&&(ot.delay=Math.round(ot.delay)),te.repeatDelay&&(ot.repeatDelay=Math.round(ot.repeatDelay)),ot},ht=function(te){if(Array.isArray(te)||!te)return te;if(te.length){var ot=Array.prototype.slice.call(te);return ot.length?[te]:ot}return[te]},kt=function(te){return te.length===1?te[0]:te},Mt=function(te,ot){var Ft=ot.appearTo,ft=Ft===void 0?0:Ft,Ut=ot.delay,re=Ut===void 0?0:Ut,ae=ot.duration,at=ae===void 0?450:ae,ct=ot.repeat,F=ot.repeatDelay;if(typeof ft=="string")return 0;var M,O=0;return typeof te.appearTo=="number"?te.appearTo:(typeof te.appearTo=="string"&&te.appearTo.charAt(1)==="="&&(O=parseFloat(te.appearTo.replace("=",""))),M=ft+re+at+O,ct===-1?M=Number.MAX_VALUE:ct&&(M=ft+re+at*(ct+1)+(F||0)*ct+O),M)},St=function(te){switch(te){case"opacity":case"scaleX":case"scaleY":case"scale":return 1;default:return 0}},V=function(te,ot){var Ft=typeof te=="string"?parseFloat(te):te;return Q(Ft,ot.vars,1,ot.count,ot.unit)},Q=function(te,ot,Ft){var ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",Ut=arguments.length>4?arguments[4]:void 0;return ft==="+="||ft==="-="?te+ot*Ft+(Ut||0):(ot-te)*Ft+te+(Ut||0)},xt=function(te){if(!te)return{};var ot=typeof window!="undefined"&&document.defaultView?document.defaultView.getComputedStyle(te):{};return ot},Ct={margin:1,padding:1,borderWidth:1,borderRadius:1};function et(Xt){var te=Xt.target,ot=Xt.computedStyle,Ft=Xt.style,ft=Xt.value,Ut=Xt.startUnit,re=Xt.endUnit,ae=Xt.fixed,at=Xt.isOriginWidth,ct=Xt.useCurrentTarget;if(nt)return ft;var F=/(?:Left|Right|Width|X)/i.test(Ft)||at;F=Ft==="padding"||Ft==="marign"?!0:F;var M=Ft.indexOf("border")!==-1||Ft.indexOf("translate")!==-1||Ft==="transformOrigin"||ct?te:te.parentNode||document.body;M=ae?document.body:M;var O,$,mt;switch(Ut){case"%":O=parseFloat(ft)/100*(F?M.clientWidth:M.clientHeight);break;case"vw":O=parseFloat(ft)*document.body.clientWidth/100;break;case"vh":O=parseFloat(ft)*document.body.clientHeight/100;break;case"em":ot?O=parseFloat(ft)*parseFloat(ot.fontSize):(mt="em",O=parseFloat(ft));break;case"rem":{ot?($=window.getComputedStyle(document.getElementsByTagName("html")[0]),O=parseFloat(ft)*parseFloat($.fontSize)):(mt="rem",O=parseFloat(ft));break}default:O=parseFloat(ft);break}switch(re){case"%":O=O?O*100/(F?M.clientWidth:M.clientHeight):0;break;case"vw":O=parseFloat(ft)/document.body.clientWidth*100;break;case"vh":O=parseFloat(ft)/document.body.clientHeight*100;break;case"em":ot?O=parseFloat(ft)/parseFloat(ot.fontSize):(mt="em",O=parseFloat(ft));break;case"rem":{ot?($=$||window.getComputedStyle(document.getElementsByTagName("html")[0]),O=parseFloat(ft)/parseFloat($.fontSize)):(mt="rem",O=parseFloat(ft));break}default:break}return mt&&console.warn("Warning: Element is not 'DOM, can not use '".concat(mt,"', automatically convert to animation units.")),O}function vt(Xt){if(typeof Xt=="string")return Xt;var te=Xt.perspective,ot=Xt.rotate,Ft=Xt.rotateX,ft=Xt.rotateY,Ut=Xt.scaleX,re=Xt.scaleY,ae=Xt.scaleZ,at=Xt.skewX,ct=Xt.skewY,F=typeof Xt.translateX=="string"?Xt.translateX:"".concat(Xt.translateX,"px"),M=typeof Xt.translateY=="string"?Xt.translateY:"".concat(Xt.translateY,"px"),O=typeof Xt.translateZ=="string"?Xt.translateZ:"".concat(Xt.translateZ,"px"),$=at||ct?"skew(".concat(at,"deg,").concat(ct,"deg)"):"",mt=ot?"rotate(".concat(ot,"deg)"):"",zt=Ut!==1||re!==1||ae!==1?"scale3d(".concat(Ut,",").concat(re,",").concat(ae,")"):"",Rt=Ft?"rotateX(".concat(Ft,"deg)"):"",Kt=ft?"rotateY(".concat(ft,"deg)"):"",Te=te?"perspective(".concat(te,"px)"):"",be=zt||mt||Rt||Kt||$?"":"translate(0px, 0px)",We=Xt.translateZ?"translate3d(".concat(F,",").concat(M,",").concat(O,")"):(Xt.translateX||Xt.translateY)&&"translate(".concat(F,",").concat(M,")")||be;return"".concat(Te," ").concat(We," ").concat(zt," ").concat(mt," ").concat(Rt," ").concat(Kt," ").concat($).trim()}var Tt={brightness:1,saturate:1,contrast:1,grayScale:0,hueRotate:"0deg",sepia:0,invert:0},Ot=(0,Y.Z)(function Xt(){var te=this;(0,z.Z)(this,Xt),this.push=function(ot){ht(ot).forEach(function(Ft){te[Ft.className]=Ft})},this.register=this.push}),Et=new Ot,Dt=/%|vw|vh|em|rem/i,Vt=(0,Y.Z)(function Xt(te){var ot=this;(0,z.Z)(this,Xt),this.props=void 0,this.computedStyle=void 0,this.root=void 0,this.index=void 0,this.targetIndex=void 0,this.tweenVars={},this.transformName=void 0,this.filterName=void 0,this.target=void 0,this.start={},this.startAt={},this.propsData={data:{},type:{},unit:{},count:{},splitStr:{},isTransform:{}},this.setDefaultData=function(){var Ft=ot.props;for(var ft in Ft){var Ut=Ft[ft],re=Ut.split&&Ut.split(/\s+|,/).length>1||ft.match(/color|fill|stroke/i)||ft.match(/shadow/i),ae=(ft==="background"||ft==="backgroundImage")&&Ut.match(/[a-z|-]+\(([\s\S]*?)\)/gi);if(ae){ot.propsData.data[ft]={value:Ut,plugin:Et.GradientsPlugin};continue}if(re){ot.propsData.data[ft]={value:Ut,plugin:Et.ArrayPlugin};continue}var at=(0,U.Lo)(ft),ct=ot.getTweenData(at,Ft[ft]);ot.propsData.data[at]=ct.data[at],ot.propsData.type[at]=ct.type[at],ot.propsData.unit[at]=ct.unit[at],ot.propsData.count[at]=ct.count[at],ot.propsData.isTransform[at]=(0,U.dt)(at)==="transform",ct.splitStr[at]&&(ot.propsData.splitStr[at]=ct.splitStr[at])}},this.getTweenData=function(Ft,ft){var Ut={data:{},isTransform:{},type:{},unit:{},count:{},splitStr:{}},re=ft;Ut.data[Ft]=re;var ae=typeof Ut.data[Ft]=="string";Ut.unit[Ft]=ae?Ut.data[Ft].replace(/[^a-z|%]/g,""):"",Ut.count[Ft]=ae?Ut.data[Ft].replace(/[^+|=|-]/g,""):"";var at=ae?parseFloat(Ut.data[Ft].replace(/[a-z|%|=]/g,"")):Ut.data[Ft];return Ut.data[Ft]=!at&&at!==0?Ut.data[Ft]:at,Ut},this.setStartAtValue=function(Ft,ft){return(0,y.Z)(ft)==="object"?V(Ft,ft):Ft},this.getAnimStart=function(){var Ft=ot.target,ft=ot.root,Ut=ot.targetIndex,re=ot.propsData,ae=ot.startAt,at=ot.start,ct=ot.tweenVars,F={};for(var M in ae)F[(0,U.Lo)(M)]=ae[M];ot.computedStyle=ot.computedStyle||xt(Ft),ct.style=ct.style||{};var O,$;for(var mt in re.data){var zt,Rt=re.data[mt];if(Rt.plugin){var Kt=new Rt.plugin(Rt.value,mt);Kt.target=Ft,Kt.root=ft,Kt.parent=parent,Kt.index=ot.index,Kt.targetIndex=Ut,Kt.tweenVars=ct,Kt.startAt=ot.startAt,Kt.computedStyle=ot.computedStyle,Rt.plugin=Kt,at[mt]=Kt.getAnimStart();continue}var Te=(0,U.dt)(mt),be=Te==="transform"?ot.transformName:Te;be=Te==="filter"?ot.filterName:be;var We=ct.style[be],fr=We!=null?We:ot.computedStyle[Te],He=(zt=F[mt])!==null&&zt!==void 0?zt:fr,Pr=re.unit[mt],un="";if(Te==="transform"){O=O||(He===We?(0,R.Z)({},We):(0,U.Ck)(ot.computedStyle[ot.transformName]));var Ue=O[mt];if(F&&mt in F){var ur,Lr;Ue=ot.setStartAtValue((ur=(Lr=F[mt].vars)!==null&&Lr!==void 0?Lr:We==null?void 0:We[mt])!==null&&ur!==void 0?ur:Ue,F[mt]),un=F[mt].unit,mt==="scale"?(O.scaleX=Ue,O.scaleY=Ue):O[mt]=Ue}un!==Pr&&(Ue=et({target:Ft,computedStyle:ot.computedStyle,style:Te,value:Ue,startUnit:un,endUnit:Pr}),mt==="scale"?(O.scaleX=Ue,O.scaleY=Ue):O[mt]=Ue),at[ot.transformName]=O}else if(Te==="filter"){var Or=U._T.filterConvert[mt]||mt;$=$||(He===We?(0,R.Z)({},We):(0,U.GX)(fr)||{}),$[Or]=$[Or]||Tt[Or];var ce=$[Or];if(F&&mt in F){var Yt;ce=ot.setStartAtValue((Yt=F[mt].vars)!==null&&Yt!==void 0?Yt:ce,F[mt]),un=F[mt].unit,$[Or]=ce}if(Pr!==un){var he;$[Or]=et({target:Ft,computedStyle:ot.computedStyle,style:Te,value:ce,startUnit:un,endUnit:Pr,fixed:((he=ot.computedStyle)===null||he===void 0?void 0:he.position)==="fixed"})}at[ot.filterName]=$}else{var Me;if(He=(Me=F[mt])!==null&&Me!==void 0?Me:fr,(!He||He==="none"||He==="auto")&&(He=""),Pr=re.unit[Te],un=(0,y.Z)(He)==="object"?He.unit:"".concat(He).replace(/[^a-z|%]/g,""),He=ot.setStartAtValue(fr,F[mt]),Pr!==un){var ye;He=et({target:Ft,computedStyle:ot.computedStyle,style:Te,value:parseFloat(He),startUnit:un,endUnit:Pr,fixed:((ye=ot.computedStyle)===null||ye===void 0?void 0:ye.position)==="fixed"})}var Ne=parseFloat(He);at[Te]=isNaN(Ne)?St(Te):Ne}}return at},this.render=function(Ft){var ft=ot.propsData,Ut=ot.start,re=ot.tweenVars,ae=re.style||{};Ut[ot.transformName]&&!ae[ot.transformName]&&(ae[ot.transformName]=(0,R.Z)({},Ut[ot.transformName])),Ut[ot.filterName]&&!ae[ot.filterName]&&(ae[ot.filterName]=(0,R.Z)({},Ut[ot.filterName]));var at=ae[ot.transformName],ct=ae[ot.filterName],F=ft.data,M=ft.unit,O=ft.count,$=ft.isTransform;for(var mt in F){var zt=F[mt];if(zt.plugin){ae[mt]=zt.plugin.render(Ft);continue}var Rt=$[mt],Kt=Rt?Ut[ot.transformName][mt]:Ut[mt],Te=M[mt],be=O[mt];if(Rt){if(mt==="scale"){var We=Ut[ot.transformName].scaleX,fr=Ut[ot.transformName].scaleY;be.charAt(1)==="="?(at.scaleX=We+zt*Ft,at.scaleY=fr+zt*Ft):(at.scaleX=(zt-We)*Ft+We,at.scaleY=(zt-fr)*Ft+fr)}else at[mt]=Q(parseFloat(Kt),zt,Ft,be,Te);at.text=vt(ae[ot.transformName])}else if(U._T.filter.indexOf(mt)>=0){var He=U._T.filterConvert[mt]||mt;Kt=parseFloat(Ut[ot.filterName][He])||0,ct[He]=Q(Kt,zt,Ft,be,Te),ct.text="";for(var Pr in ct)Pr!=="text"&&(ct.text="".concat(ct.text," ").concat(Pr,"(").concat(ct[Pr],")").trim())}else{var un=(0,U.YJ)(mt,0);un=typeof un=="number"?0:un.replace(/[^a-z|%]/g,""),Te=Te||un,typeof zt=="string"?ae[mt]=zt:ae[mt]=Q(Kt,zt,Ft,be,Te)}}return ae},this.props=te,this.transformName=(0,U.Yf)("transform"),this.filterName=(0,U.Yf)("filter")||"filter",this.setDefaultData()});Vt.key="style",Vt.className="style";var ue=Vt,ee=C(497326),It=C(360136),ne=C(318486),pe=(0,Y.Z)(function Xt(te,ot){(0,z.Z)(this,Xt),this.value=void 0,this.key=void 0,this.root=void 0,this.index=void 0,this.style={},this.start={},this.startAt={},this.target=void 0,this.value=te,this.key=ot});pe.className=void 0,pe.key=void 0;var Gt=function(Xt){(0,It.Z)(ot,Xt);var te=(0,ne.Z)(ot);function ot(Ft,ft){var Ut;(0,z.Z)(this,ot),Ut=te.call(this,Ft,ft),Ut.value=void 0,Ut.key=void 0,Ut.start=[],Ut.tweenVars={},Ut.vars={},Ut.computedStyle=void 0,Ut.propsData={data:[],unit:[],count:[]},Ut.setDefaultData=function(at,ct){var F=(0,ee.Z)(Ut),M=F.propsData,O=F.value,$=(0,x.Z)(O);if(at==="color"){var mt;$[3]=(mt=$[3])!==null&&mt!==void 0?mt:1}M.type=at,M.data=$.map(function(zt){return!parseFloat(zt)&&parseFloat(zt)!==0?zt:parseFloat(zt)}),M.unit=$.map(function(zt){return zt.toString().replace(/[^a-z|%]/g,"")}),M.count=$.map(function(zt){return zt.toString().replace(/[^+|=|-]/g,"")}),ct&&(M.splitStr=ct)},Ut.convertToMarksArray=function(at,ct,F,M){var O=(F||"").toString().replace(/[^a-z|%]/g,""),$=typeof M=="number"?at[M]:void 0;return O===$?parseFloat(F):!parseFloat(F)&&parseFloat(F)!==0?F:et({target:Ut.target,computedStyle:Ut.computedStyle,style:ct,value:F,startUnit:O,endUnit:$,isOriginWidth:ct==="transformOrigin"&&!M})},Ut.getAnimStart=function(){var at,ct,F,M,O=(0,ee.Z)(Ut),$=O.startAt,mt=O.target,zt=O.key,Rt=O.propsData,Kt=O.computedStyle,Te=O.tweenVars,be=(at=(ct=(F=$==null?void 0:$[zt])!==null&&F!==void 0?F:Kt?(M=Te.style)===null||M===void 0?void 0:M[zt]:Te[zt])!==null&&ct!==void 0?ct:(Kt||mt)[zt])!==null&&at!==void 0?at:"",We=Rt.data.indexOf("inset"),fr;if(We!==-1&&!be.match("inset")&&Rt.type==="shadow"&&(fr=be,be=""),(!be||be==="none"||be==="auto")&&(be=""),be=Rt.type==="shadow"?(0,U.hy)(be,zt):be,be=Rt.type==="color"?(0,U.lu)(be):be,be=Rt.type==="string"?be.split(/[\s|,]/):be,Ct[zt]){var He,Pr,un,Ue;be[1]=(He=be[1])!==null&&He!==void 0?He:be[0],be[2]=(Pr=be[2])!==null&&Pr!==void 0?Pr:be[0],be[3]=(un=(Ue=be[3])!==null&&Ue!==void 0?Ue:be[1])!==null&&un!==void 0?un:be[0]}var ur=Rt.unit,Lr=be.map(function(Or,ce){return parseFloat(Or).toString()==="NaN"?Or:Ut.convertToMarksArray(ur,zt,Or,ce)});return Ut.start=Lr.concat(We>=0?"inset":[]),Ut.start.oldShadow=fr,Ut.start},Ut.render=function(at){var ct=(0,ee.Z)(Ut),F=ct.start,M=ct.propsData,O=M.type,$=M.splitStr,mt=M.data,zt=M.count,Rt=M.unit,Kt=mt.map(function(He,Pr){return typeof He=="string"?He:Q(F[Pr],He,at,zt[Pr],Rt[Pr])});switch(O){case"string":Kt=Kt.join($);break;case"color":Kt=(0,U.Lq)(Kt);break;case"shadow":{var Te=Kt.indexOf("inset")>=0,be=Te?Kt.filter(function(He){return He!=="inset"}):Kt,We=be.slice(0,be.length-4).map(function(He){return typeof He=="number"?"".concat(He,"px"):He}),fr=(0,U.Lq)(be.slice(be.length-4,be.length));Kt="".concat(F.oldShadow?"".concat(F.oldShadow,","):"").concat(We.join(" ")," ").concat(fr," ").concat(Te?"inset":"").trim();break}default:break}return Kt},Ut.value=Ft,Ut.key=ft;var re="",ae="";return typeof Ft=="string"&&(ft.match(K)?(Ut.value=(0,U.hy)(Ft,ft),re="shadow"):ft.match(/color|fill|stroke/i)||Ft.match(j)?(Ut.value=(0,U.lu)(Ft),re="color"):(ae=Ft.replace(/[^\s|,]/g,"").replace(/\s+/g," "),Ut.value=Ft.split(/[\s|,]/),re="string")),Ut.setDefaultData(re,ae),Ut}return(0,Y.Z)(ot)}(pe);Gt.className="ArrayPlugin";var qt=Gt,$t={linear:{"to top":"0deg","to top right":"45deg","to right top":"45deg","to right":"90deg","to right bottom":"135deg","to bottom right":"135deg","to bottom":"180deg","to bottom left":"225deg","to left bottom":"225deg","to left":"270deg","to left top":"315deg","to top left":"315deg"},radial:{center:"50% 50%",top:"50% 0%","top right":"100% 0%","right top":"100% 0%",right:"100% 50%","right bottom":"100% 100%","bottom right":"100% 100%",bottom:"50% 100%","bottom left":"0% 100%","left bottom":"0% 100%",left:"0% 50%","left top":"0% 0%","top left":"0% 0%"}},Zt=["closest-side","closest-corner","farthest-side","farthest-corner"],se=function(te,ot,Ft){console.warn("Warning: The gradient ".concat(te,"(").concat(ot," => ").concat(Ft,") is different, which has been automatically converted to animation gradient ").concat(te,"(").concat(Ft,")."))},Se=function(te){return te==="url"||te.indexOf("image")>=0||te==="paint"||te==="cross-fade"||te==="element"},Pt=function(Xt){(0,It.Z)(ot,Xt);var te=(0,ne.Z)(ot);function ot(Ft){var ft;return(0,z.Z)(this,ot),ft=te.call(this,Ft,"backgroundImage"),ft.value=void 0,ft.tweenVars={},ft.vars=[],ft.computedStyle=void 0,ft.defaultStartVars=[],ft.getPosition=function(Ut){return Ut.map(function(re){return{data:parseFloat(re),unit:re.replace(/[^a-z|%]/g,"")}})},ft.getAngle=function(Ut,re){var ae=Ut.replace(/-|gradient|repeating]/g,""),at,ct,F,M;switch(ae){case"linear":{F=ft.getPosition(($t.linear[re]||re||$t.linear["to bottom"]).split(" "));break}case"radial":{var O=re.split(" ");at=O.find(function(Kt){return Zt.indexOf(Kt)>=0})||Zt[3],ct=O.find(function(Kt){return Kt==="circle"||Kt==="ellipse"})||"ellipse";var $=new RegExp("".concat(at,"|").concat(ct,"|at"),"g"),mt=re.replace($,"").trim();M=ft.getPosition(($t.radial[mt]||mt||$t.radial.center).split(" "));break}case"conic":{var zt=re.split("at").map(function(Kt){return Kt.trim()}),Rt=(zt[0]||"").split(" ");ct=Rt[0]||"from",F=ft.getPosition([Rt[1]||"0deg"]),M=ft.getPosition(($t.radial[zt[1]]||zt[1]||$t.radial.center).split(" "));break}default:break}return{extent:at,shape:ct,angle:F,position:M}},ft.valueToIValue=function(Ut){if(!Ut)return[];var re=Ut.replace(/\),\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/,")#,#$1").split("#,#");return re.map(function(ae){var at=ae.replace(/([a-z|-]+)\((.*)\)/,"$1").trim();if(at==="url")return{type:at,values:ae};var ct=ae.replace(/([a-z|-]+)\((.*)\)/,"$2").replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\(\d+\,[\s+]?\d+[\%]?\,[\s+]?\d+[\%]?(\,\d+)?\)/gi,function($){return $.replace(/\s+/g,"")}).replace(/\,([a-z|#|\s+])/g,"#,#$1").split("#,#").map(function($){return $.trim()}),F=ct[0].match(j)?"":ct[0];F&&ct.splice(0,1);var M=ft.getAngle(at,F),O=ct.map(function($){var mt=$.trim().split(/\s+/),zt,Rt=(mt[0].match(j),mt[0]);return Rt&&(mt.splice(0,1),zt=(0,U.lu)(Rt)),{color:zt,positions:mt.map(function(Kt){return{data:parseFloat(Kt),unit:Kt.toString().replace(/[^a-z|%]/g,"")}})}});return{type:at,angle:M,values:O}})},ft.getAnimStart=function(){var Ut,re=(0,ee.Z)(ft),ae=re.startAt,at=re.key,ct=re.computedStyle,F=re.target,M=re.vars,O=re.tweenVars,$=(0,R.Z)({},ae),mt=(Ut=O[at])!==null&&Ut!==void 0?Ut:(ct||F)[at];(!mt||mt==="none"||mt==="auto")&&(mt=""),$[at]=$[at]||mt,$[at]=$[at]?ft.valueToIValue($[at]):ft.defaultStartVars;var zt=Math.max(M.length,$[at].length),Rt=(zt===$[at].length?$[at]:M).map(function(Kt,Te){var be,We,fr=$[at][Te]||ft.defaultStartVars[Te],He=M[Te]||fr;if((!fr||fr.type!==He.type)&&(fr.type!==He.type&&se("type",fr.type,He.type),fr=ft.defaultStartVars[Te]),Se(He.type)||typeof He.values=="string"||typeof fr.values=="string")return(0,R.Z)({},He);if(((be=He.angle)===null||be===void 0?void 0:be.extent)!==((We=fr.angle)===null||We===void 0?void 0:We.extent)){var Pr,un;se("extent keyword",(Pr=fr.angle)===null||Pr===void 0?void 0:Pr.extent,(un=He.angle)===null||un===void 0?void 0:un.extent)}var Ue=Math.max(fr.values.length,He.values.length),ur=Ue===fr.values.length?fr.values:He.values;return fr.values=ur.map(function(Lr,Or){var ce=fr.values[Or],Yt=He.values[Or]||ce;return(0,R.Z)((0,R.Z)({},ce),{},{positions:(Yt||ce).positions.map(function(he,Me){var ye=ce?ce.positions[Me]||ce.positions[ce.positions.length-1]:Yt.positions[Yt.positions.length-1],Ne=he||ye;return!ye&&ce&&fr.values.length&&(ye={data:100/(fr.values.length-1)*Or,unit:"%"}),Ne.unit!==ye.unit&&se("units",ye.unit,Ne.unit),{data:ye.data,unit:Ne.unit}})})}),fr});return ft.start=Rt,ft.start},ft.render=function(Ut){var re="",ae=Math.max(ft.vars.length,ft.start.length);return(ae===ft.vars.length?ft.vars:ft.start).forEach(function(at,ct){var F=ft.start[ct],M=ft.vars[ct]||F;if(Se(M.type)||typeof M.values=="string"||!M.angle){re+="".concat(re?",":""," ").concat(M.values).trim();return}var O=Math.max(F.values.length,M.values.length),$=(O===F.values.length?F.values:M.values).map(function(Te,be){var We=F.values[be],fr=M.values[be];fr||(fr=We);var He=We.color,Pr=We.positions;!He&&fr.color&&(He=(0,x.Z)(fr.color)),Pr||(Pr=fr.positions.map(function(ur){return(0,R.Z)({},ur)}));var un=fr.color?fr.color.map(function(ur,Lr){return Q(He[Lr],ur,Ut)}):fr.color,Ue=fr.positions.map(function(ur,Lr){return"".concat(Q(Pr[Lr].data,ur.data,Ut)).concat(ur.unit)}).join(" ");return"".concat(un?(0,U.Lq)(un):un||""," ").concat(Ue).trim()}),mt=M.angle,zt=mt.angle&&mt.angle.map(function(Te,be){return"".concat(Q(F.angle.angle[be].data,Te.data,Ut)).concat(Te.unit)}).join(" "),Rt=mt.position&&mt.position.map(function(Te,be){return"".concat(Q(F.angle.position[be].data,Te.data,Ut)).concat(Te.unit)}).join(" "),Kt="".concat(mt.extent||""," ").concat(mt.shape||""," ").concat(zt||""," ").concat(Rt?"at ".concat(Rt):"").trim();re+="".concat(re?",":""," ").concat(M.type,"(").concat(Kt?"".concat(Kt,","):"").concat($.join(","),")").trim()}),re},ft.value=Ft,ft.vars=ft.valueToIValue(Ft),ft.defaultStartVars=ft.vars.map(function(Ut){return Se(Ut.type)||typeof Ut.values=="string"?(0,R.Z)({},Ut):(0,R.Z)((0,R.Z)({},Ut),{},{values:Ut.values.map(function(re){var ae;return re.color&&typeof re.color!="string"?(ae=(0,x.Z)(re.color),ae[3]=0):ae=re.color,{color:ae,positions:(0,x.Z)(re.positions)}})})}),ft}return(0,Y.Z)(ot)}(pe);Pt.className="GradientsPlugin";var Fe=C(654087),vr=C.n(Fe),Cr=function(){function Xt(){var te=this;(0,z.Z)(this,Xt),this.lagThreshold=150,this.adjustedLag=33,this.emptyTime=0,this.elapsed=0,this.frameFPS=1e3/240,this.startTime=0,this.prevTime=0,this.useTimeout=!1,this.lastUpdate=this.startTime,this.nextTime=this.frameFPS,this.req=void 0,this.id=-1,this.tweenId=0,this.tickFn=[],this.state="sleep",this.time=0,this.frame=0,this.removeReq=function(ot){return te.useTimeout?clearTimeout(ot):(0,Fe.cancel)(ot)},this.tick=function(){var ot=te.tickFn;te.startTime||(te.startTime=q()-te.frameFPS,te.lastUpdate=te.startTime),te.elapsed=q()-te.lastUpdate,te.elapsed>te.lagThreshold&&(te.startTime+=te.elapsed-te.adjustedLag),te.lastUpdate+=te.elapsed,te.time=te.lastUpdate-te.startTime;var Ft=te.time-te.nextTime;if(Ft>0){te.frame++,te.nextTime+=Ft+(Ft>=te.frameFPS?4:te.frameFPS-Ft);for(var ft=te.time-te.prevTime,Ut=0;Ut<ot.length;Ut++)ot[Ut].fn({time:te.time,elapsed:ft<te.frameFPS?te.frameFPS:ft});te.prevTime=te.time}if(!te.tickFn.length&&(te.emptyTime||(te.emptyTime=te.time+500),te.time>=te.emptyTime)){te.emptyTime=0,te.sleep();return}te.req&&(te.id=te.req(te.tick))},this.wake=function(){te.id&&te.sleep(),te.req=te.useTimeout?function(ot){return setTimeout(ot,te.frameFPS)}:vr(),te.tick(),te.state="wake"},this.sleep=function(){te.removeReq(te.id),te.id=-1,te.req=void 0,te.state="sleep"},this.add=function(ot){var Ft="TweenOneTicker_".concat(te.tweenId);return te.tweenId+=1,te.tickFn.findIndex(function(ft){return ft.key===Ft})===-1&&te.tickFn.push({key:Ft,fn:ot}),te.emptyTime=0,te.req||te.wake(),Ft},this.clear=function(ot){te.tickFn=te.tickFn.filter(function(Ft){return Ft.key!==ot&&Ft.fn!==ot})},this.timeout=function(ot,Ft){if(typeof ot!="function")return console.warn("not function");var ft=te.time,Ut=te.add(function(){var re=te.time-ft;re>=(Ft||0)&&(te.clear(Ut),ot())});return Ut},this.interval=function(ot,Ft){if(typeof ot!="function")return console.warn("not function"),null;var ft=te.time;return te.add(function(){var Ut=te.time-ft;Ut>=(Ft||0)&&(ft=te.time,ot())})}}return(0,Y.Z)(Xt,[{key:"fps",value:function(ot,Ft){this.frameFPS=1e3/(ot||240),this.nextTime=this.time+this.frameFPS,this.useTimeout=typeof Ft=="undefined"?this.useTimeout:Ft,this.useTimeout&&(this.req=function(ft){return setTimeout(ft,ot)})}}]),Xt}(),_r=new Cr,Ur=_r,nn=function(){function Xt(){var te=this;(0,z.Z)(this,Xt),this.children=[],this.autoSleep=200,this.tickerKey=void 0,this.startTime=void 0,this.addChild=function(ot){te.children.indexOf(ot)===-1?(te.children.push(ot),te.updateTickerState()):te.start()},this.removeChild=function(ot){te.children=te.children.filter(function(Ft){return Ft!==ot}),te.updateTickerState()},this.kill=function(ot){te.children=te.children.filter(function(Ft){var ft=Ft.root.targets,Ut=ft.map(function(ae,at){if(ot.indexOf(ae)===-1)return ae;delete ae._tweenOneVars});Ft.root.targets=Ut;var re=!!Ut.filter(function(ae){return ae}).length;return re||Ft.kill(),re}),te.updateTickerState()},this.killAll=function(ot){ot&&(te.children.forEach(function(Ft){Ft==null||Ft.root.targets.forEach(function(ft){ft&&delete ft._tweenOneVars})}),te.children=[]),Ur.clear(te.tickerKey),te.tickerKey=void 0},this.getTotalTime=function(){for(var ot=0,Ft=0;Ft<te.children.length;Ft++){var ft=te.children[Ft],Ut=ft.pausedState?0:ft.startTime+ft.totalTime;ot?ot=Math.max(Ut,ot):ot=Ut}return ot},this.updateTickerState=function(){!te.children.length||!te.children.some(function(ot){return!(ot!=null&&ot.pausedState)&&(!(ot!=null&&ot.reverseState)&&ot.progressTime<ot.totalTime||(ot==null?void 0:ot.reverseState)&&ot.progressTime>0)})?te.killAll(!te.children.length):te.start()},this.start=function(){te.tickerKey||(te.tickerKey=Ur.add(te.render))},this.render=function(ot){for(var Ft=ot.time,ft=ot.elapsed,Ut=ft===void 0?0:ft,re=te.children,ae=re.length,at=0;at<ae;at++){var ct=re[at];if(ct){var F=ct.startTime-Ut,M=ct.startTime+ct.totalTime+Ut;Ft>F&&Ft<M&&!ct.pausedState&&ct.render({time:Ft,elapsed:Ut})}}}}return(0,Y.Z)(Xt,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),Xt}(),on=nn,tr=C(141e3),Rr=C.n(tr);Rr().path=function(Xt,te){var ot=te||{};if(nt)return"linear";for(var Ft=J(Xt),ft=Ft.getTotalLength(),Ut=ot.rect||100,re=ot.lengthPixel||200,ae=[],at=0;at<re-1;at++)ae.push(Ft.getPointAtLength(ft/(re-1)*at));return ae.push(Ft.getPointAtLength(re)),function(F,M,O,$){var mt=Rr().linear(F,M,O,$),zt=Ut*mt,Rt=ae.filter(function(Kt){return Kt.x>=zt})[0]||Ft.getPointAtLength(mt*ft);return 1-Rt.y/Ut}};var qr=Rr(),br=function(){function Xt(te){var ot=this;(0,z.Z)(this,Xt),this.item=void 0,this.vars={},this.start=void 0,this.parent=void 0,this.root=void 0,this.startAt={},this.mode=void 0,this.appearTo=0,this.props={},this.index=void 0,this.register=void 0,this.reverseStart=void 0,this.repeatNum=0,this.prevMoment=void 0,this.easing=void 0,this.changeValueToVars=function(re,ae,at){var ct=(Array.isArray(ae)||re.match(/color|fill|stroke/i)||re.match(K)&&typeof ae=="string"||typeof ae=="string"&&ae.split(/[\s|,]/).length>1)&&!(re in Et);if(re in Et||ct)return at?ae:{value:ae,plugins:[],array:ct};var F=parseFloat(ae.toString().replace(/=/g,"")),M=ae.toString().replace(/[^a-z|%]/g,""),O=ae.toString().charAt(1)==="="?ae.toString().replace(/[^\+\=|\-\=]/gi,""):"";return{vars:F,unit:M,count:O}},this.setEase=function(re){if(typeof re=="function"){ot.easing=re;return}else if(re.match(/,/g)){ot.easing=qr.path(re);return}ot.easing=qr[re]},this.getTotalTime=function(){var re=ot.props,ae=re.duration,at=ae===void 0?450:ae,ct=re.delay,F=ct===void 0?0:ct,M=re.repeat,O=M===void 0?0:M,$=re.repeatDelay,mt=$===void 0?0:$;return O===-1?Number.MAX_VALUE:F+at*(O+1)+mt*O},this.getEaseToRatio=function(re,ae){var at=ot.props.ease,ct=at===void 0?"":at;return(re===0||re===1)&&!(typeof ct=="function"||ct.match(/,/g))?re:ot.easing(ae?1-re:re,ae?1:0,ae?0:1,1)},this.setRatioToVars=function(re){for(var ae=ot.vars,at=ot.root,ct=0;ct<at.targets.length;ct++)if(at.targets[ct])for(var F in ae){var M=ae[F];if(M.plugins){F==="PathMotion"?at.vars[ct].style=M.plugins[ct].render(re):at.vars[ct][F]=M.plugins[ct].render(re);continue}var O=M.vars,$=M.count,mt=M.unit,zt=ot.start[ct][F];at.vars[ct][F]=Q(zt,O,re,$,mt)}},this.onRegisterAnimate=function(){ot.register=!0;for(var re=ot.root,ae=ot.parent,at=ot.startAt,ct=[],F=0;F<re.targets.length;F++){var M=re.targets[F],O=re.vars[F],$={};for(var mt in ot.vars){var zt=ot.vars[mt];if(zt.plugins){var Rt=new Et[zt.array?"ArrayPlugin":mt](zt.value,mt);Rt.target=M,Rt.root=re,Rt.parent=ae,Rt.targetIndex=F,Rt.tweenVars=O,Rt.index=ot.index,Rt.startAt=at,$[mt]=Rt.getAnimStart(),zt.plugins.push(Rt)}else{var Kt,Te,be=(Kt=re.attr?M.getAttribute(mt):O[mt]||M[mt])!==null&&Kt!==void 0?Kt:St(mt),We=(Te=at[mt])!==null&&Te!==void 0?Te:be,fr=(0,y.Z)(We)==="object"&&"vars"in We&&"count"in We,He=fr?We.unit:"".concat(We).replace(/[^a-z|%]/g,""),Pr=zt.unit;He&&He!==Pr&&console.warn("Different units, start unit ".concat(He,", to value unit ").concat(Pr,", remove start unit.")),$[mt]=fr?V(be,We):parseFloat(We)}}ct.push($)}ot.start=ct},this.overflowRatio=function(re){var ae=re<0?0:re,at=ot.props.duration;return ae=ae>at?at:ae,ae},this.render=function(re){var ae=re.moment,at=re.fps,ct=at===void 0?0:at,F=re.silence,M=re.render,O=ot.parent,$=ot.root,mt=ot.props,zt=kt($.targets),Rt=O.onChange,Kt=mt.repeat,Te=Kt===void 0?0:Kt,be=mt.type,We=be===void 0?"to":be,fr=mt.duration,He=fr===void 0?450:fr,Pr=mt.delay,un=Pr===void 0?0:Pr,Ue=mt.repeatDelay,ur=Ue===void 0?0:Ue,Lr=mt.yoyo;Te=Te===-1?Number.MAX_VALUE:Te;var Or=ae-un,ce=Math.floor(Or/(He+ur))||0;ce=ce>Te?Te:ce,ce=ce<0?0:ce,Or=Or-(He+ur)*ce;var Yt=!!(Lr&&ce%2),he=We==="from",Me=Yt&&he?!1:Yt||he;Or=Me?He-Or:Or;var ye=he?0:un,Ne=Me?1:0;if(!ot.register&&ae>=ye&&(ot.onRegisterAnimate(),(Me&&Or<=0||!Me&&Or>=He&&He)&&(ot.prevMoment=ae,Ne=Me?0:1),ot.setRatioToVars(Ne),Rt({index:ot.index,vars:$.vars})),ot.register&&ae>un-ct&&ae<ot.totalTime+ct){Or=ot.overflowRatio(Or),Ne=Me?1:0,ae>=ot.totalTime&&ot.mode!=="onComplete"&&ot.prevMoment!==void 0||ot.prevMoment===void 0&&ae>=ot.totalTime&&He?(Ne=Me?0:1,ot.mode="onComplete",ot.props.onComplete&&ot.props.onComplete({mode:ot.mode,index:ot.index,moment:Or,ratio:Ne,targets:zt,vars:kt($.vars)})):ot.prevMoment===void 0||ae<=0&&ae>-ct&&ot.mode!=="onStart"&&ot.prevMoment>ae?(ot.mode="onStart",ot.props.onStart&&ot.props.onStart({mode:ot.mode,index:ot.index,moment:Or,ratio:Ne,targets:zt,vars:kt($.vars)})):(Ne=Or&&He?Or/He:0,ot.mode="onUpdate",ot.props.onUpdate&&ot.props.onUpdate({mode:ot.mode,index:ot.index,moment:Or,ratio:Ne,targets:zt,vars:kt($.vars)})),Te&&ce!==ot.repeatNum&&ae&&ot.mode==="onUpdate"&&(ot.mode="onRepeat",ot.props.onRepeat&&ot.props.onRepeat({mode:ot.mode,index:ot.index,moment:Or,ratio:Ne,targets:zt,vars:kt(ot.root.vars)})),ot.setRatioToVars(ot.getEaseToRatio(Ne,he)),Te&&(ot.repeatNum=ce);var nr={mode:ot.mode,moment:Or,repeat:ce,ratio:Ne,targets:$.targets,vars:$.vars,index:ot.index};F&&(nr.silence=F),M&&(nr.render=M),Rt(nr),ot.prevMoment=ae}},this.item=te,this.startAt=(0,R.Z)({},te.startAt),Object.keys(this.startAt).forEach(function(re){ot.startAt[re]=ot.changeValueToVars(re,ot.startAt[re],!0)});var Ft={};for(var ft in te){var Ut=te[ft];ft in ut?Ft[ft]=Ut:this.vars[ft]=this.changeValueToVars(ft,Ut)}this.props=(0,R.Z)((0,R.Z)({},ut),Ft),this.setEase(this.props.ease)}return(0,Y.Z)(Xt,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),Xt}(),zr=(0,Y.Z)(function Xt(te){var ot=this;(0,z.Z)(this,Xt),this.props=void 0,this.id=void 0,this.children=[],this.totalTime=0,this.totalTimeRegion=0,this.childTotalTime=0,this.childRegionTotalTime=0,this.prevMoment=void 0,this.progressTime=0,this.progressMoment=-1,this.startMoment=0,this.startTime=0,this.repeatNum=0,this.mode="onTimelineStart",this.pausedState=void 0,this.reverseState=void 0,this.root=void 0,this.parent=void 0,this.regionStartTime=0,this.regionEndTime=void 0,this.onChangeChild=void 0,this.onChangeTimeline=void 0,this.init=function(){for(var re=ot.props,ae=re.reverse,at=re.animation,ct=re.moment,F=ht(at),M=0;M<F.length;M++){var O=F[M];O.type==="set"&&(O.duration=0);var $=new br(O);$.index=M;var mt=M?Mt(O,F[M-1]):0;O.appearTo=mt,$.appearTo=mt,ot.addChild($)}ot.render({time:(ae?ot.totalTime:0)+ot.startTime,elapsed:16.67}),ot.totalTime||ot.render({time:(ae?ot.totalTime:0)+ot.startTime,elapsed:16.67}),ct?ot.goto(ct):ot.play()},this.addChild=function(re){re.parent=ot,re.root=ot.root,ot.children.indexOf(re)===-1&&(ot.children.push(re),ot.setTotalTime())},this.setTotalTime=function(){ot.childTotalTime=0,ot.childRegionTotalTime=0;for(var re=0;re<ot.children.length;re++){var ae=ot.children[re];if(ae.appearTo!==ot.childTotalTime){var at=ae.appearTo+ae.totalTime;at>ot.childTotalTime&&(ot.childTotalTime=at,ot.childRegionTotalTime=at)}else ot.childTotalTime+=ae.totalTime,ot.childRegionTotalTime+=ae.totalTime}ot.regionStartTime&&(ot.childRegionTotalTime-=ot.regionStartTime),ot.regionEndTime&&(ot.childRegionTotalTime=ot.regionEndTime-ot.regionStartTime);var ct=ot.props,F=ct.repeat,M=F===void 0?0:F,O=ct.repeatDelay,$=O===void 0?0:O,mt=ct.delay;ot.totalTime=M===-1?Number.MAX_VALUE:mt+ot.childTotalTime*(M+1)+$*M,ot.totalTimeRegion=M===-1?Number.MAX_VALUE:mt+ot.childRegionTotalTime*(M+1)+$*M},this.setStartTimeOrMoment=function(re){ot.startTime=Ur.time,ot.startMoment=re||ot.progressMoment},this.reRenderCall=function(){ot.render({time:ot.startTime,elapsed:Ur.elapsed||Ur.frameFPS})},this.play=function(re){if(re){var at;(at=ot.parent)===null||at===void 0||at.updateTickerState()}else{var ae;(ae=ot.parent)===null||ae===void 0||ae.addChild(ot)}},this.paused=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ot.pausedState=re,ot.setStartTimeOrMoment(),ot.play(re)},this.reverse=function(re){ot.reverseState=re,ot.setStartTimeOrMoment(),ot.play(ot.pausedState)},this.goto=function(re,ae){var at=re-ot.regionStartTime;ot.startTime=Ur.time,ot.startMoment=at>ot.totalTime?ot.totalTime:at,ot.progressMoment=ot.startMoment,ot.progressTime=at,ot.play(ot.pausedState),ot.reRenderCall(),!!ae!==ot.pausedState&&ot.paused(ae)},this.kill=function(re){if(typeof re=="number")ot.paused(),delete ot.children[re],ot.setTotalTime(),ot.paused(!1);else{var ae;ot.children=[],(ae=ot.parent)===null||ae===void 0||ae.removeChild(ot)}},this.onChange=function(re){re.timelineMoment=ot.progressMoment,ot.onChangeChild(re)},this.render=function(re){var ae=re.time,at=re.elapsed,ct=at||Ur.frameFPS||0,F=ot.totalTime,M=ot.totalTimeRegion,O=ot.childTotalTime,$=ot.childRegionTotalTime,mt=ot.children,zt=ot.props,Rt=ot.startTime,Kt=ot.reverseState,Te=ot.pausedState,be=ot.startMoment,We=ot.onChangeTimeline,fr=ot.parent,He=ot.root,Pr=ot.prevMoment,un=ot.regionStartTime,Ue=zt.repeatDelay,ur=Ue===void 0?0:Ue,Lr=zt.yoyo,Or=zt.delay,ce=zt.repeat,Yt=ce===void 0?0:ce;Yt=Yt===-1?Number.MAX_VALUE:Yt;var he=ae-Rt-Or,Me=Kt?be-he:he+be;if(!(Me<-ct)){var ye=Me<0?0:Me;ye=ye>F?F:ye,ye=be<un?Me:ye,ye=be>M?be:ye;var Ne=Yt?Math.floor(ye/($+ur)):0;Ne=Yt&&Ne>Yt?Yt:Ne;var nr=ye-($+ur)*Ne,cr=!!(Lr&&Ne%2);nr=cr?$-nr:nr,nr=un+nr;var rn=Kt?!cr:cr;if(ot.mode="onTimelineUpdate",typeof Pr!="number"&&(ot.mode="onTimelineStart"),ye>=M-Or&&typeof Pr=="number"&&(ot.mode="onTimelineComplete"),Ne!==ot.repeatNum&&(ot.mode="onTimelineRepeat",ye>O*Ne&&ye<O*Ne+ct)){for(var An=rn?0:mt.length-1;rn?An<=mt.length-1:An>=0;rn?An++:An--){var ln=mt[An];rn||(ln.prevMoment=void 0),ln.render({moment:rn?ln.totalTime:0,fps:ct})}We({moment:ye,totalTime:F,repeat:Ne,mode:ot.mode,targets:He.targets}),ot.mode="onTimelineUpdate"}Yt&&(ot.repeatNum=Ne),ot.progressMoment=ye,ot.prevMoment=ye,ot.progressTime=he;for(var Yn=0;Yn<mt.length;Yn++){var sn=mt[Yn],Bn=sn.totalTime+sn.appearTo,Jn=nr>=sn.appearTo-ct&&nr<Bn+ct;if((sn.mode!=="onComplete"&&nr>Bn+ct&&!cr&&sn.totalTime||typeof sn.mode=="undefined"&&!sn.totalTime)&&(sn.render({moment:sn.totalTime,fps:ct}),sn.prevMoment=void 0),nr<sn.appearTo-ct&&sn.mode&&sn.mode!=="onStart"&&(sn.render({moment:sn.appearTo,fps:ct,silence:!0}),sn.prevMoment=void 0,sn.mode=void 0),Jn){var sa=nr<0?0:nr;if(nr>Bn&&sn.mode==="onComplete"&&!cr)return;sa=nr>Bn?Bn:nr,sn.render({moment:sa-sn.appearTo,fps:ct}),Bn||(sn.render({moment:sn.totalTime,fps:ct,render:!0}),sn.prevMoment=void 0)}}We({moment:ye,totalTime:F,repeat:Ne,mode:ot.mode,targets:He.targets}),(Te||M&&Me+Or>=M&&!Kt||Kt&&Me+Or<=0||!mt.length)&&(fr==null||fr.removeChild(ot))}},this.props=te;var Ft=this.props,ft=Ft.paused,Ut=Ft.reverse;this.reverseState=Ut,this.pausedState=ft,this.regionStartTime=te.regionStartTime||0,this.regionEndTime=te.regionEndTime});Et.push(qt),Et.push(Pt),Et.push(ue);var Ir=0,je=new on,qe=function(){function Xt(te,ot){var Ft=this;(0,z.Z)(this,Xt),this.targets=void 0,this.props=void 0,this.timeline=void 0,this.animate=void 0,this.$reverse=!1,this.vars=[],this.initTime=void 0,this.attr=void 0,this.init=function(){var ft=(0,f.Z)(g().mark(function Ut(re){var ae;return g().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:ae=bt(re),Ft.targets[0].tagName&&!Ft.attr&&(ae.animation=ht(ae.animation).map(function(F){var M={style:{}};for(var O in F)O in Et||O in ut?M[O]=F[O]:M.style[O]=F[O];return Object.keys(M.style).length||delete M.style,F.duration&&(F.duration=Math.round(F.duration)),F.delay&&(F.delay=Math.round(F.delay)),F.appearTo&&(F.appearTo=Math.round(F.appearTo)),F.repeatDelay&&(F.repeatDelay=Math.round(F.repeatDelay)),M})),Ft.animate=new zr(ae),Ft.animate.id="TweenOne_".concat(Ir),Ir++,Ft.animate.startTime=Ft.initTime,Ft.animate.onChangeChild=Ft.onChange,Ft.animate.onChangeTimeline=Ft.onChangeTimeline,Ft.animate.root=Ft,Ft.animate.parent=Ft.timeline,Ft.animate.init();case 11:case"end":return ct.stop()}},Ut)}));return function(Ut){return ft.apply(this,arguments)}}(),this.renderToDom=function(){for(var ft=0;ft<Ft.vars.length;ft++){var Ut=Ft.vars[ft];for(var re in Ut){var ae=Ut[re],at=Ft.targets[ft];if(at)if(Ft.props.attr&&at.tagName&&at.setAttribute){if(re==="style")for(var ct in ae)at.style[ct]=ae[re];at.setAttribute(re,ae)}else if(re in Et){var F=Et[re].key;if(typeof at[F]=="function")at[F](ae.attr,ae.path);else if((0,y.Z)(ae)==="object"&&(0,y.Z)(at[F])==="object"&&F)for(var M in ae){var O=ae[M];F==="__self"?at[M]=O:at[F][M]=(0,y.Z)(O)==="object"&&O.text||O}else at[F||re]=ae}else at[re]=ae}}},this.onChange=function(ft){ft.mode==="onComplete"&&ft.render&&Ft.renderToDom(),ft.mode&&Ft.props.onChange&&!ft.silence&&(ft.targets=kt(ft.targets),ft.vars=kt(ft.vars),Ft.props.onChange(ft))},this.onChangeTimeline=function(ft){if(Ft.renderToDom(),ft.mode==="onTimelineComplete"){var Ut;(Ut=ft.targets)===null||Ut===void 0||Ut.forEach(function(re){delete re._tweenOneVars})}ft.mode&&Ft.props.onChangeTimeline&&(ft.targets=kt(ft.targets),ft.vars=kt(Ft.vars),Ft.props.onChangeTimeline(ft))},this.goto=function(ft,Ut){Ft.targets.forEach(function(re){re&&Object.keys(re._tweenOneVars||{}).forEach(function(ae){delete re._tweenOneVars[ae]})}),Ft.animate.goto(ft,Ut)},this.kill=function(ft){Ft.animate.kill(ft)},this.targets=te,this.props=ot,this.timeline=je,this.initTime=Ur.time,this.attr=ot.attr,te.forEach(function(ft){Ft.vars.push(ft._tweenOneVars)}),this.init(ot)}return(0,Y.Z)(Xt,[{key:"paused",get:function(){return this.animate.pausedState},set:function(ot){this.animate.paused(ot)}},{key:"reverse",get:function(){return this.$reverse},set:function(ot){this.$reverse=ot,this.animate.reverse(ot)}},{key:"regionStartTime",get:function(){return this.animate.regionStartTime},set:function(ot){this.animate.regionStartTime=ot,this.animate.setTotalTime()}},{key:"regionEndTime",get:function(){return this.animate.regionEndTime||this.animate.totalTime},set:function(ot){this.animate.regionEndTime=ot,this.animate.setTotalTime()}}]),Xt}(),xn=function(te,ot){if(!te){console.error("Error: targets is undefined.");return}Ur.state!=="wake"&&Ur.wake();var Ft=ht(te).map(function(ae){return ae._tweenOneVars=ae._tweenOneVars||{},ae}),ft=Ft.filter(function(ae){return ae.tagName}),Ut=Ft.filter(function(ae){return!ae.tagName}),re=[];return ft.length&&re.push(new qe(ft,ot)),Ut.length&&re.push(new qe(Ut,ot)),kt(re)};xn.kill=function(Xt){typeof Xt=="undefined"?je.killAll(!0):je.kill(ht(Xt))},xn.plugins=Et;var rr=xn,jr=rr;function Nr(Xt){return!Xt&&Xt!==0?[]:Array.isArray(Xt)?Xt:[Xt]}function kn(Xt,te){if(!Xt||!te)return!1;var ot=Object.keys(Xt),Ft=Object.keys(te);return ot.length&&Ft.length&&ot.length===Ft.length?!ot.some(function(ft){var Ut=Xt[ft],re=te[ft];if(Array.isArray(Ut)&&Array.isArray(re)){var ae=Ut.join(),at=re.join();ae===at&&!ae.match(/\[object object\]/gi)&&(Ut=ae,re=at)}return Ut!==re}):!1}function an(Xt,te){if(Xt===te||kn(Xt,te))return!0;if(!Xt||!te||Object.keys(Xt).length!==Object.keys(te).length)return!1;var ot=!0,Ft=function(Ut,re){var ae=Object.keys(Ut).length>Object.keys(re).length?Ut:re,at=Object.keys(Ut).length>Object.keys(re).length?re:Ut;Object.keys(ae).forEach(function(ct){ot&&(ct in at||(ot=!1),(0,y.Z)(ae[ct])==="object"&&(0,y.Z)(at[ct])==="object"?ot=an(ae[ct],at[ct]):typeof ae[ct]=="function"&&typeof at[ct]=="function"?ae[ct].toString().replace(/\s+/g,"")!==at[ct].toString().replace(/\s+/g,"")&&(ot=!1):ae[ct]!==at[ct]&&(ot=!1))})};return Array.isArray(Xt)&&Array.isArray(te)?Xt.forEach(function(ft,Ut){Ft(ft,te[Ut])}):Ft(Xt,te),ot}var dn=["component","componentProps","animation","attr","paused","reverse","repeat","repeatDelay","yoyo","moment","onChange","onChangeTimeline","resetStyle","killPrevAnim"],Sn=L.forwardRef(function(Xt,te){var ot=Xt.component,Ft=ot===void 0?"div":ot,ft=Xt.componentProps,Ut=Xt.animation,re=Xt.attr,ae=Xt.paused,at=Xt.reverse,ct=Xt.repeat,F=Xt.repeatDelay,M=Xt.yoyo,O=Xt.moment,$=Xt.onChange,mt=Xt.onChangeTimeline,zt=Xt.resetStyle,Rt=Xt.killPrevAnim,Kt=Rt===void 0?!0:Rt,Te=(0,_.Z)(Xt,dn),be=Te||{},We=be.children,fr=be.className,He=be.style,Pr=He===void 0?{}:He,un=(0,L.useRef)(),Ue=(0,L.useRef)(),ur=(0,L.useRef)(),Lr=function(rn,An){var ln=ur.current;if(ln){if(rn==="moment"){typeof An=="number"&&ln.goto(An,ae);return}ln[rn]=!!An}};A(function(){Lr("paused",ae)},[ae]),A(function(){Lr("moment",O)},[O]),A(function(){Lr("reverse",at)},[at]),A(function(){if(!un.current)return console.warn("Warning: TweenOne domRef is error.");if(!an(Ut,Ue.current)){var cr=Nr(un.current).map(function(ln){return ln instanceof Element||!(ln instanceof L.Component)?ln:(0,D.findDOMNode)(ln)}).filter(function(ln,Yn){return ln instanceof Element?ln:(console.warn("Warning: TweenOne tag[".concat(Yn,"] is not dom.")),!1)});if(ur.current&&Kt&&ur.current.kill(),zt&&ur.current){var rn=Ft?Pr:(0,R.Z)((0,R.Z)({},Pr),We.props.style),An=Object.keys(rn).map(function(ln){return"".concat((0,U.Rs)(ln),":").concat((0,U.YJ)(ln,rn[ln]))}).join(";");cr.forEach(function(ln){ln.setAttribute("style",An),delete ln._tweenOneVars})}ur.current=Ut&&jr(cr,{animation:Ut,attr:re,yoyo:M,moment:O,repeat:ct,reverse:at,paused:ae,repeatDelay:F,onChange:$,onChangeTimeline:mt}),Ue.current=Ut}},[Ut]),(0,L.useEffect)(function(){return function(){ur.current&&ur.current.kill&&ur.current.kill()}},[]);var Or=function(rn){un.current=rn,te&&"current"in te?te.current=rn:typeof te=="function"&&te(rn)};if(!Ft&&We&&typeof We!="string"&&typeof We!="boolean"&&typeof We!="number"){var ce=We.props,Yt=ce||{},he=Yt.style,Me=Yt.className,ye=Me===void 0?"":Me,Ne=(0,R.Z)((0,R.Z)({},he),Pr),nr=fr?"".concat(fr," ").concat(ye).trim():ye;return L.cloneElement(We,{style:Ne,ref:Or,className:(0,x.Z)(new Set(nr.split(/\s+/))).join(" ").trim()||void 0})}return Ft?(0,L.createElement)(Ft,(0,R.Z)((0,R.Z)({ref:Or},Te),ft)):(console.warn("Warning: component is null, children must be ReactElement."),We)});Sn.isTweenOne=!0,Sn.displayName="TweenOne";var Dn=Sn,Nn=["component","componentProps","leave","enter","appear","resetStyle","animatingClassName","onEnd","exclusive"],rt=L.forwardRef(function(Xt,te){var ot=Xt.component,Ft=ot===void 0?"div":ot,ft=Xt.componentProps,Ut=ft===void 0?{}:ft,re=Xt.leave,ae=re===void 0?{x:-50,opacity:0}:re,at=Xt.enter,ct=at===void 0?{x:50,opacity:0,type:"from"}:at,F=Xt.appear,M=F===void 0?!0:F,O=Xt.resetStyle,$=O===void 0?!0:O,mt=Xt.animatingClassName,zt=mt===void 0?["tween-one-entering","tween-one-leaving"]:mt,Rt=Xt.onEnd,Kt=Rt===void 0?function(){}:Rt,Te=Xt.exclusive,be=Te===void 0?!1:Te,We=(0,_.Z)(Xt,Nn),fr=(0,L.useRef)([]),He=(0,L.useRef)([]),Pr=(0,L.useRef)({}),un=(0,L.useRef)(!1),Ue=(0,L.useRef)([]),ur=(0,L.useRef)({}),Lr=P(E(Xt)),Or=(0,L.useRef)(Lr),ce=(0,L.useState)(Lr),Yt=(0,w.Z)(ce,2),he=Yt[0],Me=Yt[1],ye=function(sn){var Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Jn=sn.key;return Pr.current[Jn]=L.createElement(Dn,(0,R.Z)((0,R.Z)({},Bn),{},{key:Jn,component:null}),sn),Pr.current[Jn]},Ne=function(sn,Bn){var Jn=sn.replace(zt[Bn?1:0],"").trim();return Jn.indexOf(zt[Bn?0:1])===-1&&(Jn="".concat(Jn," ").concat(zt[Bn?0:1]).trim()),Jn},nr=function(sn,Bn){var Jn=m(Bn,sn);return fr.current=[],He.current=[],sn.forEach(function(sa){if(sa){var qn=sa.key,Za=p(Bn,qn);qn&&Pr.current[qn]&&(Pr.current[qn]=L.cloneElement(Pr.current[qn],{},sa)),!Za&&qn&&fr.current.push(qn)}}),Bn.forEach(function(sa){if(sa){var qn=sa.key,Za=p(sn,qn);!Za&&qn&&(He.current.push(qn),delete Pr.current[qn])}}),Jn},cr=function(){if(!Object.keys(ur.current).length&&Ue.current.length){var sn=nr(Ue.current[Ue.current.length-1],Or.current);Me(sn),Ue.current=[]}},rn=function(sn,Bn,Jn){var sa=Jn.targets,qn=(0,y.Z)(sa.className)==="object"&&"baseVal"in sa.className,Za=Bn==="enter"||Bn==="appear";if(sn&&Jn.mode==="onTimelineComplete"){if(delete ur.current[sn],qn?sa.className.baseVal=sa.className.baseVal.replace(zt[Za?0:1],"").trim():sa.className=sa.className.replace(zt[Za?0:1],"").trim(),Za)fr.current.splice(fr.current.indexOf(sn),1),fr.current.length||cr();else if(Bn==="leave"&&(He.current.splice(He.current.indexOf(sn),1),Or.current=Or.current.filter(function(xa){return sn!==xa.key}),!He.current.length)){var za=Or.current.map(function(xa){return xa.key});Object.keys(Pr.current).forEach(function(xa){za.indexOf(xa)===-1&&delete Pr.current[xa]}),Me(Or.current)}Kt({key:sn,type:Bn,target:Jn.targets})}},An=function(sn,Bn,Jn){var sa=Jn==="leave"?ae:ct;if(Jn==="appear"){var qn=S(M,sn.key,Bn);sa=qn&&ct||null}var Za=S(sa,sn.key,Bn),za=function(Mi){rn(sn.key,Jn,Mi)},xa=Jn==="appear"&&!M?sn.props.className:Ne(sn.props.className||"",Jn==="enter"||Jn==="appear")||void 0,Ei={key:sn.key,animation:Za,onChangeTimeline:za,resetStyle:$,className:xa};return(sn.key&&fr.current.concat(He.current).indexOf(sn.key)>=0||!un.current&&sa)&&sn.key&&!Pr.current[sn.key]&&(ur.current[sn.key]=Jn),ye(sn,Ei)};A(function(){if(un.current){var Yn=P(Xt.children).filter(function(Bn){return Bn}),sn=P(Or.current);Object.keys(ur.current).length&&!be?Ue.current.push(Yn):Me(nr(Yn,sn))}},[Xt.children]),A(function(){cr()}),(0,L.useEffect)(function(){un.current=!0},[]),Or.current=he;var ln=he.map(function(Yn,sn){if(!Yn||!Yn.key)return Yn;var Bn=Yn.key;return He.current.indexOf(Bn)>=0?An(Yn,He.current.indexOf(Bn),"leave"):(fr.current.indexOf(Bn)>=0||ur.current[Bn]&&He.current.indexOf(Bn)===-1)&&!(ur.current[Bn]==="enter"&&Pr.current[Bn])?An(Yn,fr.current.indexOf(Bn),"enter"):un.current?Pr.current[Bn]:An(Yn,sn,"appear")});return b?Ft?(0,L.createElement)(Ft,(0,R.Z)((0,R.Z)((0,R.Z)({},We),Ut),{},{ref:te}),Xt.children):L.createElement(L.Fragment,null,Xt.children):Ft?(0,L.createElement)(Ft,(0,R.Z)((0,R.Z)((0,R.Z)({},We),Ut),{},{ref:te}),ln):ln[0]?(0,L.cloneElement)(ln[0],{ref:te}):null});rt.displayName="TweenOneGroup",rt.isTweenOneGroup=!0;var Xe=rt},217857:function(Ge,W,C){"use strict";var y;y={value:!0};var R=C(667294),w=C(308273);function _(J,ut){var st=J==null?null:typeof Symbol!="undefined"&&J[Symbol.iterator]||J["@@iterator"];if(st!=null){var bt,ht,kt,Mt,St=[],V=!0,Q=!1;try{if(kt=(st=st.call(J)).next,ut===0){if(Object(st)!==st)return;V=!1}else for(;!(V=(bt=kt.call(st)).done)&&(St.push(bt.value),St.length!==ut);V=!0);}catch(xt){Q=!0,ht=xt}finally{try{if(!V&&st.return!=null&&(Mt=st.return(),Object(Mt)!==Mt))return}finally{if(Q)throw ht}}return St}}function L(J,ut){var st=Object.keys(J);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(J);ut&&(bt=bt.filter(function(ht){return Object.getOwnPropertyDescriptor(J,ht).enumerable})),st.push.apply(st,bt)}return st}function P(J){for(var ut=1;ut<arguments.length;ut++){var st=arguments[ut]!=null?arguments[ut]:{};ut%2?L(Object(st),!0).forEach(function(bt){p(J,bt,st[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(st)):L(Object(st)).forEach(function(bt){Object.defineProperty(J,bt,Object.getOwnPropertyDescriptor(st,bt))})}return J}function p(J,ut,st){return ut=f(ut),ut in J?Object.defineProperty(J,ut,{value:st,enumerable:!0,configurable:!0,writable:!0}):J[ut]=st,J}function m(){return m=Object.assign?Object.assign.bind():function(J){for(var ut=1;ut<arguments.length;ut++){var st=arguments[ut];for(var bt in st)Object.prototype.hasOwnProperty.call(st,bt)&&(J[bt]=st[bt])}return J},m.apply(this,arguments)}function S(J,ut){if(J==null)return{};var st={},bt=Object.keys(J),ht,kt;for(kt=0;kt<bt.length;kt++)ht=bt[kt],!(ut.indexOf(ht)>=0)&&(st[ht]=J[ht]);return st}function E(J,ut){if(J==null)return{};var st=S(J,ut),bt,ht;if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(J);for(ht=0;ht<kt.length;ht++)bt=kt[ht],!(ut.indexOf(bt)>=0)&&Object.prototype.propertyIsEnumerable.call(J,bt)&&(st[bt]=J[bt])}return st}function b(J,ut){return A(J)||_(J,ut)||x(J,ut)||k()}function A(J){if(Array.isArray(J))return J}function x(J,ut){if(J){if(typeof J=="string")return D(J,ut);var st=Object.prototype.toString.call(J).slice(8,-1);if(st==="Object"&&J.constructor&&(st=J.constructor.name),st==="Map"||st==="Set")return Array.from(J);if(st==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(st))return D(J,ut)}}function D(J,ut){(ut==null||ut>J.length)&&(ut=J.length);for(var st=0,bt=new Array(ut);st<ut;st++)bt[st]=J[st];return bt}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(J,ut){if(typeof J!="object"||J===null)return J;var st=J[Symbol.toPrimitive];if(st!==void 0){var bt=st.call(J,ut||"default");if(typeof bt!="object")return bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ut==="string"?String:Number)(J)}function f(J){var ut=g(J,"string");return typeof ut=="symbol"?ut:String(ut)}var z=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?R.useLayoutEffect:R.useEffect;function Y(J){var ut=R.useRef(J);return z(function(){ut.current=J}),R.useCallback(function(){for(var st=arguments.length,bt=new Array(st),ht=0;ht<st;ht++)bt[ht]=arguments[ht];return ut.current.apply(void 0,bt)},[])}var U=function(ut,st){var bt=st.decimal,ht=st.decimals,kt=st.duration,Mt=st.easingFn,St=st.end,V=st.formattingFn,Q=st.numerals,xt=st.prefix,Ct=st.separator,et=st.start,vt=st.suffix,Tt=st.useEasing,Ot=st.useGrouping,Et=st.useIndianSeparators,Dt=st.enableScrollSpy,Vt=st.scrollSpyDelay,ue=st.scrollSpyOnce;return new w.CountUp(ut,St,{startVal:et,duration:kt,decimal:bt,decimalPlaces:ht,easingFn:Mt,formattingFn:V,numerals:Q,separator:Ct,prefix:xt,suffix:vt,useEasing:Tt,useIndianSeparators:Et,useGrouping:Ot,enableScrollSpy:Dt,scrollSpyDelay:Vt,scrollSpyOnce:ue})},G=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],j={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},K=function(ut){var st=Object.fromEntries(Object.entries(ut).filter(function(qt){var $t=b(qt,2),Zt=$t[1];return Zt!==void 0})),bt=R.useMemo(function(){return P(P({},j),st)},[ut]),ht=bt.ref,kt=bt.startOnMount,Mt=bt.enableReinitialize,St=bt.delay,V=bt.onEnd,Q=bt.onStart,xt=bt.onPauseResume,Ct=bt.onReset,et=bt.onUpdate,vt=E(bt,G),Tt=R.useRef(),Ot=R.useRef(),Et=R.useRef(!1),Dt=Y(function(){return U(typeof ht=="string"?ht:ht.current,vt)}),Vt=Y(function(qt){var $t=Tt.current;if($t&&!qt)return $t;var Zt=Dt();return Tt.current=Zt,Zt}),ue=Y(function(){var qt=function(){return Vt(!0).start(function(){V==null||V({pauseResume:ee,reset:It,start:pe,update:ne})})};St&&St>0?Ot.current=setTimeout(qt,St*1e3):qt(),Q==null||Q({pauseResume:ee,reset:It,update:ne})}),ee=Y(function(){Vt().pauseResume(),xt==null||xt({reset:It,start:pe,update:ne})}),It=Y(function(){Vt().el&&(Ot.current&&clearTimeout(Ot.current),Vt().reset(),Ct==null||Ct({pauseResume:ee,start:pe,update:ne}))}),ne=Y(function(qt){Vt().update(qt),et==null||et({pauseResume:ee,reset:It,start:pe})}),pe=Y(function(){It(),ue()}),Gt=Y(function(qt){kt&&(qt&&It(),ue())});return R.useEffect(function(){Et.current?Mt&&Gt(!0):(Et.current=!0,Gt())},[Mt,Et,Gt,St,ut.start,ut.suffix,ut.prefix,ut.duration,ut.separator,ut.decimals,ut.decimal,ut.formattingFn]),R.useEffect(function(){return function(){It()}},[It]),{start:pe,pauseResume:ee,reset:It,update:ne,getCountUp:Vt}},nt=["className","redraw","containerProps","children","style"],q=function(ut){var st=ut.className,bt=ut.redraw,ht=ut.containerProps,kt=ut.children,Mt=ut.style,St=E(ut,nt),V=R.useRef(null),Q=R.useRef(!1),xt=K(P(P({},St),{},{ref:V,startOnMount:typeof kt!="function"||ut.delay===0,enableReinitialize:!1})),Ct=xt.start,et=xt.reset,vt=xt.update,Tt=xt.pauseResume,Ot=xt.getCountUp,Et=Y(function(){Ct()}),Dt=Y(function(ee){ut.preserveValue||et(),vt(ee)}),Vt=Y(function(){if(typeof ut.children=="function"&&!(V.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}Ot()});R.useEffect(function(){Vt()},[Vt]),R.useEffect(function(){Q.current&&Dt(ut.end)},[ut.end,Dt]);var ue=bt&&ut;return R.useEffect(function(){bt&&Q.current&&Et()},[Et,bt,ue]),R.useEffect(function(){!bt&&Q.current&&Et()},[Et,bt,ut.start,ut.suffix,ut.prefix,ut.duration,ut.separator,ut.decimals,ut.decimal,ut.className,ut.formattingFn]),R.useEffect(function(){Q.current=!0},[]),typeof kt=="function"?kt({countUpRef:V,start:Ct,reset:et,update:vt,pauseResume:Tt,getCountUp:Ot}):R.createElement("span",m({className:st,ref:V,style:Mt},ht),typeof ut.start!="undefined"?Ot().formattingFn(ut.start):"")};W.ZP=q,y=K},175668:function(Ge,W,C){"use strict";function y(et){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},y(et)}Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"DraggableCore",{enumerable:!0,get:function(){return S.default}}),W.default=void 0;var R=D(C(667294)),w=A(C(45697)),_=A(C(973935)),L=A(C(386010)),P=C(381825),p=C(102849),m=C(909280),S=A(C(180783)),E=A(C(955904)),b=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function A(et){return et&&et.__esModule?et:{default:et}}function x(et){if(typeof WeakMap!="function")return null;var vt=new WeakMap,Tt=new WeakMap;return(x=function(Et){return Et?Tt:vt})(et)}function D(et,vt){if(!vt&&et&&et.__esModule)return et;if(et===null||y(et)!=="object"&&typeof et!="function")return{default:et};var Tt=x(vt);if(Tt&&Tt.has(et))return Tt.get(et);var Ot={},Et=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Dt in et)if(Dt!=="default"&&Object.prototype.hasOwnProperty.call(et,Dt)){var Vt=Et?Object.getOwnPropertyDescriptor(et,Dt):null;Vt&&(Vt.get||Vt.set)?Object.defineProperty(Ot,Dt,Vt):Ot[Dt]=et[Dt]}return Ot.default=et,Tt&&Tt.set(et,Ot),Ot}function k(){return k=Object.assign||function(et){for(var vt=1;vt<arguments.length;vt++){var Tt=arguments[vt];for(var Ot in Tt)Object.prototype.hasOwnProperty.call(Tt,Ot)&&(et[Ot]=Tt[Ot])}return et},k.apply(this,arguments)}function g(et,vt){if(et==null)return{};var Tt=f(et,vt),Ot,Et;if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(et);for(Et=0;Et<Dt.length;Et++)Ot=Dt[Et],!(vt.indexOf(Ot)>=0)&&Object.prototype.propertyIsEnumerable.call(et,Ot)&&(Tt[Ot]=et[Ot])}return Tt}function f(et,vt){if(et==null)return{};var Tt={},Ot=Object.keys(et),Et,Dt;for(Dt=0;Dt<Ot.length;Dt++)Et=Ot[Dt],!(vt.indexOf(Et)>=0)&&(Tt[Et]=et[Et]);return Tt}function z(et,vt){var Tt=Object.keys(et);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(et);vt&&(Ot=Ot.filter(function(Et){return Object.getOwnPropertyDescriptor(et,Et).enumerable})),Tt.push.apply(Tt,Ot)}return Tt}function Y(et){for(var vt=1;vt<arguments.length;vt++){var Tt=arguments[vt]!=null?arguments[vt]:{};vt%2?z(Object(Tt),!0).forEach(function(Ot){xt(et,Ot,Tt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Tt)):z(Object(Tt)).forEach(function(Ot){Object.defineProperty(et,Ot,Object.getOwnPropertyDescriptor(Tt,Ot))})}return et}function U(et,vt){return q(et)||nt(et,vt)||j(et,vt)||G()}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(et,vt){if(et){if(typeof et=="string")return K(et,vt);var Tt=Object.prototype.toString.call(et).slice(8,-1);if(Tt==="Object"&&et.constructor&&(Tt=et.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(et);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return K(et,vt)}}function K(et,vt){(vt==null||vt>et.length)&&(vt=et.length);for(var Tt=0,Ot=new Array(vt);Tt<vt;Tt++)Ot[Tt]=et[Tt];return Ot}function nt(et,vt){var Tt=et==null?null:typeof Symbol!="undefined"&&et[Symbol.iterator]||et["@@iterator"];if(Tt!=null){var Ot=[],Et=!0,Dt=!1,Vt,ue;try{for(Tt=Tt.call(et);!(Et=(Vt=Tt.next()).done)&&(Ot.push(Vt.value),!(vt&&Ot.length===vt));Et=!0);}catch(ee){Dt=!0,ue=ee}finally{try{!Et&&Tt.return!=null&&Tt.return()}finally{if(Dt)throw ue}}return Ot}}function q(et){if(Array.isArray(et))return et}function J(et,vt){if(!(et instanceof vt))throw new TypeError("Cannot call a class as a function")}function ut(et,vt){for(var Tt=0;Tt<vt.length;Tt++){var Ot=vt[Tt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(et,Ot.key,Ot)}}function st(et,vt,Tt){return vt&&ut(et.prototype,vt),Tt&&ut(et,Tt),Object.defineProperty(et,"prototype",{writable:!1}),et}function bt(et,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(vt&&vt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),vt&&ht(et,vt)}function ht(et,vt){return ht=Object.setPrototypeOf||function(Ot,Et){return Ot.__proto__=Et,Ot},ht(et,vt)}function kt(et){var vt=V();return function(){var Ot=Q(et),Et;if(vt){var Dt=Q(this).constructor;Et=Reflect.construct(Ot,arguments,Dt)}else Et=Ot.apply(this,arguments);return Mt(this,Et)}}function Mt(et,vt){if(vt&&(y(vt)==="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return St(et)}function St(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function V(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(et){return!1}}function Q(et){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)},Q(et)}function xt(et,vt,Tt){return vt in et?Object.defineProperty(et,vt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):et[vt]=Tt,et}var Ct=function(et){bt(Tt,et);var vt=kt(Tt);function Tt(Ot){var Et;return J(this,Tt),Et=vt.call(this,Ot),xt(St(Et),"onDragStart",function(Dt,Vt){(0,E.default)("Draggable: onDragStart: %j",Vt);var ue=Et.props.onStart(Dt,(0,p.createDraggableData)(St(Et),Vt));if(ue===!1)return!1;Et.setState({dragging:!0,dragged:!0})}),xt(St(Et),"onDrag",function(Dt,Vt){if(!Et.state.dragging)return!1;(0,E.default)("Draggable: onDrag: %j",Vt);var ue=(0,p.createDraggableData)(St(Et),Vt),ee={x:ue.x,y:ue.y};if(Et.props.bounds){var It=ee.x,ne=ee.y;ee.x+=Et.state.slackX,ee.y+=Et.state.slackY;var pe=(0,p.getBoundPosition)(St(Et),ee.x,ee.y),Gt=U(pe,2),qt=Gt[0],$t=Gt[1];ee.x=qt,ee.y=$t,ee.slackX=Et.state.slackX+(It-ee.x),ee.slackY=Et.state.slackY+(ne-ee.y),ue.x=ee.x,ue.y=ee.y,ue.deltaX=ee.x-Et.state.x,ue.deltaY=ee.y-Et.state.y}var Zt=Et.props.onDrag(Dt,ue);if(Zt===!1)return!1;Et.setState(ee)}),xt(St(Et),"onDragStop",function(Dt,Vt){if(!Et.state.dragging)return!1;var ue=Et.props.onStop(Dt,(0,p.createDraggableData)(St(Et),Vt));if(ue===!1)return!1;(0,E.default)("Draggable: onDragStop: %j",Vt);var ee={dragging:!1,slackX:0,slackY:0},It=Boolean(Et.props.position);if(It){var ne=Et.props.position,pe=ne.x,Gt=ne.y;ee.x=pe,ee.y=Gt}Et.setState(ee)}),Et.state={dragging:!1,dragged:!1,x:Ot.position?Ot.position.x:Ot.defaultPosition.x,y:Ot.position?Ot.position.y:Ot.defaultPosition.y,prevPropsPosition:Y({},Ot.position),slackX:0,slackY:0,isElementSVG:!1},Ot.position&&!(Ot.onDrag||Ot.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Et}return st(Tt,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Et,Dt,Vt;return(Et=(Dt=this.props)===null||Dt===void 0||(Vt=Dt.nodeRef)===null||Vt===void 0?void 0:Vt.current)!==null&&Et!==void 0?Et:_.default.findDOMNode(this)}},{key:"render",value:function(){var Et,Dt=this.props,Vt=Dt.axis,ue=Dt.bounds,ee=Dt.children,It=Dt.defaultPosition,ne=Dt.defaultClassName,pe=Dt.defaultClassNameDragging,Gt=Dt.defaultClassNameDragged,qt=Dt.position,$t=Dt.positionOffset,Zt=Dt.scale,se=g(Dt,b),Se={},Pt=null,Fe=Boolean(qt),vr=!Fe||this.state.dragging,Cr=qt||It,_r={x:(0,p.canDragX)(this)&&vr?this.state.x:Cr.x,y:(0,p.canDragY)(this)&&vr?this.state.y:Cr.y};this.state.isElementSVG?Pt=(0,P.createSVGTransform)(_r,$t):Se=(0,P.createCSSTransform)(_r,$t);var Ur=(0,L.default)(ee.props.className||"",ne,(Et={},xt(Et,pe,this.state.dragging),xt(Et,Gt,this.state.dragged),Et));return R.createElement(S.default,k({},se,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),R.cloneElement(R.Children.only(ee),{className:Ur,style:Y(Y({},ee.props.style),Se),transform:Pt}))}}],[{key:"getDerivedStateFromProps",value:function(Et,Dt){var Vt=Et.position,ue=Dt.prevPropsPosition;return Vt&&(!ue||Vt.x!==ue.x||Vt.y!==ue.y)?((0,E.default)("Draggable: getDerivedStateFromProps %j",{position:Vt,prevPropsPosition:ue}),{x:Vt.x,y:Vt.y,prevPropsPosition:Y({},Vt)}):null}}]),Tt}(R.Component);W.default=Ct,xt(Ct,"displayName","Draggable"),xt(Ct,"propTypes",Y(Y({},S.default.propTypes),{},{axis:w.default.oneOf(["both","x","y","none"]),bounds:w.default.oneOfType([w.default.shape({left:w.default.number,right:w.default.number,top:w.default.number,bottom:w.default.number}),w.default.string,w.default.oneOf([!1])]),defaultClassName:w.default.string,defaultClassNameDragging:w.default.string,defaultClassNameDragged:w.default.string,defaultPosition:w.default.shape({x:w.default.number,y:w.default.number}),positionOffset:w.default.shape({x:w.default.oneOfType([w.default.number,w.default.string]),y:w.default.oneOfType([w.default.number,w.default.string])}),position:w.default.shape({x:w.default.number,y:w.default.number}),className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe})),xt(Ct,"defaultProps",Y(Y({},S.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},180783:function(Ge,W,C){"use strict";function y(Mt){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},y(Mt)}Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var R=b(C(667294)),w=S(C(45697)),_=S(C(973935)),L=C(381825),P=C(102849),p=C(909280),m=S(C(955904));function S(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}}function E(Mt){if(typeof WeakMap!="function")return null;var St=new WeakMap,V=new WeakMap;return(E=function(xt){return xt?V:St})(Mt)}function b(Mt,St){if(!St&&Mt&&Mt.__esModule)return Mt;if(Mt===null||y(Mt)!=="object"&&typeof Mt!="function")return{default:Mt};var V=E(St);if(V&&V.has(Mt))return V.get(Mt);var Q={},xt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ct in Mt)if(Ct!=="default"&&Object.prototype.hasOwnProperty.call(Mt,Ct)){var et=xt?Object.getOwnPropertyDescriptor(Mt,Ct):null;et&&(et.get||et.set)?Object.defineProperty(Q,Ct,et):Q[Ct]=Mt[Ct]}return Q.default=Mt,V&&V.set(Mt,Q),Q}function A(Mt,St){return f(Mt)||g(Mt,St)||D(Mt,St)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(Mt,St){if(Mt){if(typeof Mt=="string")return k(Mt,St);var V=Object.prototype.toString.call(Mt).slice(8,-1);if(V==="Object"&&Mt.constructor&&(V=Mt.constructor.name),V==="Map"||V==="Set")return Array.from(Mt);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return k(Mt,St)}}function k(Mt,St){(St==null||St>Mt.length)&&(St=Mt.length);for(var V=0,Q=new Array(St);V<St;V++)Q[V]=Mt[V];return Q}function g(Mt,St){var V=Mt==null?null:typeof Symbol!="undefined"&&Mt[Symbol.iterator]||Mt["@@iterator"];if(V!=null){var Q=[],xt=!0,Ct=!1,et,vt;try{for(V=V.call(Mt);!(xt=(et=V.next()).done)&&(Q.push(et.value),!(St&&Q.length===St));xt=!0);}catch(Tt){Ct=!0,vt=Tt}finally{try{!xt&&V.return!=null&&V.return()}finally{if(Ct)throw vt}}return Q}}function f(Mt){if(Array.isArray(Mt))return Mt}function z(Mt,St){if(!(Mt instanceof St))throw new TypeError("Cannot call a class as a function")}function Y(Mt,St){for(var V=0;V<St.length;V++){var Q=St[V];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(Mt,Q.key,Q)}}function U(Mt,St,V){return St&&Y(Mt.prototype,St),V&&Y(Mt,V),Object.defineProperty(Mt,"prototype",{writable:!1}),Mt}function G(Mt,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");Mt.prototype=Object.create(St&&St.prototype,{constructor:{value:Mt,writable:!0,configurable:!0}}),Object.defineProperty(Mt,"prototype",{writable:!1}),St&&j(Mt,St)}function j(Mt,St){return j=Object.setPrototypeOf||function(Q,xt){return Q.__proto__=xt,Q},j(Mt,St)}function K(Mt){var St=J();return function(){var Q=ut(Mt),xt;if(St){var Ct=ut(this).constructor;xt=Reflect.construct(Q,arguments,Ct)}else xt=Q.apply(this,arguments);return nt(this,xt)}}function nt(Mt,St){if(St&&(y(St)==="object"||typeof St=="function"))return St;if(St!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(Mt)}function q(Mt){if(Mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mt}function J(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Mt){return!1}}function ut(Mt){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},ut(Mt)}function st(Mt,St,V){return St in Mt?Object.defineProperty(Mt,St,{value:V,enumerable:!0,configurable:!0,writable:!0}):Mt[St]=V,Mt}var bt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ht=bt.mouse,kt=function(Mt){G(V,Mt);var St=K(V);function V(){var Q;z(this,V);for(var xt=arguments.length,Ct=new Array(xt),et=0;et<xt;et++)Ct[et]=arguments[et];return Q=St.call.apply(St,[this].concat(Ct)),st(q(Q),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),st(q(Q),"mounted",!1),st(q(Q),"handleDragStart",function(vt){if(Q.props.onMouseDown(vt),!Q.props.allowAnyClick&&typeof vt.button=="number"&&vt.button!==0)return!1;var Tt=Q.findDOMNode();if(!Tt||!Tt.ownerDocument||!Tt.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var Ot=Tt.ownerDocument;if(!(Q.props.disabled||!(vt.target instanceof Ot.defaultView.Node)||Q.props.handle&&!(0,L.matchesSelectorAndParentsTo)(vt.target,Q.props.handle,Tt)||Q.props.cancel&&(0,L.matchesSelectorAndParentsTo)(vt.target,Q.props.cancel,Tt))){vt.type==="touchstart"&&vt.preventDefault();var Et=(0,L.getTouchIdentifier)(vt);Q.setState({touchIdentifier:Et});var Dt=(0,P.getControlPosition)(vt,Et,q(Q));if(Dt!=null){var Vt=Dt.x,ue=Dt.y,ee=(0,P.createCoreData)(q(Q),Vt,ue);(0,m.default)("DraggableCore: handleDragStart: %j",ee),(0,m.default)("calling",Q.props.onStart);var It=Q.props.onStart(vt,ee);It===!1||Q.mounted===!1||(Q.props.enableUserSelectHack&&(0,L.addUserSelectStyles)(Ot),Q.setState({dragging:!0,lastX:Vt,lastY:ue}),(0,L.addEvent)(Ot,ht.move,Q.handleDrag),(0,L.addEvent)(Ot,ht.stop,Q.handleDragStop))}}}),st(q(Q),"handleDrag",function(vt){var Tt=(0,P.getControlPosition)(vt,Q.state.touchIdentifier,q(Q));if(Tt!=null){var Ot=Tt.x,Et=Tt.y;if(Array.isArray(Q.props.grid)){var Dt=Ot-Q.state.lastX,Vt=Et-Q.state.lastY,ue=(0,P.snapToGrid)(Q.props.grid,Dt,Vt),ee=A(ue,2);if(Dt=ee[0],Vt=ee[1],!Dt&&!Vt)return;Ot=Q.state.lastX+Dt,Et=Q.state.lastY+Vt}var It=(0,P.createCoreData)(q(Q),Ot,Et);(0,m.default)("DraggableCore: handleDrag: %j",It);var ne=Q.props.onDrag(vt,It);if(ne===!1||Q.mounted===!1){try{Q.handleDragStop(new MouseEvent("mouseup"))}catch(Gt){var pe=document.createEvent("MouseEvents");pe.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Q.handleDragStop(pe)}return}Q.setState({lastX:Ot,lastY:Et})}}),st(q(Q),"handleDragStop",function(vt){if(Q.state.dragging){var Tt=(0,P.getControlPosition)(vt,Q.state.touchIdentifier,q(Q));if(Tt!=null){var Ot=Tt.x,Et=Tt.y;if(Array.isArray(Q.props.grid)){var Dt=Ot-Q.state.lastX||0,Vt=Et-Q.state.lastY||0,ue=(0,P.snapToGrid)(Q.props.grid,Dt,Vt),ee=A(ue,2);Dt=ee[0],Vt=ee[1],Ot=Q.state.lastX+Dt,Et=Q.state.lastY+Vt}var It=(0,P.createCoreData)(q(Q),Ot,Et),ne=Q.props.onStop(vt,It);if(ne===!1||Q.mounted===!1)return!1;var pe=Q.findDOMNode();pe&&Q.props.enableUserSelectHack&&(0,L.removeUserSelectStyles)(pe.ownerDocument),(0,m.default)("DraggableCore: handleDragStop: %j",It),Q.setState({dragging:!1,lastX:NaN,lastY:NaN}),pe&&((0,m.default)("DraggableCore: Removing handlers"),(0,L.removeEvent)(pe.ownerDocument,ht.move,Q.handleDrag),(0,L.removeEvent)(pe.ownerDocument,ht.stop,Q.handleDragStop))}}}),st(q(Q),"onMouseDown",function(vt){return ht=bt.mouse,Q.handleDragStart(vt)}),st(q(Q),"onMouseUp",function(vt){return ht=bt.mouse,Q.handleDragStop(vt)}),st(q(Q),"onTouchStart",function(vt){return ht=bt.touch,Q.handleDragStart(vt)}),st(q(Q),"onTouchEnd",function(vt){return ht=bt.touch,Q.handleDragStop(vt)}),Q}return U(V,[{key:"componentDidMount",value:function(){this.mounted=!0;var xt=this.findDOMNode();xt&&(0,L.addEvent)(xt,bt.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var xt=this.findDOMNode();if(xt){var Ct=xt.ownerDocument;(0,L.removeEvent)(Ct,bt.mouse.move,this.handleDrag),(0,L.removeEvent)(Ct,bt.touch.move,this.handleDrag),(0,L.removeEvent)(Ct,bt.mouse.stop,this.handleDragStop),(0,L.removeEvent)(Ct,bt.touch.stop,this.handleDragStop),(0,L.removeEvent)(xt,bt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,L.removeUserSelectStyles)(Ct)}}},{key:"findDOMNode",value:function(){var xt,Ct,et;return(xt=this.props)!==null&&xt!==void 0&&xt.nodeRef?(Ct=this.props)===null||Ct===void 0||(et=Ct.nodeRef)===null||et===void 0?void 0:et.current:_.default.findDOMNode(this)}},{key:"render",value:function(){return R.cloneElement(R.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),V}(R.Component);W.default=kt,st(kt,"displayName","DraggableCore"),st(kt,"propTypes",{allowAnyClick:w.default.bool,disabled:w.default.bool,enableUserSelectHack:w.default.bool,offsetParent:function(St,V){if(St[V]&&St[V].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:w.default.arrayOf(w.default.number),handle:w.default.string,cancel:w.default.string,nodeRef:w.default.object,onStart:w.default.func,onDrag:w.default.func,onStop:w.default.func,onMouseDown:w.default.func,scale:w.default.number,className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),st(kt,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},861193:function(Ge,W,C){"use strict";var y=C(175668),R=y.default,w=y.DraggableCore;Ge.exports=R,Ge.exports.default=R,Ge.exports.DraggableCore=w},381825:function(Ge,W,C){"use strict";function y(st){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt},y(st)}Object.defineProperty(W,"__esModule",{value:!0}),W.addClassName=J,W.addEvent=A,W.addUserSelectStyles=nt,W.createCSSTransform=Y,W.createSVGTransform=U,W.getTouch=j,W.getTouchIdentifier=K,W.getTranslation=G,W.innerHeight=g,W.innerWidth=f,W.matchesSelector=E,W.matchesSelectorAndParentsTo=b,W.offsetXYFromParent=z,W.outerHeight=D,W.outerWidth=k,W.removeClassName=ut,W.removeEvent=x,W.removeUserSelectStyles=q;var R=C(909280),w=L(C(138650));function _(st){if(typeof WeakMap!="function")return null;var bt=new WeakMap,ht=new WeakMap;return(_=function(Mt){return Mt?ht:bt})(st)}function L(st,bt){if(!bt&&st&&st.__esModule)return st;if(st===null||y(st)!=="object"&&typeof st!="function")return{default:st};var ht=_(bt);if(ht&&ht.has(st))return ht.get(st);var kt={},Mt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var St in st)if(St!=="default"&&Object.prototype.hasOwnProperty.call(st,St)){var V=Mt?Object.getOwnPropertyDescriptor(st,St):null;V&&(V.get||V.set)?Object.defineProperty(kt,St,V):kt[St]=st[St]}return kt.default=st,ht&&ht.set(st,kt),kt}function P(st,bt){var ht=Object.keys(st);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(st);bt&&(kt=kt.filter(function(Mt){return Object.getOwnPropertyDescriptor(st,Mt).enumerable})),ht.push.apply(ht,kt)}return ht}function p(st){for(var bt=1;bt<arguments.length;bt++){var ht=arguments[bt]!=null?arguments[bt]:{};bt%2?P(Object(ht),!0).forEach(function(kt){m(st,kt,ht[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(ht)):P(Object(ht)).forEach(function(kt){Object.defineProperty(st,kt,Object.getOwnPropertyDescriptor(ht,kt))})}return st}function m(st,bt,ht){return bt in st?Object.defineProperty(st,bt,{value:ht,enumerable:!0,configurable:!0,writable:!0}):st[bt]=ht,st}var S="";function E(st,bt){return S||(S=(0,R.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(ht){return(0,R.isFunction)(st[ht])})),(0,R.isFunction)(st[S])?st[S](bt):!1}function b(st,bt,ht){var kt=st;do{if(E(kt,bt))return!0;if(kt===ht)return!1;kt=kt.parentNode}while(kt);return!1}function A(st,bt,ht,kt){if(st){var Mt=p({capture:!0},kt);st.addEventListener?st.addEventListener(bt,ht,Mt):st.attachEvent?st.attachEvent("on"+bt,ht):st["on"+bt]=ht}}function x(st,bt,ht,kt){if(st){var Mt=p({capture:!0},kt);st.removeEventListener?st.removeEventListener(bt,ht,Mt):st.detachEvent?st.detachEvent("on"+bt,ht):st["on"+bt]=null}}function D(st){var bt=st.clientHeight,ht=st.ownerDocument.defaultView.getComputedStyle(st);return bt+=(0,R.int)(ht.borderTopWidth),bt+=(0,R.int)(ht.borderBottomWidth),bt}function k(st){var bt=st.clientWidth,ht=st.ownerDocument.defaultView.getComputedStyle(st);return bt+=(0,R.int)(ht.borderLeftWidth),bt+=(0,R.int)(ht.borderRightWidth),bt}function g(st){var bt=st.clientHeight,ht=st.ownerDocument.defaultView.getComputedStyle(st);return bt-=(0,R.int)(ht.paddingTop),bt-=(0,R.int)(ht.paddingBottom),bt}function f(st){var bt=st.clientWidth,ht=st.ownerDocument.defaultView.getComputedStyle(st);return bt-=(0,R.int)(ht.paddingLeft),bt-=(0,R.int)(ht.paddingRight),bt}function z(st,bt,ht){var kt=bt===bt.ownerDocument.body,Mt=kt?{left:0,top:0}:bt.getBoundingClientRect(),St=(st.clientX+bt.scrollLeft-Mt.left)/ht,V=(st.clientY+bt.scrollTop-Mt.top)/ht;return{x:St,y:V}}function Y(st,bt){var ht=G(st,bt,"px");return m({},(0,w.browserPrefixToKey)("transform",w.default),ht)}function U(st,bt){var ht=G(st,bt,"");return ht}function G(st,bt,ht){var kt=st.x,Mt=st.y,St="translate(".concat(kt).concat(ht,",").concat(Mt).concat(ht,")");if(bt){var V="".concat(typeof bt.x=="string"?bt.x:bt.x+ht),Q="".concat(typeof bt.y=="string"?bt.y:bt.y+ht);St="translate(".concat(V,", ").concat(Q,")")+St}return St}function j(st,bt){return st.targetTouches&&(0,R.findInArray)(st.targetTouches,function(ht){return bt===ht.identifier})||st.changedTouches&&(0,R.findInArray)(st.changedTouches,function(ht){return bt===ht.identifier})}function K(st){if(st.targetTouches&&st.targetTouches[0])return st.targetTouches[0].identifier;if(st.changedTouches&&st.changedTouches[0])return st.changedTouches[0].identifier}function nt(st){if(st){var bt=st.getElementById("react-draggable-style-el");bt||(bt=st.createElement("style"),bt.type="text/css",bt.id="react-draggable-style-el",bt.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,bt.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,st.getElementsByTagName("head")[0].appendChild(bt)),st.body&&J(st.body,"react-draggable-transparent-selection")}}function q(st){if(st)try{if(st.body&&ut(st.body,"react-draggable-transparent-selection"),st.selection)st.selection.empty();else{var bt=(st.defaultView||window).getSelection();bt&&bt.type!=="Caret"&&bt.removeAllRanges()}}catch(ht){}}function J(st,bt){st.classList?st.classList.add(bt):st.className.match(new RegExp("(?:^|\\s)".concat(bt,"(?!\\S)")))||(st.className+=" ".concat(bt))}function ut(st,bt){st.classList?st.classList.remove(bt):st.className=st.className.replace(new RegExp("(?:^|\\s)".concat(bt,"(?!\\S)"),"g"),"")}},138650:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.browserPrefixToKey=R,W.browserPrefixToStyle=w,W.default=void 0,W.getPrefix=y;var C=["Moz","Webkit","O","ms"];function y(){var P,p,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var S=(P=window.document)===null||P===void 0||(p=P.documentElement)===null||p===void 0?void 0:p.style;if(!S||m in S)return"";for(var E=0;E<C.length;E++)if(R(m,C[E])in S)return C[E];return""}function R(P,p){return p?"".concat(p).concat(_(P)):P}function w(P,p){return p?"-".concat(p.toLowerCase(),"-").concat(P):P}function _(P){for(var p="",m=!0,S=0;S<P.length;S++)m?(p+=P[S].toUpperCase(),m=!1):P[S]==="-"?m=!0:p+=P[S];return p}var L=y();W.default=L},955904:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=C;function C(){var y}},102849:function(Ge,W,C){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.canDragX=L,W.canDragY=P,W.createCoreData=m,W.createDraggableData=S,W.getBoundPosition=w,W.getControlPosition=p,W.snapToGrid=_;var y=C(909280),R=C(381825);function w(A,x,D){if(!A.props.bounds)return[x,D];var k=A.props.bounds;k=typeof k=="string"?k:E(k);var g=b(A);if(typeof k=="string"){var f=g.ownerDocument,z=f.defaultView,Y;if(k==="parent"?Y=g.parentNode:Y=f.querySelector(k),!(Y instanceof z.HTMLElement))throw new Error('Bounds selector "'+k+'" could not find an element.');var U=Y,G=z.getComputedStyle(g),j=z.getComputedStyle(U);k={left:-g.offsetLeft+(0,y.int)(j.paddingLeft)+(0,y.int)(G.marginLeft),top:-g.offsetTop+(0,y.int)(j.paddingTop)+(0,y.int)(G.marginTop),right:(0,R.innerWidth)(U)-(0,R.outerWidth)(g)-g.offsetLeft+(0,y.int)(j.paddingRight)-(0,y.int)(G.marginRight),bottom:(0,R.innerHeight)(U)-(0,R.outerHeight)(g)-g.offsetTop+(0,y.int)(j.paddingBottom)-(0,y.int)(G.marginBottom)}}return(0,y.isNum)(k.right)&&(x=Math.min(x,k.right)),(0,y.isNum)(k.bottom)&&(D=Math.min(D,k.bottom)),(0,y.isNum)(k.left)&&(x=Math.max(x,k.left)),(0,y.isNum)(k.top)&&(D=Math.max(D,k.top)),[x,D]}function _(A,x,D){var k=Math.round(x/A[0])*A[0],g=Math.round(D/A[1])*A[1];return[k,g]}function L(A){return A.props.axis==="both"||A.props.axis==="x"}function P(A){return A.props.axis==="both"||A.props.axis==="y"}function p(A,x,D){var k=typeof x=="number"?(0,R.getTouch)(A,x):null;if(typeof x=="number"&&!k)return null;var g=b(D),f=D.props.offsetParent||g.offsetParent||g.ownerDocument.body;return(0,R.offsetXYFromParent)(k||A,f,D.props.scale)}function m(A,x,D){var k=A.state,g=!(0,y.isNum)(k.lastX),f=b(A);return g?{node:f,deltaX:0,deltaY:0,lastX:x,lastY:D,x,y:D}:{node:f,deltaX:x-k.lastX,deltaY:D-k.lastY,lastX:k.lastX,lastY:k.lastY,x,y:D}}function S(A,x){var D=A.props.scale;return{node:x.node,x:A.state.x+x.deltaX/D,y:A.state.y+x.deltaY/D,deltaX:x.deltaX/D,deltaY:x.deltaY/D,lastX:A.state.x,lastY:A.state.y}}function E(A){return{left:A.left,top:A.top,right:A.right,bottom:A.bottom}}function b(A){var x=A.findDOMNode();if(!x)throw new Error("<DraggableCore>: Unmounted during event!");return x}},909280:function(Ge,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.dontSetMe=_,W.findInArray=C,W.int=w,W.isFunction=y,W.isNum=R;function C(L,P){for(var p=0,m=L.length;p<m;p++)if(P.apply(P,[L[p],p,L]))return L[p]}function y(L){return typeof L=="function"||Object.prototype.toString.call(L)==="[object Function]"}function R(L){return typeof L=="number"&&!isNaN(L)}function w(L){return parseInt(L,10)}function _(L,P,p){if(L[P])return new Error("Invalid prop ".concat(P," passed to ").concat(p," - do not set this, set it on the child."))}},797005:function(Ge,W,C){var y;function R(m){if(!m||typeof window=="undefined")return;const S=document.createElement("style");return S.setAttribute("type","text/css"),S.innerHTML=m,document.head.appendChild(S),m}y={value:!0};var w=C(667294);function _(m){return m&&typeof m=="object"&&"default"in m?m:{default:m}}var L=_(w);var P=function(){return P=Object.assign||function(S){for(var E,b=1,A=arguments.length;b<A;b++){E=arguments[b];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(S[x]=E[x])}return S},P.apply(this,arguments)};R(`.marquee-container {
  overflow-x: hidden !important;
  display: flex !important;
  flex-direction: row !important;
  position: relative;
  width: 100%;
}
.marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.overlay::before, .overlay::after {
  background: linear-gradient(to right, var(--gradient-color));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
}
.overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.overlay::before {
  left: 0;
  top: 0;
}

.marquee {
  flex: 0 0 auto;
  min-width: 100%;
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}`);var p=function(m){var S,E,b,A,x=m.style,D=x===void 0?{}:x,k=m.className,g=k===void 0?"":k,f=m.play,z=f===void 0?!0:f,Y=m.pauseOnHover,U=Y===void 0?!1:Y,G=m.pauseOnClick,j=G===void 0?!1:G,K=m.direction,nt=K===void 0?"left":K,q=m.speed,J=q===void 0?20:q,ut=m.delay,st=ut===void 0?0:ut,bt=m.loop,ht=bt===void 0?0:bt,kt=m.gradient,Mt=kt===void 0?!0:kt,St=m.gradientColor,V=St===void 0?[255,255,255]:St,Q=m.gradientWidth,xt=Q===void 0?200:Q,Ct=m.onFinish,et=m.onCycleComplete,vt=m.children,Tt=w.useState(0),Ot=Tt[0],Et=Tt[1],Dt=w.useState(0),Vt=Dt[0],ue=Dt[1],ee=w.useState(!1),It=ee[0],ne=ee[1],pe=w.useRef(null),Gt=w.useRef(null);w.useEffect(function(){if(It){var Zt=function(){Gt.current&&pe.current&&(Et(pe.current.getBoundingClientRect().width),ue(Gt.current.getBoundingClientRect().width))};return Zt(),window.addEventListener("resize",Zt),function(){window.removeEventListener("resize",Zt)}}},[It]),w.useEffect(function(){ne(!0)},[]);var qt="rgba("+V[0]+", "+V[1]+", "+V[2],$t=Vt<Ot?Ot/J:Vt/J;return L.default.createElement(w.Fragment,null,It?L.default.createElement("div",{ref:pe,style:P(P({},D),(S={},S["--pause-on-hover"]=!z||U?"paused":"running",S["--pause-on-click"]=!z||U&&!j||j?"paused":"running",S)),className:g+" marquee-container"},Mt&&L.default.createElement("div",{style:(E={},E["--gradient-color"]=qt+", 1), "+qt+", 0)",E["--gradient-width"]=typeof xt=="number"?xt+"px":xt,E),className:"overlay"}),L.default.createElement("div",{ref:Gt,style:(b={},b["--play"]=z?"running":"paused",b["--direction"]=nt==="left"?"normal":"reverse",b["--duration"]=$t+"s",b["--delay"]=st+"s",b["--iteration-count"]=ht?""+ht:"infinite",b),className:"marquee",onAnimationIteration:et,onAnimationEnd:Ct},vt),L.default.createElement("div",{style:(A={},A["--play"]=z?"running":"paused",A["--direction"]=nt==="left"?"normal":"reverse",A["--duration"]=$t+"s",A["--delay"]=st+"s",A["--iteration-count"]=ht?""+ht:"infinite",A),className:"marquee","aria-hidden":"true"},vt)):null)};W.Z=p},537763:function(Ge,W,C){Ge.exports=function(y){var R={};function w(_){if(R[_])return R[_].exports;var L=R[_]={exports:{},id:_,loaded:!1};return y[_].call(L.exports,L,L.exports,w),L.loaded=!0,L.exports}return w.m=y,w.c=R,w.p="",w(0)}([function(y,R,w){y.exports=w(1)},function(y,R,w){"use strict";Object.defineProperty(R,"__esModule",{value:!0});function _(p){return p&&p.__esModule?p:{default:p}}var L=w(2),P=_(L);R.default=P.default,y.exports=R.default},function(y,R,w){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var _=Object.assign||function(D){for(var k=1;k<arguments.length;k++){var g=arguments[k];for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(D[f]=g[f])}return D};R.default=x;function L(D){return D&&D.__esModule?D:{default:D}}function P(D,k){var g={};for(var f in D)k.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(D,f)&&(g[f]=D[f]);return g}var p=w(3),m=w(4),S=L(m),E=w(14),b=w(15),A=L(b);x.propTypes={activeClassName:S.default.string,activeIndex:S.default.number,activeStyle:S.default.object,autoEscape:S.default.bool,className:S.default.string,findChunks:S.default.func,highlightClassName:S.default.oneOfType([S.default.object,S.default.string]),highlightStyle:S.default.object,highlightTag:S.default.oneOfType([S.default.node,S.default.func,S.default.string]),sanitize:S.default.func,searchWords:S.default.arrayOf(S.default.oneOfType([S.default.string,S.default.instanceOf(RegExp)])).isRequired,textToHighlight:S.default.string.isRequired,unhighlightTag:S.default.oneOfType([S.default.node,S.default.func,S.default.string]),unhighlightClassName:S.default.string,unhighlightStyle:S.default.object};function x(D){var k=D.activeClassName,g=k===void 0?"":k,f=D.activeIndex,z=f===void 0?-1:f,Y=D.activeStyle,U=D.autoEscape,G=D.caseSensitive,j=G===void 0?!1:G,K=D.className,nt=D.findChunks,q=D.highlightClassName,J=q===void 0?"":q,ut=D.highlightStyle,st=ut===void 0?{}:ut,bt=D.highlightTag,ht=bt===void 0?"mark":bt,kt=D.sanitize,Mt=D.searchWords,St=D.textToHighlight,V=D.unhighlightTag,Q=V===void 0?"span":V,xt=D.unhighlightClassName,Ct=xt===void 0?"":xt,et=D.unhighlightStyle,vt=P(D,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),Tt=(0,p.findAll)({autoEscape:U,caseSensitive:j,findChunks:nt,sanitize:kt,searchWords:Mt,textToHighlight:St}),Ot=ht,Et=-1,Dt="",Vt=void 0,ue=function(ne){var pe={};for(var Gt in ne)pe[Gt.toLowerCase()]=ne[Gt];return pe},ee=(0,A.default)(ue);return(0,E.createElement)("span",_({className:K},vt,{children:Tt.map(function(It,ne){var pe=St.substr(It.start,It.end-It.start);if(It.highlight){Et++;var Gt=void 0;typeof J=="object"?j?Gt=J[pe]:(J=ee(J),Gt=J[pe.toLowerCase()]):Gt=J;var qt=Et===+z;Dt=Gt+" "+(qt?g:""),Vt=qt===!0&&Y!=null?Object.assign({},st,Y):st;var $t={children:pe,className:Dt,key:ne,style:Vt};return typeof Ot!="string"&&($t.highlightIndex=Et),(0,E.createElement)(Ot,$t)}else return(0,E.createElement)(Q,{children:pe,className:Ct,key:ne,style:et})})}))}y.exports=R.default},function(y,R){y.exports=function(w){var _={};function L(P){if(_[P])return _[P].exports;var p=_[P]={exports:{},id:P,loaded:!1};return w[P].call(p.exports,p,p.exports,L),p.loaded=!0,p.exports}return L.m=w,L.c=_,L.p="",L(0)}([function(w,_,L){w.exports=L(1)},function(w,_,L){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var P=L(2);Object.defineProperty(_,"combineChunks",{enumerable:!0,get:function(){return P.combineChunks}}),Object.defineProperty(_,"fillInChunks",{enumerable:!0,get:function(){return P.fillInChunks}}),Object.defineProperty(_,"findAll",{enumerable:!0,get:function(){return P.findAll}}),Object.defineProperty(_,"findChunks",{enumerable:!0,get:function(){return P.findChunks}})},function(w,_){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var L=_.findAll=function(A){var x=A.autoEscape,D=A.caseSensitive,k=D===void 0?!1:D,g=A.findChunks,f=g===void 0?p:g,z=A.sanitize,Y=A.searchWords,U=A.textToHighlight;return m({chunksToHighlight:P({chunks:f({autoEscape:x,caseSensitive:k,sanitize:z,searchWords:Y,textToHighlight:U})}),totalLength:U?U.length:0})},P=_.combineChunks=function(A){var x=A.chunks;return x=x.sort(function(D,k){return D.start-k.start}).reduce(function(D,k){if(D.length===0)return[k];var g=D.pop();if(k.start<=g.end){var f=Math.max(g.end,k.end);D.push({start:g.start,end:f})}else D.push(g,k);return D},[]),x},p=function(A){var x=A.autoEscape,D=A.caseSensitive,k=A.sanitize,g=k===void 0?S:k,f=A.searchWords,z=A.textToHighlight;return z=g(z),f.filter(function(Y){return Y}).reduce(function(Y,U){U=g(U),x&&(U=E(U));for(var G=new RegExp(U,D?"g":"gi"),j=void 0;j=G.exec(z);){var K=j.index,nt=G.lastIndex;nt>K&&Y.push({start:K,end:nt}),j.index==G.lastIndex&&G.lastIndex++}return Y},[])};_.findChunks=p;var m=_.fillInChunks=function(A){var x=A.chunksToHighlight,D=A.totalLength,k=[],g=function(Y,U,G){U-Y>0&&k.push({start:Y,end:U,highlight:G})};if(x.length===0)g(0,D,!1);else{var f=0;x.forEach(function(z){g(f,z.start,!1),g(z.start,z.end,!0),f=z.end}),g(f,D,!1)}return k};function S(b){return b}function E(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(y,R,w){(function(_){if(_.env.NODE_ENV!=="production"){var L=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,P=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===L},p=!0;y.exports=w(6)(P,p)}else y.exports=w(13)()}).call(R,w(5))},function(y,R){var w=y.exports={},_,L;function P(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?_=setTimeout:_=P}catch(z){_=P}try{typeof clearTimeout=="function"?L=clearTimeout:L=p}catch(z){L=p}})();function m(z){if(_===setTimeout)return setTimeout(z,0);if((_===P||!_)&&setTimeout)return _=setTimeout,setTimeout(z,0);try{return _(z,0)}catch(Y){try{return _.call(null,z,0)}catch(U){return _.call(this,z,0)}}}function S(z){if(L===clearTimeout)return clearTimeout(z);if((L===p||!L)&&clearTimeout)return L=clearTimeout,clearTimeout(z);try{return L(z)}catch(Y){try{return L.call(null,z)}catch(U){return L.call(this,z)}}}var E=[],b=!1,A,x=-1;function D(){!b||!A||(b=!1,A.length?E=A.concat(E):x=-1,E.length&&k())}function k(){if(!b){var z=m(D);b=!0;for(var Y=E.length;Y;){for(A=E,E=[];++x<Y;)A&&A[x].run();x=-1,Y=E.length}A=null,b=!1,S(z)}}w.nextTick=function(z){var Y=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)Y[U-1]=arguments[U];E.push(new g(z,Y)),E.length===1&&!b&&m(k)};function g(z,Y){this.fun=z,this.array=Y}g.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={};function f(){}w.on=f,w.addListener=f,w.once=f,w.off=f,w.removeListener=f,w.removeAllListeners=f,w.emit=f,w.prependListener=f,w.prependOnceListener=f,w.listeners=function(z){return[]},w.binding=function(z){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(z){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function(y,R,w){(function(_){"use strict";var L=w(7),P=w(8),p=w(9),m=w(10),S=w(11),E=w(12);y.exports=function(b,A){var x=typeof Symbol=="function"&&Symbol.iterator,D="@@iterator";function k(et){var vt=et&&(x&&et[x]||et[D]);if(typeof vt=="function")return vt}var g="<<anonymous>>",f={array:G("array"),bool:G("boolean"),func:G("function"),number:G("number"),object:G("object"),string:G("string"),symbol:G("symbol"),any:j(),arrayOf:K,element:nt(),instanceOf:q,node:bt(),objectOf:ut,oneOf:J,oneOfType:st,shape:ht,exact:kt};function z(et,vt){return et===vt?et!==0||1/et===1/vt:et!==et&&vt!==vt}function Y(et){this.message=et,this.stack=""}Y.prototype=Error.prototype;function U(et){if(_.env.NODE_ENV!=="production")var vt={},Tt=0;function Ot(Dt,Vt,ue,ee,It,ne,pe){if(ee=ee||g,ne=ne||ue,pe!==S){if(A)P(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(_.env.NODE_ENV!=="production"&&typeof console!="undefined"){var Gt=ee+":"+ue;!vt[Gt]&&Tt<3&&(p(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",ne,ee),vt[Gt]=!0,Tt++)}}return Vt[ue]==null?Dt?Vt[ue]===null?new Y("The "+It+" `"+ne+"` is marked as required "+("in `"+ee+"`, but its value is `null`.")):new Y("The "+It+" `"+ne+"` is marked as required in "+("`"+ee+"`, but its value is `undefined`.")):null:et(Vt,ue,ee,It,ne)}var Et=Ot.bind(null,!1);return Et.isRequired=Ot.bind(null,!0),Et}function G(et){function vt(Tt,Ot,Et,Dt,Vt,ue){var ee=Tt[Ot],It=V(ee);if(It!==et){var ne=Q(ee);return new Y("Invalid "+Dt+" `"+Vt+"` of type "+("`"+ne+"` supplied to `"+Et+"`, expected ")+("`"+et+"`."))}return null}return U(vt)}function j(){return U(L.thatReturnsNull)}function K(et){function vt(Tt,Ot,Et,Dt,Vt){if(typeof et!="function")return new Y("Property `"+Vt+"` of component `"+Et+"` has invalid PropType notation inside arrayOf.");var ue=Tt[Ot];if(!Array.isArray(ue)){var ee=V(ue);return new Y("Invalid "+Dt+" `"+Vt+"` of type "+("`"+ee+"` supplied to `"+Et+"`, expected an array."))}for(var It=0;It<ue.length;It++){var ne=et(ue,It,Et,Dt,Vt+"["+It+"]",S);if(ne instanceof Error)return ne}return null}return U(vt)}function nt(){function et(vt,Tt,Ot,Et,Dt){var Vt=vt[Tt];if(!b(Vt)){var ue=V(Vt);return new Y("Invalid "+Et+" `"+Dt+"` of type "+("`"+ue+"` supplied to `"+Ot+"`, expected a single ReactElement."))}return null}return U(et)}function q(et){function vt(Tt,Ot,Et,Dt,Vt){if(!(Tt[Ot]instanceof et)){var ue=et.name||g,ee=Ct(Tt[Ot]);return new Y("Invalid "+Dt+" `"+Vt+"` of type "+("`"+ee+"` supplied to `"+Et+"`, expected ")+("instance of `"+ue+"`."))}return null}return U(vt)}function J(et){if(!Array.isArray(et))return _.env.NODE_ENV!=="production"&&p(!1,"Invalid argument supplied to oneOf, expected an instance of array."),L.thatReturnsNull;function vt(Tt,Ot,Et,Dt,Vt){for(var ue=Tt[Ot],ee=0;ee<et.length;ee++)if(z(ue,et[ee]))return null;var It=JSON.stringify(et);return new Y("Invalid "+Dt+" `"+Vt+"` of value `"+ue+"` "+("supplied to `"+Et+"`, expected one of "+It+"."))}return U(vt)}function ut(et){function vt(Tt,Ot,Et,Dt,Vt){if(typeof et!="function")return new Y("Property `"+Vt+"` of component `"+Et+"` has invalid PropType notation inside objectOf.");var ue=Tt[Ot],ee=V(ue);if(ee!=="object")return new Y("Invalid "+Dt+" `"+Vt+"` of type "+("`"+ee+"` supplied to `"+Et+"`, expected an object."));for(var It in ue)if(ue.hasOwnProperty(It)){var ne=et(ue,It,Et,Dt,Vt+"."+It,S);if(ne instanceof Error)return ne}return null}return U(vt)}function st(et){if(!Array.isArray(et))return _.env.NODE_ENV!=="production"&&p(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),L.thatReturnsNull;for(var vt=0;vt<et.length;vt++){var Tt=et[vt];if(typeof Tt!="function")return p(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",xt(Tt),vt),L.thatReturnsNull}function Ot(Et,Dt,Vt,ue,ee){for(var It=0;It<et.length;It++){var ne=et[It];if(ne(Et,Dt,Vt,ue,ee,S)==null)return null}return new Y("Invalid "+ue+" `"+ee+"` supplied to "+("`"+Vt+"`."))}return U(Ot)}function bt(){function et(vt,Tt,Ot,Et,Dt){return Mt(vt[Tt])?null:new Y("Invalid "+Et+" `"+Dt+"` supplied to "+("`"+Ot+"`, expected a ReactNode."))}return U(et)}function ht(et){function vt(Tt,Ot,Et,Dt,Vt){var ue=Tt[Ot],ee=V(ue);if(ee!=="object")return new Y("Invalid "+Dt+" `"+Vt+"` of type `"+ee+"` "+("supplied to `"+Et+"`, expected `object`."));for(var It in et){var ne=et[It];if(ne){var pe=ne(ue,It,Et,Dt,Vt+"."+It,S);if(pe)return pe}}return null}return U(vt)}function kt(et){function vt(Tt,Ot,Et,Dt,Vt){var ue=Tt[Ot],ee=V(ue);if(ee!=="object")return new Y("Invalid "+Dt+" `"+Vt+"` of type `"+ee+"` "+("supplied to `"+Et+"`, expected `object`."));var It=m({},Tt[Ot],et);for(var ne in It){var pe=et[ne];if(!pe)return new Y("Invalid "+Dt+" `"+Vt+"` key `"+ne+"` supplied to `"+Et+"`.\nBad object: "+JSON.stringify(Tt[Ot],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(et),null,"  "));var Gt=pe(ue,ne,Et,Dt,Vt+"."+ne,S);if(Gt)return Gt}return null}return U(vt)}function Mt(et){switch(typeof et){case"number":case"string":case"undefined":return!0;case"boolean":return!et;case"object":if(Array.isArray(et))return et.every(Mt);if(et===null||b(et))return!0;var vt=k(et);if(vt){var Tt=vt.call(et),Ot;if(vt!==et.entries){for(;!(Ot=Tt.next()).done;)if(!Mt(Ot.value))return!1}else for(;!(Ot=Tt.next()).done;){var Et=Ot.value;if(Et&&!Mt(Et[1]))return!1}}else return!1;return!0;default:return!1}}function St(et,vt){return et==="symbol"||vt["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&vt instanceof Symbol}function V(et){var vt=typeof et;return Array.isArray(et)?"array":et instanceof RegExp?"object":St(vt,et)?"symbol":vt}function Q(et){if(typeof et=="undefined"||et===null)return""+et;var vt=V(et);if(vt==="object"){if(et instanceof Date)return"date";if(et instanceof RegExp)return"regexp"}return vt}function xt(et){var vt=Q(et);switch(vt){case"array":case"object":return"an "+vt;case"boolean":case"date":case"regexp":return"a "+vt;default:return vt}}function Ct(et){return!et.constructor||!et.constructor.name?g:et.constructor.name}return f.checkPropTypes=E,f.PropTypes=f,f}}).call(R,w(5))},function(y,R){"use strict";function w(L){return function(){return L}}var _=function(){};_.thatReturns=w,_.thatReturnsFalse=w(!1),_.thatReturnsTrue=w(!0),_.thatReturnsNull=w(null),_.thatReturnsThis=function(){return this},_.thatReturnsArgument=function(L){return L},y.exports=_},function(y,R,w){(function(_){"use strict";var L=function(m){};_.env.NODE_ENV!=="production"&&(L=function(m){if(m===void 0)throw new Error("invariant requires an error message argument")});function P(p,m,S,E,b,A,x,D){if(L(m),!p){var k;if(m===void 0)k=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[S,E,b,A,x,D],f=0;k=new Error(m.replace(/%s/g,function(){return g[f++]})),k.name="Invariant Violation"}throw k.framesToPop=1,k}}y.exports=P}).call(R,w(5))},function(y,R,w){(function(_){"use strict";var L=w(7),P=L;if(_.env.NODE_ENV!=="production"){var p=function(S){for(var E=arguments.length,b=Array(E>1?E-1:0),A=1;A<E;A++)b[A-1]=arguments[A];var x=0,D="Warning: "+S.replace(/%s/g,function(){return b[x++]});typeof console!="undefined"&&console.error(D);try{throw new Error(D)}catch(k){}};P=function(S,E){if(E===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(E.indexOf("Failed Composite propType: ")!==0&&!S){for(var b=arguments.length,A=Array(b>2?b-2:0),x=2;x<b;x++)A[x-2]=arguments[x];p.apply(void 0,[E].concat(A))}}}y.exports=P}).call(R,w(5))},function(y,R){"use strict";var w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;function P(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}function p(){try{if(!Object.assign)return!1;var m=new String("abc");if(m[5]="de",Object.getOwnPropertyNames(m)[0]==="5")return!1;for(var S={},E=0;E<10;E++)S["_"+String.fromCharCode(E)]=E;var b=Object.getOwnPropertyNames(S).map(function(x){return S[x]});if(b.join("")!=="0123456789")return!1;var A={};return"abcdefghijklmnopqrst".split("").forEach(function(x){A[x]=x}),Object.keys(Object.assign({},A)).join("")==="abcdefghijklmnopqrst"}catch(x){return!1}}y.exports=p()?Object.assign:function(m,S){for(var E,b=P(m),A,x=1;x<arguments.length;x++){E=Object(arguments[x]);for(var D in E)_.call(E,D)&&(b[D]=E[D]);if(w){A=w(E);for(var k=0;k<A.length;k++)L.call(E,A[k])&&(b[A[k]]=E[A[k]])}}return b}},function(y,R){"use strict";var w="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";y.exports=w},function(y,R,w){(function(_){"use strict";if(_.env.NODE_ENV!=="production")var L=w(8),P=w(9),p=w(11),m={};function S(E,b,A,x,D){if(_.env.NODE_ENV!=="production"){for(var k in E)if(E.hasOwnProperty(k)){var g;try{L(typeof E[k]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",x||"React class",A,k,typeof E[k]),g=E[k](b,k,x,A,null,p)}catch(z){g=z}if(P(!g||g instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",x||"React class",A,k,typeof g),g instanceof Error&&!(g.message in m)){m[g.message]=!0;var f=D?D():"";P(!1,"Failed %s type: %s%s",A,g.message,f!=null?f:"")}}}}y.exports=S}).call(R,w(5))},function(y,R,w){"use strict";var _=w(7),L=w(8),P=w(11);y.exports=function(){function p(E,b,A,x,D,k){k!==P&&L(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}p.isRequired=p;function m(){return p}var S={array:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:m,element:p,instanceOf:m,node:p,objectOf:m,oneOf:m,oneOfType:m,shape:m,exact:m};return S.checkPropTypes=_,S.PropTypes=S,S}},function(y,R){y.exports=C(667294)},function(y,R){"use strict";var w=function(P,p){return P===p};function _(L){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,p=void 0,m=[],S=void 0,E=!1,b=function(D,k){return P(D,m[k])},A=function(){for(var D=arguments.length,k=Array(D),g=0;g<D;g++)k[g]=arguments[g];return E&&p===this&&k.length===m.length&&k.every(b)||(E=!0,p=this,m=k,S=L.apply(this,k)),S};return A}y.exports=_}])},58533:function(Ge,W,C){"use strict";var y=C(667294);var R=function(E,b){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,x){A.__proto__=x}||function(A,x){for(var D in x)x.hasOwnProperty(D)&&(A[D]=x[D])},R(E,b)};function w(E,b){R(E,b);function A(){this.constructor=E}E.prototype=b===null?Object.create(b):(A.prototype=b.prototype,new A)}var _=function(){return _=Object.assign||function(b){for(var A,x=1,D=arguments.length;x<D;x++){A=arguments[x];for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(b[k]=A[k])}return b},_.apply(this,arguments)};function L(E,b,A,x){var D,k=!1,g=0;function f(){D&&clearTimeout(D)}function z(){f(),k=!0}typeof b!="boolean"&&(x=A,A=b,b=void 0);function Y(){var U=this,G=Date.now()-g,j=arguments;if(k)return;function K(){g=Date.now(),A.apply(U,j)}function nt(){D=void 0}x&&!D&&K(),f(),x===void 0&&G>E?K():b!==!0&&(D=setTimeout(x?nt:K,x===void 0?E-G:E))}return Y.cancel=z,Y}var P={Pixel:"Pixel",Percent:"Percent"},p={unit:P.Percent,value:.8};function m(E){return typeof E=="number"?{unit:P.Percent,value:E*100}:typeof E=="string"?E.match(/^(\d*(\.\d+)?)px$/)?{unit:P.Pixel,value:parseFloat(E)}:E.match(/^(\d*(\.\d+)?)%$/)?{unit:P.Percent,value:parseFloat(E)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),p):(console.warn("scrollThreshold should be string or number"),p)}var S=function(E){w(b,E);function b(A){var x=E.call(this,A)||this;return x.lastScrollTop=0,x.actionTriggered=!1,x.startY=0,x.currentY=0,x.dragging=!1,x.maxPullDownDistance=0,x.getScrollableTarget=function(){return x.props.scrollableTarget instanceof HTMLElement?x.props.scrollableTarget:typeof x.props.scrollableTarget=="string"?document.getElementById(x.props.scrollableTarget):(x.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},x.onStart=function(D){x.lastScrollTop||(x.dragging=!0,D instanceof MouseEvent?x.startY=D.pageY:D instanceof TouchEvent&&(x.startY=D.touches[0].pageY),x.currentY=x.startY,x._infScroll&&(x._infScroll.style.willChange="transform",x._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},x.onMove=function(D){x.dragging&&(D instanceof MouseEvent?x.currentY=D.pageY:D instanceof TouchEvent&&(x.currentY=D.touches[0].pageY),!(x.currentY<x.startY)&&(x.currentY-x.startY>=Number(x.props.pullDownToRefreshThreshold)&&x.setState({pullToRefreshThresholdBreached:!0}),!(x.currentY-x.startY>x.maxPullDownDistance*1.5)&&x._infScroll&&(x._infScroll.style.overflow="visible",x._infScroll.style.transform="translate3d(0px, "+(x.currentY-x.startY)+"px, 0px)")))},x.onEnd=function(){x.startY=0,x.currentY=0,x.dragging=!1,x.state.pullToRefreshThresholdBreached&&(x.props.refreshFunction&&x.props.refreshFunction(),x.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){x._infScroll&&(x._infScroll.style.overflow="auto",x._infScroll.style.transform="none",x._infScroll.style.willChange="unset")})},x.onScrollListener=function(D){typeof x.props.onScroll=="function"&&setTimeout(function(){return x.props.onScroll&&x.props.onScroll(D)},0);var k=x.props.height||x._scrollableNode?D.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!x.actionTriggered){var g=x.props.inverse?x.isElementAtTop(k,x.props.scrollThreshold):x.isElementAtBottom(k,x.props.scrollThreshold);g&&x.props.hasMore&&(x.actionTriggered=!0,x.setState({showLoader:!0}),x.props.next&&x.props.next()),x.lastScrollTop=k.scrollTop}},x.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:A.dataLength},x.throttledOnScrollListener=L(150,x.onScrollListener).bind(x),x.onStart=x.onStart.bind(x),x.onMove=x.onMove.bind(x),x.onEnd=x.onEnd.bind(x),x}return b.prototype.componentDidMount=function(){if(typeof this.props.dataLength=="undefined")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},b.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},b.prototype.componentDidUpdate=function(A){this.props.dataLength!==A.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},b.getDerivedStateFromProps=function(A,x){var D=A.dataLength!==x.prevDataLength;return D?_(_({},x),{prevDataLength:A.dataLength}):null},b.prototype.isElementAtTop=function(A,x){x===void 0&&(x=.8);var D=A===document.body||A===document.documentElement?window.screen.availHeight:A.clientHeight,k=m(x);return k.unit===P.Pixel?A.scrollTop<=k.value+D-A.scrollHeight+1:A.scrollTop<=k.value/100+D-A.scrollHeight+1},b.prototype.isElementAtBottom=function(A,x){x===void 0&&(x=.8);var D=A===document.body||A===document.documentElement?window.screen.availHeight:A.clientHeight,k=m(x);return k.unit===P.Pixel?A.scrollTop+D>=A.scrollHeight-k.value:A.scrollTop+D>=k.value/100*A.scrollHeight},b.prototype.render=function(){var A=this,x=_({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),D=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),k=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return y.createElement("div",{style:k,className:"infinite-scroll-component__outerdiv"},y.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(g){return A._infScroll=g},style:x},this.props.pullDownToRefresh&&y.createElement("div",{style:{position:"relative"},ref:function(g){return A._pullDown=g}},y.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!D&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},b}(y.Component);W.Z=S},122827:function(Ge,W,C){"use strict";W.__esModule=!0,W.default=void 0;var y=p(C(667294)),R=C(861193),w=C(459069),_=C(100448),L=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function P(g){if(typeof WeakMap!="function")return null;var f=new WeakMap,z=new WeakMap;return(P=function(U){return U?z:f})(g)}function p(g,f){if(!f&&g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var z=P(f);if(z&&z.has(g))return z.get(g);var Y={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in g)if(G!=="default"&&Object.prototype.hasOwnProperty.call(g,G)){var j=U?Object.getOwnPropertyDescriptor(g,G):null;j&&(j.get||j.set)?Object.defineProperty(Y,G,j):Y[G]=g[G]}return Y.default=g,z&&z.set(g,Y),Y}function m(){return m=Object.assign||function(g){for(var f=1;f<arguments.length;f++){var z=arguments[f];for(var Y in z)Object.prototype.hasOwnProperty.call(z,Y)&&(g[Y]=z[Y])}return g},m.apply(this,arguments)}function S(g,f){if(g==null)return{};var z={},Y=Object.keys(g),U,G;for(G=0;G<Y.length;G++)U=Y[G],!(f.indexOf(U)>=0)&&(z[U]=g[U]);return z}function E(g,f){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(g);f&&(Y=Y.filter(function(U){return Object.getOwnPropertyDescriptor(g,U).enumerable})),z.push.apply(z,Y)}return z}function b(g){for(var f=1;f<arguments.length;f++){var z=arguments[f]!=null?arguments[f]:{};f%2?E(Object(z),!0).forEach(function(Y){A(g,Y,z[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):E(Object(z)).forEach(function(Y){Object.defineProperty(g,Y,Object.getOwnPropertyDescriptor(z,Y))})}return g}function A(g,f,z){return f in g?Object.defineProperty(g,f,{value:z,enumerable:!0,configurable:!0,writable:!0}):g[f]=z,g}function x(g,f){g.prototype=Object.create(f.prototype),g.prototype.constructor=g,D(g,f)}function D(g,f){return D=Object.setPrototypeOf||function(Y,U){return Y.__proto__=U,Y},D(g,f)}var k=function(g){x(f,g);function f(){for(var Y,U=arguments.length,G=new Array(U),j=0;j<U;j++)G[j]=arguments[j];return Y=g.call.apply(g,[this].concat(G))||this,Y.handleRefs={},Y.lastHandleRect=null,Y.slack=null,Y}var z=f.prototype;return z.componentWillUnmount=function(){this.resetData()},z.resetData=function(){this.lastHandleRect=this.slack=null},z.runConstraints=function(U,G){var j=this.props,K=j.minConstraints,nt=j.maxConstraints,q=j.lockAspectRatio;if(!K&&!nt&&!q)return[U,G];if(q){var J=this.props.width/this.props.height,ut=U-this.props.width,st=G-this.props.height;Math.abs(ut)>Math.abs(st*J)?G=U/J:U=G*J}var bt=U,ht=G,kt=this.slack||[0,0],Mt=kt[0],St=kt[1];return U+=Mt,G+=St,K&&(U=Math.max(K[0],U),G=Math.max(K[1],G)),nt&&(U=Math.min(nt[0],U),G=Math.min(nt[1],G)),this.slack=[Mt+(bt-U),St+(ht-G)],[U,G]},z.resizeHandler=function(U,G){var j=this;return function(K,nt){var q=nt.node,J=nt.deltaX,ut=nt.deltaY;U==="onResizeStart"&&j.resetData();var st=(j.props.axis==="both"||j.props.axis==="x")&&G!=="n"&&G!=="s",bt=(j.props.axis==="both"||j.props.axis==="y")&&G!=="e"&&G!=="w";if(!(!st&&!bt)){var ht=G[0],kt=G[G.length-1],Mt=q.getBoundingClientRect();if(j.lastHandleRect!=null){if(kt==="w"){var St=Mt.left-j.lastHandleRect.left;J+=St}if(ht==="n"){var V=Mt.top-j.lastHandleRect.top;ut+=V}}j.lastHandleRect=Mt,kt==="w"&&(J=-J),ht==="n"&&(ut=-ut);var Q=j.props.width+(st?J/j.props.transformScale:0),xt=j.props.height+(bt?ut/j.props.transformScale:0),Ct=j.runConstraints(Q,xt);Q=Ct[0],xt=Ct[1];var et=Q!==j.props.width||xt!==j.props.height,vt=typeof j.props[U]=="function"?j.props[U]:null,Tt=U==="onResize"&&!et;vt&&!Tt&&(K.persist==null||K.persist(),vt(K,{node:q,size:{width:Q,height:xt},handle:G})),U==="onResizeStop"&&j.resetData()}}},z.renderResizeHandle=function(U,G){var j=this.props.handle;if(!j)return y.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+U,ref:G});if(typeof j=="function")return j(U,G);var K=typeof j.type=="string",nt=b({ref:G},K?{}:{handleAxis:U});return y.cloneElement(j,nt)},z.render=function(){var U=this,G=this.props,j=G.children,K=G.className,nt=G.draggableOpts,q=G.width,J=G.height,ut=G.handle,st=G.handleSize,bt=G.lockAspectRatio,ht=G.axis,kt=G.minConstraints,Mt=G.maxConstraints,St=G.onResize,V=G.onResizeStop,Q=G.onResizeStart,xt=G.resizeHandles,Ct=G.transformScale,et=S(G,L);return(0,w.cloneElement)(j,b(b({},et),{},{className:(K?K+" ":"")+"react-resizable",children:[].concat(j.props.children,xt.map(function(vt){var Tt,Ot=(Tt=U.handleRefs[vt])!=null?Tt:U.handleRefs[vt]=y.createRef();return y.createElement(R.DraggableCore,m({},nt,{nodeRef:Ot,key:"resizableHandle-"+vt,onStop:U.resizeHandler("onResizeStop",vt),onStart:U.resizeHandler("onResizeStart",vt),onDrag:U.resizeHandler("onResize",vt)}),U.renderResizeHandle(vt,Ot))}))}))},f}(y.Component);W.default=k,k.propTypes=_.resizableProps,k.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},808735:function(Ge,W,C){"use strict";var y;y=!0,W.default=void 0;var R=S(C(667294)),w=p(C(45697)),_=p(C(122827)),L=C(100448),P=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function p(z){return z&&z.__esModule?z:{default:z}}function m(z){if(typeof WeakMap!="function")return null;var Y=new WeakMap,U=new WeakMap;return(m=function(j){return j?U:Y})(z)}function S(z,Y){if(!Y&&z&&z.__esModule)return z;if(z===null||typeof z!="object"&&typeof z!="function")return{default:z};var U=m(Y);if(U&&U.has(z))return U.get(z);var G={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in z)if(K!=="default"&&Object.prototype.hasOwnProperty.call(z,K)){var nt=j?Object.getOwnPropertyDescriptor(z,K):null;nt&&(nt.get||nt.set)?Object.defineProperty(G,K,nt):G[K]=z[K]}return G.default=z,U&&U.set(z,G),G}function E(){return E=Object.assign||function(z){for(var Y=1;Y<arguments.length;Y++){var U=arguments[Y];for(var G in U)Object.prototype.hasOwnProperty.call(U,G)&&(z[G]=U[G])}return z},E.apply(this,arguments)}function b(z,Y){var U=Object.keys(z);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);Y&&(G=G.filter(function(j){return Object.getOwnPropertyDescriptor(z,j).enumerable})),U.push.apply(U,G)}return U}function A(z){for(var Y=1;Y<arguments.length;Y++){var U=arguments[Y]!=null?arguments[Y]:{};Y%2?b(Object(U),!0).forEach(function(G){x(z,G,U[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(U)):b(Object(U)).forEach(function(G){Object.defineProperty(z,G,Object.getOwnPropertyDescriptor(U,G))})}return z}function x(z,Y,U){return Y in z?Object.defineProperty(z,Y,{value:U,enumerable:!0,configurable:!0,writable:!0}):z[Y]=U,z}function D(z,Y){if(z==null)return{};var U={},G=Object.keys(z),j,K;for(K=0;K<G.length;K++)j=G[K],!(Y.indexOf(j)>=0)&&(U[j]=z[j]);return U}function k(z,Y){z.prototype=Object.create(Y.prototype),z.prototype.constructor=z,g(z,Y)}function g(z,Y){return g=Object.setPrototypeOf||function(G,j){return G.__proto__=j,G},g(z,Y)}var f=function(z){k(Y,z);function Y(){for(var G,j=arguments.length,K=new Array(j),nt=0;nt<j;nt++)K[nt]=arguments[nt];return G=z.call.apply(z,[this].concat(K))||this,G.state={width:G.props.width,height:G.props.height,propsWidth:G.props.width,propsHeight:G.props.height},G.onResize=function(q,J){var ut=J.size;G.props.onResize?(q.persist==null||q.persist(),G.setState(ut,function(){return G.props.onResize&&G.props.onResize(q,J)})):G.setState(ut)},G}Y.getDerivedStateFromProps=function(j,K){return K.propsWidth!==j.width||K.propsHeight!==j.height?{width:j.width,height:j.height,propsWidth:j.width,propsHeight:j.height}:null};var U=Y.prototype;return U.render=function(){var j=this.props,K=j.handle,nt=j.handleSize,q=j.onResize,J=j.onResizeStart,ut=j.onResizeStop,st=j.draggableOpts,bt=j.minConstraints,ht=j.maxConstraints,kt=j.lockAspectRatio,Mt=j.axis,St=j.width,V=j.height,Q=j.resizeHandles,xt=j.style,Ct=j.transformScale,et=D(j,P);return R.createElement(_.default,{axis:Mt,draggableOpts:st,handle:K,handleSize:nt,height:this.state.height,lockAspectRatio:kt,maxConstraints:ht,minConstraints:bt,onResizeStart:J,onResize:this.onResize,onResizeStop:ut,resizeHandles:Q,transformScale:Ct,width:this.state.width},R.createElement("div",E({},et,{style:A(A({},xt),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},Y}(R.Component);W.default=f,f.propTypes=A(A({},L.resizableProps),{},{children:w.default.element})},100448:function(Ge,W,C){"use strict";W.__esModule=!0,W.resizableProps=void 0;var y=w(C(45697)),R=C(861193);function w(L){return L&&L.__esModule?L:{default:L}}var _={axis:y.default.oneOf(["both","x","y","none"]),className:y.default.string,children:y.default.element.isRequired,draggableOpts:y.default.shape({allowAnyClick:y.default.bool,cancel:y.default.string,children:y.default.node,disabled:y.default.bool,enableUserSelectHack:y.default.bool,offsetParent:y.default.node,grid:y.default.arrayOf(y.default.number),handle:y.default.string,nodeRef:y.default.object,onStart:y.default.func,onDrag:y.default.func,onStop:y.default.func,onMouseDown:y.default.func,scale:y.default.number}),height:y.default.number.isRequired,handle:y.default.oneOfType([y.default.node,y.default.func]),handleSize:y.default.arrayOf(y.default.number),lockAspectRatio:y.default.bool,maxConstraints:y.default.arrayOf(y.default.number),minConstraints:y.default.arrayOf(y.default.number),onResizeStop:y.default.func,onResizeStart:y.default.func,onResize:y.default.func,resizeHandles:y.default.arrayOf(y.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:y.default.number,width:y.default.number.isRequired};W.resizableProps=_},459069:function(Ge,W,C){"use strict";W.__esModule=!0,W.cloneElement=P;var y=R(C(667294));function R(p){return p&&p.__esModule?p:{default:p}}function w(p,m){var S=Object.keys(p);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(p);m&&(E=E.filter(function(b){return Object.getOwnPropertyDescriptor(p,b).enumerable})),S.push.apply(S,E)}return S}function _(p){for(var m=1;m<arguments.length;m++){var S=arguments[m]!=null?arguments[m]:{};m%2?w(Object(S),!0).forEach(function(E){L(p,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(S)):w(Object(S)).forEach(function(E){Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(S,E))})}return p}function L(p,m,S){return m in p?Object.defineProperty(p,m,{value:S,enumerable:!0,configurable:!0,writable:!0}):p[m]=S,p}function P(p,m){return m.style&&p.props.style&&(m.style=_(_({},p.props.style),m.style)),m.className&&p.props.className&&(m.className=p.props.className+" "+m.className),y.default.cloneElement(p,m)}},101706:function(Ge,W,C){"use strict";Ge.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Ge.exports.Resizable=C(122827).default,Ge.exports.ResizableBox=C(808735).default},201314:function(Ge,W,C){"use strict";C.d(W,{cd:function(){return kt}});var y=C(487462),R=C(497326),w=C(894578),_=function(Zt,se){return Zt===se};function L($t,Zt){Zt===void 0&&(Zt=_);var se,Se=[],Pt,Fe=!1,vr=function(Ur,nn){return Zt(Ur,Se[nn])},Cr=function(){for(var Ur=arguments.length,nn=new Array(Ur),on=0;on<Ur;on++)nn[on]=arguments[on];return Fe&&se===this&&nn.length===Se.length&&nn.every(vr)||(Pt=$t.apply(this,nn),Fe=!0,se=this,Se=nn),Pt};return Cr}var P=L,p=C(667294),m=typeof performance=="object"&&typeof performance.now=="function",S=m?function(){return performance.now()}:function(){return Date.now()};function E($t){cancelAnimationFrame($t.id)}function b($t,Zt){var se=S();function Se(){S()-se>=Zt?$t.call(null):Pt.id=requestAnimationFrame(Se)}var Pt={id:requestAnimationFrame(Se)};return Pt}var A=-1;function x($t){if($t===void 0&&($t=!1),A===-1||$t){var Zt=document.createElement("div"),se=Zt.style;se.width="50px",se.height="50px",se.overflow="scroll",document.body.appendChild(Zt),A=Zt.offsetWidth-Zt.clientWidth,document.body.removeChild(Zt)}return A}var D=null;function k($t){if($t===void 0&&($t=!1),D===null||$t){var Zt=document.createElement("div"),se=Zt.style;se.width="50px",se.height="50px",se.overflow="scroll",se.direction="rtl";var Se=document.createElement("div"),Pt=Se.style;return Pt.width="100px",Pt.height="100px",Zt.appendChild(Se),document.body.appendChild(Zt),Zt.scrollLeft>0?D="positive-descending":(Zt.scrollLeft=1,Zt.scrollLeft===0?D="negative":D="positive-ascending"),document.body.removeChild(Zt),D}return D}var g=150,f=function(Zt){var se=Zt.columnIndex,Se=Zt.data,Pt=Zt.rowIndex;return Pt+":"+se},z=null,Y=null,U=null;function G($t){var Zt,se=$t.getColumnOffset,Se=$t.getColumnStartIndexForOffset,Pt=$t.getColumnStopIndexForStartIndex,Fe=$t.getColumnWidth,vr=$t.getEstimatedTotalHeight,Cr=$t.getEstimatedTotalWidth,_r=$t.getOffsetForColumnAndAlignment,Ur=$t.getOffsetForRowAndAlignment,nn=$t.getRowHeight,on=$t.getRowOffset,tr=$t.getRowStartIndexForOffset,Rr=$t.getRowStopIndexForStartIndex,qr=$t.initInstanceProps,br=$t.shouldResetStyleCacheOnItemSizeChange,zr=$t.validateProps;return Zt=function(Ir){(0,w.Z)(je,Ir);function je(xn){var rr;return rr=Ir.call(this,xn)||this,rr._instanceProps=qr(rr.props,(0,R.Z)(rr)),rr._resetIsScrollingTimeoutId=null,rr._outerRef=void 0,rr.state={instance:(0,R.Z)(rr),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof rr.props.initialScrollLeft=="number"?rr.props.initialScrollLeft:0,scrollTop:typeof rr.props.initialScrollTop=="number"?rr.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},rr._callOnItemsRendered=void 0,rr._callOnItemsRendered=P(function(jr,Nr,kn,an,dn,Sn,Dn,Nn){return rr.props.onItemsRendered({overscanColumnStartIndex:jr,overscanColumnStopIndex:Nr,overscanRowStartIndex:kn,overscanRowStopIndex:an,visibleColumnStartIndex:dn,visibleColumnStopIndex:Sn,visibleRowStartIndex:Dn,visibleRowStopIndex:Nn})}),rr._callOnScroll=void 0,rr._callOnScroll=P(function(jr,Nr,kn,an,dn){return rr.props.onScroll({horizontalScrollDirection:kn,scrollLeft:jr,scrollTop:Nr,verticalScrollDirection:an,scrollUpdateWasRequested:dn})}),rr._getItemStyle=void 0,rr._getItemStyle=function(jr,Nr){var kn=rr.props,an=kn.columnWidth,dn=kn.direction,Sn=kn.rowHeight,Dn=rr._getItemStyleCache(br&&an,br&&dn,br&&Sn),Nn=jr+":"+Nr,rt;if(Dn.hasOwnProperty(Nn))rt=Dn[Nn];else{var Xe=se(rr.props,Nr,rr._instanceProps),Xt=dn==="rtl";Dn[Nn]=rt={position:"absolute",left:Xt?void 0:Xe,right:Xt?Xe:void 0,top:on(rr.props,jr,rr._instanceProps),height:nn(rr.props,jr,rr._instanceProps),width:Fe(rr.props,Nr,rr._instanceProps)}}return rt},rr._getItemStyleCache=void 0,rr._getItemStyleCache=P(function(jr,Nr,kn){return{}}),rr._onScroll=function(jr){var Nr=jr.currentTarget,kn=Nr.clientHeight,an=Nr.clientWidth,dn=Nr.scrollLeft,Sn=Nr.scrollTop,Dn=Nr.scrollHeight,Nn=Nr.scrollWidth;rr.setState(function(rt){if(rt.scrollLeft===dn&&rt.scrollTop===Sn)return null;var Xe=rr.props.direction,Xt=dn;if(Xe==="rtl")switch(k()){case"negative":Xt=-dn;break;case"positive-descending":Xt=Nn-an-dn;break}Xt=Math.max(0,Math.min(Xt,Nn-an));var te=Math.max(0,Math.min(Sn,Dn-kn));return{isScrolling:!0,horizontalScrollDirection:rt.scrollLeft<dn?"forward":"backward",scrollLeft:Xt,scrollTop:te,verticalScrollDirection:rt.scrollTop<Sn?"forward":"backward",scrollUpdateWasRequested:!1}},rr._resetIsScrollingDebounced)},rr._outerRefSetter=function(jr){var Nr=rr.props.outerRef;rr._outerRef=jr,typeof Nr=="function"?Nr(jr):Nr!=null&&typeof Nr=="object"&&Nr.hasOwnProperty("current")&&(Nr.current=jr)},rr._resetIsScrollingDebounced=function(){rr._resetIsScrollingTimeoutId!==null&&E(rr._resetIsScrollingTimeoutId),rr._resetIsScrollingTimeoutId=b(rr._resetIsScrolling,g)},rr._resetIsScrolling=function(){rr._resetIsScrollingTimeoutId=null,rr.setState({isScrolling:!1},function(){rr._getItemStyleCache(-1)})},rr}je.getDerivedStateFromProps=function(rr,jr){return j(rr,jr),zr(rr),null};var qe=je.prototype;return qe.scrollTo=function(rr){var jr=rr.scrollLeft,Nr=rr.scrollTop;jr!==void 0&&(jr=Math.max(0,jr)),Nr!==void 0&&(Nr=Math.max(0,Nr)),this.setState(function(kn){return jr===void 0&&(jr=kn.scrollLeft),Nr===void 0&&(Nr=kn.scrollTop),kn.scrollLeft===jr&&kn.scrollTop===Nr?null:{horizontalScrollDirection:kn.scrollLeft<jr?"forward":"backward",scrollLeft:jr,scrollTop:Nr,scrollUpdateWasRequested:!0,verticalScrollDirection:kn.scrollTop<Nr?"forward":"backward"}},this._resetIsScrollingDebounced)},qe.scrollToItem=function(rr){var jr=rr.align,Nr=jr===void 0?"auto":jr,kn=rr.columnIndex,an=rr.rowIndex,dn=this.props,Sn=dn.columnCount,Dn=dn.height,Nn=dn.rowCount,rt=dn.width,Xe=this.state,Xt=Xe.scrollLeft,te=Xe.scrollTop,ot=x();kn!==void 0&&(kn=Math.max(0,Math.min(kn,Sn-1))),an!==void 0&&(an=Math.max(0,Math.min(an,Nn-1)));var Ft=vr(this.props,this._instanceProps),ft=Cr(this.props,this._instanceProps),Ut=ft>rt?ot:0,re=Ft>Dn?ot:0;this.scrollTo({scrollLeft:kn!==void 0?_r(this.props,kn,Nr,Xt,this._instanceProps,re):Xt,scrollTop:an!==void 0?Ur(this.props,an,Nr,te,this._instanceProps,Ut):te})},qe.componentDidMount=function(){var rr=this.props,jr=rr.initialScrollLeft,Nr=rr.initialScrollTop;if(this._outerRef!=null){var kn=this._outerRef;typeof jr=="number"&&(kn.scrollLeft=jr),typeof Nr=="number"&&(kn.scrollTop=Nr)}this._callPropsCallbacks()},qe.componentDidUpdate=function(){var rr=this.props.direction,jr=this.state,Nr=jr.scrollLeft,kn=jr.scrollTop,an=jr.scrollUpdateWasRequested;if(an&&this._outerRef!=null){var dn=this._outerRef;if(rr==="rtl")switch(k()){case"negative":dn.scrollLeft=-Nr;break;case"positive-ascending":dn.scrollLeft=Nr;break;default:var Sn=dn.clientWidth,Dn=dn.scrollWidth;dn.scrollLeft=Dn-Sn-Nr;break}else dn.scrollLeft=Math.max(0,Nr);dn.scrollTop=Math.max(0,kn)}this._callPropsCallbacks()},qe.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&E(this._resetIsScrollingTimeoutId)},qe.render=function(){var rr=this.props,jr=rr.children,Nr=rr.className,kn=rr.columnCount,an=rr.direction,dn=rr.height,Sn=rr.innerRef,Dn=rr.innerElementType,Nn=rr.innerTagName,rt=rr.itemData,Xe=rr.itemKey,Xt=Xe===void 0?f:Xe,te=rr.outerElementType,ot=rr.outerTagName,Ft=rr.rowCount,ft=rr.style,Ut=rr.useIsScrolling,re=rr.width,ae=this.state.isScrolling,at=this._getHorizontalRangeToRender(),ct=at[0],F=at[1],M=this._getVerticalRangeToRender(),O=M[0],$=M[1],mt=[];if(kn>0&&Ft)for(var zt=O;zt<=$;zt++)for(var Rt=ct;Rt<=F;Rt++)mt.push((0,p.createElement)(jr,{columnIndex:Rt,data:rt,isScrolling:Ut?ae:void 0,key:Xt({columnIndex:Rt,data:rt,rowIndex:zt}),rowIndex:zt,style:this._getItemStyle(zt,Rt)}));var Kt=vr(this.props,this._instanceProps),Te=Cr(this.props,this._instanceProps);return(0,p.createElement)(te||ot||"div",{className:Nr,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,y.Z)({position:"relative",height:dn,width:re,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:an},ft)},(0,p.createElement)(Dn||Nn||"div",{children:mt,ref:Sn,style:{height:Kt,pointerEvents:ae?"none":void 0,width:Te}}))},qe._callPropsCallbacks=function(){var rr=this.props,jr=rr.columnCount,Nr=rr.onItemsRendered,kn=rr.onScroll,an=rr.rowCount;if(typeof Nr=="function"&&jr>0&&an>0){var dn=this._getHorizontalRangeToRender(),Sn=dn[0],Dn=dn[1],Nn=dn[2],rt=dn[3],Xe=this._getVerticalRangeToRender(),Xt=Xe[0],te=Xe[1],ot=Xe[2],Ft=Xe[3];this._callOnItemsRendered(Sn,Dn,Xt,te,Nn,rt,ot,Ft)}if(typeof kn=="function"){var ft=this.state,Ut=ft.horizontalScrollDirection,re=ft.scrollLeft,ae=ft.scrollTop,at=ft.scrollUpdateWasRequested,ct=ft.verticalScrollDirection;this._callOnScroll(re,ae,Ut,ct,at)}},qe._getHorizontalRangeToRender=function(){var rr=this.props,jr=rr.columnCount,Nr=rr.overscanColumnCount,kn=rr.overscanColumnsCount,an=rr.overscanCount,dn=rr.rowCount,Sn=this.state,Dn=Sn.horizontalScrollDirection,Nn=Sn.isScrolling,rt=Sn.scrollLeft,Xe=Nr||kn||an||1;if(jr===0||dn===0)return[0,0,0,0];var Xt=Se(this.props,rt,this._instanceProps),te=Pt(this.props,Xt,rt,this._instanceProps),ot=!Nn||Dn==="backward"?Math.max(1,Xe):1,Ft=!Nn||Dn==="forward"?Math.max(1,Xe):1;return[Math.max(0,Xt-ot),Math.max(0,Math.min(jr-1,te+Ft)),Xt,te]},qe._getVerticalRangeToRender=function(){var rr=this.props,jr=rr.columnCount,Nr=rr.overscanCount,kn=rr.overscanRowCount,an=rr.overscanRowsCount,dn=rr.rowCount,Sn=this.state,Dn=Sn.isScrolling,Nn=Sn.verticalScrollDirection,rt=Sn.scrollTop,Xe=kn||an||Nr||1;if(jr===0||dn===0)return[0,0,0,0];var Xt=tr(this.props,rt,this._instanceProps),te=Rr(this.props,Xt,rt,this._instanceProps),ot=!Dn||Nn==="backward"?Math.max(1,Xe):1,Ft=!Dn||Nn==="forward"?Math.max(1,Xe):1;return[Math.max(0,Xt-ot),Math.max(0,Math.min(dn-1,te+Ft)),Xt,te]},je}(p.PureComponent),Zt.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},Zt}var j=function(Zt,se){var Se=Zt.children,Pt=Zt.direction,Fe=Zt.height,vr=Zt.innerTagName,Cr=Zt.outerTagName,_r=Zt.overscanColumnsCount,Ur=Zt.overscanCount,nn=Zt.overscanRowsCount,on=Zt.width,tr=se.instance},K=50,nt=function(Zt,se){var Se=Zt.rowCount,Pt=se.rowMetadataMap,Fe=se.estimatedRowHeight,vr=se.lastMeasuredRowIndex,Cr=0;if(vr>=Se&&(vr=Se-1),vr>=0){var _r=Pt[vr];Cr=_r.offset+_r.size}var Ur=Se-vr-1,nn=Ur*Fe;return Cr+nn},q=function(Zt,se){var Se=Zt.columnCount,Pt=se.columnMetadataMap,Fe=se.estimatedColumnWidth,vr=se.lastMeasuredColumnIndex,Cr=0;if(vr>=Se&&(vr=Se-1),vr>=0){var _r=Pt[vr];Cr=_r.offset+_r.size}var Ur=Se-vr-1,nn=Ur*Fe;return Cr+nn},J=function(Zt,se,Se,Pt){var Fe,vr,Cr;if(Zt==="column"?(Fe=Pt.columnMetadataMap,vr=se.columnWidth,Cr=Pt.lastMeasuredColumnIndex):(Fe=Pt.rowMetadataMap,vr=se.rowHeight,Cr=Pt.lastMeasuredRowIndex),Se>Cr){var _r=0;if(Cr>=0){var Ur=Fe[Cr];_r=Ur.offset+Ur.size}for(var nn=Cr+1;nn<=Se;nn++){var on=vr(nn);Fe[nn]={offset:_r,size:on},_r+=on}Zt==="column"?Pt.lastMeasuredColumnIndex=Se:Pt.lastMeasuredRowIndex=Se}return Fe[Se]},ut=function(Zt,se,Se,Pt){var Fe,vr;Zt==="column"?(Fe=Se.columnMetadataMap,vr=Se.lastMeasuredColumnIndex):(Fe=Se.rowMetadataMap,vr=Se.lastMeasuredRowIndex);var Cr=vr>0?Fe[vr].offset:0;return Cr>=Pt?st(Zt,se,Se,vr,0,Pt):bt(Zt,se,Se,Math.max(0,vr),Pt)},st=function(Zt,se,Se,Pt,Fe,vr){for(;Fe<=Pt;){var Cr=Fe+Math.floor((Pt-Fe)/2),_r=J(Zt,se,Cr,Se).offset;if(_r===vr)return Cr;_r<vr?Fe=Cr+1:_r>vr&&(Pt=Cr-1)}return Fe>0?Fe-1:0},bt=function(Zt,se,Se,Pt,Fe){for(var vr=Zt==="column"?se.columnCount:se.rowCount,Cr=1;Pt<vr&&J(Zt,se,Pt,Se).offset<Fe;)Pt+=Cr,Cr*=2;return st(Zt,se,Se,Math.min(Pt,vr-1),Math.floor(Pt/2),Fe)},ht=function(Zt,se,Se,Pt,Fe,vr,Cr){var _r=Zt==="column"?se.width:se.height,Ur=J(Zt,se,Se,vr),nn=Zt==="column"?q(se,vr):nt(se,vr),on=Math.max(0,Math.min(nn-_r,Ur.offset)),tr=Math.max(0,Ur.offset-_r+Cr+Ur.size);switch(Pt==="smart"&&(Fe>=tr-_r&&Fe<=on+_r?Pt="auto":Pt="center"),Pt){case"start":return on;case"end":return tr;case"center":return Math.round(tr+(on-tr)/2);case"auto":default:return Fe>=tr&&Fe<=on?Fe:tr>on||Fe<tr?tr:on}},kt=G({getColumnOffset:function(Zt,se,Se){return J("column",Zt,se,Se).offset},getColumnStartIndexForOffset:function(Zt,se,Se){return ut("column",Zt,Se,se)},getColumnStopIndexForStartIndex:function(Zt,se,Se,Pt){for(var Fe=Zt.columnCount,vr=Zt.width,Cr=J("column",Zt,se,Pt),_r=Se+vr,Ur=Cr.offset+Cr.size,nn=se;nn<Fe-1&&Ur<_r;)nn++,Ur+=J("column",Zt,nn,Pt).size;return nn},getColumnWidth:function(Zt,se,Se){return Se.columnMetadataMap[se].size},getEstimatedTotalHeight:nt,getEstimatedTotalWidth:q,getOffsetForColumnAndAlignment:function(Zt,se,Se,Pt,Fe,vr){return ht("column",Zt,se,Se,Pt,Fe,vr)},getOffsetForRowAndAlignment:function(Zt,se,Se,Pt,Fe,vr){return ht("row",Zt,se,Se,Pt,Fe,vr)},getRowOffset:function(Zt,se,Se){return J("row",Zt,se,Se).offset},getRowHeight:function(Zt,se,Se){return Se.rowMetadataMap[se].size},getRowStartIndexForOffset:function(Zt,se,Se){return ut("row",Zt,Se,se)},getRowStopIndexForStartIndex:function(Zt,se,Se,Pt){for(var Fe=Zt.rowCount,vr=Zt.height,Cr=J("row",Zt,se,Pt),_r=Se+vr,Ur=Cr.offset+Cr.size,nn=se;nn<Fe-1&&Ur<_r;)nn++,Ur+=J("row",Zt,nn,Pt).size;return nn},initInstanceProps:function(Zt,se){var Se=Zt,Pt=Se.estimatedColumnWidth,Fe=Se.estimatedRowHeight,vr={columnMetadataMap:{},estimatedColumnWidth:Pt||K,estimatedRowHeight:Fe||K,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return se.resetAfterColumnIndex=function(Cr,_r){_r===void 0&&(_r=!0),se.resetAfterIndices({columnIndex:Cr,shouldForceUpdate:_r})},se.resetAfterRowIndex=function(Cr,_r){_r===void 0&&(_r=!0),se.resetAfterIndices({rowIndex:Cr,shouldForceUpdate:_r})},se.resetAfterIndices=function(Cr){var _r=Cr.columnIndex,Ur=Cr.rowIndex,nn=Cr.shouldForceUpdate,on=nn===void 0?!0:nn;typeof _r=="number"&&(vr.lastMeasuredColumnIndex=Math.min(vr.lastMeasuredColumnIndex,_r-1)),typeof Ur=="number"&&(vr.lastMeasuredRowIndex=Math.min(vr.lastMeasuredRowIndex,Ur-1)),se._getItemStyleCache(-1),on&&se.forceUpdate()},vr},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(Zt){var se=Zt.columnWidth,Se=Zt.rowHeight}}),Mt=150,St=function(Zt,se){return Zt},V=null,Q=null;function xt($t){var Zt,se=$t.getItemOffset,Se=$t.getEstimatedTotalSize,Pt=$t.getItemSize,Fe=$t.getOffsetForIndexAndAlignment,vr=$t.getStartIndexForOffset,Cr=$t.getStopIndexForStartIndex,_r=$t.initInstanceProps,Ur=$t.shouldResetStyleCacheOnItemSizeChange,nn=$t.validateProps;return Zt=function(on){(0,w.Z)(tr,on);function tr(qr){var br;return br=on.call(this,qr)||this,br._instanceProps=_r(br.props,(0,R.Z)(br)),br._outerRef=void 0,br._resetIsScrollingTimeoutId=null,br.state={instance:(0,R.Z)(br),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof br.props.initialScrollOffset=="number"?br.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},br._callOnItemsRendered=void 0,br._callOnItemsRendered=P(function(zr,Ir,je,qe){return br.props.onItemsRendered({overscanStartIndex:zr,overscanStopIndex:Ir,visibleStartIndex:je,visibleStopIndex:qe})}),br._callOnScroll=void 0,br._callOnScroll=P(function(zr,Ir,je){return br.props.onScroll({scrollDirection:zr,scrollOffset:Ir,scrollUpdateWasRequested:je})}),br._getItemStyle=void 0,br._getItemStyle=function(zr){var Ir=br.props,je=Ir.direction,qe=Ir.itemSize,xn=Ir.layout,rr=br._getItemStyleCache(Ur&&qe,Ur&&xn,Ur&&je),jr;if(rr.hasOwnProperty(zr))jr=rr[zr];else{var Nr=se(br.props,zr,br._instanceProps),kn=Pt(br.props,zr,br._instanceProps),an=je==="horizontal"||xn==="horizontal",dn=je==="rtl",Sn=an?Nr:0;rr[zr]=jr={position:"absolute",left:dn?void 0:Sn,right:dn?Sn:void 0,top:an?0:Nr,height:an?"100%":kn,width:an?kn:"100%"}}return jr},br._getItemStyleCache=void 0,br._getItemStyleCache=P(function(zr,Ir,je){return{}}),br._onScrollHorizontal=function(zr){var Ir=zr.currentTarget,je=Ir.clientWidth,qe=Ir.scrollLeft,xn=Ir.scrollWidth;br.setState(function(rr){if(rr.scrollOffset===qe)return null;var jr=br.props.direction,Nr=qe;if(jr==="rtl")switch(k()){case"negative":Nr=-qe;break;case"positive-descending":Nr=xn-je-qe;break}return Nr=Math.max(0,Math.min(Nr,xn-je)),{isScrolling:!0,scrollDirection:rr.scrollOffset<qe?"forward":"backward",scrollOffset:Nr,scrollUpdateWasRequested:!1}},br._resetIsScrollingDebounced)},br._onScrollVertical=function(zr){var Ir=zr.currentTarget,je=Ir.clientHeight,qe=Ir.scrollHeight,xn=Ir.scrollTop;br.setState(function(rr){if(rr.scrollOffset===xn)return null;var jr=Math.max(0,Math.min(xn,qe-je));return{isScrolling:!0,scrollDirection:rr.scrollOffset<jr?"forward":"backward",scrollOffset:jr,scrollUpdateWasRequested:!1}},br._resetIsScrollingDebounced)},br._outerRefSetter=function(zr){var Ir=br.props.outerRef;br._outerRef=zr,typeof Ir=="function"?Ir(zr):Ir!=null&&typeof Ir=="object"&&Ir.hasOwnProperty("current")&&(Ir.current=zr)},br._resetIsScrollingDebounced=function(){br._resetIsScrollingTimeoutId!==null&&E(br._resetIsScrollingTimeoutId),br._resetIsScrollingTimeoutId=b(br._resetIsScrolling,Mt)},br._resetIsScrolling=function(){br._resetIsScrollingTimeoutId=null,br.setState({isScrolling:!1},function(){br._getItemStyleCache(-1,null)})},br}tr.getDerivedStateFromProps=function(br,zr){return Ct(br,zr),nn(br),null};var Rr=tr.prototype;return Rr.scrollTo=function(br){br=Math.max(0,br),this.setState(function(zr){return zr.scrollOffset===br?null:{scrollDirection:zr.scrollOffset<br?"forward":"backward",scrollOffset:br,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},Rr.scrollToItem=function(br,zr){zr===void 0&&(zr="auto");var Ir=this.props,je=Ir.itemCount,qe=Ir.layout,xn=this.state.scrollOffset;br=Math.max(0,Math.min(br,je-1));var rr=0;if(this._outerRef){var jr=this._outerRef;qe==="vertical"?rr=jr.scrollWidth>jr.clientWidth?x():0:rr=jr.scrollHeight>jr.clientHeight?x():0}this.scrollTo(Fe(this.props,br,zr,xn,this._instanceProps,rr))},Rr.componentDidMount=function(){var br=this.props,zr=br.direction,Ir=br.initialScrollOffset,je=br.layout;if(typeof Ir=="number"&&this._outerRef!=null){var qe=this._outerRef;zr==="horizontal"||je==="horizontal"?qe.scrollLeft=Ir:qe.scrollTop=Ir}this._callPropsCallbacks()},Rr.componentDidUpdate=function(){var br=this.props,zr=br.direction,Ir=br.layout,je=this.state,qe=je.scrollOffset,xn=je.scrollUpdateWasRequested;if(xn&&this._outerRef!=null){var rr=this._outerRef;if(zr==="horizontal"||Ir==="horizontal")if(zr==="rtl")switch(k()){case"negative":rr.scrollLeft=-qe;break;case"positive-ascending":rr.scrollLeft=qe;break;default:var jr=rr.clientWidth,Nr=rr.scrollWidth;rr.scrollLeft=Nr-jr-qe;break}else rr.scrollLeft=qe;else rr.scrollTop=qe}this._callPropsCallbacks()},Rr.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&E(this._resetIsScrollingTimeoutId)},Rr.render=function(){var br=this.props,zr=br.children,Ir=br.className,je=br.direction,qe=br.height,xn=br.innerRef,rr=br.innerElementType,jr=br.innerTagName,Nr=br.itemCount,kn=br.itemData,an=br.itemKey,dn=an===void 0?St:an,Sn=br.layout,Dn=br.outerElementType,Nn=br.outerTagName,rt=br.style,Xe=br.useIsScrolling,Xt=br.width,te=this.state.isScrolling,ot=je==="horizontal"||Sn==="horizontal",Ft=ot?this._onScrollHorizontal:this._onScrollVertical,ft=this._getRangeToRender(),Ut=ft[0],re=ft[1],ae=[];if(Nr>0)for(var at=Ut;at<=re;at++)ae.push((0,p.createElement)(zr,{data:kn,key:dn(at,kn),index:at,isScrolling:Xe?te:void 0,style:this._getItemStyle(at)}));var ct=Se(this.props,this._instanceProps);return(0,p.createElement)(Dn||Nn||"div",{className:Ir,onScroll:Ft,ref:this._outerRefSetter,style:(0,y.Z)({position:"relative",height:qe,width:Xt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:je},rt)},(0,p.createElement)(rr||jr||"div",{children:ae,ref:xn,style:{height:ot?"100%":ct,pointerEvents:te?"none":void 0,width:ot?ct:"100%"}}))},Rr._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var br=this.props.itemCount;if(br>0){var zr=this._getRangeToRender(),Ir=zr[0],je=zr[1],qe=zr[2],xn=zr[3];this._callOnItemsRendered(Ir,je,qe,xn)}}if(typeof this.props.onScroll=="function"){var rr=this.state,jr=rr.scrollDirection,Nr=rr.scrollOffset,kn=rr.scrollUpdateWasRequested;this._callOnScroll(jr,Nr,kn)}},Rr._getRangeToRender=function(){var br=this.props,zr=br.itemCount,Ir=br.overscanCount,je=this.state,qe=je.isScrolling,xn=je.scrollDirection,rr=je.scrollOffset;if(zr===0)return[0,0,0,0];var jr=vr(this.props,rr,this._instanceProps),Nr=Cr(this.props,jr,rr,this._instanceProps),kn=!qe||xn==="backward"?Math.max(1,Ir):1,an=!qe||xn==="forward"?Math.max(1,Ir):1;return[Math.max(0,jr-kn),Math.max(0,Math.min(zr-1,Nr+an)),jr,Nr]},tr}(p.PureComponent),Zt.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},Zt}var Ct=function(Zt,se){var Se=Zt.children,Pt=Zt.direction,Fe=Zt.height,vr=Zt.layout,Cr=Zt.innerTagName,_r=Zt.outerTagName,Ur=Zt.width,nn=se.instance;if(!1)var on},et=50,vt=function(Zt,se,Se){var Pt=Zt,Fe=Pt.itemSize,vr=Se.itemMetadataMap,Cr=Se.lastMeasuredIndex;if(se>Cr){var _r=0;if(Cr>=0){var Ur=vr[Cr];_r=Ur.offset+Ur.size}for(var nn=Cr+1;nn<=se;nn++){var on=Fe(nn);vr[nn]={offset:_r,size:on},_r+=on}Se.lastMeasuredIndex=se}return vr[se]},Tt=function(Zt,se,Se){var Pt=se.itemMetadataMap,Fe=se.lastMeasuredIndex,vr=Fe>0?Pt[Fe].offset:0;return vr>=Se?Ot(Zt,se,Fe,0,Se):Et(Zt,se,Math.max(0,Fe),Se)},Ot=function(Zt,se,Se,Pt,Fe){for(;Pt<=Se;){var vr=Pt+Math.floor((Se-Pt)/2),Cr=vt(Zt,vr,se).offset;if(Cr===Fe)return vr;Cr<Fe?Pt=vr+1:Cr>Fe&&(Se=vr-1)}return Pt>0?Pt-1:0},Et=function(Zt,se,Se,Pt){for(var Fe=Zt.itemCount,vr=1;Se<Fe&&vt(Zt,Se,se).offset<Pt;)Se+=vr,vr*=2;return Ot(Zt,se,Math.min(Se,Fe-1),Math.floor(Se/2),Pt)},Dt=function(Zt,se){var Se=Zt.itemCount,Pt=se.itemMetadataMap,Fe=se.estimatedItemSize,vr=se.lastMeasuredIndex,Cr=0;if(vr>=Se&&(vr=Se-1),vr>=0){var _r=Pt[vr];Cr=_r.offset+_r.size}var Ur=Se-vr-1,nn=Ur*Fe;return Cr+nn},Vt=xt({getItemOffset:function(Zt,se,Se){return vt(Zt,se,Se).offset},getItemSize:function(Zt,se,Se){return Se.itemMetadataMap[se].size},getEstimatedTotalSize:Dt,getOffsetForIndexAndAlignment:function(Zt,se,Se,Pt,Fe,vr){var Cr=Zt.direction,_r=Zt.height,Ur=Zt.layout,nn=Zt.width,on=Cr==="horizontal"||Ur==="horizontal",tr=on?nn:_r,Rr=vt(Zt,se,Fe),qr=Dt(Zt,Fe),br=Math.max(0,Math.min(qr-tr,Rr.offset)),zr=Math.max(0,Rr.offset-tr+Rr.size+vr);switch(Se==="smart"&&(Pt>=zr-tr&&Pt<=br+tr?Se="auto":Se="center"),Se){case"start":return br;case"end":return zr;case"center":return Math.round(zr+(br-zr)/2);case"auto":default:return Pt>=zr&&Pt<=br?Pt:Pt<zr?zr:br}},getStartIndexForOffset:function(Zt,se,Se){return Tt(Zt,Se,se)},getStopIndexForStartIndex:function(Zt,se,Se,Pt){for(var Fe=Zt.direction,vr=Zt.height,Cr=Zt.itemCount,_r=Zt.layout,Ur=Zt.width,nn=Fe==="horizontal"||_r==="horizontal",on=nn?Ur:vr,tr=vt(Zt,se,Pt),Rr=Se+on,qr=tr.offset+tr.size,br=se;br<Cr-1&&qr<Rr;)br++,qr+=vt(Zt,br,Pt).size;return br},initInstanceProps:function(Zt,se){var Se=Zt,Pt=Se.estimatedItemSize,Fe={itemMetadataMap:{},estimatedItemSize:Pt||et,lastMeasuredIndex:-1};return se.resetAfterIndex=function(vr,Cr){Cr===void 0&&(Cr=!0),Fe.lastMeasuredIndex=Math.min(Fe.lastMeasuredIndex,vr-1),se._getItemStyleCache(-1),Cr&&se.forceUpdate()},Fe},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(Zt){var se=Zt.itemSize}}),ue=G({getColumnOffset:function(Zt,se){var Se=Zt.columnWidth;return se*Se},getColumnWidth:function(Zt,se){var Se=Zt.columnWidth;return Se},getRowOffset:function(Zt,se){var Se=Zt.rowHeight;return se*Se},getRowHeight:function(Zt,se){var Se=Zt.rowHeight;return Se},getEstimatedTotalHeight:function(Zt){var se=Zt.rowCount,Se=Zt.rowHeight;return Se*se},getEstimatedTotalWidth:function(Zt){var se=Zt.columnCount,Se=Zt.columnWidth;return Se*se},getOffsetForColumnAndAlignment:function(Zt,se,Se,Pt,Fe,vr){var Cr=Zt.columnCount,_r=Zt.columnWidth,Ur=Zt.width,nn=Math.max(0,Cr*_r-Ur),on=Math.min(nn,se*_r),tr=Math.max(0,se*_r-Ur+vr+_r);switch(Se==="smart"&&(Pt>=tr-Ur&&Pt<=on+Ur?Se="auto":Se="center"),Se){case"start":return on;case"end":return tr;case"center":var Rr=Math.round(tr+(on-tr)/2);return Rr<Math.ceil(Ur/2)?0:Rr>nn+Math.floor(Ur/2)?nn:Rr;case"auto":default:return Pt>=tr&&Pt<=on?Pt:tr>on||Pt<tr?tr:on}},getOffsetForRowAndAlignment:function(Zt,se,Se,Pt,Fe,vr){var Cr=Zt.rowHeight,_r=Zt.height,Ur=Zt.rowCount,nn=Math.max(0,Ur*Cr-_r),on=Math.min(nn,se*Cr),tr=Math.max(0,se*Cr-_r+vr+Cr);switch(Se==="smart"&&(Pt>=tr-_r&&Pt<=on+_r?Se="auto":Se="center"),Se){case"start":return on;case"end":return tr;case"center":var Rr=Math.round(tr+(on-tr)/2);return Rr<Math.ceil(_r/2)?0:Rr>nn+Math.floor(_r/2)?nn:Rr;case"auto":default:return Pt>=tr&&Pt<=on?Pt:tr>on||Pt<tr?tr:on}},getColumnStartIndexForOffset:function(Zt,se){var Se=Zt.columnWidth,Pt=Zt.columnCount;return Math.max(0,Math.min(Pt-1,Math.floor(se/Se)))},getColumnStopIndexForStartIndex:function(Zt,se,Se){var Pt=Zt.columnWidth,Fe=Zt.columnCount,vr=Zt.width,Cr=se*Pt,_r=Math.ceil((vr+Se-Cr)/Pt);return Math.max(0,Math.min(Fe-1,se+_r-1))},getRowStartIndexForOffset:function(Zt,se){var Se=Zt.rowHeight,Pt=Zt.rowCount;return Math.max(0,Math.min(Pt-1,Math.floor(se/Se)))},getRowStopIndexForStartIndex:function(Zt,se,Se){var Pt=Zt.rowHeight,Fe=Zt.rowCount,vr=Zt.height,Cr=se*Pt,_r=Math.ceil((vr+Se-Cr)/Pt);return Math.max(0,Math.min(Fe-1,se+_r-1))},initInstanceProps:function(Zt){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(Zt){var se=Zt.columnWidth,Se=Zt.rowHeight}}),ee=xt({getItemOffset:function(Zt,se){var Se=Zt.itemSize;return se*Se},getItemSize:function(Zt,se){var Se=Zt.itemSize;return Se},getEstimatedTotalSize:function(Zt){var se=Zt.itemCount,Se=Zt.itemSize;return Se*se},getOffsetForIndexAndAlignment:function(Zt,se,Se,Pt,Fe,vr){var Cr=Zt.direction,_r=Zt.height,Ur=Zt.itemCount,nn=Zt.itemSize,on=Zt.layout,tr=Zt.width,Rr=Cr==="horizontal"||on==="horizontal",qr=Rr?tr:_r,br=Math.max(0,Ur*nn-qr),zr=Math.min(br,se*nn),Ir=Math.max(0,se*nn-qr+nn+vr);switch(Se==="smart"&&(Pt>=Ir-qr&&Pt<=zr+qr?Se="auto":Se="center"),Se){case"start":return zr;case"end":return Ir;case"center":{var je=Math.round(Ir+(zr-Ir)/2);return je<Math.ceil(qr/2)?0:je>br+Math.floor(qr/2)?br:je}case"auto":default:return Pt>=Ir&&Pt<=zr?Pt:Pt<Ir?Ir:zr}},getStartIndexForOffset:function(Zt,se){var Se=Zt.itemCount,Pt=Zt.itemSize;return Math.max(0,Math.min(Se-1,Math.floor(se/Pt)))},getStopIndexForStartIndex:function(Zt,se,Se){var Pt=Zt.direction,Fe=Zt.height,vr=Zt.itemCount,Cr=Zt.itemSize,_r=Zt.layout,Ur=Zt.width,nn=Pt==="horizontal"||_r==="horizontal",on=se*Cr,tr=nn?Ur:Fe,Rr=Math.ceil((tr+Se-on)/Cr);return Math.max(0,Math.min(vr-1,se+Rr-1))},initInstanceProps:function(Zt){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(Zt){var se=Zt.itemSize}});function It($t,Zt){for(var se in $t)if(!(se in Zt))return!0;for(var Se in Zt)if($t[Se]!==Zt[Se])return!0;return!1}var ne=null,pe=null;function Gt($t,Zt){var se=$t.style,Se=_objectWithoutPropertiesLoose($t,ne),Pt=Zt.style,Fe=_objectWithoutPropertiesLoose(Zt,pe);return!It(se,Pt)&&!It(Se,Fe)}function qt($t,Zt){return!Gt(this.props,$t)||It(this.state,Zt)}},481550:function(Ge){(function(W,C){Ge.exports=C()})(this,function(){"use strict";var W=function(Lt){return Lt instanceof Uint8Array||Lt instanceof Uint16Array||Lt instanceof Uint32Array||Lt instanceof Int8Array||Lt instanceof Int16Array||Lt instanceof Int32Array||Lt instanceof Float32Array||Lt instanceof Float64Array||Lt instanceof Uint8ClampedArray},C=function(Lt,we){for(var ze=Object.keys(we),Dr=0;Dr<ze.length;++Dr)Lt[ze[Dr]]=we[ze[Dr]];return Lt},y=`
`;function R(Lt){return typeof atob!="undefined"?atob(Lt):"base64:"+Lt}function w(Lt){var we=new Error("(regl) "+Lt);throw console.error(we),we}function _(Lt,we){Lt||w(we)}function L(Lt){return Lt?": "+Lt:""}function P(Lt,we,ze){Lt in we||w("unknown parameter ("+Lt+")"+L(ze)+". possible values: "+Object.keys(we).join())}function p(Lt,we){W(Lt)||w("invalid parameter type"+L(we)+". must be a typed array")}function m(Lt,we){switch(we){case"number":return typeof Lt=="number";case"object":return typeof Lt=="object";case"string":return typeof Lt=="string";case"boolean":return typeof Lt=="boolean";case"function":return typeof Lt=="function";case"undefined":return typeof Lt=="undefined";case"symbol":return typeof Lt=="symbol"}}function S(Lt,we,ze){m(Lt,we)||w("invalid parameter type"+L(ze)+". expected "+we+", got "+typeof Lt)}function E(Lt,we){Lt>=0&&(Lt|0)===Lt||w("invalid parameter type, ("+Lt+")"+L(we)+". must be a nonnegative integer")}function b(Lt,we,ze){we.indexOf(Lt)<0&&w("invalid value"+L(ze)+". must be one of: "+we)}var A=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function x(Lt){Object.keys(Lt).forEach(function(we){A.indexOf(we)<0&&w('invalid regl constructor argument "'+we+'". must be one of '+A)})}function D(Lt,we){for(Lt=Lt+"";Lt.length<we;)Lt=" "+Lt;return Lt}function k(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function g(Lt,we){this.number=Lt,this.line=we,this.errors=[]}function f(Lt,we,ze){this.file=Lt,this.line=we,this.message=ze}function z(){var Lt=new Error,we=(Lt.stack||Lt).toString(),ze=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(we);if(ze)return ze[1];var Dr=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(we);return Dr?Dr[1]:"unknown"}function Y(){var Lt=new Error,we=(Lt.stack||Lt).toString(),ze=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(we);if(ze)return ze[1];var Dr=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(we);return Dr?Dr[1]:"unknown"}function U(Lt,we){var ze=Lt.split(`
`),Dr=1,Jr=0,Ar={unknown:new k,0:new k};Ar.unknown.name=Ar[0].name=we||z(),Ar.unknown.lines.push(new g(0,""));for(var Gr=0;Gr<ze.length;++Gr){var vn=ze[Gr],mn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(vn);if(mn)switch(mn[1]){case"line":var En=/(\d+)(\s+\d+)?/.exec(mn[2]);En&&(Dr=En[1]|0,En[2]&&(Jr=En[2]|0,Jr in Ar||(Ar[Jr]=new k)));break;case"define":var yn=/SHADER_NAME(_B64)?\s+(.*)$/.exec(mn[2]);yn&&(Ar[Jr].name=yn[1]?R(yn[2]):yn[2]);break}Ar[Jr].lines.push(new g(Dr++,vn))}return Object.keys(Ar).forEach(function(_n){var v=Ar[_n];v.lines.forEach(function(N){v.index[N.number]=N})}),Ar}function G(Lt){var we=[];return Lt.split(`
`).forEach(function(ze){if(!(ze.length<5)){var Dr=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(ze);Dr?we.push(new f(Dr[1]|0,Dr[2]|0,Dr[3].trim())):ze.length>0&&we.push(new f("unknown",0,ze))}}),we}function j(Lt,we){we.forEach(function(ze){var Dr=Lt[ze.file];if(Dr){var Jr=Dr.index[ze.line];if(Jr){Jr.errors.push(ze),Dr.hasErrors=!0;return}}Lt.unknown.hasErrors=!0,Lt.unknown.lines[0].errors.push(ze)})}function K(Lt,we,ze,Dr,Jr){if(!Lt.getShaderParameter(we,Lt.COMPILE_STATUS)){var Ar=Lt.getShaderInfoLog(we),Gr=Dr===Lt.FRAGMENT_SHADER?"fragment":"vertex";ht(ze,"string",Gr+" shader source must be a string",Jr);var vn=U(ze,Jr),mn=G(Ar);j(vn,mn),Object.keys(vn).forEach(function(En){var yn=vn[En];if(!yn.hasErrors)return;var _n=[""],v=[""];function N(Z,it){_n.push(Z),v.push(it||"")}N("file number "+En+": "+yn.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),yn.lines.forEach(function(Z){if(Z.errors.length>0){N(D(Z.number,4)+"|  ","background-color:yellow; font-weight:bold"),N(Z.line+y,"color:red; background-color:yellow; font-weight:bold");var it=0;Z.errors.forEach(function(pt){var yt=pt.message,At=/^\s*'(.*)'\s*:\s*(.*)$/.exec(yt);if(At){var Nt=At[1];switch(yt=At[2],Nt){case"assign":Nt="=";break}it=Math.max(Z.line.indexOf(Nt,it),0)}else it=0;N(D("| ",6)),N(D("^^^",it+3)+y,"font-weight:bold"),N(D("| ",6)),N(yt+y,"font-weight:bold")}),N(D("| ",6)+y)}else N(D(Z.number,4)+"|  "),N(Z.line+y,"color:red")}),typeof document!="undefined"&&!window.chrome?(v[0]=_n.join("%c"),console.log.apply(console,v)):console.log(_n.join(""))}),_.raise("Error compiling "+Gr+" shader, "+vn[0].name)}}function nt(Lt,we,ze,Dr,Jr){if(!Lt.getProgramParameter(we,Lt.LINK_STATUS)){var Ar=Lt.getProgramInfoLog(we),Gr=U(ze,Jr),vn=U(Dr,Jr),mn='Error linking program with vertex shader, "'+vn[0].name+'", and fragment shader "'+Gr[0].name+'"';typeof document!="undefined"?console.log("%c"+mn+y+"%c"+Ar,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(mn+y+Ar),_.raise(mn)}}function q(Lt){Lt._commandRef=z()}function J(Lt,we,ze,Dr){q(Lt);function Jr(mn){return mn?Dr.id(mn):0}Lt._fragId=Jr(Lt.static.frag),Lt._vertId=Jr(Lt.static.vert);function Ar(mn,En){Object.keys(En).forEach(function(yn){mn[Dr.id(yn)]=!0})}var Gr=Lt._uniformSet={};Ar(Gr,we.static),Ar(Gr,we.dynamic);var vn=Lt._attributeSet={};Ar(vn,ze.static),Ar(vn,ze.dynamic),Lt._hasCount="count"in Lt.static||"count"in Lt.dynamic||"elements"in Lt.static||"elements"in Lt.dynamic}function ut(Lt,we){var ze=Y();w(Lt+" in command "+(we||z())+(ze==="unknown"?"":" called from "+ze))}function st(Lt,we,ze){Lt||ut(we,ze||z())}function bt(Lt,we,ze,Dr){Lt in we||ut("unknown parameter ("+Lt+")"+L(ze)+". possible values: "+Object.keys(we).join(),Dr||z())}function ht(Lt,we,ze,Dr){m(Lt,we)||ut("invalid parameter type"+L(ze)+". expected "+we+", got "+typeof Lt,Dr||z())}function kt(Lt){Lt()}function Mt(Lt,we,ze){Lt.texture?b(Lt.texture._texture.internalformat,we,"unsupported texture format for attachment"):b(Lt.renderbuffer._renderbuffer.format,ze,"unsupported renderbuffer format for attachment")}var St=33071,V=9728,Q=9984,xt=9985,Ct=9986,et=9987,vt=5120,Tt=5121,Ot=5122,Et=5123,Dt=5124,Vt=5125,ue=5126,ee=32819,It=32820,ne=33635,pe=34042,Gt=36193,qt={};qt[vt]=qt[Tt]=1,qt[Ot]=qt[Et]=qt[Gt]=qt[ne]=qt[ee]=qt[It]=2,qt[Dt]=qt[Vt]=qt[ue]=qt[pe]=4;function $t(Lt,we){return Lt===It||Lt===ee||Lt===ne?2:Lt===pe?4:qt[Lt]*we}function Zt(Lt){return!(Lt&Lt-1)&&!!Lt}function se(Lt,we,ze){var Dr,Jr=we.width,Ar=we.height,Gr=we.channels;_(Jr>0&&Jr<=ze.maxTextureSize&&Ar>0&&Ar<=ze.maxTextureSize,"invalid texture shape"),(Lt.wrapS!==St||Lt.wrapT!==St)&&_(Zt(Jr)&&Zt(Ar),"incompatible wrap mode for texture, both width and height must be power of 2"),we.mipmask===1?Jr!==1&&Ar!==1&&_(Lt.minFilter!==Q&&Lt.minFilter!==Ct&&Lt.minFilter!==xt&&Lt.minFilter!==et,"min filter requires mipmap"):(_(Zt(Jr)&&Zt(Ar),"texture must be a square power of 2 to support mipmapping"),_(we.mipmask===(Jr<<1)-1,"missing or incomplete mipmap data")),we.type===ue&&(ze.extensions.indexOf("oes_texture_float_linear")<0&&_(Lt.minFilter===V&&Lt.magFilter===V,"filter not supported, must enable oes_texture_float_linear"),_(!Lt.genMipmaps,"mipmap generation not supported with float textures"));var vn=we.images;for(Dr=0;Dr<16;++Dr)if(vn[Dr]){var mn=Jr>>Dr,En=Ar>>Dr;_(we.mipmask&1<<Dr,"missing mipmap data");var yn=vn[Dr];if(_(yn.width===mn&&yn.height===En,"invalid shape for mip images"),_(yn.format===we.format&&yn.internalformat===we.internalformat&&yn.type===we.type,"incompatible type for mip image"),!yn.compressed)if(yn.data){var _n=Math.ceil($t(yn.type,Gr)*mn/yn.unpackAlignment)*yn.unpackAlignment;_(yn.data.byteLength===_n*En,"invalid data for image, buffer size is inconsistent with image format")}else yn.element||yn.copy}else Lt.genMipmaps||_((we.mipmask&1<<Dr)===0,"extra mipmap data");we.compressed&&_(!Lt.genMipmaps,"mipmap generation for compressed images not supported")}function Se(Lt,we,ze,Dr){var Jr=Lt.width,Ar=Lt.height,Gr=Lt.channels;_(Jr>0&&Jr<=Dr.maxTextureSize&&Ar>0&&Ar<=Dr.maxTextureSize,"invalid texture shape"),_(Jr===Ar,"cube map must be square"),_(we.wrapS===St&&we.wrapT===St,"wrap mode not supported by cube map");for(var vn=0;vn<ze.length;++vn){var mn=ze[vn];_(mn.width===Jr&&mn.height===Ar,"inconsistent cube map face shape"),we.genMipmaps&&(_(!mn.compressed,"can not generate mipmap for compressed textures"),_(mn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var En=mn.images,yn=0;yn<16;++yn){var _n=En[yn];if(_n){var v=Jr>>yn,N=Ar>>yn;_(mn.mipmask&1<<yn,"missing mipmap data"),_(_n.width===v&&_n.height===N,"invalid shape for mip images"),_(_n.format===Lt.format&&_n.internalformat===Lt.internalformat&&_n.type===Lt.type,"incompatible type for mip image"),_n.compressed||(_n.data?_(_n.data.byteLength===v*N*Math.max($t(_n.type,Gr),_n.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):_n.element||_n.copy)}}}}var Pt=C(_,{optional:kt,raise:w,commandRaise:ut,command:st,parameter:P,commandParameter:bt,constructor:x,type:S,commandType:ht,isTypedArray:p,nni:E,oneOf:b,shaderError:K,linkError:nt,callSite:Y,saveCommandRef:q,saveDrawInfo:J,framebufferFormat:Mt,guessCommand:z,texture2D:se,textureCube:Se}),Fe=0,vr=0,Cr=5,_r=6;function Ur(Lt,we){this.id=Fe++,this.type=Lt,this.data=we}function nn(Lt){return Lt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function on(Lt){if(Lt.length===0)return[];var we=Lt.charAt(0),ze=Lt.charAt(Lt.length-1);if(Lt.length>1&&we===ze&&(we==='"'||we==="'"))return['"'+nn(Lt.substr(1,Lt.length-2))+'"'];var Dr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Lt);if(Dr)return on(Lt.substr(0,Dr.index)).concat(on(Dr[1])).concat(on(Lt.substr(Dr.index+Dr[0].length)));var Jr=Lt.split(".");if(Jr.length===1)return['"'+nn(Lt)+'"'];for(var Ar=[],Gr=0;Gr<Jr.length;++Gr)Ar=Ar.concat(on(Jr[Gr]));return Ar}function tr(Lt){return"["+on(Lt).join("][")+"]"}function Rr(Lt,we){return new Ur(Lt,tr(we+""))}function qr(Lt){return typeof Lt=="function"&&!Lt._reglType||Lt instanceof Ur}function br(Lt,we){if(typeof Lt=="function")return new Ur(vr,Lt);if(typeof Lt=="number"||typeof Lt=="boolean")return new Ur(Cr,Lt);if(Array.isArray(Lt))return new Ur(_r,Lt.map((ze,Dr)=>br(ze,we+"["+Dr+"]")));if(Lt instanceof Ur)return Lt;Pt(!1,"invalid option type in uniform "+we)}var zr={DynamicVariable:Ur,define:Rr,isDynamic:qr,unbox:br,accessor:tr},Ir={next:typeof requestAnimationFrame=="function"?function(Lt){return requestAnimationFrame(Lt)}:function(Lt){return setTimeout(Lt,16)},cancel:typeof cancelAnimationFrame=="function"?function(Lt){return cancelAnimationFrame(Lt)}:clearTimeout},je=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function qe(){var Lt={"":0},we=[""];return{id:function(ze){var Dr=Lt[ze];return Dr||(Dr=Lt[ze]=we.length,we.push(ze),Dr)},str:function(ze){return we[ze]}}}function xn(Lt,we,ze){var Dr=document.createElement("canvas");C(Dr.style,{border:0,margin:0,padding:0,top:0,left:0}),Lt.appendChild(Dr),Lt===document.body&&(Dr.style.position="absolute",C(Lt.style,{margin:0,padding:0}));function Jr(){var vn=window.innerWidth,mn=window.innerHeight;if(Lt!==document.body){var En=Lt.getBoundingClientRect();vn=En.right-En.left,mn=En.bottom-En.top}Dr.width=ze*vn,Dr.height=ze*mn,C(Dr.style,{width:vn+"px",height:mn+"px"})}var Ar;Lt!==document.body&&typeof ResizeObserver=="function"?(Ar=new ResizeObserver(function(){setTimeout(Jr)}),Ar.observe(Lt)):window.addEventListener("resize",Jr,!1);function Gr(){Ar?Ar.disconnect():window.removeEventListener("resize",Jr),Lt.removeChild(Dr)}return Jr(),{canvas:Dr,onDestroy:Gr}}function rr(Lt,we){function ze(Dr){try{return Lt.getContext(Dr,we)}catch(Jr){return null}}return ze("webgl")||ze("experimental-webgl")||ze("webgl-experimental")}function jr(Lt){return typeof Lt.nodeName=="string"&&typeof Lt.appendChild=="function"&&typeof Lt.getBoundingClientRect=="function"}function Nr(Lt){return typeof Lt.drawArrays=="function"||typeof Lt.drawElements=="function"}function kn(Lt){return typeof Lt=="string"?Lt.split():(Pt(Array.isArray(Lt),"invalid extension array"),Lt)}function an(Lt){return typeof Lt=="string"?(Pt(typeof document!="undefined","not supported outside of DOM"),document.querySelector(Lt)):Lt}function dn(Lt){var we=Lt||{},ze,Dr,Jr,Ar,Gr={},vn=[],mn=[],En=typeof window=="undefined"?1:window.devicePixelRatio,yn=!1,_n=function(Z){Z&&Pt.raise(Z)},v=function(){};if(typeof we=="string"?(Pt(typeof document!="undefined","selector queries only supported in DOM enviroments"),ze=document.querySelector(we),Pt(ze,"invalid query string for element")):typeof we=="object"?jr(we)?ze=we:Nr(we)?(Ar=we,Jr=Ar.canvas):(Pt.constructor(we),"gl"in we?Ar=we.gl:"canvas"in we?Jr=an(we.canvas):"container"in we&&(Dr=an(we.container)),"attributes"in we&&(Gr=we.attributes,Pt.type(Gr,"object","invalid context attributes")),"extensions"in we&&(vn=kn(we.extensions)),"optionalExtensions"in we&&(mn=kn(we.optionalExtensions)),"onDone"in we&&(Pt.type(we.onDone,"function","invalid or missing onDone callback"),_n=we.onDone),"profile"in we&&(yn=!!we.profile),"pixelRatio"in we&&(En=+we.pixelRatio,Pt(En>0,"invalid pixel ratio"))):Pt.raise("invalid arguments to regl"),ze&&(ze.nodeName.toLowerCase()==="canvas"?Jr=ze:Dr=ze),!Ar){if(!Jr){Pt(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var N=xn(Dr||document.body,_n,En);if(!N)return null;Jr=N.canvas,v=N.onDestroy}Gr.premultipliedAlpha===void 0&&(Gr.premultipliedAlpha=!0),Ar=rr(Jr,Gr)}return Ar?{gl:Ar,canvas:Jr,container:Dr,extensions:vn,optionalExtensions:mn,pixelRatio:En,profile:yn,onDone:_n,onDestroy:v}:(v(),_n("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Sn(Lt,we){var ze={};function Dr(Gr){Pt.type(Gr,"string","extension name must be string");var vn=Gr.toLowerCase(),mn;try{mn=ze[vn]=Lt.getExtension(vn)}catch(En){}return!!mn}for(var Jr=0;Jr<we.extensions.length;++Jr){var Ar=we.extensions[Jr];if(!Dr(Ar))return we.onDestroy(),we.onDone('"'+Ar+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return we.optionalExtensions.forEach(Dr),{extensions:ze,restore:function(){Object.keys(ze).forEach(function(Gr){if(ze[Gr]&&!Dr(Gr))throw new Error("(regl): error restoring extension "+Gr)})}}}function Dn(Lt,we){for(var ze=Array(Lt),Dr=0;Dr<Lt;++Dr)ze[Dr]=we(Dr);return ze}var Nn=5120,rt=5121,Xe=5122,Xt=5123,te=5124,ot=5125,Ft=5126;function ft(Lt){for(var we=16;we<=1<<28;we*=16)if(Lt<=we)return we;return 0}function Ut(Lt){var we,ze;return we=(Lt>65535)<<4,Lt>>>=we,ze=(Lt>255)<<3,Lt>>>=ze,we|=ze,ze=(Lt>15)<<2,Lt>>>=ze,we|=ze,ze=(Lt>3)<<1,Lt>>>=ze,we|=ze,we|Lt>>1}function re(){var Lt=Dn(8,function(){return[]});function we(Ar){var Gr=ft(Ar),vn=Lt[Ut(Gr)>>2];return vn.length>0?vn.pop():new ArrayBuffer(Gr)}function ze(Ar){Lt[Ut(Ar.byteLength)>>2].push(Ar)}function Dr(Ar,Gr){var vn=null;switch(Ar){case Nn:vn=new Int8Array(we(Gr),0,Gr);break;case rt:vn=new Uint8Array(we(Gr),0,Gr);break;case Xe:vn=new Int16Array(we(2*Gr),0,Gr);break;case Xt:vn=new Uint16Array(we(2*Gr),0,Gr);break;case te:vn=new Int32Array(we(4*Gr),0,Gr);break;case ot:vn=new Uint32Array(we(4*Gr),0,Gr);break;case Ft:vn=new Float32Array(we(4*Gr),0,Gr);break;default:return null}return vn.length!==Gr?vn.subarray(0,Gr):vn}function Jr(Ar){ze(Ar.buffer)}return{alloc:we,free:ze,allocType:Dr,freeType:Jr}}var ae=re();ae.zero=re();var at=3408,ct=3410,F=3411,M=3412,O=3413,$=3414,mt=3415,zt=33901,Rt=33902,Kt=3379,Te=3386,be=34921,We=36347,fr=36348,He=35661,Pr=35660,un=34930,Ue=36349,ur=34076,Lr=34024,Or=7936,ce=7937,Yt=7938,he=35724,Me=34047,ye=36063,Ne=34852,nr=3553,cr=34067,rn=34069,An=33984,ln=6408,Yn=5126,sn=5121,Bn=36160,Jn=36053,sa=36064,qn=16384,Za=function(Lt,we){var ze=1;we.ext_texture_filter_anisotropic&&(ze=Lt.getParameter(Me));var Dr=1,Jr=1;we.webgl_draw_buffers&&(Dr=Lt.getParameter(Ne),Jr=Lt.getParameter(ye));var Ar=!!we.oes_texture_float;if(Ar){var Gr=Lt.createTexture();Lt.bindTexture(nr,Gr),Lt.texImage2D(nr,0,ln,1,1,0,ln,Yn,null);var vn=Lt.createFramebuffer();if(Lt.bindFramebuffer(Bn,vn),Lt.framebufferTexture2D(Bn,sa,nr,Gr,0),Lt.bindTexture(nr,null),Lt.checkFramebufferStatus(Bn)!==Jn)Ar=!1;else{Lt.viewport(0,0,1,1),Lt.clearColor(1,0,0,1),Lt.clear(qn);var mn=ae.allocType(Yn,4);Lt.readPixels(0,0,1,1,ln,Yn,mn),Lt.getError()?Ar=!1:(Lt.deleteFramebuffer(vn),Lt.deleteTexture(Gr),Ar=mn[0]===1),ae.freeType(mn)}}var En=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),yn=!0;if(!En){var _n=Lt.createTexture(),v=ae.allocType(sn,36);Lt.activeTexture(An),Lt.bindTexture(cr,_n),Lt.texImage2D(rn,0,ln,3,3,0,ln,sn,v),ae.freeType(v),Lt.bindTexture(cr,null),Lt.deleteTexture(_n),yn=!Lt.getError()}return{colorBits:[Lt.getParameter(ct),Lt.getParameter(F),Lt.getParameter(M),Lt.getParameter(O)],depthBits:Lt.getParameter($),stencilBits:Lt.getParameter(mt),subpixelBits:Lt.getParameter(at),extensions:Object.keys(we).filter(function(N){return!!we[N]}),maxAnisotropic:ze,maxDrawbuffers:Dr,maxColorAttachments:Jr,pointSizeDims:Lt.getParameter(zt),lineWidthDims:Lt.getParameter(Rt),maxViewportDims:Lt.getParameter(Te),maxCombinedTextureUnits:Lt.getParameter(He),maxCubeMapSize:Lt.getParameter(ur),maxRenderbufferSize:Lt.getParameter(Lr),maxTextureUnits:Lt.getParameter(un),maxTextureSize:Lt.getParameter(Kt),maxAttributes:Lt.getParameter(be),maxVertexUniforms:Lt.getParameter(We),maxVertexTextureUnits:Lt.getParameter(Pr),maxVaryingVectors:Lt.getParameter(fr),maxFragmentUniforms:Lt.getParameter(Ue),glsl:Lt.getParameter(he),renderer:Lt.getParameter(ce),vendor:Lt.getParameter(Or),version:Lt.getParameter(Yt),readFloat:Ar,npotTextureCube:yn}};function za(Lt){return!!Lt&&typeof Lt=="object"&&Array.isArray(Lt.shape)&&Array.isArray(Lt.stride)&&typeof Lt.offset=="number"&&Lt.shape.length===Lt.stride.length&&(Array.isArray(Lt.data)||W(Lt.data))}var xa=function(Lt){return Object.keys(Lt).map(function(we){return Lt[we]})},Ei={shape:so,flatten:Ri};function _o(Lt,we,ze){for(var Dr=0;Dr<we;++Dr)ze[Dr]=Lt[Dr]}function Mi(Lt,we,ze,Dr){for(var Jr=0,Ar=0;Ar<we;++Ar)for(var Gr=Lt[Ar],vn=0;vn<ze;++vn)Dr[Jr++]=Gr[vn]}function Ti(Lt,we,ze,Dr,Jr,Ar){for(var Gr=Ar,vn=0;vn<we;++vn)for(var mn=Lt[vn],En=0;En<ze;++En)for(var yn=mn[En],_n=0;_n<Dr;++_n)Jr[Gr++]=yn[_n]}function ga(Lt,we,ze,Dr,Jr){for(var Ar=1,Gr=ze+1;Gr<we.length;++Gr)Ar*=we[Gr];var vn=we[ze];if(we.length-ze===4){var mn=we[ze+1],En=we[ze+2],yn=we[ze+3];for(Gr=0;Gr<vn;++Gr)Ti(Lt[Gr],mn,En,yn,Dr,Jr),Jr+=Ar}else for(Gr=0;Gr<vn;++Gr)ga(Lt[Gr],we,ze+1,Dr,Jr),Jr+=Ar}function Ri(Lt,we,ze,Dr){var Jr=1;if(we.length)for(var Ar=0;Ar<we.length;++Ar)Jr*=we[Ar];else Jr=0;var Gr=Dr||ae.allocType(ze,Jr);switch(we.length){case 0:break;case 1:_o(Lt,we[0],Gr);break;case 2:Mi(Lt,we[0],we[1],Gr);break;case 3:Ti(Lt,we[0],we[1],we[2],Gr,0);break;default:ga(Lt,we,0,Gr,0)}return Gr}function so(Lt){for(var we=[],ze=Lt;ze.length;ze=ze[0])we.push(ze.length);return we}var Ba={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Zi=5120,Fo=5122,uo=5124,oi=5121,Li=5123,Gi=5125,Zo=5126,si=5126,Ai={int8:Zi,int16:Fo,int32:uo,uint8:oi,uint16:Li,uint32:Gi,float:Zo,float32:si},Qn=35048,Jt=35040,fe={dynamic:Qn,stream:Jt,static:35044},Pe=Ei.flatten,ar=Ei.shape,Tr=35044,Sr=35040,xr=5121,Kr=5126,cn=[];cn[5120]=1,cn[5122]=2,cn[5124]=4,cn[5121]=1,cn[5123]=2,cn[5125]=4,cn[5126]=4;function Mn(Lt){return Ba[Object.prototype.toString.call(Lt)]|0}function Zn(Lt,we){for(var ze=0;ze<we.length;++ze)Lt[ze]=we[ze]}function Un(Lt,we,ze,Dr,Jr,Ar,Gr){for(var vn=0,mn=0;mn<ze;++mn)for(var En=0;En<Dr;++En)Lt[vn++]=we[Jr*mn+Ar*En+Gr]}function na(Lt,we,ze,Dr){var Jr=0,Ar={};function Gr(it){this.id=Jr++,this.buffer=Lt.createBuffer(),this.type=it,this.usage=Tr,this.byteLength=0,this.dimension=1,this.dtype=xr,this.persistentData=null,ze.profile&&(this.stats={size:0})}Gr.prototype.bind=function(){Lt.bindBuffer(this.type,this.buffer)},Gr.prototype.destroy=function(){v(this)};var vn=[];function mn(it,pt){var yt=vn.pop();return yt||(yt=new Gr(it)),yt.bind(),_n(yt,pt,Sr,0,1,!1),yt}function En(it){vn.push(it)}function yn(it,pt,yt){it.byteLength=pt.byteLength,Lt.bufferData(it.type,pt,yt)}function _n(it,pt,yt,At,Nt,jt){var le;if(it.usage=yt,Array.isArray(pt)){if(it.dtype=At||Kr,pt.length>0){var xe;if(Array.isArray(pt[0])){le=ar(pt);for(var ge=1,Be=1;Be<le.length;++Be)ge*=le[Be];it.dimension=ge,xe=Pe(pt,le,it.dtype),yn(it,xe,yt),jt?it.persistentData=xe:ae.freeType(xe)}else if(typeof pt[0]=="number"){it.dimension=Nt;var ir=ae.allocType(it.dtype,pt.length);Zn(ir,pt),yn(it,ir,yt),jt?it.persistentData=ir:ae.freeType(ir)}else W(pt[0])?(it.dimension=pt[0].length,it.dtype=At||Mn(pt[0])||Kr,xe=Pe(pt,[pt.length,pt[0].length],it.dtype),yn(it,xe,yt),jt?it.persistentData=xe:ae.freeType(xe)):Pt.raise("invalid buffer data")}}else if(W(pt))it.dtype=At||Mn(pt),it.dimension=Nt,yn(it,pt,yt),jt&&(it.persistentData=new Uint8Array(new Uint8Array(pt.buffer)));else if(za(pt)){le=pt.shape;var Yr=pt.stride,dr=pt.offset,pr=0,gr=0,bn=0,Ln=0;le.length===1?(pr=le[0],gr=1,bn=Yr[0],Ln=0):le.length===2?(pr=le[0],gr=le[1],bn=Yr[0],Ln=Yr[1]):Pt.raise("invalid shape"),it.dtype=At||Mn(pt.data)||Kr,it.dimension=gr;var Cn=ae.allocType(it.dtype,pr*gr);Un(Cn,pt.data,pr,gr,bn,Ln,dr),yn(it,Cn,yt),jt?it.persistentData=Cn:ae.freeType(Cn)}else pt instanceof ArrayBuffer?(it.dtype=xr,it.dimension=Nt,yn(it,pt,yt),jt&&(it.persistentData=new Uint8Array(new Uint8Array(pt)))):Pt.raise("invalid buffer data")}function v(it){we.bufferCount--,Dr(it);var pt=it.buffer;Pt(pt,"buffer must not be deleted already"),Lt.deleteBuffer(pt),it.buffer=null,delete Ar[it.id]}function N(it,pt,yt,At){we.bufferCount++;var Nt=new Gr(pt);Ar[Nt.id]=Nt;function jt(ge){var Be=Tr,ir=null,Yr=0,dr=0,pr=1;return Array.isArray(ge)||W(ge)||za(ge)||ge instanceof ArrayBuffer?ir=ge:typeof ge=="number"?Yr=ge|0:ge&&(Pt.type(ge,"object","buffer arguments must be an object, a number or an array"),"data"in ge&&(Pt(ir===null||Array.isArray(ir)||W(ir)||za(ir),"invalid data for buffer"),ir=ge.data),"usage"in ge&&(Pt.parameter(ge.usage,fe,"invalid buffer usage"),Be=fe[ge.usage]),"type"in ge&&(Pt.parameter(ge.type,Ai,"invalid buffer type"),dr=Ai[ge.type]),"dimension"in ge&&(Pt.type(ge.dimension,"number","invalid dimension"),pr=ge.dimension|0),"length"in ge&&(Pt.nni(Yr,"buffer length must be a nonnegative integer"),Yr=ge.length|0)),Nt.bind(),ir?_n(Nt,ir,Be,dr,pr,At):(Yr&&Lt.bufferData(Nt.type,Yr,Be),Nt.dtype=dr||xr,Nt.usage=Be,Nt.dimension=pr,Nt.byteLength=Yr),ze.profile&&(Nt.stats.size=Nt.byteLength*cn[Nt.dtype]),jt}function le(ge,Be){Pt(Be+ge.byteLength<=Nt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ge.byteLength+" starting from offset "+Be+" to a buffer of size "+Nt.byteLength),Lt.bufferSubData(Nt.type,Be,ge)}function xe(ge,Be){var ir=(Be||0)|0,Yr;if(Nt.bind(),W(ge)||ge instanceof ArrayBuffer)le(ge,ir);else if(Array.isArray(ge)){if(ge.length>0)if(typeof ge[0]=="number"){var dr=ae.allocType(Nt.dtype,ge.length);Zn(dr,ge),le(dr,ir),ae.freeType(dr)}else if(Array.isArray(ge[0])||W(ge[0])){Yr=ar(ge);var pr=Pe(ge,Yr,Nt.dtype);le(pr,ir),ae.freeType(pr)}else Pt.raise("invalid buffer data")}else if(za(ge)){Yr=ge.shape;var gr=ge.stride,bn=0,Ln=0,Cn=0,ta=0;Yr.length===1?(bn=Yr[0],Ln=1,Cn=gr[0],ta=0):Yr.length===2?(bn=Yr[0],Ln=Yr[1],Cn=gr[0],ta=gr[1]):Pt.raise("invalid shape");var Kn=Array.isArray(ge.data)?Nt.dtype:Mn(ge.data),ia=ae.allocType(Kn,bn*Ln);Un(ia,ge.data,bn,Ln,Cn,ta,ge.offset),le(ia,ir),ae.freeType(ia)}else Pt.raise("invalid data for buffer subdata");return jt}return yt||jt(it),jt._reglType="buffer",jt._buffer=Nt,jt.subdata=xe,ze.profile&&(jt.stats=Nt.stats),jt.destroy=function(){v(Nt)},jt}function Z(){xa(Ar).forEach(function(it){it.buffer=Lt.createBuffer(),Lt.bindBuffer(it.type,it.buffer),Lt.bufferData(it.type,it.persistentData||it.byteLength,it.usage)})}return ze.profile&&(we.getTotalBufferSize=function(){var it=0;return Object.keys(Ar).forEach(function(pt){it+=Ar[pt].stats.size}),it}),{create:N,createStream:mn,destroyStream:En,clear:function(){xa(Ar).forEach(v),vn.forEach(v)},getBuffer:function(it){return it&&it._buffer instanceof Gr?it._buffer:null},restore:Z,_initBuffer:_n}}var aa=0,Ya=0,ua=1,$n=1,Ga=4,Pa=4,Ea={points:aa,point:Ya,lines:ua,line:$n,triangles:Ga,triangle:Pa,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ui=0,qa=1,Ra=4,Ca=5120,va=5121,fi=5122,ni=5123,di=5124,ki=5125,Oi=34963,Ui=35040,To=35044;function Ao(Lt,we,ze,Dr){var Jr={},Ar=0,Gr={uint8:va,uint16:ni};we.oes_element_index_uint&&(Gr.uint32=ki);function vn(Z){this.id=Ar++,Jr[this.id]=this,this.buffer=Z,this.primType=Ra,this.vertCount=0,this.type=0}vn.prototype.bind=function(){this.buffer.bind()};var mn=[];function En(Z){var it=mn.pop();return it||(it=new vn(ze.create(null,Oi,!0,!1)._buffer)),_n(it,Z,Ui,-1,-1,0,0),it}function yn(Z){mn.push(Z)}function _n(Z,it,pt,yt,At,Nt,jt){Z.buffer.bind();var le;if(it){var xe=jt;!jt&&(!W(it)||za(it)&&!W(it.data))&&(xe=we.oes_element_index_uint?ki:ni),ze._initBuffer(Z.buffer,it,pt,xe,3)}else Lt.bufferData(Oi,Nt,pt),Z.buffer.dtype=le||va,Z.buffer.usage=pt,Z.buffer.dimension=3,Z.buffer.byteLength=Nt;if(le=jt,!jt){switch(Z.buffer.dtype){case va:case Ca:le=va;break;case ni:case fi:le=ni;break;case ki:case di:le=ki;break;default:Pt.raise("unsupported type for element array")}Z.buffer.dtype=le}Z.type=le,Pt(le!==ki||!!we.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ge=At;ge<0&&(ge=Z.buffer.byteLength,le===ni?ge>>=1:le===ki&&(ge>>=2)),Z.vertCount=ge;var Be=yt;if(yt<0){Be=Ra;var ir=Z.buffer.dimension;ir===1&&(Be=ui),ir===2&&(Be=qa),ir===3&&(Be=Ra)}Z.primType=Be}function v(Z){Dr.elementsCount--,Pt(Z.buffer!==null,"must not double destroy elements"),delete Jr[Z.id],Z.buffer.destroy(),Z.buffer=null}function N(Z,it){var pt=ze.create(null,Oi,!0),yt=new vn(pt._buffer);Dr.elementsCount++;function At(Nt){if(!Nt)pt(),yt.primType=Ra,yt.vertCount=0,yt.type=va;else if(typeof Nt=="number")pt(Nt),yt.primType=Ra,yt.vertCount=Nt|0,yt.type=va;else{var jt=null,le=To,xe=-1,ge=-1,Be=0,ir=0;Array.isArray(Nt)||W(Nt)||za(Nt)?jt=Nt:(Pt.type(Nt,"object","invalid arguments for elements"),"data"in Nt&&(jt=Nt.data,Pt(Array.isArray(jt)||W(jt)||za(jt),"invalid data for element buffer")),"usage"in Nt&&(Pt.parameter(Nt.usage,fe,"invalid element buffer usage"),le=fe[Nt.usage]),"primitive"in Nt&&(Pt.parameter(Nt.primitive,Ea,"invalid element buffer primitive"),xe=Ea[Nt.primitive]),"count"in Nt&&(Pt(typeof Nt.count=="number"&&Nt.count>=0,"invalid vertex count for elements"),ge=Nt.count|0),"type"in Nt&&(Pt.parameter(Nt.type,Gr,"invalid buffer type"),ir=Gr[Nt.type]),"length"in Nt?Be=Nt.length|0:(Be=ge,ir===ni||ir===fi?Be*=2:(ir===ki||ir===di)&&(Be*=4))),_n(yt,jt,le,xe,ge,Be,ir)}return At}return At(Z),At._reglType="elements",At._elements=yt,At.subdata=function(Nt,jt){return pt.subdata(Nt,jt),At},At.destroy=function(){v(yt)},At}return{create:N,createStream:En,destroyStream:yn,getElements:function(Z){return typeof Z=="function"&&Z._elements instanceof vn?Z._elements:null},clear:function(){xa(Jr).forEach(v)}}}var Ni=new Float32Array(1),ka=new Uint32Array(Ni.buffer),pi=5123;function Bi(Lt){for(var we=ae.allocType(pi,Lt.length),ze=0;ze<Lt.length;++ze)if(isNaN(Lt[ze]))we[ze]=65535;else if(Lt[ze]===1/0)we[ze]=31744;else if(Lt[ze]===-1/0)we[ze]=64512;else{Ni[0]=Lt[ze];var Dr=ka[0],Jr=Dr>>>31<<15,Ar=(Dr<<1>>>24)-127,Gr=Dr>>13&(1<<10)-1;if(Ar<-24)we[ze]=Jr;else if(Ar<-14){var vn=-14-Ar;we[ze]=Jr+(Gr+(1<<10)>>vn)}else Ar>15?we[ze]=Jr+31744:we[ze]=Jr+(Ar+15<<10)+Gr}return we}function Ma(Lt){return Array.isArray(Lt)||W(Lt)}var Wi=function(Lt){return!(Lt&Lt-1)&&!!Lt},lo=34467,_i=3553,Do=34067,gi=34069,co=6408,zo=6406,ts=6407,Yi=6409,Go=6410,Uo=32854,fs=32855,ha=36194,Wt=32819,Le=32820,Je=33635,mr=34042,Zr=6402,fn=34041,Fn=35904,Da=35906,hi=36193,to=33776,bo=33777,ds=33778,Ii=33779,eo=35986,Wo=35987,hs=34798,qo=35840,Es=35841,As=35842,ws=35843,nu=36196,Ko=5121,is=5123,vs=5125,Po=5126,xu=10242,Eu=10243,Xi=10497,xo=33071,Lo=33648,h=10240,X=10241,wt=9728,Bt=9729,Qt=9984,de=9985,ve=9986,_e=9987,De=33170,Ye=4352,or=4353,Br=4354,Wr=34046,Fr=3317,gn=37440,Pn=37441,Qr=37443,Vn=37444,Aa=33984,Ia=[Qt,ve,de,_e],wa=[0,Yi,Go,ts,co],ca={};ca[Yi]=ca[zo]=ca[Zr]=1,ca[fn]=ca[Go]=2,ca[ts]=ca[Fn]=3,ca[co]=ca[Da]=4;function ma(Lt){return"[object "+Lt+"]"}var ro=ma("HTMLCanvasElement"),Ki=ma("OffscreenCanvas"),ji=ma("CanvasRenderingContext2D"),$i=ma("ImageBitmap"),Qi=ma("HTMLImageElement"),fo=ma("HTMLVideoElement"),Eo=Object.keys(Ba).concat([ro,Ki,ji,$i,Qi,fo]),Xa=[];Xa[Ko]=1,Xa[Po]=4,Xa[hi]=2,Xa[is]=2,Xa[vs]=4;var vi=[];vi[Uo]=2,vi[fs]=2,vi[ha]=2,vi[fn]=4,vi[to]=.5,vi[bo]=.5,vi[ds]=1,vi[Ii]=1,vi[eo]=.5,vi[Wo]=1,vi[hs]=1,vi[qo]=.5,vi[Es]=.25,vi[As]=.5,vi[ws]=.25,vi[nu]=.5;function Os(Lt){return Array.isArray(Lt)&&(Lt.length===0||typeof Lt[0]=="number")}function ps(Lt){if(!Array.isArray(Lt))return!1;var we=Lt.length;return!(we===0||!Ma(Lt[0]))}function es(Lt){return Object.prototype.toString.call(Lt)}function au(Lt){return es(Lt)===ro}function xc(Lt){return es(Lt)===Ki}function sf(Lt){return es(Lt)===ji}function uf(Lt){return es(Lt)===$i}function Ec(Lt){return es(Lt)===Qi}function rd(Lt){return es(Lt)===fo}function wc(Lt){if(!Lt)return!1;var we=es(Lt);return Eo.indexOf(we)>=0?!0:Os(Lt)||ps(Lt)||za(Lt)}function Ju(Lt){return Ba[Object.prototype.toString.call(Lt)]|0}function lf(Lt,we){var ze=we.length;switch(Lt.type){case Ko:case is:case vs:case Po:var Dr=ae.allocType(Lt.type,ze);Dr.set(we),Lt.data=Dr;break;case hi:Lt.data=Bi(we);break;default:Pt.raise("unsupported texture type, must specify a typed array")}}function Sc(Lt,we){return ae.allocType(Lt.type===hi?Po:Lt.type,we)}function cf(Lt,we){Lt.type===hi?(Lt.data=Bi(we),ae.freeType(we)):Lt.data=we}function nd(Lt,we,ze,Dr,Jr,Ar){for(var Gr=Lt.width,vn=Lt.height,mn=Lt.channels,En=Gr*vn*mn,yn=Sc(Lt,En),_n=0,v=0;v<vn;++v)for(var N=0;N<Gr;++N)for(var Z=0;Z<mn;++Z)yn[_n++]=we[ze*N+Dr*v+Jr*Z+Ar];cf(Lt,yn)}function iu(Lt,we,ze,Dr,Jr,Ar){var Gr;if(typeof vi[Lt]!="undefined"?Gr=vi[Lt]:Gr=ca[Lt]*Xa[we],Ar&&(Gr*=6),Jr){for(var vn=0,mn=ze;mn>=1;)vn+=Gr*mn*mn,mn/=2;return vn}else return Gr*ze*Dr}function ff(Lt,we,ze,Dr,Jr,Ar,Gr){var vn={"don't care":Ye,"dont care":Ye,nice:Br,fast:or},mn={repeat:Xi,clamp:xo,mirror:Lo},En={nearest:wt,linear:Bt},yn=C({mipmap:_e,"nearest mipmap nearest":Qt,"linear mipmap nearest":de,"nearest mipmap linear":ve,"linear mipmap linear":_e},En),_n={none:0,browser:Vn},v={uint8:Ko,rgba4:Wt,rgb565:Je,"rgb5 a1":Le},N={alpha:zo,luminance:Yi,"luminance alpha":Go,rgb:ts,rgba:co,rgba4:Uo,"rgb5 a1":fs,rgb565:ha},Z={};we.ext_srgb&&(N.srgb=Fn,N.srgba=Da),we.oes_texture_float&&(v.float32=v.float=Po),we.oes_texture_half_float&&(v.float16=v["half float"]=hi),we.webgl_depth_texture&&(C(N,{depth:Zr,"depth stencil":fn}),C(v,{uint16:is,uint32:vs,"depth stencil":mr})),we.webgl_compressed_texture_s3tc&&C(Z,{"rgb s3tc dxt1":to,"rgba s3tc dxt1":bo,"rgba s3tc dxt3":ds,"rgba s3tc dxt5":Ii}),we.webgl_compressed_texture_atc&&C(Z,{"rgb atc":eo,"rgba atc explicit alpha":Wo,"rgba atc interpolated alpha":hs}),we.webgl_compressed_texture_pvrtc&&C(Z,{"rgb pvrtc 4bppv1":qo,"rgb pvrtc 2bppv1":Es,"rgba pvrtc 4bppv1":As,"rgba pvrtc 2bppv1":ws}),we.webgl_compressed_texture_etc1&&(Z["rgb etc1"]=nu);var it=Array.prototype.slice.call(Lt.getParameter(lo));Object.keys(Z).forEach(function(ke){var kr=Z[ke];it.indexOf(kr)>=0&&(N[ke]=kr)});var pt=Object.keys(N);ze.textureFormats=pt;var yt=[];Object.keys(N).forEach(function(ke){var kr=N[ke];yt[kr]=ke});var At=[];Object.keys(v).forEach(function(ke){var kr=v[ke];At[kr]=ke});var Nt=[];Object.keys(En).forEach(function(ke){var kr=En[ke];Nt[kr]=ke});var jt=[];Object.keys(yn).forEach(function(ke){var kr=yn[ke];jt[kr]=ke});var le=[];Object.keys(mn).forEach(function(ke){var kr=mn[ke];le[kr]=ke});var xe=pt.reduce(function(ke,kr){var Mr=N[kr];return Mr===Yi||Mr===zo||Mr===Yi||Mr===Go||Mr===Zr||Mr===fn||we.ext_srgb&&(Mr===Fn||Mr===Da)?ke[Mr]=Mr:Mr===fs||kr.indexOf("rgba")>=0?ke[Mr]=co:ke[Mr]=ts,ke},{});function ge(){this.internalformat=co,this.format=co,this.type=Ko,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Vn,this.width=0,this.height=0,this.channels=0}function Be(ke,kr){ke.internalformat=kr.internalformat,ke.format=kr.format,ke.type=kr.type,ke.compressed=kr.compressed,ke.premultiplyAlpha=kr.premultiplyAlpha,ke.flipY=kr.flipY,ke.unpackAlignment=kr.unpackAlignment,ke.colorSpace=kr.colorSpace,ke.width=kr.width,ke.height=kr.height,ke.channels=kr.channels}function ir(ke,kr){if(!(typeof kr!="object"||!kr)){if("premultiplyAlpha"in kr&&(Pt.type(kr.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),ke.premultiplyAlpha=kr.premultiplyAlpha),"flipY"in kr&&(Pt.type(kr.flipY,"boolean","invalid texture flip"),ke.flipY=kr.flipY),"alignment"in kr&&(Pt.oneOf(kr.alignment,[1,2,4,8],"invalid texture unpack alignment"),ke.unpackAlignment=kr.alignment),"colorSpace"in kr&&(Pt.parameter(kr.colorSpace,_n,"invalid colorSpace"),ke.colorSpace=_n[kr.colorSpace]),"type"in kr){var Mr=kr.type;Pt(we.oes_texture_float||!(Mr==="float"||Mr==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),Pt(we.oes_texture_half_float||!(Mr==="half float"||Mr==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Pt(we.webgl_depth_texture||!(Mr==="uint16"||Mr==="uint32"||Mr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Pt.parameter(Mr,v,"invalid texture type"),ke.type=v[Mr]}var Xn=ke.width,La=ke.height,Oe=ke.channels,me=!1;"shape"in kr?(Pt(Array.isArray(kr.shape)&&kr.shape.length>=2,"shape must be an array"),Xn=kr.shape[0],La=kr.shape[1],kr.shape.length===3&&(Oe=kr.shape[2],Pt(Oe>0&&Oe<=4,"invalid number of channels"),me=!0),Pt(Xn>=0&&Xn<=ze.maxTextureSize,"invalid width"),Pt(La>=0&&La<=ze.maxTextureSize,"invalid height")):("radius"in kr&&(Xn=La=kr.radius,Pt(Xn>=0&&Xn<=ze.maxTextureSize,"invalid radius")),"width"in kr&&(Xn=kr.width,Pt(Xn>=0&&Xn<=ze.maxTextureSize,"invalid width")),"height"in kr&&(La=kr.height,Pt(La>=0&&La<=ze.maxTextureSize,"invalid height")),"channels"in kr&&(Oe=kr.channels,Pt(Oe>0&&Oe<=4,"invalid number of channels"),me=!0)),ke.width=Xn|0,ke.height=La|0,ke.channels=Oe|0;var Ze=!1;if("format"in kr){var yr=kr.format;Pt(we.webgl_depth_texture||!(yr==="depth"||yr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Pt.parameter(yr,N,"invalid texture format");var Er=ke.internalformat=N[yr];ke.format=xe[Er],yr in v&&("type"in kr||(ke.type=v[yr])),yr in Z&&(ke.compressed=!0),Ze=!0}!me&&Ze?ke.channels=ca[ke.format]:me&&!Ze?ke.channels!==wa[ke.format]&&(ke.format=ke.internalformat=wa[ke.channels]):Ze&&me&&Pt(ke.channels===ca[ke.format],"number of channels inconsistent with specified format")}}function Yr(ke){Lt.pixelStorei(gn,ke.flipY),Lt.pixelStorei(Pn,ke.premultiplyAlpha),Lt.pixelStorei(Qr,ke.colorSpace),Lt.pixelStorei(Fr,ke.unpackAlignment)}function dr(){ge.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function pr(ke,kr){var Mr=null;if(wc(kr)?Mr=kr:kr&&(Pt.type(kr,"object","invalid pixel data type"),ir(ke,kr),"x"in kr&&(ke.xOffset=kr.x|0),"y"in kr&&(ke.yOffset=kr.y|0),wc(kr.data)&&(Mr=kr.data)),Pt(!ke.compressed||Mr instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),kr.copy){Pt(!Mr,"can not specify copy and data field for the same texture");var Xn=Jr.viewportWidth,La=Jr.viewportHeight;ke.width=ke.width||Xn-ke.xOffset,ke.height=ke.height||La-ke.yOffset,ke.needsCopy=!0,Pt(ke.xOffset>=0&&ke.xOffset<Xn&&ke.yOffset>=0&&ke.yOffset<La&&ke.width>0&&ke.width<=Xn&&ke.height>0&&ke.height<=La,"copy texture read out of bounds")}else if(!Mr)ke.width=ke.width||1,ke.height=ke.height||1,ke.channels=ke.channels||4;else if(W(Mr))ke.channels=ke.channels||4,ke.data=Mr,!("type"in kr)&&ke.type===Ko&&(ke.type=Ju(Mr));else if(Os(Mr))ke.channels=ke.channels||4,lf(ke,Mr),ke.alignment=1,ke.needsFree=!0;else if(za(Mr)){var Oe=Mr.data;!Array.isArray(Oe)&&ke.type===Ko&&(ke.type=Ju(Oe));var me=Mr.shape,Ze=Mr.stride,yr,Er,er,Qe,lr,Ie;me.length===3?(er=me[2],Ie=Ze[2]):(Pt(me.length===2,"invalid ndarray pixel data, must be 2 or 3D"),er=1,Ie=1),yr=me[0],Er=me[1],Qe=Ze[0],lr=Ze[1],ke.alignment=1,ke.width=yr,ke.height=Er,ke.channels=er,ke.format=ke.internalformat=wa[er],ke.needsFree=!0,nd(ke,Oe,Qe,lr,Ie,Mr.offset)}else if(au(Mr)||xc(Mr)||sf(Mr))au(Mr)||xc(Mr)?ke.element=Mr:ke.element=Mr.canvas,ke.width=ke.element.width,ke.height=ke.element.height,ke.channels=4;else if(uf(Mr))ke.element=Mr,ke.width=Mr.width,ke.height=Mr.height,ke.channels=4;else if(Ec(Mr))ke.element=Mr,ke.width=Mr.naturalWidth,ke.height=Mr.naturalHeight,ke.channels=4;else if(rd(Mr))ke.element=Mr,ke.width=Mr.videoWidth,ke.height=Mr.videoHeight,ke.channels=4;else if(ps(Mr)){var Ke=ke.width||Mr[0].length,Ce=ke.height||Mr.length,hr=ke.channels;Ma(Mr[0][0])?hr=hr||Mr[0][0].length:hr=hr||1;for(var wr=Ei.shape(Mr),$r=1,en=0;en<wr.length;++en)$r*=wr[en];var Xr=Sc(ke,$r);Ei.flatten(Mr,wr,"",Xr),cf(ke,Xr),ke.alignment=1,ke.width=Ke,ke.height=Ce,ke.channels=hr,ke.format=ke.internalformat=wa[hr],ke.needsFree=!0}ke.type===Po?Pt(ze.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):ke.type===hi&&Pt(ze.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function gr(ke,kr,Mr){var Xn=ke.element,La=ke.data,Oe=ke.internalformat,me=ke.format,Ze=ke.type,yr=ke.width,Er=ke.height;Yr(ke),Xn?Lt.texImage2D(kr,Mr,me,me,Ze,Xn):ke.compressed?Lt.compressedTexImage2D(kr,Mr,Oe,yr,Er,0,La):ke.needsCopy?(Dr(),Lt.copyTexImage2D(kr,Mr,me,ke.xOffset,ke.yOffset,yr,Er,0)):Lt.texImage2D(kr,Mr,me,yr,Er,0,me,Ze,La||null)}function bn(ke,kr,Mr,Xn,La){var Oe=ke.element,me=ke.data,Ze=ke.internalformat,yr=ke.format,Er=ke.type,er=ke.width,Qe=ke.height;Yr(ke),Oe?Lt.texSubImage2D(kr,La,Mr,Xn,yr,Er,Oe):ke.compressed?Lt.compressedTexSubImage2D(kr,La,Mr,Xn,Ze,er,Qe,me):ke.needsCopy?(Dr(),Lt.copyTexSubImage2D(kr,La,Mr,Xn,ke.xOffset,ke.yOffset,er,Qe)):Lt.texSubImage2D(kr,La,Mr,Xn,er,Qe,yr,Er,me)}var Ln=[];function Cn(){return Ln.pop()||new dr}function ta(ke){ke.needsFree&&ae.freeType(ke.data),dr.call(ke),Ln.push(ke)}function Kn(){ge.call(this),this.genMipmaps=!1,this.mipmapHint=Ye,this.mipmask=0,this.images=Array(16)}function ia(ke,kr,Mr){var Xn=ke.images[0]=Cn();ke.mipmask=1,Xn.width=ke.width=kr,Xn.height=ke.height=Mr,Xn.channels=ke.channels=4}function pa(ke,kr){var Mr=null;if(wc(kr))Mr=ke.images[0]=Cn(),Be(Mr,ke),pr(Mr,kr),ke.mipmask=1;else if(ir(ke,kr),Array.isArray(kr.mipmap))for(var Xn=kr.mipmap,La=0;La<Xn.length;++La)Mr=ke.images[La]=Cn(),Be(Mr,ke),Mr.width>>=La,Mr.height>>=La,pr(Mr,Xn[La]),ke.mipmask|=1<<La;else Mr=ke.images[0]=Cn(),Be(Mr,ke),pr(Mr,kr),ke.mipmask=1;Be(ke,ke.images[0]),ke.compressed&&(ke.internalformat===to||ke.internalformat===bo||ke.internalformat===ds||ke.internalformat===Ii)&&Pt(ke.width%4===0&&ke.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function da(ke,kr){for(var Mr=ke.images,Xn=0;Xn<Mr.length;++Xn){if(!Mr[Xn])return;gr(Mr[Xn],kr,Xn)}}var Di=[];function ya(){var ke=Di.pop()||new Kn;ge.call(ke),ke.mipmask=0;for(var kr=0;kr<16;++kr)ke.images[kr]=null;return ke}function qi(ke){for(var kr=ke.images,Mr=0;Mr<kr.length;++Mr)kr[Mr]&&ta(kr[Mr]),kr[Mr]=null;Di.push(ke)}function yi(){this.minFilter=wt,this.magFilter=wt,this.wrapS=xo,this.wrapT=xo,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ye}function Ua(ke,kr){if("min"in kr){var Mr=kr.min;Pt.parameter(Mr,yn),ke.minFilter=yn[Mr],Ia.indexOf(ke.minFilter)>=0&&!("faces"in kr)&&(ke.genMipmaps=!0)}if("mag"in kr){var Xn=kr.mag;Pt.parameter(Xn,En),ke.magFilter=En[Xn]}var La=ke.wrapS,Oe=ke.wrapT;if("wrap"in kr){var me=kr.wrap;typeof me=="string"?(Pt.parameter(me,mn),La=Oe=mn[me]):Array.isArray(me)&&(Pt.parameter(me[0],mn),Pt.parameter(me[1],mn),La=mn[me[0]],Oe=mn[me[1]])}else{if("wrapS"in kr){var Ze=kr.wrapS;Pt.parameter(Ze,mn),La=mn[Ze]}if("wrapT"in kr){var yr=kr.wrapT;Pt.parameter(yr,mn),Oe=mn[yr]}}if(ke.wrapS=La,ke.wrapT=Oe,"anisotropic"in kr){var Er=kr.anisotropic;Pt(typeof Er=="number"&&Er>=1&&Er<=ze.maxAnisotropic,"aniso samples must be between 1 and "),ke.anisotropic=kr.anisotropic}if("mipmap"in kr){var er=!1;switch(typeof kr.mipmap){case"string":Pt.parameter(kr.mipmap,vn,"invalid mipmap hint"),ke.mipmapHint=vn[kr.mipmap],ke.genMipmaps=!0,er=!0;break;case"boolean":er=ke.genMipmaps=kr.mipmap;break;case"object":Pt(Array.isArray(kr.mipmap),"invalid mipmap type"),ke.genMipmaps=!1,er=!0;break;default:Pt.raise("invalid mipmap type")}er&&!("min"in kr)&&(ke.minFilter=Qt)}}function Ci(ke,kr){Lt.texParameteri(kr,X,ke.minFilter),Lt.texParameteri(kr,h,ke.magFilter),Lt.texParameteri(kr,xu,ke.wrapS),Lt.texParameteri(kr,Eu,ke.wrapT),we.ext_texture_filter_anisotropic&&Lt.texParameteri(kr,Wr,ke.anisotropic),ke.genMipmaps&&(Lt.hint(De,ke.mipmapHint),Lt.generateMipmap(kr))}var Ji=0,So={},Io=ze.maxTextureUnits,go=Array(Io).map(function(){return null});function Ta(ke){ge.call(this),this.mipmask=0,this.internalformat=co,this.id=Ji++,this.refCount=1,this.target=ke,this.texture=Lt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new yi,Gr.profile&&(this.stats={size:0})}function Ro(ke){Lt.activeTexture(Aa),Lt.bindTexture(ke.target,ke.texture)}function $a(){var ke=go[0];ke?Lt.bindTexture(ke.target,ke.texture):Lt.bindTexture(_i,null)}function oa(ke){var kr=ke.texture;Pt(kr,"must not double destroy texture");var Mr=ke.unit,Xn=ke.target;Mr>=0&&(Lt.activeTexture(Aa+Mr),Lt.bindTexture(Xn,null),go[Mr]=null),Lt.deleteTexture(kr),ke.texture=null,ke.params=null,ke.pixels=null,ke.refCount=0,delete So[ke.id],Ar.textureCount--}C(Ta.prototype,{bind:function(){var ke=this;ke.bindCount+=1;var kr=ke.unit;if(kr<0){for(var Mr=0;Mr<Io;++Mr){var Xn=go[Mr];if(Xn){if(Xn.bindCount>0)continue;Xn.unit=-1}go[Mr]=ke,kr=Mr;break}kr>=Io&&Pt.raise("insufficient number of texture units"),Gr.profile&&Ar.maxTextureUnits<kr+1&&(Ar.maxTextureUnits=kr+1),ke.unit=kr,Lt.activeTexture(Aa+kr),Lt.bindTexture(ke.target,ke.texture)}return kr},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&oa(this)}});function Fa(ke,kr){var Mr=new Ta(_i);So[Mr.id]=Mr,Ar.textureCount++;function Xn(me,Ze){var yr=Mr.texInfo;yi.call(yr);var Er=ya();return typeof me=="number"?typeof Ze=="number"?ia(Er,me|0,Ze|0):ia(Er,me|0,me|0):me?(Pt.type(me,"object","invalid arguments to regl.texture"),Ua(yr,me),pa(Er,me)):ia(Er,1,1),yr.genMipmaps&&(Er.mipmask=(Er.width<<1)-1),Mr.mipmask=Er.mipmask,Be(Mr,Er),Pt.texture2D(yr,Er,ze),Mr.internalformat=Er.internalformat,Xn.width=Er.width,Xn.height=Er.height,Ro(Mr),da(Er,_i),Ci(yr,_i),$a(),qi(Er),Gr.profile&&(Mr.stats.size=iu(Mr.internalformat,Mr.type,Er.width,Er.height,yr.genMipmaps,!1)),Xn.format=yt[Mr.internalformat],Xn.type=At[Mr.type],Xn.mag=Nt[yr.magFilter],Xn.min=jt[yr.minFilter],Xn.wrapS=le[yr.wrapS],Xn.wrapT=le[yr.wrapT],Xn}function La(me,Ze,yr,Er){Pt(!!me,"must specify image data");var er=Ze|0,Qe=yr|0,lr=Er|0,Ie=Cn();return Be(Ie,Mr),Ie.width=0,Ie.height=0,pr(Ie,me),Ie.width=Ie.width||(Mr.width>>lr)-er,Ie.height=Ie.height||(Mr.height>>lr)-Qe,Pt(Mr.type===Ie.type&&Mr.format===Ie.format&&Mr.internalformat===Ie.internalformat,"incompatible format for texture.subimage"),Pt(er>=0&&Qe>=0&&er+Ie.width<=Mr.width&&Qe+Ie.height<=Mr.height,"texture.subimage write out of bounds"),Pt(Mr.mipmask&1<<lr,"missing mipmap data"),Pt(Ie.data||Ie.element||Ie.needsCopy,"missing image data"),Ro(Mr),bn(Ie,_i,er,Qe,lr),$a(),ta(Ie),Xn}function Oe(me,Ze){var yr=me|0,Er=Ze|0||yr;if(yr===Mr.width&&Er===Mr.height)return Xn;Xn.width=Mr.width=yr,Xn.height=Mr.height=Er,Ro(Mr);for(var er=0;Mr.mipmask>>er;++er){var Qe=yr>>er,lr=Er>>er;if(!Qe||!lr)break;Lt.texImage2D(_i,er,Mr.format,Qe,lr,0,Mr.format,Mr.type,null)}return $a(),Gr.profile&&(Mr.stats.size=iu(Mr.internalformat,Mr.type,yr,Er,!1,!1)),Xn}return Xn(ke,kr),Xn.subimage=La,Xn.resize=Oe,Xn._reglType="texture2d",Xn._texture=Mr,Gr.profile&&(Xn.stats=Mr.stats),Xn.destroy=function(){Mr.decRef()},Xn}function Ka(ke,kr,Mr,Xn,La,Oe){var me=new Ta(Do);So[me.id]=me,Ar.cubeCount++;var Ze=new Array(6);function yr(Qe,lr,Ie,Ke,Ce,hr){var wr,$r=me.texInfo;for(yi.call($r),wr=0;wr<6;++wr)Ze[wr]=ya();if(typeof Qe=="number"||!Qe){var en=Qe|0||1;for(wr=0;wr<6;++wr)ia(Ze[wr],en,en)}else if(typeof Qe=="object")if(lr)pa(Ze[0],Qe),pa(Ze[1],lr),pa(Ze[2],Ie),pa(Ze[3],Ke),pa(Ze[4],Ce),pa(Ze[5],hr);else if(Ua($r,Qe),ir(me,Qe),"faces"in Qe){var Xr=Qe.faces;for(Pt(Array.isArray(Xr)&&Xr.length===6,"cube faces must be a length 6 array"),wr=0;wr<6;++wr)Pt(typeof Xr[wr]=="object"&&!!Xr[wr],"invalid input for cube map face"),Be(Ze[wr],me),pa(Ze[wr],Xr[wr])}else for(wr=0;wr<6;++wr)pa(Ze[wr],Qe);else Pt.raise("invalid arguments to cube map");for(Be(me,Ze[0]),ze.npotTextureCube||Pt(Wi(me.width)&&Wi(me.height),"your browser does not support non power or two texture dimensions"),$r.genMipmaps?me.mipmask=(Ze[0].width<<1)-1:me.mipmask=Ze[0].mipmask,Pt.textureCube(me,$r,Ze,ze),me.internalformat=Ze[0].internalformat,yr.width=Ze[0].width,yr.height=Ze[0].height,Ro(me),wr=0;wr<6;++wr)da(Ze[wr],gi+wr);for(Ci($r,Do),$a(),Gr.profile&&(me.stats.size=iu(me.internalformat,me.type,yr.width,yr.height,$r.genMipmaps,!0)),yr.format=yt[me.internalformat],yr.type=At[me.type],yr.mag=Nt[$r.magFilter],yr.min=jt[$r.minFilter],yr.wrapS=le[$r.wrapS],yr.wrapT=le[$r.wrapT],wr=0;wr<6;++wr)qi(Ze[wr]);return yr}function Er(Qe,lr,Ie,Ke,Ce){Pt(!!lr,"must specify image data"),Pt(typeof Qe=="number"&&Qe===(Qe|0)&&Qe>=0&&Qe<6,"invalid face");var hr=Ie|0,wr=Ke|0,$r=Ce|0,en=Cn();return Be(en,me),en.width=0,en.height=0,pr(en,lr),en.width=en.width||(me.width>>$r)-hr,en.height=en.height||(me.height>>$r)-wr,Pt(me.type===en.type&&me.format===en.format&&me.internalformat===en.internalformat,"incompatible format for texture.subimage"),Pt(hr>=0&&wr>=0&&hr+en.width<=me.width&&wr+en.height<=me.height,"texture.subimage write out of bounds"),Pt(me.mipmask&1<<$r,"missing mipmap data"),Pt(en.data||en.element||en.needsCopy,"missing image data"),Ro(me),bn(en,gi+Qe,hr,wr,$r),$a(),ta(en),yr}function er(Qe){var lr=Qe|0;if(lr!==me.width){yr.width=me.width=lr,yr.height=me.height=lr,Ro(me);for(var Ie=0;Ie<6;++Ie)for(var Ke=0;me.mipmask>>Ke;++Ke)Lt.texImage2D(gi+Ie,Ke,me.format,lr>>Ke,lr>>Ke,0,me.format,me.type,null);return $a(),Gr.profile&&(me.stats.size=iu(me.internalformat,me.type,yr.width,yr.height,!1,!0)),yr}}return yr(ke,kr,Mr,Xn,La,Oe),yr.subimage=Er,yr.resize=er,yr._reglType="textureCube",yr._texture=me,Gr.profile&&(yr.stats=me.stats),yr.destroy=function(){me.decRef()},yr}function mo(){for(var ke=0;ke<Io;++ke)Lt.activeTexture(Aa+ke),Lt.bindTexture(_i,null),go[ke]=null;xa(So).forEach(oa),Ar.cubeCount=0,Ar.textureCount=0}Gr.profile&&(Ar.getTotalTextureSize=function(){var ke=0;return Object.keys(So).forEach(function(kr){ke+=So[kr].stats.size}),ke});function Ks(){for(var ke=0;ke<Io;++ke){var kr=go[ke];kr&&(kr.bindCount=0,kr.unit=-1,go[ke]=null)}xa(So).forEach(function(Mr){Mr.texture=Lt.createTexture(),Lt.bindTexture(Mr.target,Mr.texture);for(var Xn=0;Xn<32;++Xn)if(Mr.mipmask&1<<Xn)if(Mr.target===_i)Lt.texImage2D(_i,Xn,Mr.internalformat,Mr.width>>Xn,Mr.height>>Xn,0,Mr.internalformat,Mr.type,null);else for(var La=0;La<6;++La)Lt.texImage2D(gi+La,Xn,Mr.internalformat,Mr.width>>Xn,Mr.height>>Xn,0,Mr.internalformat,Mr.type,null);Ci(Mr.texInfo,Mr.target)})}function cc(){for(var ke=0;ke<Io;++ke){var kr=go[ke];kr&&(kr.bindCount=0,kr.unit=-1,go[ke]=null),Lt.activeTexture(Aa+ke),Lt.bindTexture(_i,null),Lt.bindTexture(Do,null)}}return{create2D:Fa,createCube:Ka,clear:mo,getTexture:function(ke){return null},restore:Ks,refresh:cc}}var Wn=36161,wu=32854,ja=32855,Mc=36194,Pl=33189,ou=36168,_c=34041,Cc=35907,Ll=34836,df=34842,hf=34843,gs=[];gs[wu]=2,gs[ja]=2,gs[Mc]=2,gs[Pl]=2,gs[ou]=1,gs[_c]=4,gs[Cc]=4,gs[Ll]=16,gs[df]=8,gs[hf]=6;function Tc(Lt,we,ze){return gs[Lt]*we*ze}var Ws=function(Lt,we,ze,Dr,Jr){var Ar={rgba4:wu,rgb565:Mc,"rgb5 a1":ja,depth:Pl,stencil:ou,"depth stencil":_c};we.ext_srgb&&(Ar.srgba=Cc),we.ext_color_buffer_half_float&&(Ar.rgba16f=df,Ar.rgb16f=hf),we.webgl_color_buffer_float&&(Ar.rgba32f=Ll);var Gr=[];Object.keys(Ar).forEach(function(N){var Z=Ar[N];Gr[Z]=N});var vn=0,mn={};function En(N){this.id=vn++,this.refCount=1,this.renderbuffer=N,this.format=wu,this.width=0,this.height=0,Jr.profile&&(this.stats={size:0})}En.prototype.decRef=function(){--this.refCount<=0&&yn(this)};function yn(N){var Z=N.renderbuffer;Pt(Z,"must not double destroy renderbuffer"),Lt.bindRenderbuffer(Wn,null),Lt.deleteRenderbuffer(Z),N.renderbuffer=null,N.refCount=0,delete mn[N.id],Dr.renderbufferCount--}function _n(N,Z){var it=new En(Lt.createRenderbuffer());mn[it.id]=it,Dr.renderbufferCount++;function pt(At,Nt){var jt=0,le=0,xe=wu;if(typeof At=="object"&&At){var ge=At;if("shape"in ge){var Be=ge.shape;Pt(Array.isArray(Be)&&Be.length>=2,"invalid renderbuffer shape"),jt=Be[0]|0,le=Be[1]|0}else"radius"in ge&&(jt=le=ge.radius|0),"width"in ge&&(jt=ge.width|0),"height"in ge&&(le=ge.height|0);"format"in ge&&(Pt.parameter(ge.format,Ar,"invalid renderbuffer format"),xe=Ar[ge.format])}else typeof At=="number"?(jt=At|0,typeof Nt=="number"?le=Nt|0:le=jt):At?Pt.raise("invalid arguments to renderbuffer constructor"):jt=le=1;if(Pt(jt>0&&le>0&&jt<=ze.maxRenderbufferSize&&le<=ze.maxRenderbufferSize,"invalid renderbuffer size"),!(jt===it.width&&le===it.height&&xe===it.format))return pt.width=it.width=jt,pt.height=it.height=le,it.format=xe,Lt.bindRenderbuffer(Wn,it.renderbuffer),Lt.renderbufferStorage(Wn,xe,jt,le),Pt(Lt.getError()===0,"invalid render buffer format"),Jr.profile&&(it.stats.size=Tc(it.format,it.width,it.height)),pt.format=Gr[it.format],pt}function yt(At,Nt){var jt=At|0,le=Nt|0||jt;return jt===it.width&&le===it.height||(Pt(jt>0&&le>0&&jt<=ze.maxRenderbufferSize&&le<=ze.maxRenderbufferSize,"invalid renderbuffer size"),pt.width=it.width=jt,pt.height=it.height=le,Lt.bindRenderbuffer(Wn,it.renderbuffer),Lt.renderbufferStorage(Wn,it.format,jt,le),Pt(Lt.getError()===0,"invalid render buffer format"),Jr.profile&&(it.stats.size=Tc(it.format,it.width,it.height))),pt}return pt(N,Z),pt.resize=yt,pt._reglType="renderbuffer",pt._renderbuffer=it,Jr.profile&&(pt.stats=it.stats),pt.destroy=function(){it.decRef()},pt}Jr.profile&&(Dr.getTotalRenderbufferSize=function(){var N=0;return Object.keys(mn).forEach(function(Z){N+=mn[Z].stats.size}),N});function v(){xa(mn).forEach(function(N){N.renderbuffer=Lt.createRenderbuffer(),Lt.bindRenderbuffer(Wn,N.renderbuffer),Lt.renderbufferStorage(Wn,N.format,N.width,N.height)}),Lt.bindRenderbuffer(Wn,null)}return{create:_n,clear:function(){xa(mn).forEach(yn)},restore:v}},po=36160,Ys=36161,Is=3553,Nl=34069,Ac=36064,vf=36096,pf=36128,gf=33306,Rl=36053,mf=36054,kl=36055,yf=36057,Oc=36061,tl=36193,Ic=5121,os=5126,Dc=6407,el=6408,bf=6402,ad=[Dc,el],Pc=[];Pc[el]=4,Pc[Dc]=3;var rl=[];rl[Ic]=1,rl[os]=4,rl[tl]=2;var id=32854,Lc=32855,Nc=36194,xf=33189,nl=36168,Su=34041,su=35907,Mu=34836,al=34842,Ss=34843,Ef=[id,Lc,Nc,su,al,Ss,Mu],_u={};_u[Rl]="complete",_u[mf]="incomplete attachment",_u[yf]="incomplete dimensions",_u[kl]="incomplete, missing attachment",_u[Oc]="unsupported";function od(Lt,we,ze,Dr,Jr,Ar){var Gr={cur:null,next:null,dirty:!1,setFBO:null},vn=["rgba"],mn=["rgba4","rgb565","rgb5 a1"];we.ext_srgb&&mn.push("srgba"),we.ext_color_buffer_half_float&&mn.push("rgba16f","rgb16f"),we.webgl_color_buffer_float&&mn.push("rgba32f");var En=["uint8"];we.oes_texture_half_float&&En.push("half float","float16"),we.oes_texture_float&&En.push("float","float32");function yn(dr,pr,gr){this.target=dr,this.texture=pr,this.renderbuffer=gr;var bn=0,Ln=0;pr?(bn=pr.width,Ln=pr.height):gr&&(bn=gr.width,Ln=gr.height),this.width=bn,this.height=Ln}function _n(dr){dr&&(dr.texture&&dr.texture._texture.decRef(),dr.renderbuffer&&dr.renderbuffer._renderbuffer.decRef())}function v(dr,pr,gr){if(dr)if(dr.texture){var bn=dr.texture._texture,Ln=Math.max(1,bn.width),Cn=Math.max(1,bn.height);Pt(Ln===pr&&Cn===gr,"inconsistent width/height for supplied texture"),bn.refCount+=1}else{var ta=dr.renderbuffer._renderbuffer;Pt(ta.width===pr&&ta.height===gr,"inconsistent width/height for renderbuffer"),ta.refCount+=1}}function N(dr,pr){pr&&(pr.texture?Lt.framebufferTexture2D(po,dr,pr.target,pr.texture._texture.texture,0):Lt.framebufferRenderbuffer(po,dr,Ys,pr.renderbuffer._renderbuffer.renderbuffer))}function Z(dr){var pr=Is,gr=null,bn=null,Ln=dr;typeof dr=="object"&&(Ln=dr.data,"target"in dr&&(pr=dr.target|0)),Pt.type(Ln,"function","invalid attachment data");var Cn=Ln._reglType;return Cn==="texture2d"?(gr=Ln,Pt(pr===Is)):Cn==="textureCube"?(gr=Ln,Pt(pr>=Nl&&pr<Nl+6,"invalid cube map target")):Cn==="renderbuffer"?(bn=Ln,pr=Ys):Pt.raise("invalid regl object for attachment"),new yn(pr,gr,bn)}function it(dr,pr,gr,bn,Ln){if(gr){var Cn=Dr.create2D({width:dr,height:pr,format:bn,type:Ln});return Cn._texture.refCount=0,new yn(Is,Cn,null)}else{var ta=Jr.create({width:dr,height:pr,format:bn});return ta._renderbuffer.refCount=0,new yn(Ys,null,ta)}}function pt(dr){return dr&&(dr.texture||dr.renderbuffer)}function yt(dr,pr,gr){dr&&(dr.texture?dr.texture.resize(pr,gr):dr.renderbuffer&&dr.renderbuffer.resize(pr,gr),dr.width=pr,dr.height=gr)}var At=0,Nt={};function jt(){this.id=At++,Nt[this.id]=this,this.framebuffer=Lt.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function le(dr){dr.colorAttachments.forEach(_n),_n(dr.depthAttachment),_n(dr.stencilAttachment),_n(dr.depthStencilAttachment)}function xe(dr){var pr=dr.framebuffer;Pt(pr,"must not double destroy framebuffer"),Lt.deleteFramebuffer(pr),dr.framebuffer=null,Ar.framebufferCount--,delete Nt[dr.id]}function ge(dr){var pr;Lt.bindFramebuffer(po,dr.framebuffer);var gr=dr.colorAttachments;for(pr=0;pr<gr.length;++pr)N(Ac+pr,gr[pr]);for(pr=gr.length;pr<ze.maxColorAttachments;++pr)Lt.framebufferTexture2D(po,Ac+pr,Is,null,0);Lt.framebufferTexture2D(po,gf,Is,null,0),Lt.framebufferTexture2D(po,vf,Is,null,0),Lt.framebufferTexture2D(po,pf,Is,null,0),N(vf,dr.depthAttachment),N(pf,dr.stencilAttachment),N(gf,dr.depthStencilAttachment);var bn=Lt.checkFramebufferStatus(po);!Lt.isContextLost()&&bn!==Rl&&Pt.raise("framebuffer configuration not supported, status = "+_u[bn]),Lt.bindFramebuffer(po,Gr.next?Gr.next.framebuffer:null),Gr.cur=Gr.next,Lt.getError()}function Be(dr,pr){var gr=new jt;Ar.framebufferCount++;function bn(Cn,ta){var Kn;Pt(Gr.next!==gr,"can not update framebuffer which is currently in use");var ia=0,pa=0,da=!0,Di=!0,ya=null,qi=!0,yi="rgba",Ua="uint8",Ci=1,Ji=null,So=null,Io=null,go=!1;if(typeof Cn=="number")ia=Cn|0,pa=ta|0||ia;else if(!Cn)ia=pa=1;else{Pt.type(Cn,"object","invalid arguments for framebuffer");var Ta=Cn;if("shape"in Ta){var Ro=Ta.shape;Pt(Array.isArray(Ro)&&Ro.length>=2,"invalid shape for framebuffer"),ia=Ro[0],pa=Ro[1]}else"radius"in Ta&&(ia=pa=Ta.radius),"width"in Ta&&(ia=Ta.width),"height"in Ta&&(pa=Ta.height);("color"in Ta||"colors"in Ta)&&(ya=Ta.color||Ta.colors,Array.isArray(ya)&&Pt(ya.length===1||we.webgl_draw_buffers,"multiple render targets not supported")),ya||("colorCount"in Ta&&(Ci=Ta.colorCount|0,Pt(Ci>0,"invalid color buffer count")),"colorTexture"in Ta&&(qi=!!Ta.colorTexture,yi="rgba4"),"colorType"in Ta&&(Ua=Ta.colorType,qi?(Pt(we.oes_texture_float||!(Ua==="float"||Ua==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Pt(we.oes_texture_half_float||!(Ua==="half float"||Ua==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Ua==="half float"||Ua==="float16"?(Pt(we.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),yi="rgba16f"):(Ua==="float"||Ua==="float32")&&(Pt(we.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),yi="rgba32f"),Pt.oneOf(Ua,En,"invalid color type")),"colorFormat"in Ta&&(yi=Ta.colorFormat,vn.indexOf(yi)>=0?qi=!0:mn.indexOf(yi)>=0?qi=!1:qi?Pt.oneOf(Ta.colorFormat,vn,"invalid color format for texture"):Pt.oneOf(Ta.colorFormat,mn,"invalid color format for renderbuffer"))),("depthTexture"in Ta||"depthStencilTexture"in Ta)&&(go=!!(Ta.depthTexture||Ta.depthStencilTexture),Pt(!go||we.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Ta&&(typeof Ta.depth=="boolean"?da=Ta.depth:(Ji=Ta.depth,Di=!1)),"stencil"in Ta&&(typeof Ta.stencil=="boolean"?Di=Ta.stencil:(So=Ta.stencil,da=!1)),"depthStencil"in Ta&&(typeof Ta.depthStencil=="boolean"?da=Di=Ta.depthStencil:(Io=Ta.depthStencil,da=!1,Di=!1))}var $a=null,oa=null,Fa=null,Ka=null;if(Array.isArray(ya))$a=ya.map(Z);else if(ya)$a=[Z(ya)];else for($a=new Array(Ci),Kn=0;Kn<Ci;++Kn)$a[Kn]=it(ia,pa,qi,yi,Ua);Pt(we.webgl_draw_buffers||$a.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Pt($a.length<=ze.maxColorAttachments,"too many color attachments, not supported"),ia=ia||$a[0].width,pa=pa||$a[0].height,Ji?oa=Z(Ji):da&&!Di&&(oa=it(ia,pa,go,"depth","uint32")),So?Fa=Z(So):Di&&!da&&(Fa=it(ia,pa,!1,"stencil","uint8")),Io?Ka=Z(Io):!Ji&&!So&&Di&&da&&(Ka=it(ia,pa,go,"depth stencil","depth stencil")),Pt(!!Ji+!!So+!!Io<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var mo=null;for(Kn=0;Kn<$a.length;++Kn)if(v($a[Kn],ia,pa),Pt(!$a[Kn]||$a[Kn].texture&&ad.indexOf($a[Kn].texture._texture.format)>=0||$a[Kn].renderbuffer&&Ef.indexOf($a[Kn].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Kn+" is invalid"),$a[Kn]&&$a[Kn].texture){var Ks=Pc[$a[Kn].texture._texture.format]*rl[$a[Kn].texture._texture.type];mo===null?mo=Ks:Pt(mo===Ks,"all color attachments much have the same number of bits per pixel.")}return v(oa,ia,pa),Pt(!oa||oa.texture&&oa.texture._texture.format===bf||oa.renderbuffer&&oa.renderbuffer._renderbuffer.format===xf,"invalid depth attachment for framebuffer object"),v(Fa,ia,pa),Pt(!Fa||Fa.renderbuffer&&Fa.renderbuffer._renderbuffer.format===nl,"invalid stencil attachment for framebuffer object"),v(Ka,ia,pa),Pt(!Ka||Ka.texture&&Ka.texture._texture.format===Su||Ka.renderbuffer&&Ka.renderbuffer._renderbuffer.format===Su,"invalid depth-stencil attachment for framebuffer object"),le(gr),gr.width=ia,gr.height=pa,gr.colorAttachments=$a,gr.depthAttachment=oa,gr.stencilAttachment=Fa,gr.depthStencilAttachment=Ka,bn.color=$a.map(pt),bn.depth=pt(oa),bn.stencil=pt(Fa),bn.depthStencil=pt(Ka),bn.width=gr.width,bn.height=gr.height,ge(gr),bn}function Ln(Cn,ta){Pt(Gr.next!==gr,"can not resize a framebuffer which is currently in use");var Kn=Math.max(Cn|0,1),ia=Math.max(ta|0||Kn,1);if(Kn===gr.width&&ia===gr.height)return bn;for(var pa=gr.colorAttachments,da=0;da<pa.length;++da)yt(pa[da],Kn,ia);return yt(gr.depthAttachment,Kn,ia),yt(gr.stencilAttachment,Kn,ia),yt(gr.depthStencilAttachment,Kn,ia),gr.width=bn.width=Kn,gr.height=bn.height=ia,ge(gr),bn}return bn(dr,pr),C(bn,{resize:Ln,_reglType:"framebuffer",_framebuffer:gr,destroy:function(){xe(gr),le(gr)},use:function(Cn){Gr.setFBO({framebuffer:bn},Cn)}})}function ir(dr){var pr=Array(6);function gr(Ln){var Cn;Pt(pr.indexOf(Gr.next)<0,"can not update framebuffer which is currently in use");var ta={color:null},Kn=0,ia=null,pa="rgba",da="uint8",Di=1;if(typeof Ln=="number")Kn=Ln|0;else if(!Ln)Kn=1;else{Pt.type(Ln,"object","invalid arguments for framebuffer");var ya=Ln;if("shape"in ya){var qi=ya.shape;Pt(Array.isArray(qi)&&qi.length>=2,"invalid shape for framebuffer"),Pt(qi[0]===qi[1],"cube framebuffer must be square"),Kn=qi[0]}else"radius"in ya&&(Kn=ya.radius|0),"width"in ya?(Kn=ya.width|0,"height"in ya&&Pt(ya.height===Kn,"must be square")):"height"in ya&&(Kn=ya.height|0);("color"in ya||"colors"in ya)&&(ia=ya.color||ya.colors,Array.isArray(ia)&&Pt(ia.length===1||we.webgl_draw_buffers,"multiple render targets not supported")),ia||("colorCount"in ya&&(Di=ya.colorCount|0,Pt(Di>0,"invalid color buffer count")),"colorType"in ya&&(Pt.oneOf(ya.colorType,En,"invalid color type"),da=ya.colorType),"colorFormat"in ya&&(pa=ya.colorFormat,Pt.oneOf(ya.colorFormat,vn,"invalid color format for texture"))),"depth"in ya&&(ta.depth=ya.depth),"stencil"in ya&&(ta.stencil=ya.stencil),"depthStencil"in ya&&(ta.depthStencil=ya.depthStencil)}var yi;if(ia)if(Array.isArray(ia))for(yi=[],Cn=0;Cn<ia.length;++Cn)yi[Cn]=ia[Cn];else yi=[ia];else{yi=Array(Di);var Ua={radius:Kn,format:pa,type:da};for(Cn=0;Cn<Di;++Cn)yi[Cn]=Dr.createCube(Ua)}for(ta.color=Array(yi.length),Cn=0;Cn<yi.length;++Cn){var Ci=yi[Cn];Pt(typeof Ci=="function"&&Ci._reglType==="textureCube","invalid cube map"),Kn=Kn||Ci.width,Pt(Ci.width===Kn&&Ci.height===Kn,"invalid cube map shape"),ta.color[Cn]={target:Nl,data:yi[Cn]}}for(Cn=0;Cn<6;++Cn){for(var Ji=0;Ji<yi.length;++Ji)ta.color[Ji].target=Nl+Cn;Cn>0&&(ta.depth=pr[0].depth,ta.stencil=pr[0].stencil,ta.depthStencil=pr[0].depthStencil),pr[Cn]?pr[Cn](ta):pr[Cn]=Be(ta)}return C(gr,{width:Kn,height:Kn,color:yi})}function bn(Ln){var Cn,ta=Ln|0;if(Pt(ta>0&&ta<=ze.maxCubeMapSize,"invalid radius for cube fbo"),ta===gr.width)return gr;var Kn=gr.color;for(Cn=0;Cn<Kn.length;++Cn)Kn[Cn].resize(ta);for(Cn=0;Cn<6;++Cn)pr[Cn].resize(ta);return gr.width=gr.height=ta,gr}return gr(dr),C(gr,{faces:pr,resize:bn,_reglType:"framebufferCube",destroy:function(){pr.forEach(function(Ln){Ln.destroy()})}})}function Yr(){Gr.cur=null,Gr.next=null,Gr.dirty=!0,xa(Nt).forEach(function(dr){dr.framebuffer=Lt.createFramebuffer(),ge(dr)})}return C(Gr,{getFramebuffer:function(dr){if(typeof dr=="function"&&dr._reglType==="framebuffer"){var pr=dr._framebuffer;if(pr instanceof jt)return pr}return null},create:Be,createCube:ir,clear:function(){xa(Nt).forEach(xe)},restore:Yr})}var sd=5126,Bl=34962;function Rc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=sd,this.offset=0,this.stride=0,this.divisor=0}function ud(Lt,we,ze,Dr,Jr){for(var Ar=ze.maxAttributes,Gr=new Array(Ar),vn=0;vn<Ar;++vn)Gr[vn]=new Rc;var mn=0,En={},yn={Record:Rc,scope:{},state:Gr,currentVAO:null,targetVAO:null,restore:v()?Nt:function(){},createVAO:jt,getVAO:Z,destroyBuffer:_n,setVAO:v()?it:pt,clear:v()?yt:function(){}};function _n(le){for(var xe=0;xe<Gr.length;++xe){var ge=Gr[xe];ge.buffer===le&&(Lt.disableVertexAttribArray(xe),ge.buffer=null)}}function v(){return we.oes_vertex_array_object}function N(){return we.angle_instanced_arrays}function Z(le){return typeof le=="function"&&le._vao?le._vao:null}function it(le){if(le!==yn.currentVAO){var xe=v();le?xe.bindVertexArrayOES(le.vao):xe.bindVertexArrayOES(null),yn.currentVAO=le}}function pt(le){if(le!==yn.currentVAO){if(le)le.bindAttrs();else for(var xe=N(),ge=0;ge<Gr.length;++ge){var Be=Gr[ge];Be.buffer?(Lt.enableVertexAttribArray(ge),Lt.vertexAttribPointer(ge,Be.size,Be.type,Be.normalized,Be.stride,Be.offfset),xe&&Be.divisor&&xe.vertexAttribDivisorANGLE(ge,Be.divisor)):(Lt.disableVertexAttribArray(ge),Lt.vertexAttrib4f(ge,Be.x,Be.y,Be.z,Be.w))}yn.currentVAO=le}}function yt(){xa(En).forEach(function(le){le.destroy()})}function At(){this.id=++mn,this.attributes=[];var le=v();le?this.vao=le.createVertexArrayOES():this.vao=null,En[this.id]=this,this.buffers=[]}At.prototype.bindAttrs=function(){for(var le=N(),xe=this.attributes,ge=0;ge<xe.length;++ge){var Be=xe[ge];Be.buffer?(Lt.enableVertexAttribArray(ge),Lt.bindBuffer(Bl,Be.buffer.buffer),Lt.vertexAttribPointer(ge,Be.size,Be.type,Be.normalized,Be.stride,Be.offset),le&&Be.divisor&&le.vertexAttribDivisorANGLE(ge,Be.divisor)):(Lt.disableVertexAttribArray(ge),Lt.vertexAttrib4f(ge,Be.x,Be.y,Be.z,Be.w))}for(var ir=xe.length;ir<Ar;++ir)Lt.disableVertexAttribArray(ir)},At.prototype.refresh=function(){var le=v();le&&(le.bindVertexArrayOES(this.vao),this.bindAttrs(),yn.currentVAO=this)},At.prototype.destroy=function(){if(this.vao){var le=v();this===yn.currentVAO&&(yn.currentVAO=null,le.bindVertexArrayOES(null)),le.deleteVertexArrayOES(this.vao),this.vao=null}En[this.id]&&(delete En[this.id],Dr.vaoCount-=1)};function Nt(){var le=v();le&&xa(En).forEach(function(xe){xe.refresh()})}function jt(le){var xe=new At;Dr.vaoCount+=1;function ge(Be){Pt(Array.isArray(Be),"arguments to vertex array constructor must be an array"),Pt(Be.length<Ar,"too many attributes"),Pt(Be.length>0,"must specify at least one attribute");var ir={},Yr=xe.attributes;Yr.length=Be.length;for(var dr=0;dr<Be.length;++dr){var pr=Be[dr],gr=Yr[dr]=new Rc,bn=pr.data||pr;if(Array.isArray(bn)||W(bn)||za(bn)){var Ln;xe.buffers[dr]&&(Ln=xe.buffers[dr],W(bn)&&Ln._buffer.byteLength>=bn.byteLength?Ln.subdata(bn):(Ln.destroy(),xe.buffers[dr]=null)),xe.buffers[dr]||(Ln=xe.buffers[dr]=Jr.create(pr,Bl,!1,!0)),gr.buffer=Jr.getBuffer(Ln),gr.size=gr.buffer.dimension|0,gr.normalized=!1,gr.type=gr.buffer.dtype,gr.offset=0,gr.stride=0,gr.divisor=0,gr.state=1,ir[dr]=1}else Jr.getBuffer(pr)?(gr.buffer=Jr.getBuffer(pr),gr.size=gr.buffer.dimension|0,gr.normalized=!1,gr.type=gr.buffer.dtype,gr.offset=0,gr.stride=0,gr.divisor=0,gr.state=1):Jr.getBuffer(pr.buffer)?(gr.buffer=Jr.getBuffer(pr.buffer),gr.size=(+pr.size||gr.buffer.dimension)|0,gr.normalized=!!pr.normalized||!1,"type"in pr?(Pt.parameter(pr.type,Ai,"invalid buffer type"),gr.type=Ai[pr.type]):gr.type=gr.buffer.dtype,gr.offset=(pr.offset||0)|0,gr.stride=(pr.stride||0)|0,gr.divisor=(pr.divisor||0)|0,gr.state=1,Pt(gr.size>=1&&gr.size<=4,"size must be between 1 and 4"),Pt(gr.offset>=0,"invalid offset"),Pt(gr.stride>=0&&gr.stride<=255,"stride must be between 0 and 255"),Pt(gr.divisor>=0,"divisor must be positive"),Pt(!gr.divisor||!!we.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in pr?(Pt(dr>0,"first attribute must not be a constant"),gr.x=+pr.x||0,gr.y=+pr.y||0,gr.z=+pr.z||0,gr.w=+pr.w||0,gr.state=2):Pt(!1,"invalid attribute spec for location "+dr)}for(var Cn=0;Cn<xe.buffers.length;++Cn)!ir[Cn]&&xe.buffers[Cn]&&(xe.buffers[Cn].destroy(),xe.buffers[Cn]=null);return xe.refresh(),ge}return ge.destroy=function(){for(var Be=0;Be<xe.buffers.length;++Be)xe.buffers[Be]&&xe.buffers[Be].destroy();xe.buffers.length=0,xe.destroy()},ge._vao=xe,ge._reglType="vao",ge(le)}return yn}var il=35632,wf=35633,ld=35718,Sf=35721;function Mf(Lt,we,ze,Dr){var Jr={},Ar={};function Gr(it,pt,yt,At){this.name=it,this.id=pt,this.location=yt,this.info=At}function vn(it,pt){for(var yt=0;yt<it.length;++yt)if(it[yt].id===pt.id){it[yt].location=pt.location;return}it.push(pt)}function mn(it,pt,yt){var At=it===il?Jr:Ar,Nt=At[pt];if(!Nt){var jt=we.str(pt);Nt=Lt.createShader(it),Lt.shaderSource(Nt,jt),Lt.compileShader(Nt),Pt.shaderError(Lt,Nt,jt,it,yt),At[pt]=Nt}return Nt}var En={},yn=[],_n=0;function v(it,pt){this.id=_n++,this.fragId=it,this.vertId=pt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Dr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function N(it,pt,yt){var At,Nt,jt=mn(il,it.fragId),le=mn(wf,it.vertId),xe=it.program=Lt.createProgram();if(Lt.attachShader(xe,jt),Lt.attachShader(xe,le),yt)for(At=0;At<yt.length;++At){var ge=yt[At];Lt.bindAttribLocation(xe,ge[0],ge[1])}Lt.linkProgram(xe),Pt.linkError(Lt,xe,we.str(it.fragId),we.str(it.vertId),pt);var Be=Lt.getProgramParameter(xe,ld);Dr.profile&&(it.stats.uniformsCount=Be);var ir=it.uniforms;for(At=0;At<Be;++At)if(Nt=Lt.getActiveUniform(xe,At),Nt)if(Nt.size>1)for(var Yr=0;Yr<Nt.size;++Yr){var dr=Nt.name.replace("[0]","["+Yr+"]");vn(ir,new Gr(dr,we.id(dr),Lt.getUniformLocation(xe,dr),Nt))}else vn(ir,new Gr(Nt.name,we.id(Nt.name),Lt.getUniformLocation(xe,Nt.name),Nt));var pr=Lt.getProgramParameter(xe,Sf);Dr.profile&&(it.stats.attributesCount=pr);var gr=it.attributes;for(At=0;At<pr;++At)Nt=Lt.getActiveAttrib(xe,At),Nt&&vn(gr,new Gr(Nt.name,we.id(Nt.name),Lt.getAttribLocation(xe,Nt.name),Nt))}Dr.profile&&(ze.getMaxUniformsCount=function(){var it=0;return yn.forEach(function(pt){pt.stats.uniformsCount>it&&(it=pt.stats.uniformsCount)}),it},ze.getMaxAttributesCount=function(){var it=0;return yn.forEach(function(pt){pt.stats.attributesCount>it&&(it=pt.stats.attributesCount)}),it});function Z(){Jr={},Ar={};for(var it=0;it<yn.length;++it)N(yn[it],null,yn[it].attributes.map(function(pt){return[pt.location,pt.name]}))}return{clear:function(){var it=Lt.deleteShader.bind(Lt);xa(Jr).forEach(it),Jr={},xa(Ar).forEach(it),Ar={},yn.forEach(function(pt){Lt.deleteProgram(pt.program)}),yn.length=0,En={},ze.shaderCount=0},program:function(it,pt,yt,At){Pt.command(it>=0,"missing vertex shader",yt),Pt.command(pt>=0,"missing fragment shader",yt);var Nt=En[pt];Nt||(Nt=En[pt]={});var jt=Nt[it];if(jt&&(jt.refCount++,!At))return jt;var le=new v(pt,it);return ze.shaderCount++,N(le,yt,At),jt||(Nt[it]=le),yn.push(le),C(le,{destroy:function(){if(le.refCount--,le.refCount<=0){Lt.deleteProgram(le.program);var xe=yn.indexOf(le);yn.splice(xe,1),ze.shaderCount--}Nt[le.vertId].refCount<=0&&(Lt.deleteShader(Ar[le.vertId]),delete Ar[le.vertId],delete En[le.fragId][le.vertId]),Object.keys(En[le.fragId]).length||(Lt.deleteShader(Jr[le.fragId]),delete Jr[le.fragId],delete En[le.fragId])}})},restore:Z,shader:mn,frag:-1,vert:-1}}var ol=6408,Cu=5121,Tu=3333,Fl=5126;function zl(Lt,we,ze,Dr,Jr,Ar,Gr){function vn(yn){var _n;we.next===null?(Pt(Jr.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),_n=Cu):(Pt(we.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),_n=we.next.colorAttachments[0].texture._texture.type,Ar.oes_texture_float?(Pt(_n===Cu||_n===Fl,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),_n===Fl&&Pt(Gr.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):Pt(_n===Cu,"Reading from a framebuffer is only allowed for the type 'uint8'"));var v=0,N=0,Z=Dr.framebufferWidth,it=Dr.framebufferHeight,pt=null;W(yn)?pt=yn:yn&&(Pt.type(yn,"object","invalid arguments to regl.read()"),v=yn.x|0,N=yn.y|0,Pt(v>=0&&v<Dr.framebufferWidth,"invalid x offset for regl.read"),Pt(N>=0&&N<Dr.framebufferHeight,"invalid y offset for regl.read"),Z=(yn.width||Dr.framebufferWidth-v)|0,it=(yn.height||Dr.framebufferHeight-N)|0,pt=yn.data||null),pt&&(_n===Cu?Pt(pt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):_n===Fl&&Pt(pt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Pt(Z>0&&Z+v<=Dr.framebufferWidth,"invalid width for read pixels"),Pt(it>0&&it+N<=Dr.framebufferHeight,"invalid height for read pixels"),ze();var yt=Z*it*4;return pt||(_n===Cu?pt=new Uint8Array(yt):_n===Fl&&(pt=pt||new Float32Array(yt))),Pt.isTypedArray(pt,"data buffer for regl.read() must be a typedarray"),Pt(pt.byteLength>=yt,"data buffer for regl.read() too small"),Lt.pixelStorei(Tu,4),Lt.readPixels(v,N,Z,it,ol,_n,pt),pt}function mn(yn){var _n;return we.setFBO({framebuffer:yn.framebuffer},function(){_n=vn(yn)}),_n}function En(yn){return!yn||!("framebuffer"in yn)?vn(yn):mn(yn)}return En}function Co(Lt){return Array.prototype.slice.call(Lt)}function uu(Lt){return Co(Lt).join("")}function _f(){var Lt=0,we=[],ze=[];function Dr(_n){for(var v=0;v<ze.length;++v)if(ze[v]===_n)return we[v];var N="g"+Lt++;return we.push(N),ze.push(_n),N}function Jr(){var _n=[];function v(){_n.push.apply(_n,Co(arguments))}var N=[];function Z(){var it="v"+Lt++;return N.push(it),arguments.length>0&&(_n.push(it,"="),_n.push.apply(_n,Co(arguments)),_n.push(";")),it}return C(v,{def:Z,toString:function(){return uu([N.length>0?"var "+N.join(",")+";":"",uu(_n)])}})}function Ar(){var _n=Jr(),v=Jr(),N=_n.toString,Z=v.toString;function it(pt,yt){v(pt,yt,"=",_n.def(pt,yt),";")}return C(function(){_n.apply(_n,Co(arguments))},{def:_n.def,entry:_n,exit:v,save:it,set:function(pt,yt,At){it(pt,yt),_n(pt,yt,"=",At,";")},toString:function(){return N()+Z()}})}function Gr(){var _n=uu(arguments),v=Ar(),N=Ar(),Z=v.toString,it=N.toString;return C(v,{then:function(){return v.apply(v,Co(arguments)),this},else:function(){return N.apply(N,Co(arguments)),this},toString:function(){var pt=it();return pt&&(pt="else{"+pt+"}"),uu(["if(",_n,"){",Z(),"}",pt])}})}var vn=Jr(),mn={};function En(_n,v){var N=[];function Z(){var Nt="a"+N.length;return N.push(Nt),Nt}v=v||0;for(var it=0;it<v;++it)Z();var pt=Ar(),yt=pt.toString,At=mn[_n]=C(pt,{arg:Z,toString:function(){return uu(["function(",N.join(),"){",yt(),"}"])}});return At}function yn(){var _n=['"use strict";',vn,"return {"];Object.keys(mn).forEach(function(Z){_n.push('"',Z,'":',mn[Z].toString(),",")}),_n.push("}");var v=uu(_n).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),N=Function.apply(null,we.concat(v));return N.apply(null,ze)}return{global:vn,link:Dr,block:Jr,proc:En,scope:Ar,cond:Gr,compile:yn}}var lu="xyzw".split(""),sl=5121,ss=1,Ds=2,Gl=0,Ul=1,kc=2,rs=3,ul=4,ll=5,Wl=6,Bc="dither",Cf="blend.enable",Tf="blend.color",cl="blend.equation",Yl="blend.func",Af="depth.enable",cd="depth.func",Of="depth.range",Au="depth.mask",Xl="colorMask",$e="cull.enable",fd="cull.face",fl="frontFace",dl="lineWidth",Fc="polygonOffset.enable",zc="polygonOffset.offset",Gc="sample.alpha",If="sample.enable",cu="sample.coverage",jl="stencil.enable",hl="stencil.mask",Ou="stencil.func",wo="stencil.opFront",Iu="stencil.opBack",Uc="scissor.enable",Xs="scissor.box",Ms="viewport",Du="profile",fu="framebuffer",Ps="vert",Pu="frag",du="elements",js="primitive",Ls="count",Vl="offset",Hl="instances",Lu="vao",Zl="Width",Kl="Height",Nu=fu+Zl,us=fu+Kl,$l=Ms+Zl,Ns=Ms+Kl,Ql="drawingBuffer",Wc=Ql+Zl,ql=Ql+Kl,Df=[Yl,cl,Ou,wo,Iu,cu,Ms,Xs,zc],hu=34962,Yc=34963,Jl=35632,dd=35633,Pf=3553,Lf=34067,hd=2884,Nf=3042,Rf=3024,vd=2960,kf=2929,vl=3089,Bf=32823,Ru=32926,Xc=32928,vu=5126,tc=35664,ec=35665,pl=35666,Vs=5124,ku=35667,Bu=35668,gl=35669,rc=35670,nc=35671,ml=35672,ac=35673,ic=35674,yl=35675,Fu=35676,zu=35678,Gu=35680,Ff=4,bl=1028,pu=1029,zf=2304,xl=2305,pd=32775,Gf=32776,Ud=519,Rs=7680,Uf=0,Wf=1,Yf=32774,Xf=513,jc=36160,gd=36064,No={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Vc=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Uu={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ks={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},jf={frag:Jl,vert:dd},oc={cw:zf,ccw:xl};function El(Lt){return Array.isArray(Lt)||W(Lt)||za(Lt)}function ms(Lt){return Lt.sort(function(we,ze){return we===Ms?-1:ze===Ms?1:we<ze?-1:1})}function Yo(Lt,we,ze,Dr){this.thisDep=Lt,this.contextDep=we,this.propDep=ze,this.append=Dr}function Bs(Lt){return Lt&&!(Lt.thisDep||Lt.contextDep||Lt.propDep)}function no(Lt){return new Yo(!1,!1,!1,Lt)}function mi(Lt,we){var ze=Lt.type;if(ze===Gl){var Dr=Lt.data.length;return new Yo(!0,Dr>=1,Dr>=2,we)}else if(ze===ul){var Jr=Lt.data;return new Yo(Jr.thisDep,Jr.contextDep,Jr.propDep,we)}else{if(ze===ll)return new Yo(!1,!1,!1,we);if(ze===Wl){for(var Ar=!1,Gr=!1,vn=!1,mn=0;mn<Lt.data.length;++mn){var En=Lt.data[mn];if(En.type===Ul)vn=!0;else if(En.type===kc)Gr=!0;else if(En.type===rs)Ar=!0;else if(En.type===Gl){Ar=!0;var yn=En.data;yn>=1&&(Gr=!0),yn>=2&&(vn=!0)}else En.type===ul&&(Ar=Ar||En.data.thisDep,Gr=Gr||En.data.contextDep,vn=vn||En.data.propDep)}return new Yo(Ar,Gr,vn,we)}else return new Yo(ze===rs,ze===kc,ze===Ul,we)}}var gu=new Yo(!1,!1,!1,function(){});function Wu(Lt,we,ze,Dr,Jr,Ar,Gr,vn,mn,En,yn,_n,v,N,Z){var it=En.Record,pt={add:32774,subtract:32778,"reverse subtract":32779};ze.ext_blend_minmax&&(pt.min=pd,pt.max=Gf);var yt=ze.angle_instanced_arrays,At=ze.webgl_draw_buffers,Nt={dirty:!0,profile:Z.profile},jt={},le=[],xe={},ge={};function Be(Oe){return Oe.replace(".","_")}function ir(Oe,me,Ze){var yr=Be(Oe);le.push(Oe),jt[yr]=Nt[yr]=!!Ze,xe[yr]=me}function Yr(Oe,me,Ze){var yr=Be(Oe);le.push(Oe),Array.isArray(Ze)?(Nt[yr]=Ze.slice(),jt[yr]=Ze.slice()):Nt[yr]=jt[yr]=Ze,ge[yr]=me}ir(Bc,Rf),ir(Cf,Nf),Yr(Tf,"blendColor",[0,0,0,0]),Yr(cl,"blendEquationSeparate",[Yf,Yf]),Yr(Yl,"blendFuncSeparate",[Wf,Uf,Wf,Uf]),ir(Af,kf,!0),Yr(cd,"depthFunc",Xf),Yr(Of,"depthRange",[0,1]),Yr(Au,"depthMask",!0),Yr(Xl,Xl,[!0,!0,!0,!0]),ir($e,hd),Yr(fd,"cullFace",pu),Yr(fl,fl,xl),Yr(dl,dl,1),ir(Fc,Bf),Yr(zc,"polygonOffset",[0,0]),ir(Gc,Ru),ir(If,Xc),Yr(cu,"sampleCoverage",[1,!1]),ir(jl,vd),Yr(hl,"stencilMask",-1),Yr(Ou,"stencilFunc",[Ud,0,-1]),Yr(wo,"stencilOpSeparate",[bl,Rs,Rs,Rs]),Yr(Iu,"stencilOpSeparate",[pu,Rs,Rs,Rs]),ir(Uc,vl),Yr(Xs,"scissor",[0,0,Lt.drawingBufferWidth,Lt.drawingBufferHeight]),Yr(Ms,Ms,[0,0,Lt.drawingBufferWidth,Lt.drawingBufferHeight]);var dr={gl:Lt,context:v,strings:we,next:jt,current:Nt,draw:_n,elements:Ar,buffer:Jr,shader:yn,attributes:En.state,vao:En,uniforms:mn,framebuffer:vn,extensions:ze,timer:N,isBufferArgs:El},pr={primTypes:Ea,compareFuncs:Uu,blendFuncs:No,blendEquations:pt,stencilOps:ks,glTypes:Ai,orientationType:oc};Pt.optional(function(){dr.isArrayLike=Ma}),At&&(pr.backBuffer=[pu],pr.drawBuffer=Dn(Dr.maxDrawbuffers,function(Oe){return Oe===0?[0]:Dn(Oe,function(me){return gd+me})}));var gr=0;function bn(){var Oe=_f(),me=Oe.link,Ze=Oe.global;Oe.id=gr++,Oe.batchId="0";var yr=me(dr),Er=Oe.shared={props:"a0"};Object.keys(dr).forEach(function(Ke){Er[Ke]=Ze.def(yr,".",Ke)}),Pt.optional(function(){Oe.CHECK=me(Pt),Oe.commandStr=Pt.guessCommand(),Oe.command=me(Oe.commandStr),Oe.assert=function(Ke,Ce,hr){Ke("if(!(",Ce,"))",this.CHECK,".commandRaise(",me(hr),",",this.command,");")},pr.invalidBlendCombinations=Vc});var er=Oe.next={},Qe=Oe.current={};Object.keys(ge).forEach(function(Ke){Array.isArray(Nt[Ke])&&(er[Ke]=Ze.def(Er.next,".",Ke),Qe[Ke]=Ze.def(Er.current,".",Ke))});var lr=Oe.constants={};Object.keys(pr).forEach(function(Ke){lr[Ke]=Ze.def(JSON.stringify(pr[Ke]))}),Oe.invoke=function(Ke,Ce){switch(Ce.type){case Gl:var hr=["this",Er.context,Er.props,Oe.batchId];return Ke.def(me(Ce.data),".call(",hr.slice(0,Math.max(Ce.data.length+1,4)),")");case Ul:return Ke.def(Er.props,Ce.data);case kc:return Ke.def(Er.context,Ce.data);case rs:return Ke.def("this",Ce.data);case ul:return Ce.data.append(Oe,Ke),Ce.data.ref;case ll:return Ce.data.toString();case Wl:return Ce.data.map(function(wr){return Oe.invoke(Ke,wr)})}},Oe.attribCache={};var Ie={};return Oe.scopeAttrib=function(Ke){var Ce=we.id(Ke);if(Ce in Ie)return Ie[Ce];var hr=En.scope[Ce];hr||(hr=En.scope[Ce]=new it);var wr=Ie[Ce]=me(hr);return wr},Oe}function Ln(Oe){var me=Oe.static,Ze=Oe.dynamic,yr;if(Du in me){var Er=!!me[Du];yr=no(function(Qe,lr){return Er}),yr.enable=Er}else if(Du in Ze){var er=Ze[Du];yr=mi(er,function(Qe,lr){return Qe.invoke(lr,er)})}return yr}function Cn(Oe,me){var Ze=Oe.static,yr=Oe.dynamic;if(fu in Ze){var Er=Ze[fu];return Er?(Er=vn.getFramebuffer(Er),Pt.command(Er,"invalid framebuffer object"),no(function(Qe,lr){var Ie=Qe.link(Er),Ke=Qe.shared;lr.set(Ke.framebuffer,".next",Ie);var Ce=Ke.context;return lr.set(Ce,"."+Nu,Ie+".width"),lr.set(Ce,"."+us,Ie+".height"),Ie})):no(function(Qe,lr){var Ie=Qe.shared;lr.set(Ie.framebuffer,".next","null");var Ke=Ie.context;return lr.set(Ke,"."+Nu,Ke+"."+Wc),lr.set(Ke,"."+us,Ke+"."+ql),"null"})}else if(fu in yr){var er=yr[fu];return mi(er,function(Qe,lr){var Ie=Qe.invoke(lr,er),Ke=Qe.shared,Ce=Ke.framebuffer,hr=lr.def(Ce,".getFramebuffer(",Ie,")");Pt.optional(function(){Qe.assert(lr,"!"+Ie+"||"+hr,"invalid framebuffer object")}),lr.set(Ce,".next",hr);var wr=Ke.context;return lr.set(wr,"."+Nu,hr+"?"+hr+".width:"+wr+"."+Wc),lr.set(wr,"."+us,hr+"?"+hr+".height:"+wr+"."+ql),hr})}else return null}function ta(Oe,me,Ze){var yr=Oe.static,Er=Oe.dynamic;function er(Ie){if(Ie in yr){var Ke=yr[Ie];Pt.commandType(Ke,"object","invalid "+Ie,Ze.commandStr);var Ce=!0,hr=Ke.x|0,wr=Ke.y|0,$r,en;return"width"in Ke?($r=Ke.width|0,Pt.command($r>=0,"invalid "+Ie,Ze.commandStr)):Ce=!1,"height"in Ke?(en=Ke.height|0,Pt.command(en>=0,"invalid "+Ie,Ze.commandStr)):Ce=!1,new Yo(!Ce&&me&&me.thisDep,!Ce&&me&&me.contextDep,!Ce&&me&&me.propDep,function(ra,Oa){var Hn=ra.shared.context,la=$r;"width"in Ke||(la=Oa.def(Hn,".",Nu,"-",hr));var _a=en;return"height"in Ke||(_a=Oa.def(Hn,".",us,"-",wr)),[hr,wr,la,_a]})}else if(Ie in Er){var Xr=Er[Ie],wn=mi(Xr,function(ra,Oa){var Hn=ra.invoke(Oa,Xr);Pt.optional(function(){ra.assert(Oa,Hn+"&&typeof "+Hn+'==="object"',"invalid "+Ie)});var la=ra.shared.context,_a=Oa.def(Hn,".x|0"),ei=Oa.def(Hn,".y|0"),Vi=Oa.def('"width" in ',Hn,"?",Hn,".width|0:","(",la,".",Nu,"-",_a,")"),ns=Oa.def('"height" in ',Hn,"?",Hn,".height|0:","(",la,".",us,"-",ei,")");return Pt.optional(function(){ra.assert(Oa,Vi+">=0&&"+ns+">=0","invalid "+Ie)}),[_a,ei,Vi,ns]});return me&&(wn.thisDep=wn.thisDep||me.thisDep,wn.contextDep=wn.contextDep||me.contextDep,wn.propDep=wn.propDep||me.propDep),wn}else return me?new Yo(me.thisDep,me.contextDep,me.propDep,function(ra,Oa){var Hn=ra.shared.context;return[0,0,Oa.def(Hn,".",Nu),Oa.def(Hn,".",us)]}):null}var Qe=er(Ms);if(Qe){var lr=Qe;Qe=new Yo(Qe.thisDep,Qe.contextDep,Qe.propDep,function(Ie,Ke){var Ce=lr.append(Ie,Ke),hr=Ie.shared.context;return Ke.set(hr,"."+$l,Ce[2]),Ke.set(hr,"."+Ns,Ce[3]),Ce})}return{viewport:Qe,scissor_box:er(Xs)}}function Kn(Oe,me){var Ze=Oe.static,yr=typeof Ze[Pu]=="string"&&typeof Ze[Ps]=="string";if(yr){if(Object.keys(me.dynamic).length>0)return null;var Er=me.static,er=Object.keys(Er);if(er.length>0&&typeof Er[er[0]]=="number"){for(var Qe=[],lr=0;lr<er.length;++lr)Pt(typeof Er[er[lr]]=="number","must specify all vertex attribute locations when using vaos"),Qe.push([Er[er[lr]]|0,er[lr]]);return Qe}}return null}function ia(Oe,me,Ze){var yr=Oe.static,Er=Oe.dynamic;function er(Ce){if(Ce in yr){var hr=we.id(yr[Ce]);Pt.optional(function(){yn.shader(jf[Ce],hr,Pt.guessCommand())});var wr=no(function(){return hr});return wr.id=hr,wr}else if(Ce in Er){var $r=Er[Ce];return mi($r,function(en,Xr){var wn=en.invoke(Xr,$r),ra=Xr.def(en.shared.strings,".id(",wn,")");return Pt.optional(function(){Xr(en.shared.shader,".shader(",jf[Ce],",",ra,",",en.command,");")}),ra})}return null}var Qe=er(Pu),lr=er(Ps),Ie=null,Ke;return Bs(Qe)&&Bs(lr)?(Ie=yn.program(lr.id,Qe.id,null,Ze),Ke=no(function(Ce,hr){return Ce.link(Ie)})):Ke=new Yo(Qe&&Qe.thisDep||lr&&lr.thisDep,Qe&&Qe.contextDep||lr&&lr.contextDep,Qe&&Qe.propDep||lr&&lr.propDep,function(Ce,hr){var wr=Ce.shared.shader,$r;Qe?$r=Qe.append(Ce,hr):$r=hr.def(wr,".",Pu);var en;lr?en=lr.append(Ce,hr):en=hr.def(wr,".",Ps);var Xr=wr+".program("+en+","+$r;return Pt.optional(function(){Xr+=","+Ce.command}),hr.def(Xr+")")}),{frag:Qe,vert:lr,progVar:Ke,program:Ie}}function pa(Oe,me){var Ze=Oe.static,yr=Oe.dynamic;function Er(){if(du in Ze){var Ce=Ze[du];El(Ce)?Ce=Ar.getElements(Ar.create(Ce,!0)):Ce&&(Ce=Ar.getElements(Ce),Pt.command(Ce,"invalid elements",me.commandStr));var hr=no(function($r,en){if(Ce){var Xr=$r.link(Ce);return $r.ELEMENTS=Xr,Xr}return $r.ELEMENTS=null,null});return hr.value=Ce,hr}else if(du in yr){var wr=yr[du];return mi(wr,function($r,en){var Xr=$r.shared,wn=Xr.isBufferArgs,ra=Xr.elements,Oa=$r.invoke(en,wr),Hn=en.def("null"),la=en.def(wn,"(",Oa,")"),_a=$r.cond(la).then(Hn,"=",ra,".createStream(",Oa,");").else(Hn,"=",ra,".getElements(",Oa,");");return Pt.optional(function(){$r.assert(_a.else,"!"+Oa+"||"+Hn,"invalid elements")}),en.entry(_a),en.exit($r.cond(la).then(ra,".destroyStream(",Hn,");")),$r.ELEMENTS=Hn,Hn})}return null}var er=Er();function Qe(){if(js in Ze){var Ce=Ze[js];return Pt.commandParameter(Ce,Ea,"invalid primitve",me.commandStr),no(function(wr,$r){return Ea[Ce]})}else if(js in yr){var hr=yr[js];return mi(hr,function(wr,$r){var en=wr.constants.primTypes,Xr=wr.invoke($r,hr);return Pt.optional(function(){wr.assert($r,Xr+" in "+en,"invalid primitive, must be one of "+Object.keys(Ea))}),$r.def(en,"[",Xr,"]")})}else if(er)return Bs(er)?er.value?no(function(wr,$r){return $r.def(wr.ELEMENTS,".primType")}):no(function(){return Ff}):new Yo(er.thisDep,er.contextDep,er.propDep,function(wr,$r){var en=wr.ELEMENTS;return $r.def(en,"?",en,".primType:",Ff)});return null}function lr(Ce,hr){if(Ce in Ze){var wr=Ze[Ce]|0;return Pt.command(!hr||wr>=0,"invalid "+Ce,me.commandStr),no(function(en,Xr){return hr&&(en.OFFSET=wr),wr})}else if(Ce in yr){var $r=yr[Ce];return mi($r,function(en,Xr){var wn=en.invoke(Xr,$r);return hr&&(en.OFFSET=wn,Pt.optional(function(){en.assert(Xr,wn+">=0","invalid "+Ce)})),wn})}else if(hr&&er)return no(function(en,Xr){return en.OFFSET="0",0});return null}var Ie=lr(Vl,!0);function Ke(){if(Ls in Ze){var Ce=Ze[Ls]|0;return Pt.command(typeof Ce=="number"&&Ce>=0,"invalid vertex count",me.commandStr),no(function(){return Ce})}else if(Ls in yr){var hr=yr[Ls];return mi(hr,function(en,Xr){var wn=en.invoke(Xr,hr);return Pt.optional(function(){en.assert(Xr,"typeof "+wn+'==="number"&&'+wn+">=0&&"+wn+"===("+wn+"|0)","invalid vertex count")}),wn})}else if(er)if(Bs(er)){if(er)return Ie?new Yo(Ie.thisDep,Ie.contextDep,Ie.propDep,function(en,Xr){var wn=Xr.def(en.ELEMENTS,".vertCount-",en.OFFSET);return Pt.optional(function(){en.assert(Xr,wn+">=0","invalid vertex offset/element buffer too small")}),wn}):no(function(en,Xr){return Xr.def(en.ELEMENTS,".vertCount")});var wr=no(function(){return-1});return Pt.optional(function(){wr.MISSING=!0}),wr}else{var $r=new Yo(er.thisDep||Ie.thisDep,er.contextDep||Ie.contextDep,er.propDep||Ie.propDep,function(en,Xr){var wn=en.ELEMENTS;return en.OFFSET?Xr.def(wn,"?",wn,".vertCount-",en.OFFSET,":-1"):Xr.def(wn,"?",wn,".vertCount:-1")});return Pt.optional(function(){$r.DYNAMIC=!0}),$r}return null}return{elements:er,primitive:Qe(),count:Ke(),instances:lr(Hl,!1),offset:Ie}}function da(Oe,me){var Ze=Oe.static,yr=Oe.dynamic,Er={};return le.forEach(function(er){var Qe=Be(er);function lr(Ie,Ke){if(er in Ze){var Ce=Ie(Ze[er]);Er[Qe]=no(function(){return Ce})}else if(er in yr){var hr=yr[er];Er[Qe]=mi(hr,function(wr,$r){return Ke(wr,$r,wr.invoke($r,hr))})}}switch(er){case $e:case Cf:case Bc:case jl:case Af:case Uc:case Fc:case Gc:case If:case Au:return lr(function(Ie){return Pt.commandType(Ie,"boolean",er,me.commandStr),Ie},function(Ie,Ke,Ce){return Pt.optional(function(){Ie.assert(Ke,"typeof "+Ce+'==="boolean"',"invalid flag "+er,Ie.commandStr)}),Ce});case cd:return lr(function(Ie){return Pt.commandParameter(Ie,Uu,"invalid "+er,me.commandStr),Uu[Ie]},function(Ie,Ke,Ce){var hr=Ie.constants.compareFuncs;return Pt.optional(function(){Ie.assert(Ke,Ce+" in "+hr,"invalid "+er+", must be one of "+Object.keys(Uu))}),Ke.def(hr,"[",Ce,"]")});case Of:return lr(function(Ie){return Pt.command(Ma(Ie)&&Ie.length===2&&typeof Ie[0]=="number"&&typeof Ie[1]=="number"&&Ie[0]<=Ie[1],"depth range is 2d array",me.commandStr),Ie},function(Ie,Ke,Ce){Pt.optional(function(){Ie.assert(Ke,Ie.shared.isArrayLike+"("+Ce+")&&"+Ce+".length===2&&typeof "+Ce+'[0]==="number"&&typeof '+Ce+'[1]==="number"&&'+Ce+"[0]<="+Ce+"[1]","depth range must be a 2d array")});var hr=Ke.def("+",Ce,"[0]"),wr=Ke.def("+",Ce,"[1]");return[hr,wr]});case Yl:return lr(function(Ie){Pt.commandType(Ie,"object","blend.func",me.commandStr);var Ke="srcRGB"in Ie?Ie.srcRGB:Ie.src,Ce="srcAlpha"in Ie?Ie.srcAlpha:Ie.src,hr="dstRGB"in Ie?Ie.dstRGB:Ie.dst,wr="dstAlpha"in Ie?Ie.dstAlpha:Ie.dst;return Pt.commandParameter(Ke,No,Qe+".srcRGB",me.commandStr),Pt.commandParameter(Ce,No,Qe+".srcAlpha",me.commandStr),Pt.commandParameter(hr,No,Qe+".dstRGB",me.commandStr),Pt.commandParameter(wr,No,Qe+".dstAlpha",me.commandStr),Pt.command(Vc.indexOf(Ke+", "+hr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Ke+", "+hr+")",me.commandStr),[No[Ke],No[hr],No[Ce],No[wr]]},function(Ie,Ke,Ce){var hr=Ie.constants.blendFuncs;Pt.optional(function(){Ie.assert(Ke,Ce+"&&typeof "+Ce+'==="object"',"invalid blend func, must be an object")});function wr(Hn,la){var _a=Ke.def('"',Hn,la,'" in ',Ce,"?",Ce,".",Hn,la,":",Ce,".",Hn);return Pt.optional(function(){Ie.assert(Ke,_a+" in "+hr,"invalid "+er+"."+Hn+la+", must be one of "+Object.keys(No))}),_a}var $r=wr("src","RGB"),en=wr("dst","RGB");Pt.optional(function(){var Hn=Ie.constants.invalidBlendCombinations;Ie.assert(Ke,Hn+".indexOf("+$r+'+", "+'+en+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Xr=Ke.def(hr,"[",$r,"]"),wn=Ke.def(hr,"[",wr("src","Alpha"),"]"),ra=Ke.def(hr,"[",en,"]"),Oa=Ke.def(hr,"[",wr("dst","Alpha"),"]");return[Xr,ra,wn,Oa]});case cl:return lr(function(Ie){if(typeof Ie=="string")return Pt.commandParameter(Ie,pt,"invalid "+er,me.commandStr),[pt[Ie],pt[Ie]];if(typeof Ie=="object")return Pt.commandParameter(Ie.rgb,pt,er+".rgb",me.commandStr),Pt.commandParameter(Ie.alpha,pt,er+".alpha",me.commandStr),[pt[Ie.rgb],pt[Ie.alpha]];Pt.commandRaise("invalid blend.equation",me.commandStr)},function(Ie,Ke,Ce){var hr=Ie.constants.blendEquations,wr=Ke.def(),$r=Ke.def(),en=Ie.cond("typeof ",Ce,'==="string"');return Pt.optional(function(){function Xr(wn,ra,Oa){Ie.assert(wn,Oa+" in "+hr,"invalid "+ra+", must be one of "+Object.keys(pt))}Xr(en.then,er,Ce),Ie.assert(en.else,Ce+"&&typeof "+Ce+'==="object"',"invalid "+er),Xr(en.else,er+".rgb",Ce+".rgb"),Xr(en.else,er+".alpha",Ce+".alpha")}),en.then(wr,"=",$r,"=",hr,"[",Ce,"];"),en.else(wr,"=",hr,"[",Ce,".rgb];",$r,"=",hr,"[",Ce,".alpha];"),Ke(en),[wr,$r]});case Tf:return lr(function(Ie){return Pt.command(Ma(Ie)&&Ie.length===4,"blend.color must be a 4d array",me.commandStr),Dn(4,function(Ke){return+Ie[Ke]})},function(Ie,Ke,Ce){return Pt.optional(function(){Ie.assert(Ke,Ie.shared.isArrayLike+"("+Ce+")&&"+Ce+".length===4","blend.color must be a 4d array")}),Dn(4,function(hr){return Ke.def("+",Ce,"[",hr,"]")})});case hl:return lr(function(Ie){return Pt.commandType(Ie,"number",Qe,me.commandStr),Ie|0},function(Ie,Ke,Ce){return Pt.optional(function(){Ie.assert(Ke,"typeof "+Ce+'==="number"',"invalid stencil.mask")}),Ke.def(Ce,"|0")});case Ou:return lr(function(Ie){Pt.commandType(Ie,"object",Qe,me.commandStr);var Ke=Ie.cmp||"keep",Ce=Ie.ref||0,hr="mask"in Ie?Ie.mask:-1;return Pt.commandParameter(Ke,Uu,er+".cmp",me.commandStr),Pt.commandType(Ce,"number",er+".ref",me.commandStr),Pt.commandType(hr,"number",er+".mask",me.commandStr),[Uu[Ke],Ce,hr]},function(Ie,Ke,Ce){var hr=Ie.constants.compareFuncs;Pt.optional(function(){function Xr(){Ie.assert(Ke,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Xr(Ce+"&&typeof ",Ce,'==="object"'),Xr('!("cmp" in ',Ce,")||(",Ce,".cmp in ",hr,")")});var wr=Ke.def('"cmp" in ',Ce,"?",hr,"[",Ce,".cmp]",":",Rs),$r=Ke.def(Ce,".ref|0"),en=Ke.def('"mask" in ',Ce,"?",Ce,".mask|0:-1");return[wr,$r,en]});case wo:case Iu:return lr(function(Ie){Pt.commandType(Ie,"object",Qe,me.commandStr);var Ke=Ie.fail||"keep",Ce=Ie.zfail||"keep",hr=Ie.zpass||"keep";return Pt.commandParameter(Ke,ks,er+".fail",me.commandStr),Pt.commandParameter(Ce,ks,er+".zfail",me.commandStr),Pt.commandParameter(hr,ks,er+".zpass",me.commandStr),[er===Iu?pu:bl,ks[Ke],ks[Ce],ks[hr]]},function(Ie,Ke,Ce){var hr=Ie.constants.stencilOps;Pt.optional(function(){Ie.assert(Ke,Ce+"&&typeof "+Ce+'==="object"',"invalid "+er)});function wr($r){return Pt.optional(function(){Ie.assert(Ke,'!("'+$r+'" in '+Ce+")||("+Ce+"."+$r+" in "+hr+")","invalid "+er+"."+$r+", must be one of "+Object.keys(ks))}),Ke.def('"',$r,'" in ',Ce,"?",hr,"[",Ce,".",$r,"]:",Rs)}return[er===Iu?pu:bl,wr("fail"),wr("zfail"),wr("zpass")]});case zc:return lr(function(Ie){Pt.commandType(Ie,"object",Qe,me.commandStr);var Ke=Ie.factor|0,Ce=Ie.units|0;return Pt.commandType(Ke,"number",Qe+".factor",me.commandStr),Pt.commandType(Ce,"number",Qe+".units",me.commandStr),[Ke,Ce]},function(Ie,Ke,Ce){Pt.optional(function(){Ie.assert(Ke,Ce+"&&typeof "+Ce+'==="object"',"invalid "+er)});var hr=Ke.def(Ce,".factor|0"),wr=Ke.def(Ce,".units|0");return[hr,wr]});case fd:return lr(function(Ie){var Ke=0;return Ie==="front"?Ke=bl:Ie==="back"&&(Ke=pu),Pt.command(!!Ke,Qe,me.commandStr),Ke},function(Ie,Ke,Ce){return Pt.optional(function(){Ie.assert(Ke,Ce+'==="front"||'+Ce+'==="back"',"invalid cull.face")}),Ke.def(Ce,'==="front"?',bl,":",pu)});case dl:return lr(function(Ie){return Pt.command(typeof Ie=="number"&&Ie>=Dr.lineWidthDims[0]&&Ie<=Dr.lineWidthDims[1],"invalid line width, must be a positive number between "+Dr.lineWidthDims[0]+" and "+Dr.lineWidthDims[1],me.commandStr),Ie},function(Ie,Ke,Ce){return Pt.optional(function(){Ie.assert(Ke,"typeof "+Ce+'==="number"&&'+Ce+">="+Dr.lineWidthDims[0]+"&&"+Ce+"<="+Dr.lineWidthDims[1],"invalid line width")}),Ce});case fl:return lr(function(Ie){return Pt.commandParameter(Ie,oc,Qe,me.commandStr),oc[Ie]},function(Ie,Ke,Ce){return Pt.optional(function(){Ie.assert(Ke,Ce+'==="cw"||'+Ce+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Ke.def(Ce+'==="cw"?'+zf+":"+xl)});case Xl:return lr(function(Ie){return Pt.command(Ma(Ie)&&Ie.length===4,"color.mask must be length 4 array",me.commandStr),Ie.map(function(Ke){return!!Ke})},function(Ie,Ke,Ce){return Pt.optional(function(){Ie.assert(Ke,Ie.shared.isArrayLike+"("+Ce+")&&"+Ce+".length===4","invalid color.mask")}),Dn(4,function(hr){return"!!"+Ce+"["+hr+"]"})});case cu:return lr(function(Ie){Pt.command(typeof Ie=="object"&&Ie,Qe,me.commandStr);var Ke="value"in Ie?Ie.value:1,Ce=!!Ie.invert;return Pt.command(typeof Ke=="number"&&Ke>=0&&Ke<=1,"sample.coverage.value must be a number between 0 and 1",me.commandStr),[Ke,Ce]},function(Ie,Ke,Ce){Pt.optional(function(){Ie.assert(Ke,Ce+"&&typeof "+Ce+'==="object"',"invalid sample.coverage")});var hr=Ke.def('"value" in ',Ce,"?+",Ce,".value:1"),wr=Ke.def("!!",Ce,".invert");return[hr,wr]})}}),Er}function Di(Oe,me){var Ze=Oe.static,yr=Oe.dynamic,Er={};return Object.keys(Ze).forEach(function(er){var Qe=Ze[er],lr;if(typeof Qe=="number"||typeof Qe=="boolean")lr=no(function(){return Qe});else if(typeof Qe=="function"){var Ie=Qe._reglType;Ie==="texture2d"||Ie==="textureCube"?lr=no(function(Ke){return Ke.link(Qe)}):Ie==="framebuffer"||Ie==="framebufferCube"?(Pt.command(Qe.color.length>0,'missing color attachment for framebuffer sent to uniform "'+er+'"',me.commandStr),lr=no(function(Ke){return Ke.link(Qe.color[0])})):Pt.commandRaise('invalid data for uniform "'+er+'"',me.commandStr)}else Ma(Qe)?lr=no(function(Ke){var Ce=Ke.global.def("[",Dn(Qe.length,function(hr){return Pt.command(typeof Qe[hr]=="number"||typeof Qe[hr]=="boolean","invalid uniform "+er,Ke.commandStr),Qe[hr]}),"]");return Ce}):Pt.commandRaise('invalid or missing data for uniform "'+er+'"',me.commandStr);lr.value=Qe,Er[er]=lr}),Object.keys(yr).forEach(function(er){var Qe=yr[er];Er[er]=mi(Qe,function(lr,Ie){return lr.invoke(Ie,Qe)})}),Er}function ya(Oe,me){var Ze=Oe.static,yr=Oe.dynamic,Er={};return Object.keys(Ze).forEach(function(er){var Qe=Ze[er],lr=we.id(er),Ie=new it;if(El(Qe))Ie.state=ss,Ie.buffer=Jr.getBuffer(Jr.create(Qe,hu,!1,!0)),Ie.type=0;else{var Ke=Jr.getBuffer(Qe);if(Ke)Ie.state=ss,Ie.buffer=Ke,Ie.type=0;else if(Pt.command(typeof Qe=="object"&&Qe,"invalid data for attribute "+er,me.commandStr),"constant"in Qe){var Ce=Qe.constant;Ie.buffer="null",Ie.state=Ds,typeof Ce=="number"?Ie.x=Ce:(Pt.command(Ma(Ce)&&Ce.length>0&&Ce.length<=4,"invalid constant for attribute "+er,me.commandStr),lu.forEach(function(ra,Oa){Oa<Ce.length&&(Ie[ra]=Ce[Oa])}))}else{El(Qe.buffer)?Ke=Jr.getBuffer(Jr.create(Qe.buffer,hu,!1,!0)):Ke=Jr.getBuffer(Qe.buffer),Pt.command(!!Ke,'missing buffer for attribute "'+er+'"',me.commandStr);var hr=Qe.offset|0;Pt.command(hr>=0,'invalid offset for attribute "'+er+'"',me.commandStr);var wr=Qe.stride|0;Pt.command(wr>=0&&wr<256,'invalid stride for attribute "'+er+'", must be integer betweeen [0, 255]',me.commandStr);var $r=Qe.size|0;Pt.command(!("size"in Qe)||$r>0&&$r<=4,'invalid size for attribute "'+er+'", must be 1,2,3,4',me.commandStr);var en=!!Qe.normalized,Xr=0;"type"in Qe&&(Pt.commandParameter(Qe.type,Ai,"invalid type for attribute "+er,me.commandStr),Xr=Ai[Qe.type]);var wn=Qe.divisor|0;"divisor"in Qe&&(Pt.command(wn===0||yt,'cannot specify divisor for attribute "'+er+'", instancing not supported',me.commandStr),Pt.command(wn>=0,'invalid divisor for attribute "'+er+'"',me.commandStr)),Pt.optional(function(){var ra=me.commandStr,Oa=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Qe).forEach(function(Hn){Pt.command(Oa.indexOf(Hn)>=0,'unknown parameter "'+Hn+'" for attribute pointer "'+er+'" (valid parameters are '+Oa+")",ra)})}),Ie.buffer=Ke,Ie.state=ss,Ie.size=$r,Ie.normalized=en,Ie.type=Xr||Ke.dtype,Ie.offset=hr,Ie.stride=wr,Ie.divisor=wn}}Er[er]=no(function(ra,Oa){var Hn=ra.attribCache;if(lr in Hn)return Hn[lr];var la={isStream:!1};return Object.keys(Ie).forEach(function(_a){la[_a]=Ie[_a]}),Ie.buffer&&(la.buffer=ra.link(Ie.buffer),la.type=la.type||la.buffer+".dtype"),Hn[lr]=la,la})}),Object.keys(yr).forEach(function(er){var Qe=yr[er];function lr(Ie,Ke){var Ce=Ie.invoke(Ke,Qe),hr=Ie.shared,wr=Ie.constants,$r=hr.isBufferArgs,en=hr.buffer;Pt.optional(function(){Ie.assert(Ke,Ce+"&&(typeof "+Ce+'==="object"||typeof '+Ce+'==="function")&&('+$r+"("+Ce+")||"+en+".getBuffer("+Ce+")||"+en+".getBuffer("+Ce+".buffer)||"+$r+"("+Ce+'.buffer)||("constant" in '+Ce+"&&(typeof "+Ce+'.constant==="number"||'+hr.isArrayLike+"("+Ce+".constant))))",'invalid dynamic attribute "'+er+'"')});var Xr={isStream:Ke.def(!1)},wn=new it;wn.state=ss,Object.keys(wn).forEach(function(la){Xr[la]=Ke.def(""+wn[la])});var ra=Xr.buffer,Oa=Xr.type;Ke("if(",$r,"(",Ce,")){",Xr.isStream,"=true;",ra,"=",en,".createStream(",hu,",",Ce,");",Oa,"=",ra,".dtype;","}else{",ra,"=",en,".getBuffer(",Ce,");","if(",ra,"){",Oa,"=",ra,".dtype;",'}else if("constant" in ',Ce,"){",Xr.state,"=",Ds,";","if(typeof "+Ce+'.constant === "number"){',Xr[lu[0]],"=",Ce,".constant;",lu.slice(1).map(function(la){return Xr[la]}).join("="),"=0;","}else{",lu.map(function(la,_a){return Xr[la]+"="+Ce+".constant.length>"+_a+"?"+Ce+".constant["+_a+"]:0;"}).join(""),"}}else{","if(",$r,"(",Ce,".buffer)){",ra,"=",en,".createStream(",hu,",",Ce,".buffer);","}else{",ra,"=",en,".getBuffer(",Ce,".buffer);","}",Oa,'="type" in ',Ce,"?",wr.glTypes,"[",Ce,".type]:",ra,".dtype;",Xr.normalized,"=!!",Ce,".normalized;");function Hn(la){Ke(Xr[la],"=",Ce,".",la,"|0;")}return Hn("size"),Hn("offset"),Hn("stride"),Hn("divisor"),Ke("}}"),Ke.exit("if(",Xr.isStream,"){",en,".destroyStream(",ra,");","}"),Xr}Er[er]=mi(Qe,lr)}),Er}function qi(Oe,me){var Ze=Oe.static,yr=Oe.dynamic;if(Lu in Ze){var Er=Ze[Lu];return Er!==null&&En.getVAO(Er)===null&&(Er=En.createVAO(Er)),no(function(Qe){return Qe.link(En.getVAO(Er))})}else if(Lu in yr){var er=yr[Lu];return mi(er,function(Qe,lr){var Ie=Qe.invoke(lr,er);return lr.def(Qe.shared.vao+".getVAO("+Ie+")")})}return null}function yi(Oe){var me=Oe.static,Ze=Oe.dynamic,yr={};return Object.keys(me).forEach(function(Er){var er=me[Er];yr[Er]=no(function(Qe,lr){return typeof er=="number"||typeof er=="boolean"?""+er:Qe.link(er)})}),Object.keys(Ze).forEach(function(Er){var er=Ze[Er];yr[Er]=mi(er,function(Qe,lr){return Qe.invoke(lr,er)})}),yr}function Ua(Oe,me,Ze,yr,Er){var er=Oe.static,Qe=Oe.dynamic;Pt.optional(function(){var Hn=[fu,Ps,Pu,du,js,Vl,Ls,Hl,Du,Lu].concat(le);function la(_a){Object.keys(_a).forEach(function(ei){Pt.command(Hn.indexOf(ei)>=0,'unknown parameter "'+ei+'"',Er.commandStr)})}la(er),la(Qe)});var lr=Kn(Oe,me),Ie=Cn(Oe,Er),Ke=ta(Oe,Ie,Er),Ce=pa(Oe,Er),hr=da(Oe,Er),wr=ia(Oe,Er,lr);function $r(Hn){var la=Ke[Hn];la&&(hr[Hn]=la)}$r(Ms),$r(Be(Xs));var en=Object.keys(hr).length>0,Xr={framebuffer:Ie,draw:Ce,shader:wr,state:hr,dirty:en,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Xr.profile=Ln(Oe,Er),Xr.uniforms=Di(Ze,Er),Xr.drawVAO=Xr.scopeVAO=qi(Oe,Er),!Xr.drawVAO&&wr.program&&!lr&&ze.angle_instanced_arrays){var wn=!0,ra=wr.program.attributes.map(function(Hn){var la=me.static[Hn];return wn=wn&&!!la,la});if(wn&&ra.length>0){var Oa=En.getVAO(En.createVAO(ra));Xr.drawVAO=new Yo(null,null,null,function(Hn,la){return Hn.link(Oa)}),Xr.useVAO=!0}}return lr?Xr.useVAO=!0:Xr.attributes=ya(me,Er),Xr.context=yi(yr,Er),Xr}function Ci(Oe,me,Ze){var yr=Oe.shared,Er=yr.context,er=Oe.scope();Object.keys(Ze).forEach(function(Qe){me.save(Er,"."+Qe);var lr=Ze[Qe],Ie=lr.append(Oe,me);Array.isArray(Ie)?er(Er,".",Qe,"=[",Ie.join(),"];"):er(Er,".",Qe,"=",Ie,";")}),me(er)}function Ji(Oe,me,Ze,yr){var Er=Oe.shared,er=Er.gl,Qe=Er.framebuffer,lr;At&&(lr=me.def(Er.extensions,".webgl_draw_buffers"));var Ie=Oe.constants,Ke=Ie.drawBuffer,Ce=Ie.backBuffer,hr;Ze?hr=Ze.append(Oe,me):hr=me.def(Qe,".next"),yr||me("if(",hr,"!==",Qe,".cur){"),me("if(",hr,"){",er,".bindFramebuffer(",jc,",",hr,".framebuffer);"),At&&me(lr,".drawBuffersWEBGL(",Ke,"[",hr,".colorAttachments.length]);"),me("}else{",er,".bindFramebuffer(",jc,",null);"),At&&me(lr,".drawBuffersWEBGL(",Ce,");"),me("}",Qe,".cur=",hr,";"),yr||me("}")}function So(Oe,me,Ze){var yr=Oe.shared,Er=yr.gl,er=Oe.current,Qe=Oe.next,lr=yr.current,Ie=yr.next,Ke=Oe.cond(lr,".dirty");le.forEach(function(Ce){var hr=Be(Ce);if(!(hr in Ze.state)){var wr,$r;if(hr in Qe){wr=Qe[hr],$r=er[hr];var en=Dn(Nt[hr].length,function(wn){return Ke.def(wr,"[",wn,"]")});Ke(Oe.cond(en.map(function(wn,ra){return wn+"!=="+$r+"["+ra+"]"}).join("||")).then(Er,".",ge[hr],"(",en,");",en.map(function(wn,ra){return $r+"["+ra+"]="+wn}).join(";"),";"))}else{wr=Ke.def(Ie,".",hr);var Xr=Oe.cond(wr,"!==",lr,".",hr);Ke(Xr),hr in xe?Xr(Oe.cond(wr).then(Er,".enable(",xe[hr],");").else(Er,".disable(",xe[hr],");"),lr,".",hr,"=",wr,";"):Xr(Er,".",ge[hr],"(",wr,");",lr,".",hr,"=",wr,";")}}}),Object.keys(Ze.state).length===0&&Ke(lr,".dirty=false;"),me(Ke)}function Io(Oe,me,Ze,yr){var Er=Oe.shared,er=Oe.current,Qe=Er.current,lr=Er.gl;ms(Object.keys(Ze)).forEach(function(Ie){var Ke=Ze[Ie];if(!(yr&&!yr(Ke))){var Ce=Ke.append(Oe,me);if(xe[Ie]){var hr=xe[Ie];Bs(Ke)?Ce?me(lr,".enable(",hr,");"):me(lr,".disable(",hr,");"):me(Oe.cond(Ce).then(lr,".enable(",hr,");").else(lr,".disable(",hr,");")),me(Qe,".",Ie,"=",Ce,";")}else if(Ma(Ce)){var wr=er[Ie];me(lr,".",ge[Ie],"(",Ce,");",Ce.map(function($r,en){return wr+"["+en+"]="+$r}).join(";"),";")}else me(lr,".",ge[Ie],"(",Ce,");",Qe,".",Ie,"=",Ce,";")}})}function go(Oe,me){yt&&(Oe.instancing=me.def(Oe.shared.extensions,".angle_instanced_arrays"))}function Ta(Oe,me,Ze,yr,Er){var er=Oe.shared,Qe=Oe.stats,lr=er.current,Ie=er.timer,Ke=Ze.profile;function Ce(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var hr,wr;function $r(Hn){hr=me.def(),Hn(hr,"=",Ce(),";"),typeof Er=="string"?Hn(Qe,".count+=",Er,";"):Hn(Qe,".count++;"),N&&(yr?(wr=me.def(),Hn(wr,"=",Ie,".getNumPendingQueries();")):Hn(Ie,".beginQuery(",Qe,");"))}function en(Hn){Hn(Qe,".cpuTime+=",Ce(),"-",hr,";"),N&&(yr?Hn(Ie,".pushScopeStats(",wr,",",Ie,".getNumPendingQueries(),",Qe,");"):Hn(Ie,".endQuery();"))}function Xr(Hn){var la=me.def(lr,".profile");me(lr,".profile=",Hn,";"),me.exit(lr,".profile=",la,";")}var wn;if(Ke){if(Bs(Ke)){Ke.enable?($r(me),en(me.exit),Xr("true")):Xr("false");return}wn=Ke.append(Oe,me),Xr(wn)}else wn=me.def(lr,".profile");var ra=Oe.block();$r(ra),me("if(",wn,"){",ra,"}");var Oa=Oe.block();en(Oa),me.exit("if(",wn,"){",Oa,"}")}function Ro(Oe,me,Ze,yr,Er){var er=Oe.shared;function Qe(Ie){switch(Ie){case tc:case ku:case nc:return 2;case ec:case Bu:case ml:return 3;case pl:case gl:case ac:return 4;default:return 1}}function lr(Ie,Ke,Ce){var hr=er.gl,wr=me.def(Ie,".location"),$r=me.def(er.attributes,"[",wr,"]"),en=Ce.state,Xr=Ce.buffer,wn=[Ce.x,Ce.y,Ce.z,Ce.w],ra=["buffer","normalized","offset","stride"];function Oa(){me("if(!",$r,".buffer){",hr,".enableVertexAttribArray(",wr,");}");var la=Ce.type,_a;if(Ce.size?_a=me.def(Ce.size,"||",Ke):_a=Ke,me("if(",$r,".type!==",la,"||",$r,".size!==",_a,"||",ra.map(function(Vi){return $r+"."+Vi+"!=="+Ce[Vi]}).join("||"),"){",hr,".bindBuffer(",hu,",",Xr,".buffer);",hr,".vertexAttribPointer(",[wr,_a,la,Ce.normalized,Ce.stride,Ce.offset],");",$r,".type=",la,";",$r,".size=",_a,";",ra.map(function(Vi){return $r+"."+Vi+"="+Ce[Vi]+";"}).join(""),"}"),yt){var ei=Ce.divisor;me("if(",$r,".divisor!==",ei,"){",Oe.instancing,".vertexAttribDivisorANGLE(",[wr,ei],");",$r,".divisor=",ei,";}")}}function Hn(){me("if(",$r,".buffer){",hr,".disableVertexAttribArray(",wr,");",$r,".buffer=null;","}if(",lu.map(function(la,_a){return $r+"."+la+"!=="+wn[_a]}).join("||"),"){",hr,".vertexAttrib4f(",wr,",",wn,");",lu.map(function(la,_a){return $r+"."+la+"="+wn[_a]+";"}).join(""),"}")}en===ss?Oa():en===Ds?Hn():(me("if(",en,"===",ss,"){"),Oa(),me("}else{"),Hn(),me("}"))}yr.forEach(function(Ie){var Ke=Ie.name,Ce=Ze.attributes[Ke],hr;if(Ce){if(!Er(Ce))return;hr=Ce.append(Oe,me)}else{if(!Er(gu))return;var wr=Oe.scopeAttrib(Ke);Pt.optional(function(){Oe.assert(me,wr+".state","missing attribute "+Ke)}),hr={},Object.keys(new it).forEach(function($r){hr[$r]=me.def(wr,".",$r)})}lr(Oe.link(Ie),Qe(Ie.info.type),hr)})}function $a(Oe,me,Ze,yr,Er){for(var er=Oe.shared,Qe=er.gl,lr,Ie=0;Ie<yr.length;++Ie){var Ke=yr[Ie],Ce=Ke.name,hr=Ke.info.type,wr=Ze.uniforms[Ce],$r=Oe.link(Ke),en=$r+".location",Xr;if(wr){if(!Er(wr))continue;if(Bs(wr)){var wn=wr.value;if(Pt.command(wn!==null&&typeof wn!="undefined",'missing uniform "'+Ce+'"',Oe.commandStr),hr===zu||hr===Gu){Pt.command(typeof wn=="function"&&(hr===zu&&(wn._reglType==="texture2d"||wn._reglType==="framebuffer")||hr===Gu&&(wn._reglType==="textureCube"||wn._reglType==="framebufferCube")),"invalid texture for uniform "+Ce,Oe.commandStr);var ra=Oe.link(wn._texture||wn.color[0]._texture);me(Qe,".uniform1i(",en,",",ra+".bind());"),me.exit(ra,".unbind();")}else if(hr===ic||hr===yl||hr===Fu){Pt.optional(function(){Pt.command(Ma(wn),"invalid matrix for uniform "+Ce,Oe.commandStr),Pt.command(hr===ic&&wn.length===4||hr===yl&&wn.length===9||hr===Fu&&wn.length===16,"invalid length for matrix uniform "+Ce,Oe.commandStr)});var Oa=Oe.global.def("new Float32Array(["+Array.prototype.slice.call(wn)+"])"),Hn=2;hr===yl?Hn=3:hr===Fu&&(Hn=4),me(Qe,".uniformMatrix",Hn,"fv(",en,",false,",Oa,");")}else{switch(hr){case vu:Pt.commandType(wn,"number","uniform "+Ce,Oe.commandStr),lr="1f";break;case tc:Pt.command(Ma(wn)&&wn.length===2,"uniform "+Ce,Oe.commandStr),lr="2f";break;case ec:Pt.command(Ma(wn)&&wn.length===3,"uniform "+Ce,Oe.commandStr),lr="3f";break;case pl:Pt.command(Ma(wn)&&wn.length===4,"uniform "+Ce,Oe.commandStr),lr="4f";break;case rc:Pt.commandType(wn,"boolean","uniform "+Ce,Oe.commandStr),lr="1i";break;case Vs:Pt.commandType(wn,"number","uniform "+Ce,Oe.commandStr),lr="1i";break;case nc:Pt.command(Ma(wn)&&wn.length===2,"uniform "+Ce,Oe.commandStr),lr="2i";break;case ku:Pt.command(Ma(wn)&&wn.length===2,"uniform "+Ce,Oe.commandStr),lr="2i";break;case ml:Pt.command(Ma(wn)&&wn.length===3,"uniform "+Ce,Oe.commandStr),lr="3i";break;case Bu:Pt.command(Ma(wn)&&wn.length===3,"uniform "+Ce,Oe.commandStr),lr="3i";break;case ac:Pt.command(Ma(wn)&&wn.length===4,"uniform "+Ce,Oe.commandStr),lr="4i";break;case gl:Pt.command(Ma(wn)&&wn.length===4,"uniform "+Ce,Oe.commandStr),lr="4i";break}me(Qe,".uniform",lr,"(",en,",",Ma(wn)?Array.prototype.slice.call(wn):wn,");")}continue}else Xr=wr.append(Oe,me)}else{if(!Er(gu))continue;Xr=me.def(er.uniforms,"[",we.id(Ce),"]")}hr===zu?(Pt(!Array.isArray(Xr),"must specify a scalar prop for textures"),me("if(",Xr,"&&",Xr,'._reglType==="framebuffer"){',Xr,"=",Xr,".color[0];","}")):hr===Gu&&(Pt(!Array.isArray(Xr),"must specify a scalar prop for cube maps"),me("if(",Xr,"&&",Xr,'._reglType==="framebufferCube"){',Xr,"=",Xr,".color[0];","}")),Pt.optional(function(){function ns(Fs,Kf){Oe.assert(me,Fs,'bad data or missing for uniform "'+Ce+'".  '+Kf)}function bd(Fs){Pt(!Array.isArray(Xr),"must not specify an array type for uniform"),ns("typeof "+Xr+'==="'+Fs+'"',"invalid type, expected "+Fs)}function _s(Fs,Kf){Array.isArray(Xr)?Pt(Xr.length===Fs,"must have length "+Fs):ns(er.isArrayLike+"("+Xr+")&&"+Xr+".length==="+Fs,"invalid vector, should have length "+Fs,Oe.commandStr)}function Ch(Fs){Pt(!Array.isArray(Xr),"must not specify a value type"),ns("typeof "+Xr+'==="function"&&'+Xr+'._reglType==="texture'+(Fs===Pf?"2d":"Cube")+'"',"invalid texture type",Oe.commandStr)}switch(hr){case Vs:bd("number");break;case ku:_s(2,"number");break;case Bu:_s(3,"number");break;case gl:_s(4,"number");break;case vu:bd("number");break;case tc:_s(2,"number");break;case ec:_s(3,"number");break;case pl:_s(4,"number");break;case rc:bd("boolean");break;case nc:_s(2,"boolean");break;case ml:_s(3,"boolean");break;case ac:_s(4,"boolean");break;case ic:_s(4,"number");break;case yl:_s(9,"number");break;case Fu:_s(16,"number");break;case zu:Ch(Pf);break;case Gu:Ch(Lf);break}});var la=1;switch(hr){case zu:case Gu:var _a=me.def(Xr,"._texture");me(Qe,".uniform1i(",en,",",_a,".bind());"),me.exit(_a,".unbind();");continue;case Vs:case rc:lr="1i";break;case ku:case nc:lr="2i",la=2;break;case Bu:case ml:lr="3i",la=3;break;case gl:case ac:lr="4i",la=4;break;case vu:lr="1f";break;case tc:lr="2f",la=2;break;case ec:lr="3f",la=3;break;case pl:lr="4f",la=4;break;case ic:lr="Matrix2fv";break;case yl:lr="Matrix3fv";break;case Fu:lr="Matrix4fv";break}if(me(Qe,".uniform",lr,"(",en,","),lr.charAt(0)==="M"){var ei=Math.pow(hr-ic+2,2),Vi=Oe.global.def("new Float32Array(",ei,")");Array.isArray(Xr)?me("false,(",Dn(ei,function(ns){return Vi+"["+ns+"]="+Xr[ns]}),",",Vi,")"):me("false,(Array.isArray(",Xr,")||",Xr," instanceof Float32Array)?",Xr,":(",Dn(ei,function(ns){return Vi+"["+ns+"]="+Xr+"["+ns+"]"}),",",Vi,")")}else la>1?me(Dn(la,function(ns){return Array.isArray(Xr)?Xr[ns]:Xr+"["+ns+"]"})):(Pt(!Array.isArray(Xr),"uniform value must not be an array"),me(Xr));me(");")}}function oa(Oe,me,Ze,yr){var Er=Oe.shared,er=Er.gl,Qe=Er.draw,lr=yr.draw;function Ie(){var _a=lr.elements,ei,Vi=me;return _a?((_a.contextDep&&yr.contextDynamic||_a.propDep)&&(Vi=Ze),ei=_a.append(Oe,Vi)):ei=Vi.def(Qe,".",du),ei&&Vi("if("+ei+")"+er+".bindBuffer("+Yc+","+ei+".buffer.buffer);"),ei}function Ke(){var _a=lr.count,ei,Vi=me;return _a?((_a.contextDep&&yr.contextDynamic||_a.propDep)&&(Vi=Ze),ei=_a.append(Oe,Vi),Pt.optional(function(){_a.MISSING&&Oe.assert(me,"false","missing vertex count"),_a.DYNAMIC&&Oe.assert(Vi,ei+">=0","missing vertex count")})):(ei=Vi.def(Qe,".",Ls),Pt.optional(function(){Oe.assert(Vi,ei+">=0","missing vertex count")})),ei}var Ce=Ie();function hr(_a){var ei=lr[_a];return ei?ei.contextDep&&yr.contextDynamic||ei.propDep?ei.append(Oe,Ze):ei.append(Oe,me):me.def(Qe,".",_a)}var wr=hr(js),$r=hr(Vl),en=Ke();if(typeof en=="number"){if(en===0)return}else Ze("if(",en,"){"),Ze.exit("}");var Xr,wn;yt&&(Xr=hr(Hl),wn=Oe.instancing);var ra=Ce+".type",Oa=lr.elements&&Bs(lr.elements);function Hn(){function _a(){Ze(wn,".drawElementsInstancedANGLE(",[wr,en,ra,$r+"<<(("+ra+"-"+sl+")>>1)",Xr],");")}function ei(){Ze(wn,".drawArraysInstancedANGLE(",[wr,$r,en,Xr],");")}Ce?Oa?_a():(Ze("if(",Ce,"){"),_a(),Ze("}else{"),ei(),Ze("}")):ei()}function la(){function _a(){Ze(er+".drawElements("+[wr,en,ra,$r+"<<(("+ra+"-"+sl+")>>1)"]+");")}function ei(){Ze(er+".drawArrays("+[wr,$r,en]+");")}Ce?Oa?_a():(Ze("if(",Ce,"){"),_a(),Ze("}else{"),ei(),Ze("}")):ei()}yt&&(typeof Xr!="number"||Xr>=0)?typeof Xr=="string"?(Ze("if(",Xr,">0){"),Hn(),Ze("}else if(",Xr,"<0){"),la(),Ze("}")):Hn():la()}function Fa(Oe,me,Ze,yr,Er){var er=bn(),Qe=er.proc("body",Er);return Pt.optional(function(){er.commandStr=me.commandStr,er.command=er.link(me.commandStr)}),yt&&(er.instancing=Qe.def(er.shared.extensions,".angle_instanced_arrays")),Oe(er,Qe,Ze,yr),er.compile().body}function Ka(Oe,me,Ze,yr){go(Oe,me),Ze.useVAO?Ze.drawVAO?me(Oe.shared.vao,".setVAO(",Ze.drawVAO.append(Oe,me),");"):me(Oe.shared.vao,".setVAO(",Oe.shared.vao,".targetVAO);"):(me(Oe.shared.vao,".setVAO(null);"),Ro(Oe,me,Ze,yr.attributes,function(){return!0})),$a(Oe,me,Ze,yr.uniforms,function(){return!0}),oa(Oe,me,me,Ze)}function mo(Oe,me){var Ze=Oe.proc("draw",1);go(Oe,Ze),Ci(Oe,Ze,me.context),Ji(Oe,Ze,me.framebuffer),So(Oe,Ze,me),Io(Oe,Ze,me.state),Ta(Oe,Ze,me,!1,!0);var yr=me.shader.progVar.append(Oe,Ze);if(Ze(Oe.shared.gl,".useProgram(",yr,".program);"),me.shader.program)Ka(Oe,Ze,me,me.shader.program);else{Ze(Oe.shared.vao,".setVAO(null);");var Er=Oe.global.def("{}"),er=Ze.def(yr,".id"),Qe=Ze.def(Er,"[",er,"]");Ze(Oe.cond(Qe).then(Qe,".call(this,a0);").else(Qe,"=",Er,"[",er,"]=",Oe.link(function(lr){return Fa(Ka,Oe,me,lr,1)}),"(",yr,");",Qe,".call(this,a0);"))}Object.keys(me.state).length>0&&Ze(Oe.shared.current,".dirty=true;")}function Ks(Oe,me,Ze,yr){Oe.batchId="a1",go(Oe,me);function Er(){return!0}Ro(Oe,me,Ze,yr.attributes,Er),$a(Oe,me,Ze,yr.uniforms,Er),oa(Oe,me,me,Ze)}function cc(Oe,me,Ze,yr){go(Oe,me);var Er=Ze.contextDep,er=me.def(),Qe="a0",lr="a1",Ie=me.def();Oe.shared.props=Ie,Oe.batchId=er;var Ke=Oe.scope(),Ce=Oe.scope();me(Ke.entry,"for(",er,"=0;",er,"<",lr,";++",er,"){",Ie,"=",Qe,"[",er,"];",Ce,"}",Ke.exit);function hr(ra){return ra.contextDep&&Er||ra.propDep}function wr(ra){return!hr(ra)}if(Ze.needsContext&&Ci(Oe,Ce,Ze.context),Ze.needsFramebuffer&&Ji(Oe,Ce,Ze.framebuffer),Io(Oe,Ce,Ze.state,hr),Ze.profile&&hr(Ze.profile)&&Ta(Oe,Ce,Ze,!1,!0),yr)Ze.useVAO?Ze.drawVAO?hr(Ze.drawVAO)?Ce(Oe.shared.vao,".setVAO(",Ze.drawVAO.append(Oe,Ce),");"):Ke(Oe.shared.vao,".setVAO(",Ze.drawVAO.append(Oe,Ke),");"):Ke(Oe.shared.vao,".setVAO(",Oe.shared.vao,".targetVAO);"):(Ke(Oe.shared.vao,".setVAO(null);"),Ro(Oe,Ke,Ze,yr.attributes,wr),Ro(Oe,Ce,Ze,yr.attributes,hr)),$a(Oe,Ke,Ze,yr.uniforms,wr),$a(Oe,Ce,Ze,yr.uniforms,hr),oa(Oe,Ke,Ce,Ze);else{var $r=Oe.global.def("{}"),en=Ze.shader.progVar.append(Oe,Ce),Xr=Ce.def(en,".id"),wn=Ce.def($r,"[",Xr,"]");Ce(Oe.shared.gl,".useProgram(",en,".program);","if(!",wn,"){",wn,"=",$r,"[",Xr,"]=",Oe.link(function(ra){return Fa(Ks,Oe,Ze,ra,2)}),"(",en,");}",wn,".call(this,a0[",er,"],",er,");")}}function ke(Oe,me){var Ze=Oe.proc("batch",2);Oe.batchId="0",go(Oe,Ze);var yr=!1,Er=!0;Object.keys(me.context).forEach(function($r){yr=yr||me.context[$r].propDep}),yr||(Ci(Oe,Ze,me.context),Er=!1);var er=me.framebuffer,Qe=!1;er?(er.propDep?yr=Qe=!0:er.contextDep&&yr&&(Qe=!0),Qe||Ji(Oe,Ze,er)):Ji(Oe,Ze,null),me.state.viewport&&me.state.viewport.propDep&&(yr=!0);function lr($r){return $r.contextDep&&yr||$r.propDep}So(Oe,Ze,me),Io(Oe,Ze,me.state,function($r){return!lr($r)}),(!me.profile||!lr(me.profile))&&Ta(Oe,Ze,me,!1,"a1"),me.contextDep=yr,me.needsContext=Er,me.needsFramebuffer=Qe;var Ie=me.shader.progVar;if(Ie.contextDep&&yr||Ie.propDep)cc(Oe,Ze,me,null);else{var Ke=Ie.append(Oe,Ze);if(Ze(Oe.shared.gl,".useProgram(",Ke,".program);"),me.shader.program)cc(Oe,Ze,me,me.shader.program);else{Ze(Oe.shared.vao,".setVAO(null);");var Ce=Oe.global.def("{}"),hr=Ze.def(Ke,".id"),wr=Ze.def(Ce,"[",hr,"]");Ze(Oe.cond(wr).then(wr,".call(this,a0,a1);").else(wr,"=",Ce,"[",hr,"]=",Oe.link(function($r){return Fa(cc,Oe,me,$r,2)}),"(",Ke,");",wr,".call(this,a0,a1);"))}}Object.keys(me.state).length>0&&Ze(Oe.shared.current,".dirty=true;")}function kr(Oe,me){var Ze=Oe.proc("scope",3);Oe.batchId="a2";var yr=Oe.shared,Er=yr.current;Ci(Oe,Ze,me.context),me.framebuffer&&me.framebuffer.append(Oe,Ze),ms(Object.keys(me.state)).forEach(function(Qe){var lr=me.state[Qe],Ie=lr.append(Oe,Ze);Ma(Ie)?Ie.forEach(function(Ke,Ce){Ze.set(Oe.next[Qe],"["+Ce+"]",Ke)}):Ze.set(yr.next,"."+Qe,Ie)}),Ta(Oe,Ze,me,!0,!0),[du,Vl,Ls,Hl,js].forEach(function(Qe){var lr=me.draw[Qe];lr&&Ze.set(yr.draw,"."+Qe,""+lr.append(Oe,Ze))}),Object.keys(me.uniforms).forEach(function(Qe){var lr=me.uniforms[Qe].append(Oe,Ze);Array.isArray(lr)&&(lr="["+lr.join()+"]"),Ze.set(yr.uniforms,"["+we.id(Qe)+"]",lr)}),Object.keys(me.attributes).forEach(function(Qe){var lr=me.attributes[Qe].append(Oe,Ze),Ie=Oe.scopeAttrib(Qe);Object.keys(new it).forEach(function(Ke){Ze.set(Ie,"."+Ke,lr[Ke])})}),me.scopeVAO&&Ze.set(yr.vao,".targetVAO",me.scopeVAO.append(Oe,Ze));function er(Qe){var lr=me.shader[Qe];lr&&Ze.set(yr.shader,"."+Qe,lr.append(Oe,Ze))}er(Ps),er(Pu),Object.keys(me.state).length>0&&(Ze(Er,".dirty=true;"),Ze.exit(Er,".dirty=true;")),Ze("a1(",Oe.shared.context,",a0,",Oe.batchId,");")}function Mr(Oe){if(!(typeof Oe!="object"||Ma(Oe))){for(var me=Object.keys(Oe),Ze=0;Ze<me.length;++Ze)if(zr.isDynamic(Oe[me[Ze]]))return!0;return!1}}function Xn(Oe,me,Ze){var yr=me.static[Ze];if(!yr||!Mr(yr))return;var Er=Oe.global,er=Object.keys(yr),Qe=!1,lr=!1,Ie=!1,Ke=Oe.global.def("{}");er.forEach(function(hr){var wr=yr[hr];if(zr.isDynamic(wr)){typeof wr=="function"&&(wr=yr[hr]=zr.unbox(wr));var $r=mi(wr,null);Qe=Qe||$r.thisDep,Ie=Ie||$r.propDep,lr=lr||$r.contextDep}else{switch(Er(Ke,".",hr,"="),typeof wr){case"number":Er(wr);break;case"string":Er('"',wr,'"');break;case"object":Array.isArray(wr)&&Er("[",wr.join(),"]");break;default:Er(Oe.link(wr));break}Er(";")}});function Ce(hr,wr){er.forEach(function($r){var en=yr[$r];if(zr.isDynamic(en)){var Xr=hr.invoke(wr,en);wr(Ke,".",$r,"=",Xr,";")}})}me.dynamic[Ze]=new zr.DynamicVariable(ul,{thisDep:Qe,contextDep:lr,propDep:Ie,ref:Ke,append:Ce}),delete me.static[Ze]}function La(Oe,me,Ze,yr,Er){var er=bn();er.stats=er.link(Er),Object.keys(me.static).forEach(function(lr){Xn(er,me,lr)}),Df.forEach(function(lr){Xn(er,Oe,lr)});var Qe=Ua(Oe,me,Ze,yr,er);return mo(er,Qe),kr(er,Qe),ke(er,Qe),C(er.compile(),{destroy:function(){Qe.shader.program.destroy()}})}return{next:jt,current:Nt,procs:function(){var Oe=bn(),me=Oe.proc("poll"),Ze=Oe.proc("refresh"),yr=Oe.block();me(yr),Ze(yr);var Er=Oe.shared,er=Er.gl,Qe=Er.next,lr=Er.current;yr(lr,".dirty=false;"),Ji(Oe,me),Ji(Oe,Ze,null,!0);var Ie;yt&&(Ie=Oe.link(yt)),ze.oes_vertex_array_object&&Ze(Oe.link(ze.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Ke=0;Ke<Dr.maxAttributes;++Ke){var Ce=Ze.def(Er.attributes,"[",Ke,"]"),hr=Oe.cond(Ce,".buffer");hr.then(er,".enableVertexAttribArray(",Ke,");",er,".bindBuffer(",hu,",",Ce,".buffer.buffer);",er,".vertexAttribPointer(",Ke,",",Ce,".size,",Ce,".type,",Ce,".normalized,",Ce,".stride,",Ce,".offset);").else(er,".disableVertexAttribArray(",Ke,");",er,".vertexAttrib4f(",Ke,",",Ce,".x,",Ce,".y,",Ce,".z,",Ce,".w);",Ce,".buffer=null;"),Ze(hr),yt&&Ze(Ie,".vertexAttribDivisorANGLE(",Ke,",",Ce,".divisor);")}return Ze(Oe.shared.vao,".currentVAO=null;",Oe.shared.vao,".setVAO(",Oe.shared.vao,".targetVAO);"),Object.keys(xe).forEach(function(wr){var $r=xe[wr],en=yr.def(Qe,".",wr),Xr=Oe.block();Xr("if(",en,"){",er,".enable(",$r,")}else{",er,".disable(",$r,")}",lr,".",wr,"=",en,";"),Ze(Xr),me("if(",en,"!==",lr,".",wr,"){",Xr,"}")}),Object.keys(ge).forEach(function(wr){var $r=ge[wr],en=Nt[wr],Xr,wn,ra=Oe.block();if(ra(er,".",$r,"("),Ma(en)){var Oa=en.length;Xr=Oe.global.def(Qe,".",wr),wn=Oe.global.def(lr,".",wr),ra(Dn(Oa,function(Hn){return Xr+"["+Hn+"]"}),");",Dn(Oa,function(Hn){return wn+"["+Hn+"]="+Xr+"["+Hn+"];"}).join("")),me("if(",Dn(Oa,function(Hn){return Xr+"["+Hn+"]!=="+wn+"["+Hn+"]"}).join("||"),"){",ra,"}")}else Xr=yr.def(Qe,".",wr),wn=yr.def(lr,".",wr),ra(Xr,");",lr,".",wr,"=",Xr,";"),me("if(",Xr,"!==",wn,"){",ra,"}");Ze(ra)}),Oe.compile()}(),compile:La}}function md(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var sc=34918,Oo=34919,Vf=35007,Hf=function(Lt,we){if(!we.ext_disjoint_timer_query)return null;var ze=[];function Dr(){return ze.pop()||we.ext_disjoint_timer_query.createQueryEXT()}function Jr(yt){ze.push(yt)}var Ar=[];function Gr(yt){var At=Dr();we.ext_disjoint_timer_query.beginQueryEXT(Vf,At),Ar.push(At),N(Ar.length-1,Ar.length,yt)}function vn(){we.ext_disjoint_timer_query.endQueryEXT(Vf)}function mn(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var En=[];function yn(){return En.pop()||new mn}function _n(yt){En.push(yt)}var v=[];function N(yt,At,Nt){var jt=yn();jt.startQueryIndex=yt,jt.endQueryIndex=At,jt.sum=0,jt.stats=Nt,v.push(jt)}var Z=[],it=[];function pt(){var yt,At,Nt=Ar.length;if(Nt!==0){it.length=Math.max(it.length,Nt+1),Z.length=Math.max(Z.length,Nt+1),Z[0]=0,it[0]=0;var jt=0;for(yt=0,At=0;At<Ar.length;++At){var le=Ar[At];we.ext_disjoint_timer_query.getQueryObjectEXT(le,Oo)?(jt+=we.ext_disjoint_timer_query.getQueryObjectEXT(le,sc),Jr(le)):Ar[yt++]=le,Z[At+1]=jt,it[At+1]=yt}for(Ar.length=yt,yt=0,At=0;At<v.length;++At){var xe=v[At],ge=xe.startQueryIndex,Be=xe.endQueryIndex;xe.sum+=Z[Be]-Z[ge];var ir=it[ge],Yr=it[Be];Yr===ir?(xe.stats.gpuTime+=xe.sum/1e6,_n(xe)):(xe.startQueryIndex=ir,xe.endQueryIndex=Yr,v[yt++]=xe)}v.length=yt}}return{beginQuery:Gr,endQuery:vn,pushScopeStats:N,update:pt,getNumPendingQueries:function(){return Ar.length},clear:function(){ze.push.apply(ze,Ar);for(var yt=0;yt<ze.length;yt++)we.ext_disjoint_timer_query.deleteQueryEXT(ze[yt]);Ar.length=0,ze.length=0},restore:function(){Ar.length=0,ze.length=0}}},yd=16384,Hs=256,Zf=1024,Hc=34962,uc="webglcontextlost",Yu="webglcontextrestored",Zc=1,Zs=2,Kc=3;function lc(Lt,we){for(var ze=0;ze<Lt.length;++ze)if(Lt[ze]===we)return ze;return-1}function wl(Lt){var we=dn(Lt);if(!we)return null;var ze=we.gl,Dr=ze.getContextAttributes(),Jr=ze.isContextLost(),Ar=Sn(ze,we);if(!Ar)return null;var Gr=qe(),vn=md(),mn=Ar.extensions,En=Hf(ze,mn),yn=je(),_n=ze.drawingBufferWidth,v=ze.drawingBufferHeight,N={tick:0,time:0,viewportWidth:_n,viewportHeight:v,framebufferWidth:_n,framebufferHeight:v,drawingBufferWidth:_n,drawingBufferHeight:v,pixelRatio:we.pixelRatio},Z={},it={elements:null,primitive:4,count:-1,offset:0,instances:-1},pt=Za(ze,mn),yt=na(ze,vn,we,Nt),At=ud(ze,mn,pt,vn,yt);function Nt(oa){return At.destroyBuffer(oa)}var jt=Ao(ze,mn,yt,vn),le=Mf(ze,Gr,vn,we),xe=ff(ze,mn,pt,function(){ir.procs.poll()},N,vn,we),ge=Ws(ze,mn,pt,vn,we),Be=od(ze,mn,pt,xe,ge,vn),ir=Wu(ze,Gr,mn,pt,yt,jt,xe,Be,Z,At,le,it,N,En,we),Yr=zl(ze,Be,ir.procs.poll,N,Dr,mn,pt),dr=ir.next,pr=ze.canvas,gr=[],bn=[],Ln=[],Cn=[we.onDestroy],ta=null;function Kn(){if(gr.length===0){En&&En.update(),ta=null;return}ta=Ir.next(Kn),Io();for(var oa=gr.length-1;oa>=0;--oa){var Fa=gr[oa];Fa&&Fa(N,null,0)}ze.flush(),En&&En.update()}function ia(){!ta&&gr.length>0&&(ta=Ir.next(Kn))}function pa(){ta&&(Ir.cancel(Kn),ta=null)}function da(oa){oa.preventDefault(),Jr=!0,pa(),bn.forEach(function(Fa){Fa()})}function Di(oa){ze.getError(),Jr=!1,Ar.restore(),le.restore(),yt.restore(),xe.restore(),ge.restore(),Be.restore(),At.restore(),En&&En.restore(),ir.procs.refresh(),ia(),Ln.forEach(function(Fa){Fa()})}pr&&(pr.addEventListener(uc,da,!1),pr.addEventListener(Yu,Di,!1));function ya(){gr.length=0,pa(),pr&&(pr.removeEventListener(uc,da),pr.removeEventListener(Yu,Di)),le.clear(),Be.clear(),ge.clear(),xe.clear(),jt.clear(),yt.clear(),At.clear(),En&&En.clear(),Cn.forEach(function(oa){oa()})}function qi(oa){Pt(!!oa,"invalid args to regl({...})"),Pt.type(oa,"object","invalid args to regl({...})");function Fa(Er){var er=C({},Er);delete er.uniforms,delete er.attributes,delete er.context,delete er.vao,"stencil"in er&&er.stencil.op&&(er.stencil.opBack=er.stencil.opFront=er.stencil.op,delete er.stencil.op);function Qe(lr){if(lr in er){var Ie=er[lr];delete er[lr],Object.keys(Ie).forEach(function(Ke){er[lr+"."+Ke]=Ie[Ke]})}}return Qe("blend"),Qe("depth"),Qe("cull"),Qe("stencil"),Qe("polygonOffset"),Qe("scissor"),Qe("sample"),"vao"in Er&&(er.vao=Er.vao),er}function Ka(Er,er){var Qe={},lr={};return Object.keys(Er).forEach(function(Ie){var Ke=Er[Ie];if(zr.isDynamic(Ke)){lr[Ie]=zr.unbox(Ke,Ie);return}else if(er&&Array.isArray(Ke)){for(var Ce=0;Ce<Ke.length;++Ce)if(zr.isDynamic(Ke[Ce])){lr[Ie]=zr.unbox(Ke,Ie);return}}Qe[Ie]=Ke}),{dynamic:lr,static:Qe}}var mo=Ka(oa.context||{},!0),Ks=Ka(oa.uniforms||{},!0),cc=Ka(oa.attributes||{},!1),ke=Ka(Fa(oa),!1),kr={gpuTime:0,cpuTime:0,count:0},Mr=ir.compile(ke,cc,Ks,mo,kr),Xn=Mr.draw,La=Mr.batch,Oe=Mr.scope,me=[];function Ze(Er){for(;me.length<Er;)me.push(null);return me}function yr(Er,er){var Qe;if(Jr&&Pt.raise("context lost"),typeof Er=="function")return Oe.call(this,null,Er,0);if(typeof er=="function")if(typeof Er=="number")for(Qe=0;Qe<Er;++Qe)Oe.call(this,null,er,Qe);else if(Array.isArray(Er))for(Qe=0;Qe<Er.length;++Qe)Oe.call(this,Er[Qe],er,Qe);else return Oe.call(this,Er,er,0);else if(typeof Er=="number"){if(Er>0)return La.call(this,Ze(Er|0),Er|0)}else if(Array.isArray(Er)){if(Er.length)return La.call(this,Er,Er.length)}else return Xn.call(this,Er)}return C(yr,{stats:kr,destroy:function(){Mr.destroy()}})}var yi=Be.setFBO=qi({framebuffer:zr.define.call(null,Zc,"framebuffer")});function Ua(oa,Fa){var Ka=0;ir.procs.poll();var mo=Fa.color;mo&&(ze.clearColor(+mo[0]||0,+mo[1]||0,+mo[2]||0,+mo[3]||0),Ka|=yd),"depth"in Fa&&(ze.clearDepth(+Fa.depth),Ka|=Hs),"stencil"in Fa&&(ze.clearStencil(Fa.stencil|0),Ka|=Zf),Pt(!!Ka,"called regl.clear with no buffer specified"),ze.clear(Ka)}function Ci(oa){if(Pt(typeof oa=="object"&&oa,"regl.clear() takes an object as input"),"framebuffer"in oa)if(oa.framebuffer&&oa.framebuffer_reglType==="framebufferCube")for(var Fa=0;Fa<6;++Fa)yi(C({framebuffer:oa.framebuffer.faces[Fa]},oa),Ua);else yi(oa,Ua);else Ua(null,oa)}function Ji(oa){Pt.type(oa,"function","regl.frame() callback must be a function"),gr.push(oa);function Fa(){var Ka=lc(gr,oa);Pt(Ka>=0,"cannot cancel a frame twice");function mo(){var Ks=lc(gr,mo);gr[Ks]=gr[gr.length-1],gr.length-=1,gr.length<=0&&pa()}gr[Ka]=mo}return ia(),{cancel:Fa}}function So(){var oa=dr.viewport,Fa=dr.scissor_box;oa[0]=oa[1]=Fa[0]=Fa[1]=0,N.viewportWidth=N.framebufferWidth=N.drawingBufferWidth=oa[2]=Fa[2]=ze.drawingBufferWidth,N.viewportHeight=N.framebufferHeight=N.drawingBufferHeight=oa[3]=Fa[3]=ze.drawingBufferHeight}function Io(){N.tick+=1,N.time=Ta(),So(),ir.procs.poll()}function go(){xe.refresh(),So(),ir.procs.refresh(),En&&En.update()}function Ta(){return(je()-yn)/1e3}go();function Ro(oa,Fa){Pt.type(Fa,"function","listener callback must be a function");var Ka;switch(oa){case"frame":return Ji(Fa);case"lost":Ka=bn;break;case"restore":Ka=Ln;break;case"destroy":Ka=Cn;break;default:Pt.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ka.push(Fa),{cancel:function(){for(var mo=0;mo<Ka.length;++mo)if(Ka[mo]===Fa){Ka[mo]=Ka[Ka.length-1],Ka.pop();return}}}}var $a=C(qi,{clear:Ci,prop:zr.define.bind(null,Zc),context:zr.define.bind(null,Zs),this:zr.define.bind(null,Kc),draw:qi({}),buffer:function(oa){return yt.create(oa,Hc,!1,!1)},elements:function(oa){return jt.create(oa,!1)},texture:xe.create2D,cube:xe.createCube,renderbuffer:ge.create,framebuffer:Be.create,framebufferCube:Be.createCube,vao:At.createVAO,attributes:Dr,frame:Ji,on:Ro,limits:pt,hasExtension:function(oa){return pt.extensions.indexOf(oa.toLowerCase())>=0},read:Yr,destroy:ya,_gl:ze,_refresh:go,poll:function(){Io(),En&&En.update()},now:Ta,stats:vn});return we.onDone(null,$a),$a}return wl})},937478:function(Ge,W,C){"use strict";var y=C(340210),R=C(921924),w=C(470631),_=y("%TypeError%"),L=y("%WeakMap%",!0),P=y("%Map%",!0),p=R("WeakMap.prototype.get",!0),m=R("WeakMap.prototype.set",!0),S=R("WeakMap.prototype.has",!0),E=R("Map.prototype.get",!0),b=R("Map.prototype.set",!0),A=R("Map.prototype.has",!0),x=function(f,z){for(var Y=f,U;(U=Y.next)!==null;Y=U)if(U.key===z)return Y.next=U.next,U.next=f.next,f.next=U,U},D=function(f,z){var Y=x(f,z);return Y&&Y.value},k=function(f,z,Y){var U=x(f,z);U?U.value=Y:f.next={key:z,next:f.next,value:Y}},g=function(f,z){return!!x(f,z)};Ge.exports=function(){var z,Y,U,G={assert:function(j){if(!G.has(j))throw new _("Side channel does not contain "+w(j))},get:function(j){if(L&&j&&(typeof j=="object"||typeof j=="function")){if(z)return p(z,j)}else if(P){if(Y)return E(Y,j)}else if(U)return D(U,j)},has:function(j){if(L&&j&&(typeof j=="object"||typeof j=="function")){if(z)return S(z,j)}else if(P){if(Y)return A(Y,j)}else if(U)return g(U,j);return!1},set:function(j,K){L&&j&&(typeof j=="object"||typeof j=="function")?(z||(z=new L),m(z,j,K)):P?(Y||(Y=new P),b(Y,j,K)):(U||(U={key:{},next:null}),k(U,j,K))}};return G}},952191:function(Ge,W){"use strict";var C;C={value:!0},C=g,W.Rs=f,C=z,C=Y,W.Yf=U,W.Lo=G,W.lu=K,W.hy=nt,W.Lq=q,C=J,W.dt=ut,W.GX=st,C=bt,W.Ck=kt,W.YJ=Mt,C=St,C=V,C=Q,C=xt;var y={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R=["Webkit","ms","Moz","O"];function w(Ct,et){return Ct+et.charAt(0).toUpperCase()+et.substring(1)}Object.keys(y).forEach(function(Ct){R.forEach(function(et){y[w(et,Ct)]=y[Ct]})});var _=/^(normal|none|(\b(url\([^)]*\)|chapter_counter|attr\([^)]*\)|(no-)?(open|close)-quote|inherit)((\b\s*)|$|\s+))+)$/,L=function(){return typeof document=="undefined"?!1:!!(navigator&&(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0))}(),P=1e5,p={aqua:[0,255,255,1],lime:[0,255,0,1],silver:[192,192,192,1],black:[0,0,0,1],maroon:[128,0,0,1],teal:[0,128,128,1],blue:[0,0,255,1],navy:[0,0,128,1],white:[255,255,255,1],fuchsia:[255,0,255,1],olive:[128,128,0,1],yellow:[255,255,0,1],orange:[255,165,0,1],gray:[128,128,128,1],purple:[128,0,128,1],green:[0,128,0,1],red:[255,0,0,1],pink:[255,192,203,1],cyan:[0,255,255,1],transparent:[255,255,255,0]},m=Math.PI/180,S=180/Math.PI,E={_lists:{transformsBase:["translate","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ","rotate"],transforms3D:["translate3d","translateZ","scaleZ","rotateX","rotateY","perspective"]},transformGroup:{translate:1,translate3d:1,scale:1,scale3d:1,rotate:1,rotate3d:1,skew:1},filter:["grayScale","sepia","hueRotate","invert","brightness","contrast","blur"],filterConvert:{grayScale:"grayscale",hueRotate:"hue-rotate"}};E._lists.transformsBase=L?E._lists.transformsBase:E._lists.transformsBase.concat(E._lists.transforms3D);var b=C=/#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{3})/,A=C=/((rgb|hsl)[a]?)+\((?:\d|\.\d)+(?:(deg|\%|)),[\s+]?(?:\d|\.\d)+(?:(deg|\%|)),[\s+]?(?:\d|\.\d)+(?:(deg|%|))(,[\s+]?(?:\d|\.\d)+(?:(deg|\%|)))?\)/,x=W.rV=/#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{3})|((rgb|hsl)[a]?)+\((?:\d|\.\d)+(?:(deg|\%)?),[\s+]?(?:\d|\.\d)+(?:(deg|\%)?),[\s+]?(?:\d|\.\d)+(?:(deg|%)?)(,[\s+]?(?:\d|\.\d)+(?:(deg|\%)?))?\)/,D=C=/(?:\d|\.\d)+(%?)/g,k=W._T=E;function g(Ct){return Ct.replace(/[A-Z]/,function(et){return"-"+et.toLocaleLowerCase()})}function f(Ct){return Ct.replace(/-(.?)/g,function(et){return et.replace("-","").toLocaleUpperCase()})}function z(Ct,et){var vt=et?Math.pow(10,et):P,Tt=Ct|0,Ot=Ct-Tt,Et=Ct;if(Ot){var Dt=(Ot*vt+(Ct<0?-.5:.5)|0)/vt,Vt=Dt|0,ue=Dt.toString(),ee=ue.split(".")[1]||"";Et=(Ct<0&&!(Tt+Vt)?"-":"")+(Tt+Vt)+"."+ee}return parseFloat(Et)}function Y(Ct){if(typeof document=="undefined")return null;var et=["WebKitCSS","MozCSS","DOM","MsCSS","MSCSS","OCSS","CSS"].filter(function(vt){return vt+"Matrix"in window});return et.length?new window[et[0]+"Matrix"](Ct):(console.warn("Browsers do not support matrix."),"")}function U(Ct){if(typeof document=="undefined")return null;var et=["O","Moz","ms","Ms","Webkit"];if(Ct!=="filter"&&Ct in document.body.style)return Ct;var vt=Ct.charAt(0).toUpperCase()+Ct.substr(1),Tt=et.filter(function(Ot){return""+Ot+vt in document.body.style});return Tt[0]?""+Tt[0]+vt:null}function G(Ct){var et=Ct;return et=et==="x"?"translateX":et,et=et==="y"?"translateY":et,et=et==="z"?"translateZ":et,et}var j=function(et,vt,Tt){return Tt<0&&(Tt+=6),Tt>=6&&(Tt-=6),Tt<1?(vt-et)*Tt+et:Tt<3?vt:Tt<4?(vt-et)*(4-Tt)+et:et};function K(Ct){var et=p.transparent,vt=Ct,Tt=void 0,Ot=void 0,Et=void 0;if(!vt)et=p.transparent;else if(p[vt])et=p[vt];else if(typeof vt=="number")et=[vt>>16,vt>>8&255,vt&255];else if(vt.charAt(vt.length-1)===","&&(vt=vt.substr(0,vt.length-1)),vt.match(b))vt=vt.substr(1),vt.length===3&&(Tt=vt.charAt(0),Ot=vt.charAt(1),Et=vt.charAt(2),vt=""+Tt+Tt+Ot+Ot+Et+Et+"ff"),vt.length===6&&(vt+="ff"),vt=parseInt(vt,16),et=[vt>>24&255,vt>>16&255,vt>>8&255,parseFloat(((vt&255)/255).toFixed(2))];else if(vt.match(/^hsl/)){et=vt.match(D);var Dt=et[3];Dt=typeof Dt=="string"&&Dt.match("%")?parseFloat(Dt)/100:parseFloat(""+(Dt||"1"));var Vt=parseFloat(et[0])/60,ue=parseFloat(et[1])/100,ee=parseFloat(et[2])/100,It=ee<=.5?ee*(ue+1):ee+ue-ee*ue,ne=ee*2-It;Tt=Math.round(j(ne,It,Vt+2)*255),Ot=Math.round(j(ne,It,Vt)*255),Et=Math.round(j(ne,It,Vt-2)*255),et=[Tt,Ot,Et,Dt]}else et=vt.match(D)||p.transparent,et=et.map(function(pe){return parseFloat(pe)}),et.length===3&&et.push(1);return et}function nt(Ct,et){var vt=et&&f(et);if(!Ct)return vt==="boxShadow"?[0,0,0,0,0,0,0,0]:[0,0,0,0,0,0,0];var Tt=Ct.replace(/,\s+/gi,",").split(/\s+/).filter(function(ue){return ue}),Ot=Tt.indexOf("inset");Ot>=0&&Tt.splice(Ot,1);var Et=Tt.find(function(ue){return p[ue]||ue.match(/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})|(rgb|hsl)+(?:a)?\((.*)\)/i)})||"black",Dt=Tt.indexOf(Et);Tt.splice(Dt,1);var Vt=K(Et);return Vt[3]=typeof Vt[3]=="number"?Vt[3]:1,vt==="boxShadow"&&Tt.length<4&&Tt.push(0),Tt.concat(Vt,Ot>=0?["inset"]:[])}function q(Ct){var et=Ct.length===4?"rgba":"rgb",vt=Ct.map(function(Tt,Ot){return Ot<3?Math.round(Tt):Tt});return et+"("+vt.join(",")+")"}function J(Ct){return k._lists.transformsBase.indexOf(Ct)>=0?"transform":Ct}function ut(Ct){var et=J(Ct);return k.filter.indexOf(et)>=0?"filter":et}function st(Ct){if(Ct==="none"||!Ct||Ct==="")return null;var et=Ct.replace(/\s+/g,"").split(")").filter(function(Tt){return Tt}),vt={};return et.forEach(function(Tt){var Ot=Tt.split("(");vt[Ot[0]]=Ot[1]}),vt}function bt(Ct){var et=Ct.match(/(?:\-|\b)[\d\-\.e]+\b/gi),vt={};return et.length===6?(vt.m11=parseFloat(et[0]),vt.m12=parseFloat(et[1]),vt.m13=0,vt.m14=0,vt.m21=parseFloat(et[2]),vt.m22=parseFloat(et[3]),vt.m23=0,vt.m24=0,vt.m31=0,vt.m32=0,vt.m33=1,vt.m34=0,vt.m41=parseFloat(et[4]),vt.m42=parseFloat(et[5]),vt.m43=0,vt.m44=0):et.forEach(function(Tt,Ot){var Et=Ot%4+1,Dt=Math.floor(Ot/4)+1;vt["m"+Dt+Et]=parseFloat(Tt)}),vt}function ht(Ct){var et={};return et.translateX=0,et.translateY=0,et.translateZ=0,et.rotate=0,et.rotateX=0,et.rotateY=0,et.scaleX=1,et.scaleY=1,et.scaleZ=1,et.skewX=0,et.skewY=0,et.perspective=0,(Ct.trim().match(/(\w+)\([^\)]+\)/ig)||[]).forEach(function(vt){var Tt=vt.split("("),Ot=Tt[0].trim(),Et=Tt[1].replace(")","").trim();Et.match(/%|em|rem/ig)&&console.warn("value("+Et+") must be absolute, not relative, has been converted to absolute."),Et=Et.replace(/px|deg|\)/ig,""),k.transformGroup[Ot]&&Ot!=="rotate"?(Et=Et.split(",").map(function(Dt){return parseFloat(Dt)}),Ot==="scale3d"||Ot==="translate3d"?["X","Y","Z"].forEach(function(Dt,Vt){var ue=Ot.substring(0,Ot.length-2);et[""+ue+Dt]=Et[Vt]||et[""+ue+Dt]}):Ot==="rotate3d"?(et.rotateX=Et[0]&&Et[3]||et.rotateX,et.rotateY=Et[1]&&Et[3]||et.rotateY,et.rotate=Et[2]&&Et[3]||et.rotate):["X","Y"].forEach(function(Dt,Vt){et[""+Ot+Dt]=Et[Vt]||et[""+Ot+Dt]})):Ot==="rotateZ"?et.rotate=parseFloat(Et)||et.rotate:et[Ot]=parseFloat(Et)||et[Ot]}),et}function kt(Ct){var et=!Ct||Ct==="none"||Ct===""?"matrix(1, 0, 0, 1, 0, 0)":Ct;if(!et.match("matrix"))return ht(Ct);var vt=bt(et),Tt=vt.m11,Ot=vt.m12,Et=vt.m13,Dt=vt.m14,Vt=vt.m21,ue=vt.m22,ee=vt.m23,It=vt.m24,ne=vt.m31,pe=vt.m32,Gt=vt.m33,qt=vt.m34,$t=vt.m43,Zt=void 0,se=void 0,Se=void 0,Pt={},Fe=Math.atan2(ee,Gt),vr=Math.tan(Vt),Cr=Math.tan(Ot),_r=void 0,Ur=void 0;return Pt.rotateX=z(Fe*S)||0,Fe&&(_r=Math.cos(-Fe),Ur=Math.sin(-Fe),Zt=Vt*_r+ne*Ur,se=ue*_r+pe*Ur,Se=ee*_r+Gt*Ur,ne=Vt*-Ur+ne*_r,pe=ue*-Ur+pe*_r,Gt=ee*-Ur+Gt*_r,qt=It*-Ur+qt*_r,Vt=Zt,ue=se,ee=Se),Fe=Math.atan2(-Et,Gt),Pt.rotateY=z(Fe*S)||0,Fe&&(_r=Math.cos(-Fe),Ur=Math.sin(-Fe),Zt=Tt*_r-ne*Ur,se=Ot*_r-pe*Ur,Se=Et*_r-Gt*Ur,pe=Ot*Ur+pe*_r,Gt=Et*Ur+Gt*_r,qt=Dt*Ur+qt*_r,Tt=Zt,Ot=se,Et=Se),Fe=Math.atan2(Ot,Tt),Pt.rotate=z(Fe*S)||0,Fe&&(_r=Math.cos(Fe),Ur=Math.sin(Fe),Zt=Tt*_r+Ot*Ur,se=Vt*_r+ue*Ur,Se=ne*_r+pe*Ur,Ot=Ot*_r-Tt*Ur,ue=ue*_r-Vt*Ur,pe=pe*_r-ne*Ur,Tt=Zt,Vt=se,ne=Se),Pt.rotateX&&Math.abs(Pt.rotateX)+Math.abs(Pt.rotate)>359.9&&(Pt.rotateX=Pt.rotate=0,Pt.rotateY=180-Pt.rotateY||0),Pt.scaleX=z(Math.sqrt(Tt*Tt+Ot*Ot+Et*Et)),Pt.scaleY=z(Math.sqrt(ue*ue+ee*ee)),Pt.scaleZ=z(Math.sqrt(ne*ne+pe*pe+Gt*Gt)),Pt.skewX=vr===-Cr?0:vr,Pt.skewY=Cr===-vr?0:Cr,Pt.perspective=qt?1/(qt<0?-qt:qt):0,Pt.translateX=vt.m41,Pt.translateY=vt.m42,Pt.translateZ=$t,Pt}function Mt(Ct,et){var vt=void 0;return!y[Ct]&&typeof et=="number"?vt=" "+et+"px":Ct==="content"&&!_.test(et)&&(vt="'"+et.replace(/'/g,"\\'")+"'"),vt||et}function St(Ct,et){var vt=et&&et.toString().replace(/[^a-z|%]/ig,""),Tt="";return Ct.indexOf("translate")>=0||Ct.indexOf("perspective")>=0||Ct.indexOf("blur")>=0?Tt="px":(Ct.indexOf("skew")>=0||Ct.indexOf("rotate")>=0)&&(Tt="deg"),vt||Tt}function V(Ct,et,vt){return Ct+"("+et+(vt||"")+")"}function Q(Ct,et){var vt=null;return Ct&&Ct.forEach(function(Tt){if(!vt){var Ot=Tt.split("(")[0],Et=Ot in k.transformGroup&&et.substring(0,et.length-1).indexOf(Ot)>=0,Dt=et in k.transformGroup&&Ot.substring(0,Ot.length-1).indexOf(et)>=0,Vt=Ot in k.transformGroup&&et in k.transformGroup&&(Ot.substring(0,Ot.length-2)===et||et.substring(0,et.length-2)===Ot);(Ot===et||Et||Dt||Vt)&&(vt=Tt)}}),vt}function xt(Ct,et){if(!Ct||Ct==="")return et;if(!et||et==="")return Ct;var vt=Ct.replace(/\s/g,"").split(")").filter(function(Ot){return Ot!==""&&Ot}).map(function(Ot){return Ot+")"}),Tt=et.replace(/\s/g,"").split(")").filter(function(Ot){return Ot!==""&&Ot});return Tt.forEach(function(Ot){var Et=Ot.split("("),Dt=Et[0],Vt=Q(vt,Dt);if(!Vt)vt.push(Ot+")");else{var ue=vt.indexOf(Vt);vt[ue]=Ot+")"}}),vt.forEach(function(Ot,Et){Ot.indexOf("perspective")>=0&&Et&&(vt.splice(Et,1),vt.unshift(Ot))}),vt.join(" ").trim()}},141e3:function(Ge){"use strict";var W={linear:function(C,y,R,w){var _=R-y;return _*C/w+y},easeInQuad:function(C,y,R,w){var _=R-y;return _*(C/=w)*C+y},easeOutQuad:function(C,y,R,w){var _=R-y;return-_*(C/=w)*(C-2)+y},easeInOutQuad:function(C,y,R,w){var _=R-y;return(C/=w/2)<1?_/2*C*C+y:-_/2*(--C*(C-2)-1)+y},easeInCubic:function(C,y,R,w){var _=R-y;return _*(C/=w)*C*C+y},easeOutCubic:function(C,y,R,w){var _=R-y;return _*((C=C/w-1)*C*C+1)+y},easeInOutCubic:function(C,y,R,w){var _=R-y;return(C/=w/2)<1?_/2*C*C*C+y:_/2*((C-=2)*C*C+2)+y},easeInQuart:function(C,y,R,w){var _=R-y;return _*(C/=w)*C*C*C+y},easeOutQuart:function(C,y,R,w){var _=R-y;return-_*((C=C/w-1)*C*C*C-1)+y},easeInOutQuart:function(C,y,R,w){var _=R-y;return(C/=w/2)<1?_/2*C*C*C*C+y:-_/2*((C-=2)*C*C*C-2)+y},easeInQuint:function(C,y,R,w){var _=R-y;return _*(C/=w)*C*C*C*C+y},easeOutQuint:function(C,y,R,w){var _=R-y;return _*((C=C/w-1)*C*C*C*C+1)+y},easeInOutQuint:function(C,y,R,w){var _=R-y;return(C/=w/2)<1?_/2*C*C*C*C*C+y:_/2*((C-=2)*C*C*C*C+2)+y},easeInSine:function(C,y,R,w){var _=R-y;return-_*Math.cos(C/w*(Math.PI/2))+_+y},easeOutSine:function(C,y,R,w){var _=R-y;return _*Math.sin(C/w*(Math.PI/2))+y},easeInOutSine:function(C,y,R,w){var _=R-y;return-_/2*(Math.cos(Math.PI*C/w)-1)+y},easeInExpo:function(C,y,R,w){var _=R-y;return C==0?y:_*Math.pow(2,10*(C/w-1))+y},easeOutExpo:function(C,y,R,w){var _=R-y;return C==w?y+_:_*(-Math.pow(2,-10*C/w)+1)+y},easeInOutExpo:function(C,y,R,w){var _=R-y;return C===0?y:C===w?y+_:(C/=w/2)<1?_/2*Math.pow(2,10*(C-1))+y:_/2*(-Math.pow(2,-10*--C)+2)+y},easeInCirc:function(C,y,R,w){var _=R-y;return-_*(Math.sqrt(1-(C/=w)*C)-1)+y},easeOutCirc:function(C,y,R,w){var _=R-y;return _*Math.sqrt(1-(C=C/w-1)*C)+y},easeInOutCirc:function(C,y,R,w){var _=R-y;return(C/=w/2)<1?-_/2*(Math.sqrt(1-C*C)-1)+y:_/2*(Math.sqrt(1-(C-=2)*C)+1)+y},easeInElastic:function(C,y,R,w){var _=R-y,L,P,p;return p=1.70158,P=0,L=_,C===0?y:(C/=w)===1?y+_:(P||(P=w*.3),L<Math.abs(_)?(L=_,p=P/4):p=P/(2*Math.PI)*Math.asin(_/L),-(L*Math.pow(2,10*(C-=1))*Math.sin((C*w-p)*(2*Math.PI)/P))+y)},easeOutElastic:function(C,y,R,w){var _=R-y,L,P,p;return p=1.70158,P=0,L=_,C===0?y:(C/=w)===1?y+_:(P||(P=w*.3),L<Math.abs(_)?(L=_,p=P/4):p=P/(2*Math.PI)*Math.asin(_/L),L*Math.pow(2,-10*C)*Math.sin((C*w-p)*(2*Math.PI)/P)+_+y)},easeInOutElastic:function(C,y,R,w){var _=R-y,L,P,p;return p=1.70158,P=0,L=_,C===0?y:(C/=w/2)===2?y+_:(P||(P=w*.44999999999999996),L<Math.abs(_)?(L=_,p=P/4):p=P/(2*Math.PI)*Math.asin(_/L),C<1?-.5*(L*Math.pow(2,10*(C-=1))*Math.sin((C*w-p)*(2*Math.PI)/P))+y:L*Math.pow(2,-10*(C-=1))*Math.sin((C*w-p)*(2*Math.PI)/P)*.5+_+y)},easeInBack:function(C,y,R,w,_){var L=R-y;return _===void 0&&(_=1.70158),L*(C/=w)*C*((_+1)*C-_)+y},easeOutBack:function(C,y,R,w,_){var L=R-y;return _===void 0&&(_=1.70158),L*((C=C/w-1)*C*((_+1)*C+_)+1)+y},easeInOutBack:function(C,y,R,w,_){var L=R-y;return _===void 0&&(_=1.70158),(C/=w/2)<1?L/2*(C*C*(((_*=1.525)+1)*C-_))+y:L/2*((C-=2)*C*(((_*=1.525)+1)*C+_)+2)+y},easeInBounce:function(C,y,R,w){var _=R-y,L;return L=W.easeOutBounce(w-C,0,_,w),_-L+y},easeOutBounce:function(C,y,R,w){var _=R-y;return(C/=w)<.36363636363636365?_*(7.5625*C*C)+y:C<.7272727272727273?_*(7.5625*(C-=.5454545454545454)*C+.75)+y:C<.9090909090909091?_*(7.5625*(C-=.8181818181818182)*C+.9375)+y:_*(7.5625*(C-=.9545454545454546)*C+.984375)+y},easeInOutBounce:function(C,y,R,w){var _=R-y,L;return C<w/2?(L=W.easeInBounce(C*2,0,_,w),L*.5+y):(L=W.easeOutBounce(C*2-w,0,_,w),L*.5+_*.5+y)}};Ge.exports=W},364687:function(Ge,W,C){var y=C(817061)();Ge.exports=y;try{regeneratorRuntime=y}catch(R){typeof globalThis=="object"?globalThis.regeneratorRuntime=y:Function("r","regeneratorRuntime = r")(y)}},577134:function(Ge,W,C){"use strict";C.d(W,{Z:function(){return D}});var y=C(667294),R=C(785893),w=k=>{let g=k;for(;g=g.parentElement;){const f=getComputedStyle(g,null).getPropertyValue("overflow-y");if(g===document.body)return window;if(f==="auto"||f==="scroll")return g}return window},_=k=>k.firstChild?k.firstChild.offsetParent===k:!0,L=(k,g)=>{let f=k,z=0;_(g)||(z+=k.offsetTop-g.offsetTop,g=k.offsetParent,z+=-k.offsetTop);do z+=f.offsetTop,f=f.offsetParent;while(f&&f!==g);return z},P=k=>{let g=k.parentElement;for(;g&&getComputedStyle(g,null).getPropertyValue("display")==="contents";)g=g.parentElement;return g||window},p=null;typeof CSS!="undefined"&&CSS.supports&&(CSS.supports("position","sticky")?p="sticky":CSS.supports("position","-webkit-sticky")&&(p="-webkit-sticky"));var m=!1;try{const k=Object.defineProperty({},"passive",{get(){m={passive:!0}}}),g=()=>{};window.addEventListener("testPassive",g,k),window.removeEventListener("testPassive",g,k)}catch(k){}var S=k=>{const{el:g,onChange:f,unsubs:z,measure:Y}=k;if(g===window){const U=()=>({top:0,left:0,height:window.innerHeight,width:window.innerWidth}),G=Y(U()),j=()=>{Object.assign(G,Y(U())),f()};return window.addEventListener("resize",j,m),z.push(()=>window.addEventListener("resize",j,m)),G}else{const U=Y(g.getBoundingClientRect()),G=()=>{Object.assign(U,Y(g.getBoundingClientRect())),f()},j=new ResizeObserver(G);return j.observe(g),z.push(()=>j.disconnect()),U}},E=k=>{const g=getComputedStyle(k,null),f=parseInt(g.getPropertyValue("padding-top"),10),z=parseInt(g.getPropertyValue("padding-bottom"),10);return{top:f,bottom:z}},b=(k,g,f)=>{const{bottom:z,offsetBottom:Y,offsetTop:U}=f,G=w(k);let j=!1;const K=()=>{j||requestAnimationFrame(()=>{const et=J();et!==V&&Q(et),j=!1}),j=!0};let nt=G===window?window.scrollY:G.scrollTop;const q=et=>{const{offsetTop:vt,height:Tt}=st,{naturalTop:Ot}=kt,{height:Et}=Mt;return et+vt+Tt>=Ot+Et+St+Y},J=()=>{const{height:et}=st,{height:vt}=Mt;return vt+U+Y<=et?3:q(nt)?1:2},ut=G!==window&&_(G),st=S({el:G,onChange:K,unsubs:g,measure:({height:et,top:vt})=>({height:et,offsetTop:ut?vt:0})}),bt=P(k),ht=bt===window?{top:0,bottom:0}:E(bt),kt=S({el:bt,onChange:K,unsubs:g,measure:({height:et})=>({height:et-ht.top-ht.bottom,naturalTop:bt===window?0:L(bt,G)+ht.top+st.offsetTop})}),Mt=S({el:k,onChange:K,unsubs:g,measure:({height:et})=>({height:et})});let St=0,V=J();const Q=et=>{const vt=V;if(V=et,vt===2&&(St=-1),et===3){k.style.position=p,z?k.style.bottom=`${Y}px`:k.style.top=`${U}px`;return}const{height:Tt,offsetTop:Ot}=st,{height:Et,naturalTop:Dt}=kt,{height:Vt}=Mt;if(et===2)if(k.style.position="relative",St=vt===0?Math.max(0,Ot+nt-Dt+U):Math.max(0,Ot+nt+Tt-(Dt+Vt+Y)),z){const ue=Math.max(0,Et-Vt-St);k.style.bottom=`${ue}px`}else k.style.top=`${St}px`;else k.style.position=p,et===1?z?k.style.bottom=`${Y}px`:k.style.top=`${Tt-Vt-Y}px`:z?k.style.bottom=`${Tt-Vt-Y}px`:k.style.top=`${U}px`};Q(V);const xt=et=>{if(et===nt)return;const vt=et-nt;if(nt=et,V===3)return;const{offsetTop:Tt,height:Ot}=st,{naturalTop:Et,height:Dt}=kt,{height:Vt}=Mt;if(vt>0)if(V===0){if(et+Tt+U>Et){const ue=Math.max(0,Tt+nt-Et+U);et+Tt+Ot<=Et+Vt+ue+Y?Q(2):Q(1)}}else V===2&&q(et)&&Q(1);else if(V===1){if(Tt+et+Ot<Et+Dt+Y){const ue=Math.max(0,Tt+nt+Ot-(Et+Vt+Y));Tt+et+U>=Et+ue?Q(2):Q(0)}}else V===2&&Tt+et+U<Et+St&&Q(0)},Ct=G===window?()=>xt(window.scrollY):()=>xt(G.scrollTop);G.addEventListener("scroll",Ct,m),G.addEventListener("mousewheel",Ct,m),g.push(()=>G.removeEventListener("scroll",Ct),()=>G.removeEventListener("mousewheel",Ct))},A=({offsetTop:k=0,offsetBottom:g=0,bottom:f=!1}={})=>{const[z,Y]=(0,y.useState)(null);return(0,y.useEffect)(()=>{if(!z||!p)return;const U=[];return b(z,U,{offsetBottom:g,offsetTop:k,bottom:f}),()=>{U.forEach(G=>G())}},[z,g,k,f]),Y},x=k=>{const{offsetTop:g,offsetBottom:f,bottom:z,children:Y,className:U,style:G}=k,j=A({offsetTop:g,offsetBottom:f,bottom:z});return(0,R.jsx)("div",{className:U,style:G,ref:j,children:Y})},D=x}}]);
