"use strict";(self.webpackChunkmanyid=self.webpackChunkmanyid||[]).push([[9482,4646],{368824:function(I,u,e){e.r(u);var E=e(657977);u.default=E.default},657977:function(I,u,e){e.r(u);var E=e(627424),s=e.n(E),o=e(667294),Z=e(596817),L=e(605042),x=e(704650),a=e(513669),j=e(606641),A=e(302559),t=e(370917);function ne(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var U=o.lazy(function(){return Promise.all([e.e(3459),e.e(2494)]).then(e.bind(e,192494))});function B(m){return Object.prototype.toString.call(m)==="[object Object]"}var N={cn:{title:"\u4E3B\u9898\u7F16\u8F91\u5668",save:"\u4FDD\u5B58",edit:"\u7F16\u8F91",export:"\u5BFC\u51FA",editModelTitle:"\u7F16\u8F91\u4E3B\u9898\u914D\u7F6E",editJsonContentTypeError:"\u4E3B\u9898 JSON \u683C\u5F0F\u9519\u8BEF",editSuccessfully:"\u7F16\u8F91\u6210\u529F",saveSuccessfully:"\u4FDD\u5B58\u6210\u529F",initialEditor:"\u6B63\u5728\u521D\u59CB\u5316\u7F16\u8F91\u5668..."},en:{title:"Theme Editor",save:"Save",edit:"Edit",export:"Export",editModelTitle:"edit Theme Config",editJsonContentTypeError:"The theme of the JSON format is incorrect",editSuccessfully:"Edited successfully",saveSuccessfully:"Saved successfully",initialEditor:"Initializing Editor..."}},b={name:"zbl8st",styles:"display:flex;height:56px;align-items:center;padding:0 24px;justify-content:space-between;border-bottom:1px solid #F0F0F0"},J=function(){return{header:b}},_="ant-design-v5-theme-editor-theme",K=function(){var W=a.message.useMessage(),g=s()(W,2),y=g[0],F=g[1],k=(0,A.Z)(N),C=s()(k,2),n=C[0],$=C[1],z=o.useState({}),p=s()(z,2),c=p[0],h=p[1],H=(0,o.useState)(!1),T=s()(H,2),v=T[0],O=T[1],G=(0,o.useState)(!0),S=s()(G,2),V=S[0],M=S[1],Y=(0,o.useState)({text:"{}",json:void 0}),D=s()(Y,2),r=D[0],R=D[1];(0,o.useLayoutEffect)(function(){var i=localStorage.getItem(_);i&&h(function(){return JSON.parse(i)})},[]),(0,o.useEffect)(function(){v!==!0&&R({json:c,text:void 0})},[c,v]);var Q=J(),X=function(){localStorage.setItem(_,JSON.stringify(c)),y.success(n.saveSuccessfully)},w=function(){O(!0)},P=(0,o.useCallback)(function(){O(!1)},[r]),q=function(l,d,f){R(l),Array.isArray(f.contentErrors.validationErrors)&&f.contentErrors.validationErrors.length===0?M(!0):M(!1)},ee=(0,o.useCallback)(function(){if(!V){a.message.error(n.editJsonContentTypeError);return}var i=r.text?JSON.parse(r.text):r.json;if(!B(i)){a.message.error(n.editJsonContentTypeError);return}h(i),P(),y.success(n.editSuccessfully)},[r]),te=function(){var l=new File([JSON.stringify(c,null,2)],"Manyi Design Theme.json",{type:"text/json; charset=utf-8;"}),d=document.createElement("a"),f=URL.createObjectURL(l);d.href=f,d.download=l.name,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(f)};return(0,t.tZ)("div",null,(0,t.tZ)(j.ql,null,(0,t.tZ)("title",null,"".concat(n.title," - Manyi Design")),(0,t.tZ)("meta",{property:"og:title",content:"".concat(n.title," - Manyi Design")})),F,(0,t.tZ)(a.ConfigProvider,{theme:{inherit:!1}},(0,t.tZ)("div",{css:Q.header},(0,t.tZ)(a.Typography.Title,{level:5,style:{margin:0}},n.title),(0,t.tZ)("div",null,(0,t.tZ)(a.Modal,{open:v,title:n.editModelTitle,width:600,okText:n.save,onOk:ee,onCancel:P},(0,t.tZ)(o.Suspense,{fallback:(0,t.tZ)("div",{style:{textAlign:"center",width:"100%",padding:"24px 0"}},(0,t.tZ)(a.Spin,{tip:n.initialEditor}))},(0,t.tZ)(U,{content:r,onChange:q,mainMenuBar:!1}))),(0,t.tZ)(a.Button,{onClick:te,style:{marginRight:8}},n.export),(0,t.tZ)(a.Button,{onClick:w,style:{marginRight:8}},n.edit),(0,t.tZ)(a.Button,{type:"primary",onClick:X},n.save))),(0,t.tZ)(Z.Z,{theme:{name:"Custom Theme",key:"test",config:c},style:{height:"calc(100vh - 64px - 56px)"},onThemeChange:function(l){h(l.config)},locale:$==="cn"?L.Z:x.Z})))};u.default=K}}]);
